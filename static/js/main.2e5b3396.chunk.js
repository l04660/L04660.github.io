(this["webpackJsonpSCHNEIDER-MVP"]=this["webpackJsonpSCHNEIDER-MVP"]||[]).push([[8],{115:function(e,t,a){},149:function(e,t,a){e.exports=a.p+"static/media/ios-cross.05cab4f5.svg"},184:function(e,t,a){},185:function(e,t,a){},265:function(e,t,a){},266:function(e,t,a){},267:function(e,t,a){},282:function(e,t,a){},283:function(e,t,a){},284:function(e,t,a){},288:function(e,t,a){},318:function(e){e.exports=JSON.parse('{"GET_STARTED_TEXT":"Get Started","SIGNUP_TEXT":"Start with signing up or sign in","NO_NETWORK_TITLE":"No Network","NO_NETWORK_TEXT":"Please check your network connectivity and try again.","Ok_TEXT":"Ok","Loads":"Loads","Load":"Load","RECOMMENDATION_COUNT":"Recommendation","RECOMMENDATION_COUNTS":"Recommendations","WATCHED_COUNT":"Watched Load","WATCHED_COUNTS":"Watched Loads","Home":"Home","Search":"Search","My Loads":"My Loads","Manage":"Manage","More":"More","Carrier Assigned":"Carrier Assigned","Driver Assigned":"Driver Assigned","Loads Assigned":"Loads Assigned","In-Transit":"In-Transit","Recently Delivered Loads":"Recently Delivered Loads","Assigned":"Assigned","End of list":"End of list","Assign Driver":"Assign Driver","Assigned to":"Assigned to","Unknown":"Unknown","All Drivers":"All Drivers","All Driver":"All Driver","Filter by":"Filter by","Filter By":"Filter By","Cancel":"Cancel","Dry Van":"Dry Van","Refrigerated":"Refrigerated","Specialty":"Specialty","Power Only":"Power Only","Trailer type":"Trailer type","Pick-up":"Pick-up","Delivery":"Delivery","Origin":"Origin","Origin Radius":"Origin Radius","Pickup Date":"Pickup Date","Choose Pickup Date":"Choose Pickup Date","Destination":"Destination","Destination Radius":"Destination Radius","Delivery Date":"Delivery Date","Choose Delivery Date":"Choose Delivery Date","Pick-up date":"Pick-up date","Pick-up Date":"Pick-up Date","Price":"Price","Distance":"Distance","Sort By":"Sort By","Sort by":"Sort by","By":"By","recommendedErrorText":"We don\'t have any recommendations right now. Please come back later.","watchedEmptyText":"You haven\'t Watched any loads yet","recommendedErrorButton":"Search for loads","Add capacity":"Add capacity","OR":"OR","Matches":"Matches","origin":"origin","destination":"destination","originCountry":"originCountry","destinationCountry":"destinationCountry","Pick up date":"Pick up date","Pick up Date":"Pick up Date","searchResultsErrorText":"We don\'t have any result right now. Please refine your search.","searchResultsErrorButton":"Reset search","recommended":"recommended","watched":"watched","New":"New","Recent":"Recent","Favorite":"Favorite","My Profile":"My Profile","Carrier Profile":"Carrier Profile","Manage Users":"Manage Users","Manage My Capacity":"Manage My Capacity","First Name":"First Name","Last Name":"Last Name","Mobile Number":"Mobile Number","Email Address":"Email Address","Park Location Address (Optional)":"Park Location Address (Optional)","Tractor No (Optional)":"Tractor No (Optional)","Tractor No":"Tractor No","Carrier ID":"Carrier ID","Role(s)":"Role(s)","Role":"Role","Validate now":"Validate now","Type Your First Name":"Type Your First Name","Type Your Last Name":"Type Your Last Name","Type Your Mobile Number":"Type Your Mobile Number","Type Your Email Address":"Type Your Email Address","Type Your Park Location Address":"Type Your Park Location Address","Type Your Tractor Number":"Type Your Tractor Number","EMPTY_USER_TEXT":"We don\'t have any users right now. <br /> Please click on <b>Add</b> to add new user.","Add":"Add","Please enter first name":"Please enter first name","Please enter last name":"Please enter last name","Please enter valid mobile number":"Please enter valid mobile number","Please enter valid tractor number":"Please enter valid tractor number","Change Password":"Change Password","FAVORITE_ALREADY_EXIST_TITLE":"Record Exist","FAVORITE_ALREADY_EXIST_MESSAGE":"This record already exists in your Favorites List.  Please update your search criteria to save the search as a Favorite.","Admin":"Admin","Driver":"Driver","Dispatcher":"Dispatcher","Guest":"Guest","Search, book, carry and update the status of loads":"Search, book, carry and update the status of loads","Carry and update the status of loads.":"Carry and update the status of loads.","Driver, Dispatcher":"Driver, Dispatcher","Save":"Save","EMAIL_ERROR":"Please enter valid email address","Email":"Email","Mobile No":"Mobile No","List of":"List of","Any":"Any","Carrier Name":"Carrier Name","Carrier MC#":"Carrier MC#","USDOT#":"USDOT#","MC#":"MC#","Carrier Address":"Carrier Address","Carrier Contact":"Carrier Contact","Carrier Phone":"Carrier Phone","CARRIER_INFO":"Carrier Info","CARRIER_CONTACT_DETAILS":"Contact Details","CARRIER_INSURANCE":"Carrier Insurance","CARRIER_CERITIFCATION":"Certification","CARRIER_QUALIFICATION_STATUS":"Qualification Status","CARRIER_PROFILE_FOOTER":"Contact Schneider at <a href=\\"mailto:stmcarrier@schneider.com\\" className=\\"email\\">stmcarrier@schneider.com</a> <span>if any of the fields need to be updated</span>","All Capacity":"All Capacity","Trucks":"Trucks","Lanes":"Lanes","Radius":"Radius","NO_TRUCKS_MESSAGE":"We don\'t have any trucks/lanes right now. <br /> Please click on <b>Add</b> to add new button.","Anywhere":"Anywhere","Last Updated":"Last Updated","Name":"Name","Email address":"Email address","Phone":"Phone","Capacity Type":"Capacity Type","Trailer Type":"Trailer Type","States":"States","Pick-up Start Date":"Pick-up Start Date","Pick-up End Date":"Pick-up End Date","Days of Week":"Days of Week","Truck":"Truck","Lane":"Lane","Spot capacity currently available.":"Spot capacity currently available.","Frequently desired origin to destination.":"Frequently desired origin to destination.","Select States":"Select States","Choose the state":"Choose the state","State 1":"State 1","State 2":"State 2","State 3":"State 3","From Date":"From Date","To Date":"To Date","Please provide a correct pickup date.":"Please provide a correct pickup date.","Please provide correct delivery date":"Please provide correct delivery date","Kindly provide your correct city name":"Kindly provide your correct city name","Please provide a correct pickup location.":"Please provide a correct pickup location.","Please provide a correct drop off location.":"Please provide a correct drop off location.","MON":"MON","TUE":"TUE","WED":"WED","THU":"THU","FRI":"FRI","SAT":"SAT","SUN":"SUN","All":"All","PICKUP_DAYS_ERROR":"Kindly select atleast one day","MANAGE_USER_CONFIRM_TRANSFER_TITLE":"New carrier request","MANAGE_USER_CONFIRM_TRANSFER_MESSAGE":"COMPANY wants to add you as a user. Tap on \\"Agree\\" to join.","CHANGE_PASSWORD_TITLE":"Redirected to external site","CHANGE_PASSWORD_MESSAGE":"You will be redirect to the secure site to change your password.","USER_EXIST_TITLE":"Send Request","USER_EXIST_MESSAGE":"EMAIL already exists.  Do you want to send a request to NAME to join your carrier account?","USER_BACK_TITLE":"Are you sure you want to navigate back?","USER_BACK_MESSAGE":"You have not saved the new user information.","YES":"Yes","NO":"No","DELINK_ACCOUNT_TITLE":"Delink User account","DELINK_ACCOUNT_MESSAGE":"<span class=\\"sub-heading\\">Are you sure you want to delink the user account?</span> <br />This process can\'t be undone.","ALERT_MESSAGE":"Are you sure you want to logout?","Logout":"Logout","Log Out":"Log Out","REGISTRATION_ALERT_MESSAGE":"Are you sure you want to log out without completing registration?","Contact for price":"Contact for price","Stop off":"Stop off","Stop offs":"Stop offs","START_TRIP_MESSAGE_FOR_PENDING_LOADS":"The Driver assignment for the load is not confirmed yet. Kindly refresh the page or try after some time.","BUYLOAD_API_ERROR_MESSAGE":"Your load assignment is taking longer than expected. Kindly contact Schneider to verify assignment, if you don\'t receive tender on email in the next 5 minutes.","BOOKLOAD_THANKYOU_HEADER":"Thank You","CALL_US_TEXT":"Call us","CHAT_TEXT":"Chat with us","START_TRIP_TEXT":"Start Trip","BOOK_LOAD_CTA_TEXT":"Book Now","BOOKLOAD_THANK_YOU_ERROR_MESSAGE":"Your load assignment is taking more time than expected.  Please check back after 15 minutes under My Loads - Carrier Assigned.","BOOKLOAD_REQUEST_REJECTED_HEADER":"Error","BOOKLOAD_ON_HOLD":"Warning","BOOKLOAD_CANCELLED_MESSAGE":"Error","BOOKLOAD_THANK_YOU_MESSAGE":"Thank you for booking #LOAD_ID Tender will be sent to your email momentarily.  Click OK to view the execution details and assign your driver.","BOOKLOAD_ACCEPT_CTA_TEXT":"Accept","BOOKLOAD_DECLINE_CTA_TEXT":"Decline","BOOK_LOAD_MODAL_ACCEPT":"By accepting you agree to the terms & conditions listed for this load and upon a successful buy, the load will be assigned to you.","Total":"Total","VIEW_RATE_DETAILS":"View Rate details","CHARGE_DESCRIPTION":"Charge Description","RATE_QUALIFIER":"Rate/ Qualifier","BOOLOAD_QTY":"Qty","Please check your network connectivity and try again.":"Please check your network connectivity and try again.","No network connection":"No network connection","FAVORITE_SEARCH_REMOVED":"Favorite search removed","See Results":"See Results","Current Location":"Current Location","FAQ":"FAQ","Edit":"Edit","Map":"Map","Device Info":"Device Info","Menu":"Menu","Search Results":"Search Results","Register Now":"Register Now","First name":"First name","Last name":"Last name","Cell phone number":"Cell phone number","Company name":"Company name","Company corporate ZIP code":"Company corporate ZIP code","Company USDOT# or MC#":"Company USDOT# or MC#","Enter your company USDOT#":"Enter your company USDOT#","Enter your company MC#":"Enter your company MC#","Enter your first name":"Enter your first name","Enter your last name":"Enter your last name","Enter your cell phone number":"Enter your cell phone number","Enter your company name":"Enter your company name","Enter your company corporate ZIP code":"Enter your company corporate ZIP code","Please enter a valid phone number (only digits)":"Please enter a valid phone number (only digits)","Please enter a valid company corporate ZIP code":"Please enter a valid company corporate ZIP code","Please enter a valid company USDOT#":"Please enter a valid company USDOT#","Please enter a valid company MC#":"Please enter a valid company MC#","Please select a role":"Please select a role","Please enter a valid first name":"Please enter a valid first name","Please enter a valid last name":"Please Enter a valid last name","Please enter a valid company name":"Please Enter a valid company name","Type of user":"Type of user","Add as Favorite":"Add as Favorite","ASSIGN_DRIVER_POPUP_TITLE":"Are you sure you want to assign load #LOAD_ID to DRIVER_NAME","LOAD_ASSIGN_SUCCESS":"Load #LOAD_ID assigned successfully to DRIVER_NAME.","LOAD_ASSIGN_FAIL":"Driver assignment was unsuccessful. Please try again.","COMPLETE_TRIP_CTA_TEXT":"Complete Trip","CONFRIM_START_CTA_TEXT":"Confirm start information","START_LOCATION_LABEL_TEXT":"Start Location","ACTUAL_START_LABEL_TEXT":"Actual Start","ARRIVAL_ERROR":"Arrival time can\'t be more than 60 mins in future","DEPARTURE_ERROR":"Departure time can\'t be more than 60 mins in future","DEPARTURE_ARRIVAL_ERROR":"Arrival time can\'t be greater than the departure time","TRAILER_IN_ERROR":"Trailer in is mandatory!!!","TRAILER_OUT_ERROR":"Trailer out is mandatory!!!","MISSING_ACTIVITY":"Stop Activity Missing, Trailer Information can\'t be updated. Please contact Schneider.","NO_MAPPING_ACTIVITY":"Stop Activity mapping not found, Trailer Information can\'t be updated. Please contact Schneider.","VALID_TRAILER_IN":"Please enter valid Trailer IN value","VALID_TRAILER_OUT":"Please enter valid Trailer OUT value","Arrived":"Arrived","Arrival":"Arrival","Departed":"Departed","Departure":"Departure","Trailer In":"Trailer In","Trailer Out":"Trailer Out","RequiredField":"Field is required","UPDATE_STOP_CTA_TEXT":"Update Stop information","REFERENCE":"References","REFERENCE_TYPE_TEXT":"Reference Type","REFERENCE_VALUE_TEXT":"Reference Value","SR_NO_TEXT":"Sr no","NO_REFERENCE_MSG":"No references for the stop","Terms & Conditions":"Terms & Conditions","CHECK_NETWORK_MESSAGE":"Please check your network connection.","MEMBER_API_ERROR_MESSAGE":"User registration validation failed, Kindly login again after sometime","Do you want to register as a carrier?":"Do you want to register as a carrier?","Server is not working, please try again later":"Server is not working, please try again later","Not authorized, please logging out and try again later":"Not authorized, please logging out and try again later","Internal server error, please try again later":"Internal server error, please try again later","ISSUE_WITH_ASSIGNED_LOAD":"There seems to be some issue with the assigned load. Kindly try after some time.","NO_ACCESS_MSG":"Contact Schneider to get full access","watchedErrorText":"Your shipment details could have been updated from other sources. Please check and try again.","WATCHED_LOAD_REMOVE":"Watched load removed","OOPS_MESSAGE":"There was an error in processing your request. Please try again later.","Undo":"Undo","ADD_CAPACITY_SUCCESS":"Your details has been saved successfully","EDIT_CAPACITY_SUCCESS":"Your details has been updated successfully","Driver Assigned.":"Driver Assigned.","CAPACITY_REMOVED":"CAPACITY removed","Submit":"Submit","Not now":"Not now","Sure":"Sure","NOT_LIKELY":"Not at all likely","VERY_LIKELY":"Very likely","IMPROVING_SERVICE":"How can we improve our app or service?","GOOD_RATING":"Awesome !","APPSTORE_REVIEW":"We would love an App store review.","MORE_FEEDBACK":"We would like to hear more about application from you.","FEEDBACK_HEADER":"Thank you for your feedback!","FEEDBACK_MESSAGE":"We value your feedback and strive to improve your FrieghtPower experience.","Effective Date":"Effective Date","Type":"Type","Coverage Amount":"Coverage Amount","Expiration Date":"Expiration Date","PLEASE_CHECK_NETOWRK_CONNECTIVITY_MESSAGE":"Please check your network connectivity and try again.","MANAGE_USER_SUCCESS_MESSAGE":"User details has been addedd successfully","MANAGE_USER_TRANSFER_EXIST":"User already exist in current carrier","MANAGE_USER_REMOVE_SUCCESS_TEXT":"User has been delink successfully","MANAGE_USER_UPDATE_SUCCESS":"User details has been updated successfully","NO_AUTH_MSG":"We are having trouble signing you in. Please try again later.","MANAGE_USER_TRANSFER_MESSAGE":"Request sent to NAME","There was an error logging in":"There was an error logging in","New_Carrier_Message":"Thank you for registering as a new user! Would you also like to register as a new carrier with Schneider? Tap yes to register as a new carrier, or no to proceed to the FreightPower app.","Un-Assign Driver":"Un-Assign Driver","Are you sure you want to un-assign {name} from {loadId}":"Are you sure you want to un-assign {name} from {loadId}","Yes":"Yes","No":"No"}')},319:function(e){e.exports=JSON.parse('{"GET_STARTED_TEXT":"Commencer","SIGNUP_TEXT":"Commencez par vous inscrire ou connectez-vous","NO_NETWORK_TITLE":"Pas de r\xe9seau","NO_NETWORK_TEXT":"Veuillez v\xe9rifier votre connectivit\xe9 r\xe9seau et r\xe9essayer.","Ok_TEXT":"D\'accord","Loads":"Charges","Load":"Charge","RECOMMENDATION_COUNT":"Recommendation","RECOMMENDATION_COUNTS":"Recommendations","WATCHED_COUNT":"Charge surveill\xe9e","WATCHED_COUNTS":"Charges surveill\xe9es","Home":"Accueil","Search":"Chercher","My Loads":"Mes charges","Manage":"G\xe9rer","More":"Plus","Carrier Assigned":"Transporteur attribu\xe9","Driver Assigned":"conducteur assign\xe9","Loads Assigned":"Charges affect\xe9es","In-Transit":"En-transit","Recently Delivered Loads":"Chargements r\xe9cemment livr\xe9s","Assigned":"Attribu\xe9","End of list":"Fin de liste","Assign Driver":"Attribuer un pilote","Assigned to":"Assign\xe9 \xe0","Unknown":"Inconnue","All Drivers":"Tous les pilotes","All Driver":"Tous les pilotes","Filter by":"Filtrer par","Filter By":"Filtrer Par","Cancel":"Annuler","Dry Van":"Van sec","Refrigerated":"R\xe9frig\xe9r\xe9","Specialty":"Sp\xe9cialit\xe9","Power Only":"Puissance seulement","Trailer type":"Type de remorque","Pick-up":"Ramasser","Delivery":"Livraison","Origin":"Origine","Origin Radius":"Rayon d\'origine","Pickup Date":"Date de ramassage","Choose Pickup Date":"Choisissez la date de ramassage","Destination":"Destination","Destination Radius":"Rayon de destination","Delivery Date":"Date de livraison","Choose Delivery Date":"Choisissez la date de livraison","Pick-up date":"Date de ramassage","Pick-up Date":"Date de Ramassage","Price":"Prix","Distance":"Distance","Sort By":"Trier par","Sort by":"Trier par","By":"Par","recommendedErrorText":"Nous n\'avons aucune recommandation pour le moment. Merci de revenir plus tard.","watchedEmptyText":"Vous n\'avez encore regard\xe9 aucune charge","recommendedErrorButton":"Rechercher des charges","Add capacity":"Ajouter de la capacit\xe9","OR":"OU","Matches":"Allumettes","origin":"origine","destination":"destination","originCountry":"pays d\'origine","destinationCountry":"Pays de destination","Pick up date":"Date de ramassage","Pick up Date":"Date de Ramassage","searchResultsErrorText":"Nous n\'avons aucun r\xe9sultat pour le moment. Veuillez affiner votre recherche.","searchResultsErrorButton":"R\xe9initialiser la recherche","recommended":"conseill\xe9","watched":"regard\xe9","New":"Nouveau","Recent":"R\xe9cent","Favorite":"Pr\xe9f\xe9r\xe9","My Profile":"Mon profil","Carrier Profile":"Profil de transporteur","Manage Users":"g\xe9rer les utilisateurs","Manage My Capacity":"G\xe9rer ma capacit\xe9","First Name":"Pr\xe9nom","Last Name":"Nom de famille","Mobile Number":"Num\xe9ro de portable","Email Address":"Adresse \xe9lectronique","Park Location Address (Optional)":"Adresse de l\'emplacement du parc (facultatif)","Tractor No (Optional)":"Tracteur Non (en option)","Tractor No":"Tracteur Non","Carrier ID":"ID du transporteur","Role(s)":"R\xf4les)","Role":"R\xf4le","Validate now":"Validez maintenant","Type Your First Name":"Tapez votre pr\xe9nom","Type Your Last Name":"Tapez votre nom","Type Your Mobile Number":"Tapez votre num\xe9ro de mobile","Type Your Email Address":"Saisissez votre adresse e-mail","Type Your Park Location Address":"Saisissez votre adresse e-mail","Type Your Tractor Number":"Tapez votre num\xe9ro de tracteur","EMPTY_USER_TEXT":"Entrez votre num\xe9ro de tracteur Nous n\'avons aucun utilisateur pour le moment. <br /> Veuillez cliquer sur <b> Ajouter </b> pour ajouter un nouvel utilisateur.","Add":"Ajouter","Please enter first name":"Veuillez entrer le pr\xe9nom","Please enter last name":"Veuillez saisir votre nom","Please enter valid mobile number":"Veuillez saisir un num\xe9ro de mobile valide","Please enter valid tractor number":"Veuillez saisir un num\xe9ro de tracteur valide","Change Password":"Changer le mot de passe","FAVORITE_ALREADY_EXIST_TITLE":"Enregistrement existant","FAVORITE_ALREADY_EXIST_MESSAGE":"Cet enregistrement existe d\xe9j\xe0 dans votre liste de favoris. Veuillez mettre \xe0 jour vos crit\xe8res de recherche pour enregistrer la recherche en tant que favori.","Admin":"Administrateur","Driver":"Chauffeur","Dispatcher":"R\xe9partiteur","Guest":"Client","Search, book, carry and update the status of loads.":"Rechercher, r\xe9server, transporter et mettre \xe0 jour l\'\xe9tat des chargements.","Carry and update the status of loads.":"Portez et mettez \xe0 jour l\'\xe9tat des charges.","Driver, Dispatcher":"Chauffeur, R\xe9partiteur","Save":"sauvegarder","EMAIL_ERROR":"Veuillez saisir une adresse e-mail valide","Email":"Email","Mobile No":"Mobile Non","List of":"Liste de","Any":"Tout","Carrier Name":"Nom du transporteur","Carrier MC#":"Num\xe9ro MC du transporteur","USDOT#":"USDOT#","MC#":"MC#","Carrier Address":"Adresse du transporteur","Carrier Contact":"Contact op\xe9rateur","Carrier Phone":"T\xe9l\xe9phone de l\'op\xe9rateur","CARRIER_INFO":"Informations sur le transporteur","CARRIER_CONTACT_DETAILS":"D\xe9tails du contact","CARRIER_INSURANCE":"Assurance transporteur","CARRIER_CERITIFCATION":"Certification","CARRIER_QUALIFICATION_STATUS":"Statut de qualification","CARRIER_PROFILE_FOOTER":"Contactez Schneider \xe0 <a href=\\"mailto:stmcarrier@schneider.com\\" className=\\"email\\"> stmcarrier@schneider.com </a> <span> si l\'un des champs doit \xeatre mis \xe0 jour </span>","All Capacity":"Toute capacit\xe9","Trucks":"Camions","Lanes":"Voies","Radius":"Rayon","NO_TRUCKS_MESSAGE":"Nous n\'avons pas de camions / voies pour le moment. <br /> Veuillez cliquer sur <b> Ajouter </b> pour ajouter un nouveau bouton.","Anywhere":"Nulle part","Last Updated":"Derni\xe8re mise \xe0 jour","Name":"Nom","Email address":"Adresse \xe9lectronique","Phone":"T\xe9l\xe9phone","Capacity Type":"Type de capacit\xe9","Trailer Type":"Type de remorque","States":"\xc9tats","Pick-up Start Date":"Date de d\xe9but de la cueillette","Pick-up End Date":"Date de fin de cueillette","Days of Week":"Jours de la semaine","Truck":"Camion","Lane":"Voie","Spot capacity currently available.":"Capacit\xe9 spot actuellement disponible.","Frequently desired origin to destination.":"Origine \xe0 destination fr\xe9quemment souhait\xe9e.","Select States":"S\xe9lectionnez les \xc9tats","Choose the state":"Choisissez l\'\xe9tat","State 1":"\xc9tat 1","State 2":"\xc9tat 2","State 3":"\xc9tat 3","From Date":"Partir de la date","To Date":"\xc0 ce jour","Please provide a correct pickup date.":"Veuillez fournir une date de ramassage correcte.","Please provide correct delivery date":"Veuillez indiquer la date de livraison correcte","Kindly provide your correct city name":"Veuillez fournir votre nom de ville correct","Please provide a correct pickup location.":"Veuillez indiquer un lieu de ramassage correct.","Please provide a correct drop off location.":"Veuillez indiquer un lieu de d\xe9p\xf4t correct.","MON":"LUN","TUE":"MAR","WED":"MER","THU":"JEU","FRI":"VEN","SAT":"SAM","SUN":"DIM","All":"Tout","PICKUP_DAYS_ERROR":"Veuillez s\xe9lectionner au moins un jour","MANAGE_USER_CONFIRM_TRANSFER_TITLE":"Nouvelle demande de transporteur","MANAGE_USER_CONFIRM_TRANSFER_MESSAGE":"COMPANY souhaite vous ajouter en tant qu\'utilisateur. Appuyez sur \xabAccepter\xbb pour rejoindre.","CHANGE_PASSWORD_TITLE":"Redirig\xe9 vers un site externe","CHANGE_PASSWORD_MESSAGE":"Vous serez redirig\xe9 vers le site s\xe9curis\xe9 pour changer votre mot de passe.","USER_EXIST_TITLE":"Envoyer une demande","USER_EXIST_MESSAGE":"EMAIL existe d\xe9j\xe0. Voulez-vous envoyer une demande \xe0 NAME pour rejoindre votre compte op\xe9rateur?","USER_BACK_TITLE":"Voulez-vous vraiment revenir en arri\xe8re?","USER_BACK_MESSAGE":"Vous n\'avez pas enregistr\xe9 les nouvelles informations utilisateur.","YES":"Oui","NO":"Non","DELINK_ACCOUNT_TITLE":"Compte utilisateur Delink","DELINK_ACCOUNT_MESSAGE":"<span class=\\"sub-heading\\">Voulez-vous vraiment dissocier le compte utilisateur? </span> <br /> Ce processus est irr\xe9versible.","ALERT_MESSAGE":"\xcates-vous s\xfbr de vouloir vous d\xe9connecter?","Logout":"Se d\xe9connecter","Log Out":"Se D\xe9connecter","REGISTRATION_ALERT_MESSAGE":"Voulez-vous vraiment vous d\xe9connecter sans terminer l\'enregistrement?","Contact for price":"Contactez pour le prix","Stop off":"Arr\xeater","Stop offs":"Arr\xeatez-vous","START_TRIP_MESSAGE_FOR_PENDING_LOADS":"L\'affectation du pilote pour le chargement n\'est pas encore confirm\xe9e. Veuillez actualiser la page ou essayer apr\xe8s un certain temps.","BUYLOAD_API_ERROR_MESSAGE":"Votre affectation de charge prend plus de temps que pr\xe9vu. Veuillez contacter Schneider pour v\xe9rifier l\'affectation, si vous ne recevez pas d\'offre par e-mail dans les 5 prochaines minutes.","BOOKLOAD_THANKYOU_HEADER":"Merci","CALL_US_TEXT":"Appelez nous","CHAT_TEXT":"Discute avec nous","START_TRIP_TEXT":"Commencer le voyage","BOOK_LOAD_CTA_TEXT":"Reserve maintenant","BOOKLOAD_THANK_YOU_ERROR_MESSAGE":"Votre affectation de charge prend plus de temps que pr\xe9vu. Veuillez rev\xe9rifier apr\xe8s 15 minutes sous Mes chargements - Transporteur attribu\xe9.","BOOKLOAD_REQUEST_REJECTED_HEADER":"Erreur","BOOKLOAD_ON_HOLD":"avertissement","BOOKLOAD_CANCELLED_MESSAGE":"Erreur","BOOKLOAD_THANK_YOU_MESSAGE":"Merci d\'avoir r\xe9serv\xe9 #LOAD_ID. L\'offre sera envoy\xe9e \xe0 votre adresse e-mail momentan\xe9ment. Cliquez sur OK pour afficher les d\xe9tails de l\'ex\xe9cution et affecter votre pilote.","BOOKLOAD_ACCEPT_CTA_TEXT":"J\'accepte","BOOKLOAD_DECLINE_CTA_TEXT":"D\xe9clin","BOOK_LOAD_MODAL_ACCEPT":"En acceptant, vous acceptez les termes et conditions indiqu\xe9s pour ce chargement et lors d\'un achat r\xe9ussi, le chargement vous sera attribu\xe9.","Total":"Totale","VIEW_RATE_DETAILS":"Afficher les d\xe9tails du tarif","CHARGE_DESCRIPTION":"Description de la charge","RATE_QUALIFIER":"Taux / Qualificatif","BOOLOAD_QTY":"Qt\xe9","Please check your network connectivity and try again.":"Veuillez v\xe9rifier votre connectivit\xe9 r\xe9seau et r\xe9essayer.","No network connection":"Pas de connexion r\xe9seau","FAVORITE_SEARCH_REMOVED":"Recherche favorite supprim\xe9e","See Results":"Voir les r\xe9sultats","Current Location":"Localisation actuelle","FAQ":"FAQ","Edit":"\xc9diter","Map":"Carte","Device Info":"Info appareil","Menu":"Menu","Search Results":"R\xe9sultats de recherche","Register Now":"S\'inscrire maintenant","First name":"Pr\xe9nom","Last name":"Nom de famille","Cell phone number":"Num\xe9ro de t\xe9l\xe9phone portable","Company name":"Nom de la compagnie","Company corporate ZIP code":"Code postal de l\'entreprise","Company USDOT# or MC#":"Soci\xe9t\xe9 USDOT# ou MC#","Enter your company USDOT#":"Entrez le num\xe9ro USDOT de votre entreprise","Enter your company MC#":"Entrez le num\xe9ro MC de votre entreprise","Enter your first name":"Entrez votre pr\xe9nom","Enter your last name":"Entrez votre nom de famille","Enter your cell phone number":"Entrez votre num\xe9ro de t\xe9l\xe9phone portable","Enter your company name":"Entrez le nom de votre entreprise","Enter your company corporate ZIP code":"Entrez le code postal de votre entreprise","Please enter a valid phone number (only digits)":"Veuillez saisir un num\xe9ro de t\xe9l\xe9phone valide (uniquement des chiffres)","Please enter a valid company corporate ZIP code":"Veuillez saisir un code postal d\'entreprise valide","Please enter a valid company USDOT#":"Veuillez saisir un num\xe9ro de soci\xe9t\xe9 USDOT# valide","Please enter a valid company MC#":"Veuillez saisir un num\xe9ro MC d\'entreprise valide","Please select a role":"Veuillez s\xe9lectionner un r\xf4le","Please enter a valid first name":"Veuillez entrer un pr\xe9nom valide","Please enter a valid last name":"Merci d\'entrer un nom de famille valide","Please enter a valid company name":"Veuillez saisir un nom d\'entreprise valide","Type of user":"Type d\'utilisateur","Add as Favorite":"Ajouter comme favori","ASSIGN_DRIVER_POPUP_TITLE":"Voulez-vous vraiment attribuer la charge n \xb0LOAD_ID \xe0 DRIVER_NAME","LOAD_ASSIGN_SUCCESS":"Charge n \xb0 LOAD_ID attribu\xe9e avec succ\xe8s \xe0 DRIVER_NAME.","LOAD_ASSIGN_FAIL":"L\'affectation du chauffeur a \xe9chou\xe9. Veuillez r\xe9essayer.","COMPLETE_TRIP_CTA_TEXT":"Voyage complet","CONFRIM_START_CTA_TEXT":"Confirmer les informations de d\xe9part","START_LOCATION_LABEL_TEXT":"Lieu de d\xe9part","ACTUAL_START_LABEL_TEXT":"D\xe9but r\xe9el","ARRIVAL_ERROR":"L\'heure d\'arriv\xe9e ne peut pas \xeatre plus de 60 minutes \xe0 l\'avenir","DEPARTURE_ERROR":"L\'heure de d\xe9part ne peut pas d\xe9passer 60 minutes \xe0 l\'avenir","DEPARTURE_ARRIVAL_ERROR":"L\'heure d\'arriv\xe9e ne peut pas \xeatre sup\xe9rieure \xe0 l\'heure de d\xe9part","TRAILER_IN_ERROR":"La remorque est obligatoire !!!","TRAILER_OUT_ERROR":"La sortie de la remorque est obligatoire !!!","MISSING_ACTIVITY":"Arr\xeater l\'activit\xe9 manquante, les informations de la bande-annonce ne peuvent pas \xeatre mises \xe0 jour Veuillez contacter Schneider.","NO_MAPPING_ACTIVITY":"Arr\xeater le mappage d\'activit\xe9 introuvable, les informations de la bande-annonce ne peuvent pas \xeatre mises \xe0 jour. Veuillez contacter Schneider.","VALID_TRAILER_IN":"Veuillez saisir une valeur d\'entr\xe9e de remorque valide","VALID_TRAILER_OUT":"Veuillez saisir une valeur de sortie de remorque valide","Arrived":"Arriv\xe9e","Arrival":"Arriv\xe9e","Departed":"D\xe9funt","Departure":"D\xe9part","Trailer In":"Bande-annonce dans","Trailer Out":"Remorque sortie","RequiredField":"Champ requis","UPDATE_STOP_CTA_TEXT":"Mettre \xe0 jour les informations d\'arr\xeat","REFERENCE":"Les r\xe9f\xe9rences","REFERENCE_TYPE_TEXT":"Type de r\xe9f\xe9rence","REFERENCE_VALUE_TEXT":"Valeur de r\xe9f\xe9rence","SR_NO_TEXT":"Sr non","NO_REFERENCE_MSG":"Aucune r\xe9f\xe9rence pour l\'arr\xeat","Terms & Conditions":"termes et conditions","CHECK_NETWORK_MESSAGE":"Veuillez v\xe9rifier votre connexion r\xe9seau.","MEMBER_API_ERROR_MESSAGE":"La validation de l\'enregistrement de l\'utilisateur a \xe9chou\xe9, veuillez vous reconnecter apr\xe8s un certain temps","Do you want to register as a carrier?":"Voulez-vous vous inscrire en tant que transporteur?","Server is not working, please try again later":"Le serveur ne fonctionne pas, veuillez r\xe9essayer plus tard","Not authorized, please logging out and try again later":"Non autoris\xe9, veuillez vous d\xe9connecter et r\xe9essayer plus tard","Internal server error, please try again later":"erreur de serveur interne, veuillez r\xe9essayer plus tard","ISSUE_WITH_ASSIGNED_LOAD":"Il semble y avoir un probl\xe8me avec la charge attribu\xe9e. Veuillez essayer apr\xe8s un certain temps.","NO_ACCESS_MSG":"Contactez Schneider pour obtenir un acc\xe8s complet","watchedErrorText":"Les d\xe9tails de votre envoi pourraient avoir \xe9t\xe9 mis \xe0 jour \xe0 partir d\'autres sources. S\'il vous pla\xeet, v\xe9rifiez et essayez \xe0 nouveau.","WATCHED_LOAD_REMOVE":"Charge surveill\xe9e supprim\xe9e","OOPS_MESSAGE":"Une erreur s\'est produite lors du traitement de votre demande. Veuillez r\xe9essayer plus tard.","Undo":"annuler","ADD_CAPACITY_SUCCESS":"Vos coordonn\xe9es ont \xe9t\xe9 enregistr\xe9es avec succ\xe8s","EDIT_CAPACITY_SUCCESS":"Vos coordonn\xe9es ont \xe9t\xe9 mises \xe0 jour avec succ\xe8s","Driver Assigned.":"Pilote attribu\xe9.","CAPACITY_REMOVED":"CAPACITY enlev\xe9","Submit":"Soumettre","Not now":"Pas maintenant","Sure":"S\xfbre","NOT_LIKELY":"Pas du tout probable","VERY_LIKELY":"Tr\xe8s probable","IMPROVING_SERVICE":"Comment pouvons-nous am\xe9liorer notre application ou notre service?","GOOD_RATING":"Impressionnant !","APPSTORE_REVIEW":"Nous aimerions un examen de l\'App Store.","MORE_FEEDBACK":"Nous aimerions en savoir plus sur l\'application de votre part.","FEEDBACK_HEADER":"Merci pour votre avis!","FEEDBACK_MESSAGE":"Nous appr\xe9cions vos commentaires et nous nous effor\xe7ons d\'am\xe9liorer votre exp\xe9rience FrieghtPower.","Effective Date":"Date effective","Type":"Type","Coverage Amount":"Montant de la couverture","Expiration Date":"Date d\'expiration","PLEASE_CHECK_NETOWRK_CONNECTIVITY_MESSAGE":"Veuillez v\xe9rifier votre connectivit\xe9 r\xe9seau et r\xe9essayer.","MANAGE_USER_SUCCESS_MESSAGE":"Les d\xe9tails de l\'utilisateur ont \xe9t\xe9 ajout\xe9s avec succ\xe8s","MANAGE_USER_TRANSFER_EXIST":"L\'utilisateur existe d\xe9j\xe0 dans le transporteur actuel","MANAGE_USER_REMOVE_SUCCESS_TEXT":"L\'utilisateur a \xe9t\xe9 dissoci\xe9 avec succ\xe8s","MANAGE_USER_UPDATE_SUCCESS":"Les d\xe9tails de l\'utilisateur ont \xe9t\xe9 mis \xe0 jour avec succ\xe8s","NO_AUTH_MSG":"Nous rencontrons des difficult\xe9s pour vous connecter. Veuillez r\xe9essayer plus tard.","MANAGE_USER_TRANSFER_MESSAGE":"Demande envoy\xe9e \xe0 NAME","There was an error logging in":"Une erreur s\'est produite lors de la connexion","New_Carrier_Message":"Merci de vous \xeatre enregistr\xe9 en tant que nouvel utilisateur! Souhaitez-vous \xe9galement vous inscrire en tant que nouveau transporteur aupr\xe8s de Schneider? Appuyez sur oui pour vous inscrire en tant que nouveau transporteur ou sur non pour acc\xe9der \xe0 l\'application FreightPower.","Un-Assign Driver":"Annuler l\'attribution du pilote","Are you sure you want to un-assign {name} from {loadId}":"Voulez-vous vraiment annuler l\'attribution de {name} de {loadId}","Yes":"Oui","No":"Non"}')},328:function(e,t,a){e.exports={ios:a(534),md:a(535)}},347:function(e,t,a){e.exports=a(625)},352:function(e,t,a){var r={"./pwa-action-sheet.entry.js":[631,98],"./pwa-camera-modal-instance.entry.js":[632,99],"./pwa-camera-modal.entry.js":[633,100],"./pwa-camera.entry.js":[634,101],"./pwa-toast.entry.js":[635,102]};function n(e){if(!a.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],n=t[0];return a.e(t[1]).then((function(){return a(n)}))}n.keys=function(){return Object.keys(r)},n.id=352,e.exports=n},358:function(e,t,a){var r={"./ion-action-sheet-controller_8.entry.js":[639,45],"./ion-action-sheet-ios.entry.js":[640,46],"./ion-action-sheet-md.entry.js":[641,47],"./ion-alert-ios.entry.js":[642,26],"./ion-alert-md.entry.js":[643,27],"./ion-app_8-ios.entry.js":[644,13],"./ion-app_8-md.entry.js":[645,14],"./ion-avatar_3-ios.entry.js":[646,48],"./ion-avatar_3-md.entry.js":[647,49],"./ion-back-button-ios.entry.js":[648,50],"./ion-back-button-md.entry.js":[649,51],"./ion-backdrop-ios.entry.js":[650,83],"./ion-backdrop-md.entry.js":[651,84],"./ion-button_2-ios.entry.js":[652,52],"./ion-button_2-md.entry.js":[653,53],"./ion-card_5-ios.entry.js":[654,54],"./ion-card_5-md.entry.js":[655,55],"./ion-checkbox-ios.entry.js":[656,56],"./ion-checkbox-md.entry.js":[657,57],"./ion-chip-ios.entry.js":[658,58],"./ion-chip-md.entry.js":[659,59],"./ion-col_3.entry.js":[660,85],"./ion-datetime_3-ios.entry.js":[661,22],"./ion-datetime_3-md.entry.js":[662,23],"./ion-fab_3-ios.entry.js":[663,60],"./ion-fab_3-md.entry.js":[664,61],"./ion-img.entry.js":[665,86],"./ion-infinite-scroll_2-ios.entry.js":[666,41],"./ion-infinite-scroll_2-md.entry.js":[667,42],"./ion-input-ios.entry.js":[668,62],"./ion-input-md.entry.js":[669,63],"./ion-item-option_3-ios.entry.js":[670,64],"./ion-item-option_3-md.entry.js":[671,65],"./ion-item_8-ios.entry.js":[672,66],"./ion-item_8-md.entry.js":[673,67],"./ion-loading-ios.entry.js":[674,28],"./ion-loading-md.entry.js":[675,29],"./ion-menu_4-ios.entry.js":[676,20],"./ion-menu_4-md.entry.js":[677,21],"./ion-modal-ios.entry.js":[678,16],"./ion-modal-md.entry.js":[679,17],"./ion-nav_5.entry.js":[680,15],"./ion-popover-ios.entry.js":[681,18],"./ion-popover-md.entry.js":[682,19],"./ion-progress-bar-ios.entry.js":[683,68],"./ion-progress-bar-md.entry.js":[684,69],"./ion-radio_2-ios.entry.js":[685,34],"./ion-radio_2-md.entry.js":[686,35],"./ion-range-ios.entry.js":[687,70],"./ion-range-md.entry.js":[688,71],"./ion-refresher_2-ios.entry.js":[689,43],"./ion-refresher_2-md.entry.js":[690,44],"./ion-reorder_2-ios.entry.js":[691,39],"./ion-reorder_2-md.entry.js":[692,40],"./ion-ripple-effect.entry.js":[693,87],"./ion-route_4.entry.js":[694,72],"./ion-searchbar-ios.entry.js":[695,30],"./ion-searchbar-md.entry.js":[696,31],"./ion-segment_2-ios.entry.js":[697,73],"./ion-segment_2-md.entry.js":[698,74],"./ion-select_3-ios.entry.js":[699,36],"./ion-select_3-md.entry.js":[700,37],"./ion-slide_2-ios.entry.js":[701,88],"./ion-slide_2-md.entry.js":[702,89],"./ion-spinner.entry.js":[703,75],"./ion-split-pane-ios.entry.js":[704,90],"./ion-split-pane-md.entry.js":[705,91],"./ion-tab-bar_2-ios.entry.js":[706,76],"./ion-tab-bar_2-md.entry.js":[707,77],"./ion-tab_2.entry.js":[708,38],"./ion-text.entry.js":[709,78],"./ion-textarea-ios.entry.js":[710,79],"./ion-textarea-md.entry.js":[711,80],"./ion-toast-ios.entry.js":[712,32],"./ion-toast-md.entry.js":[713,33],"./ion-toggle-ios.entry.js":[714,24],"./ion-toggle-md.entry.js":[715,25],"./ion-virtual-scroll.entry.js":[716,92]};function n(e){if(!a.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],n=t[0];return a.e(t[1]).then((function(){return a(n)}))}n.keys=function(){return Object.keys(r)},n.id=358,e.exports=n},360:function(e,t,a){var r={"./ion-icon.entry.js":[720,108]};function n(e){if(!a.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],n=t[0];return a.e(t[1]).then((function(){return a(n)}))}n.keys=function(){return Object.keys(r)},n.id=360,e.exports=n},371:function(e,t,a){},466:function(e,t,a){},467:function(e,t,a){},527:function(e,t,a){},529:function(e,t,a){},530:function(e,t,a){},531:function(e,t,a){},532:function(e,t,a){},533:function(e,t,a){},534:function(e,t,a){e.exports=a.p+"static/media/ios-BackIcon.d2c0eae0.svg"},535:function(e,t,a){e.exports=a.p+"static/media/md-BackIcon.d2c0eae0.svg"},536:function(e,t,a){},561:function(e,t){},578:function(e,t,a){},580:function(e,t,a){},581:function(e,t,a){},582:function(e,t,a){},583:function(e,t,a){},584:function(e,t,a){},587:function(e,t,a){},588:function(e,t,a){},589:function(e,t,a){},590:function(e,t,a){},591:function(e,t,a){},592:function(e,t,a){},593:function(e,t,a){},594:function(e,t,a){},612:function(e,t,a){},613:function(e,t,a){},614:function(e,t,a){},615:function(e,t,a){},616:function(e,t,a){},617:function(e,t,a){},618:function(e,t,a){},619:function(e,t,a){},620:function(e,t,a){},621:function(e,t,a){},622:function(e,t,a){},623:function(e,t,a){},625:function(e,t,a){"use strict";a.r(t);var r,n,i=a(0),s=a.n(i),o=a(39),c=a.n(o),l=a(335),u=a(15),d=a(1),p=(a(361),a(362),a(363),a(364),a(365),a(366),a(367),a(368),a(369),a(370),a(371),a(5)),m=a(16),f=a(337),E=a(34);!function(e){e.REMOTECONFIG_STORE_VERSION="store_version",e.APPLESTORE_REDIRECTURL="itms-apps://itunes.apple.com/app/id1531879145",e.PLAYSTORE_REDIRECTURL="market://details?id=com.schneider.fp.carrier"}(r||(r={})),function(e){e.TITLE="App Update Available",e.MESSAGE="A new version of this app is available. Do you want to apply this update?",e.OK="Update Now",e.CANCEL="Later"}(n||(n={}));var h,g,v="@@saga-injector/daemon",b="LOGOUT",S="Anywhere",y="Kindly provide your correct city name",O="Please provide a correct pickup location.",_="Please provide a correct drop off location.";!function(e){e.OTM="833-391-8735",e.MG="855-476-4786"}(h||(h={})),function(e){e.ASSIGN_DRIVER_TO_SHIPMENT="ASSIGN_DRIVER_TO_SHIPMENT",e.ASSIGN_DRIVER_TO_SHIPMENT_RESPONSE="ASSIGN_DRIVER_TO_SHIPMENT_RESPONSE",e.CLEAR_ASSIGN_DRIVER_TO_SHIPMENT_RESPONSE="CLEAR_ASSIGN_DRIVER_TO_SHIPMENT_RESPONSE",e.SHOW_ASSIGN_DRIVER_TO_SHIPMENT_DIALOG="SHOW_ASSIGN_DRIVER_TO_SHIPMENT_DIALOG",e.HIDE_ASSIGN_DRIVER_TO_SHIPMENT_DIALOG="HIDE_ASSIGN_DRIVER_TO_SHIPMENT_DIALOG",e.CONFIRM_START_INFORMATION="CONFIRM_START_INFORMATION",e.CONFIRM_START_INFORMATION_SUCCESS="CONFIRM_START_INFORMATION_SUCCESS",e.CONFIRM_START_INFORMATION_STATUS_MESSAGE="CONFIRM_START_INFORMATION_STATUS_MESSAGE",e.CLEAR_CONFIRM_START_INFORMATION_STATUS_MESSAGE="CLEAR_CONFIRM_START_INFORMATION_STATUS_MESSAGE",e.SHIPMENT_FOR_STARTTRIP="SHIPMENT_FOR_STARTTRIP",e.SHIPMENT_FOR_STARTTRIP_TIMESTAMP="SHIPMENT_FOR_STARTTRIP_TIMESTAMP",e.UPDATE_STOP_INFORMATION="UPDATE_STOP_INFORMATION",e.UPDATE_STOP_INFORMATION_RESPONSE="UPDATE_STOP_INFORMATION_REPONSE",e.START_TRIP="START_TRIP",e.START_TRIP_INFORMATION_RESPONSE="START_TRIP_INFORMATION_RESPONSE",e.COMPLETE_TRIP_API_REQUEST="COMPLETE_TRIP_API_REQUEST",e.COMPLETE_TRIP_API_RESPONSE="COMPLETE_TRIP_API_RESPONSE",e.SHOW_WARNING_DIALOG="SHOW_WARNING_DIALOG",e.CLEAR_WARNING_DIALOG="CLEAR_WARNING_DIALOG",e.CLEAR_UPDATE_STOP_INFORMATION_RESPONSE="CLEAR_UPDATE_STOP_INFORMATION_REPONSE"}(g||(g={}));var A;!function(e){e.ERROR_MESSAGE_1="You have an active trip, Shipment #",e.ERROR_MESSAGE_2=". Please complete that trip, to start tracking a new shipment."}(A||(A={}));var D,T,R,N,I={CLIENT_ID:"5028ac47-6697-4cf4-8a0d-fd8a9010390c",DISCOVERY_URL:"https://schneidercarrieruat.b2clogin.com/schneidercarrieruat.onmicrosoft.com/v2.0/.well-known/openid-configuration?p=B2C_1A_signup_signin",REDIRECT_URI:"https://www.jwt.ms",FIREBASE_TOKEN:"",RELEASE:"uat",BUGSNAG_KEY:"8b19859bf35d89eb8ce3d0c6ca5f8277",AZURE_MAP_CLIENT_ID:"eaf9747e-2b9c-4f09-93e0-697caf0cad36",API_HOST:"api.uat.schneider.com/external/005/carrier",SUBSCRIPTION_KEY:"eed85d63a6224e05a592fde1e7842134",AZURE_API_HOST:"https://schneidercarrieruat.onmicrosoft.com",AZURE_REDIRECT_URL:"https://sni-carrier-experience-carrier-freight.apps.uat.schneider.com/login",AZURE_RESET_URL:"https://schneidercarrieruat.b2clogin.com/schneidercarrieruat.onmicrosoft.com/v2.0/.well-known/openid-configuration?p=B2C_1A_PasswordReset",GEO_PRE_ARRIVAL_RADIUS:1600};!function(e){e.GEO_START_TRIP_LOCATION="Geo-Start-Trip-Location",e.GEO_POSITION="Geo-Position",e.GEOFENCE_PRE_ARRIVAL="Geo-Fence-Pre-Arrival-",e.GEOFENCE_ARRIVAL="Geo-Fence-",e.GEO_STOP_ARRIVAL="Geo-Stop-Arrival",e.GEO_TPOSITION="Geo-TPosition"}(D||(D={})),function(e){e.PRE_ARRIVAL="PRE_ARRIVAL",e.ARRIVAL="ARRIVAL"}(T||(T={})),function(e){e.ENTER="ENTER",e.EXIT="EXIT"}(R||(R={})),function(e){e.START_TRIP="assets/sound/location-services-on.mp3",e.STOP_TRIP="assets/sound/location-services-off.mp3",e.GEOFENCE_PRE_ARRIVAL_ENTRY="assets/sound/geofence-enter.mp3",e.GEOFENCE_PRE_ARRIVAL_EXIT="assets/sound/geofence-exit.mp3",e.GEOFENCE_ARRIVAL_ENTRY="assets/sound/tslocationmanager_beep_trip_dry.mp3",e.GEOFENCE_ARRIVAL_EXIT="assets/sound/tslocationmanager_beep_trip_up_dry.mp3"}(N||(N={}));var C,k,j=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];!function(e){e.CARRIER_ASSIGNED_MODULE="MyLoad/CarrierAssigned",e.DRIVER_ASSIGNED_MODULE="MyLoad/DriverAssigned",e.INTRANSIT_MODULE="MyLoad/InTransit",e.RECENTLY_DELIVERED_MODULE="MyLoad/Delivered",e.SEARCH_RESULTS="search/results"}(C||(C={})),function(e){e.RECOMMENDED_MODULE="home/recommended",e.WATCHED_MODULE="home/watched"}(k||(k={}));var L;!function(e){e.PENDING="PENDING",e.ACCEPTED="ACCEPTED",e.STARTED="STARTED",e.IN_TRANSIT="IN_TRANSIT",e.DELIVERED="DELIVERED",e.COMPLETED="COMPLETED"}(L||(L={}));var w,M={firstName:"Please enter first name",lastName:"Please enter last name",mobileNumber:"Please enter a valid phone number (only digits)",tractorNumber:"Please enter valid tractor number"},P={carrierGuest:"Guest",carrierDispatcher:"Dispatcher",carrierDriver:"Driver",carrierAdmin:"Admin"},U={carrierGuest:"carrierGuest",carrierDispatcher:"carrierDispatcher",carrierDriver:"carrierDriver",carrierAdmin:"carrierAdmin"};!function(e){e.START_TRIP="Start Trip",e.STOP_TRACKING="Stop Tracking"}(w||(w={}));var x,F="assets/icon/star-color.svg",V="assets/icon/star.svg",G="rate",H=[{value:"origin_from_date",name:"Pick-up date"},{value:"totalDistance",name:"Distance"}],B=[{value:"origin_from_date",name:"Pick-up date"},{value:"totalDistance",name:"Distance"},{value:"Price",name:"Price"}],q=[{label:"MON",value:"MONDAY"},{label:"TUE",value:"TUESDAY"},{label:"WED",value:"WEDNESDAY"},{label:"THU",value:"THURSDAY"},{label:"FRI",value:"FRIDAY"},{label:"SAT",value:"SATURDAY"},{label:"SUN",value:"SUNDAY"}],z={paginationSize:10,gpsTrackingRadiusInMiles:5,gpsTrackingIntervalInMinutes:15,geoFencePreArrivalRadiusInMiles:1,geoFenceEntryRadiusInMiles:1,roleConfigurations:{home:{recommended:{carrierGuest:!1,carrierDriver:!1,carrierDispatcher:!0,carrierAdmin:!1},watched:{carrierGuest:!1,carrierDriver:!1,carrierDispatcher:!0,carrierAdmin:!1}},search:{new:{carrierGuest:!0,carrierDriver:!1,carrierDispatcher:!0,carrierAdmin:!1},recent:{carrierGuest:!0,carrierDriver:!1,carrierDispatcher:!0,carrierAdmin:!1},favorite:{carrierGuest:!0,carrierDriver:!1,carrierDispatcher:!0,carrierAdmin:!1}},MyLoad:{carrierAssigned:{carrierGuest:!1,carrierDriver:!1,carrierDispatcher:!0,carrierAdmin:!0},driverAssigned:{carrierGuest:!1,carrierDriver:!0,carrierDispatcher:!0,carrierAdmin:!0},manageFinancial:{carrierGuest:!1,carrierDriver:!1,carrierDispatcher:!0,carrierAdmin:!0},driverLoads:{carrierGuest:!1,carrierDriver:!0,carrierDispatcher:!1,carrierAdmin:!0}},manage:{userProfile:{carrierGuest:!0,carrierDriver:!0,carrierDispatcher:!0,carrierAdmin:!0},myprofile:{carrierGuest:!0,carrierDriver:!0,carrierDispatcher:!0,carrierAdmin:!0},mypreferences:{carrierGuest:!0,carrierDriver:!0,carrierDispatcher:!0,carrierAdmin:!0},carrierprofile:{carrierGuest:!0,carrierDriver:!0,carrierDispatcher:!0,carrierAdmin:!0},manageusers:{carrierGuest:!1,carrierDriver:!1,carrierDispatcher:!0,carrierAdmin:!0},managemycapacity:{carrierGuest:!0,carrierDriver:!0,carrierDispatcher:!0,carrierAdmin:!0}},more:{more:{carrierGuest:!0,carrierDriver:!0,carrierDispatcher:!0,carrierAdmin:!0}}}};!function(e){e.RECOMMENDED="recommended",e.WATCHED="watched",e.NEW="new",e.RECENT="recent",e.FAVORITE="favorite",e.SEARCHED="searched",e.CARRIER_ASSIGNED="CarrierAssigned",e.DRIVER_ASSIGNED="DriverAssigned"}(x||(x={}));var Y;!function(e){e.NO_NETWORK_TITLE="No Network",e.NO_NETWORK_TEXT="Please check your network connectivity and try again.",e.Ok_TEXT="Ok",e.GET_STARTED_TEXT="Get Started",e.SIGNUP_TEXT="Start with signing up or sign in"}(Y||(Y={}));var W,K;!function(e){e.UNT="development",e.UAT="uat",e.PROD="production"}(W||(W={})),function(e){e.PRIMARY_DRIVER="PRIMARY DRIVER"}(K||(K={}));var X,Z,Q;!function(e){e.carrierGuest="carrierGuest",e.carrierAdmin="carrierAdmin",e.carrierDispatcher="carrierDispatcher",e.carrierDriver="carrierDriver"}(X||(X={})),function(e){e.firstName="firstName",e.lastName="lastName",e.mobileNumber="mobileNumber",e.companyName="companyName",e.corporateZipCode="corporateZipCode",e.slectedNo="slectedNo"}(Z||(Z={})),function(e){e.ARRIVAL_ERROR="Arrival time can't be more than 60 mins in future",e.DEPARTURE_ERROR="Departure time can't be more than 60 mins in future",e.DEPARTURE_ARRIVAL_ERROR="Arrival time can't be greater than the departure time",e.TRAILER_IN_ERROR="Trailer-In field is mandatory",e.TRAILER_OUT_ERROR="Trailer-Out field is mandatory",e.MISSING_ACTIVITY="Stop activity missing, trailer information can't be updated. Please contact Schneider.",e.NO_MAPPING_ACTIVITY="Stop activity mapping not found, trailer information can't be updated. Please contact Schneider.",e.VALID_TRAILER_IN="Please enter valid Trailer-In value",e.VALID_TRAILER_OUT="Please enter valid Trailer-Out value"}(Q||(Q={}));var J;!function(e){e.CONFIGURATION_TXT="Configuration",e.ENABLE_R2_FEATURE_TXT="Enable R2 feature",e.OKAY="Okay"}(J||(J={}));var $;!function(e){e.OK="Ok",e.CANCEL="Cancel",e.DELINK="Delink"}($||($={}));var ee,te=[{identifier:"iPhone5,1",generation:"iPhone 5"},{identifier:"iPhone5,2",generation:"iPhone 5"},{identifier:"iPhone5,3",generation:"iPhone 5c"},{identifier:"iPhone5,4",generation:"iPhone 5c"},{identifier:"iPhone6,1",generation:"iPhone 5s"},{identifier:"iPhone6,2",generation:"iPhone 5s"},{identifier:"iPhone7,2",generation:"iPhone 6"},{identifier:"iPhone7,1",generation:"iPhone 6 Plus"},{identifier:"iPhone8,1",generation:"iPhone 6s"},{identifier:"iPhone8,2",generation:"iPhone 6s Plus"},{identifier:"iPhone12,8",generation:"iPhone SE"},{identifier:"iPhone8,4",generation:"iPhone SE"},{identifier:"iPhone9,3",generation:"iPhone 7"},{identifier:"iPhone9,1",generation:"iPhone 7"},{identifier:"iPhone9,4",generation:"iPhone 7 Plus"},{identifier:"iPhone9,4",generation:"iPhone 7 Plus"},{identifier:"iPhone10,1",generation:"iPhone 8"},{identifier:"iPhone10,4",generation:"iPhone 8"},{identifier:"iPhone10,2",generation:"iPhone 8 Plus"},{identifier:"iPhone10,5",generation:"iPhone 8 Plus"},{identifier:"iPhone10,3",generation:"iPhone X"},{identifier:"iPhone10,6",generation:"iPhone X"},{identifier:"iPhone11,2",generation:"iPhone XS"},{identifier:"iPhone11,4",generation:"iPhone XS Max"},{identifier:"iPhone11,6",generation:"iPhone XS Max"},{identifier:"iPhone11,8",generation:"iPhone XR"},{identifier:"iPhone12,1",generation:"iPhone 11"},{identifier:"iPhone12,3",generation:"iPhone 11 Pro"},{identifier:"iPhone12,5",generation:"iPhone 11 Pro Max"},{identifier:"iPad6,7",generation:'iPad Pro (12.9")'},{identifier:"iPad6,8",generation:'iPad Pro (12.9")'},{identifier:"iPad6,3",generation:'iPad Pro (9.7")'},{identifier:"iPad6,4",generation:'iPad Pro (9.7")'},{identifier:"iPad7,1",generation:'iPad Pro (12.9")(2nd generation)'},{identifier:"iPad7,2",generation:'iPad Pro (12.9")(2nd generation)'},{identifier:"iPad7,3",generation:"iPad Pro (10.5-inch)"},{identifier:"iPad7,4",generation:"iPad Pro (10.5-inch)"},{identifier:"iPad8,1",generation:"iPad Pro (11-inch)"},{identifier:"iPad8,2",generation:"iPad Pro (11-inch)"},{identifier:"iPad8,3",generation:"iPad Pro (11-inch)"},{identifier:"iPad8,4",generation:"iPad Pro (11-inch)"},{identifier:"iPad8,5",generation:'iPad Pro (12.9") (3rd generation)'},{identifier:"iPad8,6",generation:'iPad Pro (12.9") (3rd generation)'},{identifier:"iPad8,7",generation:'iPad Pro (12.9") (3rd generation)'},{identifier:"iPad8,8",generation:'iPad Pro (12.9") (3rd generation)'},{identifier:"iPad8,11",generation:'iPad Pro (12.9") (4th generation)'},{identifier:"iPad8,11",generation:'iPad Pro (12.9") (4th generation)'},{identifier:"iPad8,9",generation:"iPad Pro (11-inch) (2nd generation)"},{identifier:"iPad8,10",generation:"iPad Pro (11-inch) (2nd generation)"},{identifier:"iPad4,1",generation:"iPad Air"},{identifier:"iPad4,2",generation:"iPad Air"},{identifier:"iPad4,3",generation:"iPad Air"},{identifier:"iPad5,3",generation:"iPad Air 2"},{identifier:"iPad5,3",generation:"iPad Air 2"},{identifier:"iPad11,3",generation:"iPad Air (3rd generation)"},{identifier:"iPad11,4",generation:"iPad Air (3rd generation)"}],ae="We are having trouble signing you in. Please try again later.",re=["TA","SNLU","BOBTAIL"],ne=/^(SNLU[0-9]{6}$)|(TA[0-9]{6}$)|(BOBTAIL)$/;!function(e){e.ALERT_MESSAGE="Are you sure you want to logout?",e.Logout_TEXT="Logout",e.Cancel_TEXT="Cancel",e.REGISTRATION_ALERT_MESSAGE="Are you sure you want to log out without completing registration?"}(ee||(ee={}));var ie,se,oe,ce;!function(e){e.FIRST_NAME="First Name",e.LAST_NAME="Last Name",e.MOBILE_NUMBER="Mobile Number",e.EMAIL_ADDRESS="Email Address",e.PARK_LOCATION="Park Location Address (Optional)",e.TRACKTOR_NUMBER="Tractor No (Optional)",e.CARRIER_ID="Carrier ID",e.ROLES="Role(s)",e.ROLE="Role",e.VALIDATE_NOW="Validate now"}(ie||(ie={})),function(e){e.FIRST_NAME="Type Your First Name",e.LAST_NAME="Type Your Last Name",e.MOBILE_NUMBER="Type Your Mobile Number",e.EMAIL_ADDRESS="Type Your Email Address",e.PARK_LOCATION="Type Your Park Location Address",e.TRACKTOR_NUMBER="Type Your Tractor Number",e.CARRIER_ID=""}(se||(se={})),function(e){e.mobileNumberError="Please enter a valid phone number (only digits)",e.zipcodeEror="Please enter a valid company corporate ZIP code",e.usDotError="Please enter a valid company USDOT#",e.mcError="Please enter a valid company MC#",e.roleError="Please select a role",e.firstNameError="Please enter a valid first name",e.lastNameError="Please enter a valid last name",e.companyNameError="Please enter a valid company name"}(oe||(oe={})),function(e){e.serverErrorMsg="Error, please refresh and try again",e.unAuthorizedMsg="Login expired, Log Out and log back in to try again"}(ce||(ce={}));var le,ue,de;!function(e){e.header="Congratulations!",e.message="Your access has been updated. Log out and log in to get full access. Choose ignore to continue as Guest.",e.ignore_btn="Ignore",e.logout_btn="Logout Now"}(le||(le={})),function(e){e.mobileNumber="Enter your cell phone number",e.zipcode="Enter your company corporate ZIP code",e.usDot="Enter your company USDOT#",e.mc="Enter your company MC#",e.firstName="Enter your first name",e.lastName="Enter your last name",e.companyName="Enter your company name"}(ue||(ue={})),function(e){e.role="Type of user",e.firstName="First name",e.lastName="Last name",e.phoneNumber="Cell phone number",e.company="Company name",e.zipcode="Company corporate ZIP code",e.usdotOrMc="Company USDOT# or MC#",e.USDOT="USDOT#",e.MC="MC#",e.register="Register Now"}(de||(de={}));var pe,me;!function(e){e.ok="ok",e.cancel="cancel"}(pe||(pe={})),function(e){e.callus="assets/icon/Phone.svg",e.complete_trip="/assets/icon/complete-trip.svg",e.mid_illustration="assets/images/Mid illustration.png",e.mid_icon="assets/icon/mid-icon.svg",e.search_error="assets/icon/SearchError.svg",e.add_capacity="assets/images/manage-add-capacity.svg",e.assign_driver="assets/icon/add-user-icon.svg",e.start_trip="assets/icon/start-trip.svg",e.chat="assets/icon/chat.svg",e.defult_map="assets/images/default_map.png",e.logo="assets/icon/Logo.svg",e.down_arrow="/assets/icon/grid-down-arrow.svg",e.plus="/assets/icon/add.svg",e.minus="/assets/icon/minus-icon.svg",e.origin_pointer="assets/icon/origin-pointer.svg",e.stop_pointer="assets/icon/stop-pointer.svg",e.destination_pointer="assets/icon/dst-pointer.svg",e.start_trip_pointer="assets/icon/start-trip-location.svg",e.filter="assets/icon/filter.svg",e.driver="assets/icon/Assign Driver.svg",e.shipment_map="/assets/icon/shipment-map-icon.svg",e.pageNotFound="assets/icon/pageNotFound.svg",e.nav_home="assets/icon/nav-home-icon.svg",e.nav_search="assets/icon/bottom_search_icon.svg",e.nav_myLoad="assets/icon/My Load.svg",e.nav_manage="assets/icon/manag icon.svg",e.nav_more="assets/icon/more icon.svg",e.unAssign_driver="assets/icon/un-assign-driver.svg"}(me||(me={}));var fe,Ee,he,ge;!function(e){e.watched="/app/home/watched/",e.recommended="/app/home/recommended/",e.manage_capacity="/app/manage/ManageMyCapacity",e.search="/app/search"}(fe||(fe={})),function(e){e.OOPS_TITLE="Error",e.OOPS_MESSAGE="Requested record not found. <br />Click ok to go back",e.PAGE_NOT_FOUND_MESSAGE1="Oops!",e.PAGE_NOT_FOUND_MESSAGE2="Page not Found.",e.PAGE_NOT_FOUND_MESSAGE3="We couldn't find the page",e.PAGE_NOT_FOUND_MESSAGE4="Click ok to go back or click Homepage to go back to Home screen",e.BACK_BTN="Go Back",e.HOME_BTN="Home Page"}(Ee||(Ee={})),function(e){e.title="Un-Assign Driver",e.message="Are you sure you want to un-assign {name} from {loadId}"}(he||(he={})),function(e){e.CARRIERID="carrierId",e.UPN="upn",e.ROLES="roles"}(ge||(ge={}));var ve={lastUpdatedDate:"",loading:!1,loadCount:0,error:!1,currentUser:!1,hasSession:0,userData:null,showPermissionAlert:!1,permissionAlertMessage:"",permissionAlertTitle:"",alertError:!1,networkStatus:{connected:!1,connectionType:"none"},deviceInfo:{},Hidden:!0,loginToken:"",deepLinkURI:"",notificationData:{shipmentId:"",userId:"",carrierName:"",carrierId:"",Timestamp:"",deepLinkURI:""},showPullToRefresh:!1},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;return Object(E.a)(e,(function(e){switch(t.type){case"LAST_UPDATED_DATE":e.lastUpdatedDate=t.date;break;case"TOGGLE_LOADING":var a=t.status?e.loadCount+1:e.loadCount-1;e.loadCount=a>=0?a:0,e.loading=a>0;break;case"PERMISSION_ALERT_MESSAGE":e.showPermissionAlert=t.payload.isShowPermissionAlert,e.permissionAlertMessage=t.payload.permissionAlertMessage,e.permissionAlertTitle=t.payload.permissionAlertTitle;break;case"CLOSE_PERMISSION_ALERT":e.showPermissionAlert=!1,e.permissionAlertMessage="",e.permissionAlertTitle="";break;case"LOGIN_INPROGRESS":e.error=!1;break;case"LOGIN_SUCCESS":e.currentUser=!0,e.userData=t.data;break;case"LOGIN_ERROR":e.error=!0;break;case"HIDE_TAB_BAR":e.Hidden=!1,console.log(e.Hidden,"draft.Hidden");break;case b:e=ve;break;case"SESSION":e.hasSession=t.session;break;case"UPDATE_NETWORK_STATUS":console.log("NETWORK RDUCR",t.data),e.networkStatus=t.data;break;case"UPDATE_DEVICE_INFO":console.log("DVC DATA",t.data),e.deviceInfo=t.data;break;case"TOKEN_DATA":e.loginToken=t.data.access_token;break;case"SAVE_DEEPLINK_URI":e.notificationData=t.data,e.deepLinkURI="".concat(t.data.deepLinkURI,"/").concat(t.data.shipmentId?t.data.shipmentId:"");break;case"CLEAR_DEEPLINK_URI":e.deepLinkURI="",e.notificationData={shipmentId:"",userId:"",carrierName:"",carrierId:"",Timestamp:"",deepLinkURI:""};break;case"PULL_TO_REFRESH_LOADING":e.showPullToRefresh=t.status}}))},Se=a(17),ye={watched:{data:[],totalRecords:0,loaded:!1,filter:{selected:[],direction:"asc"}},apiErrorMessage:"",showMemberAPIError:!1,recommended:{totalRecords:0,loaded:!1,data:[],filter:{selected:[],direction:"asc"}}},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;return Object(E.a)(e,(function(e){switch(t.type){case"WATCHEDLOAD_DATA_REQUEST":e.watched.loaded=!0;break;case"WATCHED_DATA_SUCCESS":var a=t.payload&&t.payload,r=a&&a.watchedResults&&a.watchedResults.data&&a.watchedResults.data.getUserWatchedLoads&&a.watchedResults.data.getUserWatchedLoads.loadPostings||[],n=a&&a.watchedResults&&a.watchedResults.data&&a.watchedResults.data.getUserWatchedLoads&&a.watchedResults.data.getUserWatchedLoads.totalRecords||0;r=(r=a.refreshStatus?r:[].concat(Object(Se.a)(e.watched.data),Object(Se.a)(r))).filter((function(e,t){return t===r.findIndex((function(t){return t.loadId===e.loadId}))})),e.watched.data=r,e.watched.loaded=!0,e.watched.totalRecords=n;break;case"ADD_WATCH_LOAD_SUCCESS":var i=[].concat(Object(Se.a)(e.watched.data),[t.payload]);e.watched.data=i,e.watched.totalRecords=e.watched.totalRecords+1;break;case"REMOVE_WATCH_LOAD_SUCCESS":e.watched.data=e.watched.data.filter((function(e){return e.loadId!==t.payload.loadId})),e.watched.totalRecords=e.watched.totalRecords-1;break;case"WATCHED_LOAD_FILTER":e.watched.filter=t.payload.filter;break;case"RECOMMENDED_LOAD_FILTER":e.recommended.filter=t.payload.filter;break;case"SHOW_API_RESPONSE_ERROR":e.apiErrorMessage=t.payload.message;break;case"CLEAR_API_RESPONSE_ERROR":e.apiErrorMessage="";break;case"RECOMMENDED_LOADS_SUCESS":var s=t.payload&&t.payload,o=s&&s.recommendedResults&&s.recommendedResults.data&&s.recommendedResults.data.recommendedLoads&&s.recommendedResults.data.recommendedLoads.loadPostings&&s.recommendedResults.data.recommendedLoads.loadPostings||[],c=s&&s.recommendedResults&&s.recommendedResults.data&&s.recommendedResults.data.recommendedLoads&&s.recommendedResults.data.recommendedLoads.totalRecords||0;e.recommended.data=s.refreshStatus?o:[].concat(Object(Se.a)(e.recommended.data),Object(Se.a)(o)),e.recommended.totalRecords=c,e.recommended.loaded=!0;break;case"REMOVE_RECOMMENDEDRESULTS":var l=t.payload&&t.payload;e.recommended.data=e.recommended.data.filter((function(e){return e.loadId!==l.loadId})),e.recommended.totalRecords=e.recommended.totalRecords-1;break;case"SHOW_MEMBER_API_ERROR":e.showMemberAPIError=t.payload&&t.payload}}))},_e={profileImg:[],myLoadCardData:[],carrierAssigned:[],driverAssigned:[],inTransit:[],myLoadCount:{carrierAssignedCount:0,driverAssignedCount:0,inTransitCount:0,deliveredCount:0},confirmStart:{},confirmStartStatusMessage:{},updateStop:{},startTrip:{},buy:{status:"",message:""},shipment:[],delivered:[],isGetShipment:!1,buyLoadResponseStatus:"",warningDialogMessage:""},Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;return Object(E.a)(e,(function(e){switch(t.type){case"GET_MYLOAD_CARD_DATA":e.myLoadCardData=t.payload;break;case"LOAD_CARRIER_DATA":e.carrierAssigned=t.payload.data,e.myLoadCount.carrierAssignedCount=t.payload.count;break;case"DRIVER_ASSIGNED_DATA":e.driverAssigned=t.payload.data,e.myLoadCount.driverAssignedCount=t.payload.count;break;case"LOAD_INTRANSIT_DATA":e.inTransit=t.payload.data,e.myLoadCount.inTransitCount=t.payload.count;break;case g.CONFIRM_START_INFORMATION_SUCCESS:e.confirmStart=t.payload;break;case b:e.myLoadCardData=e.carrierAssigned=e.driverAssigned=e.inTransit=e.delivered=[],e.myLoadCount.carrierAssignedCount=e.myLoadCount.driverAssignedCount=e.myLoadCount.inTransitCount=e.myLoadCount.deliveredCount=0;break;case g.CONFIRM_START_INFORMATION_STATUS_MESSAGE:e.confirmStartStatusMessage=t.payload;break;case g.SHOW_WARNING_DIALOG:e.warningDialogMessage=t.payload&&t.payload.message||"";break;case g.CLEAR_WARNING_DIALOG:e.warningDialogMessage="";break;case g.CLEAR_CONFIRM_START_INFORMATION_STATUS_MESSAGE:e.confirmStartStatusMessage={};break;case g.UPDATE_STOP_INFORMATION_RESPONSE:e.updateStop=t.payload.data;break;case g.START_TRIP_INFORMATION_RESPONSE:e.startTrip=t.payload;break;case"BUYLOAD_DATA_SUCCESS":var a=t.payload;e.buy=a.data.buy;break;case"LOAD_DELIVERED_DATA":e.delivered=t.payload.data,e.myLoadCount.deliveredCount=t.payload.count;break;case"BUYLOAD_SHIPMENT_SUCCESS":var r=t.payload;e.shipment=r.data&&r.data.getShipment||{};break;case"BUYLOAD_REMOVE_STATUS":e.buy={status:"",message:""};break;case"isGetshipemntError":e.isGetShipment=t.payload;break;case"CLEARBUYLOAD_RESPONSE":e.buyLoadResponseStatus=t.payload;break;case g.CLEAR_UPDATE_STOP_INFORMATION_RESPONSE:e.updateStop={}}}))},De={loads:{searchLoads:[],totalRecords:0},params:{},allLoads:[],showBuyLoadAPIError:!1},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0;return Object(E.a)(e,(function(e){switch(t.type){case"SEARCH_DATA":e.params=t.payload;break;case"loadSearchData":var a=t.payload&&t.payload,r=a.isPagination;e.loads={searchLoads:r?e.loads.searchLoads.concat(a&&a.data&&a.data.searchLoads||[]):a&&a.data&&a.data.searchLoads||[],totalRecords:a&&a.data&&a.data.totalRecords||0};break;case"SAVE_ALL_SEARCH_DATA":var n=t.payload&&t.payload,i={searchLoads:n&&n.data&&n.data.searchLoads||[],totalRecords:n&&n.data&&n.data.totalRecords||0};e.allLoads=[].concat(Object(Se.a)(e.allLoads),[i]);break;case"CLEAR_SEARCH_RESULST":e.loads=t.payload;break;case"REMOVE_SEARCH_RESULTS":var s=t.payload&&t.payload;e.loads.searchLoads=e.loads.searchLoads.filter((function(e){return e.loadId!==s})),e.loads.totalRecords=e.loads.searchLoads.length;break;case"SHOW_BUYLOAD_API_ERROR":e.showBuyLoadAPIError=t.payload&&t.payload}}))};function Re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(m.combineReducers)(Object(p.a)({global:be,carrier:Oe,myload:Ae,search:Te},e)),a=function(e,a){var r=a.type===b;return t(r?void 0:e,a)};return a}var Ne=a(309),Ie=a(186),Ce=a.n(Ie),ke=a(334),je=a(312),Le=a.n(je);var we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(Ne.createOffline)(Object(p.a)(Object(p.a)({},Ce.a),{},{persist:function(){return!1}})),a=t.middleware,r=t.enhanceReducer,n=t.enhanceStore,i={key:"root",storage:Le.a},s=m.compose,o={},c=Object(f.a)(o),l=[c];l.push(a);var u=[n,m.applyMiddleware.apply(void 0,l)],d=Object(m.createStore)(Object(ke.a)(i,r(Re())),e,s.apply(void 0,u));return d.runSaga=c.run,d.injectedReducers={},d.injectedSagas={},d}(),Me=a(22),Pe=a(313),Ue=a(323),xe=a(9),Fe=a(6),Ve=a(2),Ge=a.n(Ve),He=a(11),Be=a(48),qe=a(7),ze=a(8),Ye=a(23),We=a(89),Ke=a(13),Xe=a(14),Ze=a(10),Qe=a(42),Je=(a(203),a(28)),$e=a(315),et={clientID:I.CLIENT_ID,redirectUri:"com.schneider.fp.carriers://callback",scope:"openid offline_access "+I.AZURE_API_HOST+"/api/readscope "+I.AZURE_API_HOST+"/api/writescope",discoveryUrl:I.DISCOVERY_URL,audience:"",logoutUrl:"",platform:"capacitor",iosWebView:"private",authConfig:"azure",androidToolbarColor:"",logLevel:"DEBUG"},tt={clientID:I.CLIENT_ID,redirectUri:"http://localhost:3000/login",scope:"openid offline_access "+I.AZURE_API_HOST+"/api/readscope "+I.AZURE_API_HOST+"/api/writescope",discoveryUrl:I.DISCOVERY_URL,audience:"https://graph.microsoft.com",logoutUrl:"http://localhost:3000/login",platform:"web",authConfig:"azure",logLevel:"DEBUG",clientSecret:"Tvol14SMF_cK@AQNalVdbbxoZ1v4O@Q:"},at=a(40),rt=a(31),nt=a(30),it={HOME:{RECOMMENDED_LOADS:"/recommended/v1/recommended/loads"},SEARCH:{SEARCH:"/load/v1/loadposting"},RECENT:{RECENT:"/usersearch/v1/history"},FAVORITE:{FAVORITE_LOADS:"/usersearch/v1/history"},DRIVERS_LIST:{DRIVERS_LIST:"/carriermember/v1/member"},FETCH_USER_DETAILS:{USER_DETAILS:"/carriermember/v1/member",GET_USER_DETAILS:"/carriermember/v1/member"},MYLOAD:{CARRIER:"/v1/shipment",BUY_LOAD:"/load/v1/loadposting"},MANAGE:{MY_CAPACITY:"/laneandtruck/v1/laneandtruck",CARRIER_PROFILE:"/masterdata/v1/carrierdata"},LOCATION_TRACKER:{LOCATION_TRACKER:"/devicelocation/v1/location"},REGISTER_DEVICE:{REGISTER_DEVICE:"/devicemanage/v1/manage"},MORETAB:{MORETAB:"/contentstack/v1/contentstack"},CONFIG:{APP_LEVEL:"/contentstack/v1/content-stack/config?env={configEnv}"},SUBMITFEEDBACK:{SUBMITFEEDBACK:"/devicemanage/v1/manage"},AZURE_MAPS:{ACCESS_TOKEN:"/zipcode/v1/oauth2/token"}};function st(e,t,a){return{get_Service_Url:function(){var r="",n=it[e][t];if(!n)throw new Error("key value of End point URL is not matching with provided key name.");return r="https://".concat(I.API_HOST).concat(n),r=a?r.replace("{upn}",a).replace("{configEnv}",a):r}}}var ot,ct,lt,ut=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:e?"PULL_TO_REFRESH_LOADING":"TOGGLE_LOADING",status:!0}},dt=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:e?"PULL_TO_REFRESH_LOADING":"TOGGLE_LOADING",status:!1}},pt=function(){return{type:b}},mt=function(e){return{type:"SESSION",session:e}},ft=function(e){return{type:"PERMISSION_ALERT_MESSAGE",payload:e}},Et=function(e){return{type:"SAVE_DEEPLINK_URI",data:e}},ht=(a(449),a(36)),gt=a.n(ht),vt=rt.a.FirebaseAnalytics,bt=rt.a.Device,St=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(Object(d.V)("desktop"))return!0;if(e){var r=we.getState(),n=r&&r.App&&r.App.session,i=function(e){return Ua.details.auth&&Ua.details.auth.user[e]},s=i(ge.UPN),o=i(ge.CARRIERID),c=i(ge.ROLES),l=t;l=Object(p.a)(Object(p.a)(Object(p.a)(Object(p.a)({},l),"undefined"!==typeof s&&{userId:s}),"undefined"!==typeof o&&{carrierId:o}),"undefined"!==typeof c&&{roles:c.toString()}),n&&(l=Object(p.a)(Object(p.a)({},l),{},{sessionId:Ot(n.uuid)}),a.forEach((function(e){l[e]=n[e]||""}))),vt.logEvent({name:e,params:l})}return!1},yt=function(e){return!!Object(d.V)("desktop")||(e&&vt.setScreenName({screenName:e}),!1)},Ot=function(e){return e+gt()(new Date).format("MMDDYYYYHHmmss")},_t=function(){var e=Object(He.a)(Ge.a.mark((function e(){var t,a;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bt.getInfo();case 2:return t=e.sent,a=null,"web"===t.platform?a="web-app":"android"!==t.platform&&"ios"!==t.platform||(a="mobile-app"),e.abrupt("return",{os:t.operatingSystem,device_name:t.model,model:t.model,channel:a});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),At=a(27),Dt=a.n(At);!function(e){e.UE_CARRIERREQ_PRESENTED="ue_carrierreq_presented",e.UE_GUEST_CARRIERREQ_PRESENTED="ue_guest_carrierreq_presented",e.UE_CARRIERREQ_AGREED="ue_carrierreq_agreed",e.UE_GUEST_CARRIERREQ_AGREED="ue_guest_carrierreq_agreed",e.UE_CARRIERREQ_FAILURE="ue_carrierreq_failure",e.UE_GUEST_CARRIERREQ_FAILURE="ue_guest_carrierreq_failure",e.UE_CARRIERREQ_NOTNOW="ue_carrierreq_notnow",e.UE_GUEST_CARRIERREQ_NOTNOW="ue_guest_carrierreq_notnow",e.SV_HOME="sv_home",e.UE_VIEW_RECOMMENDED_TAB="ue_view_recommended_tab",e.UE_SCROLL_RECOMMENDATIONS="ue_scroll_recommendations",e.UE_VIEW_WATCHED_TAB="ue_view_watched_tab",e.SV_GET_STARTED="sv_get_started",e.SV_REGISTRATION="sv_registration",e.UE_REGISTER_NOW="ue_register_now",e.UE_REGISTER_SUCCESS="ue_register_success",e.UE_GUEST_REGISTER_SUCCESS="ue_guest_register_success",e.UE_REGISTER_FAILURE="ue_register_failure",e.UE_GUEST_REGISTER_FAILURE="ue_guest_register_failure",e.UE_SIGN_IN="ue_sign_in",e.UE_LOGIN_SUCCESS="ue_login_success",e.UE_GUEST_LOGIN_SUCCESS="ue_guest_login_success",e.UE_LOGIN_FAILED="ue_login_failed",e.SV_SEARCH_FILTER="sv_search_filter",e.SV_SEARCH_RESULT="sv_search_result",e.SV_VIEW_LOAD="sv_view_load",e.UE_SEARCH_SEE_RESULTS="ue_search_see_results",e.UE_BOOK_LOAD_NOW="ue_book_load_now",e.SV_LOAD_DETAILS_RATE="sv_load_details_rate",e.UE_LOAD_RATE_ACCEPT="ue_load_rate_accept",e.UE_LOAD_RATE_DENY="ue_load_rate_deny",e.UE_BOOK_SUCCESS="ue_book_success",e.UE_BOOK_FAILED="ue_book_failed",e.UE_START_TRIP="ue_start_trip",e.UE_GEO_TRACKING="ue_geo_tracking",e.UE_GEOFENCE_ANNOUNCEMENT="ue_geofence_announcement",e.SV_VIEW_MYLOADS="sv_view_myloads",e.SV_VIEW_CARRIER_ASSIGNED="sv_view_carrier_assigned",e.SV_ASSIGN_DRIVER="sv_assign_driver",e.UE_ASSIGN_DRIVER_SUCCESS="ue_assign_driver_success",e.SV_VIEW_DRIVER_ASSIGNED="sv_view_driver_assigned",e.SV_VIEW_IN_TRANSIT="sv_view_in_transit",e.SV_VIEW_RECENTLY_DEL="sv_view_recently_del",e.SV_LOAD_DETAILS="sv_load_details",e.UE_VIEW_LOAD="ue_view_load",e.UE_WATCH_LOAD="ue_watch_load",e.UE_VIEW_LOAD_TERMS="ue_view_load_terms",e.UE_VIEW_LOAD_CALL_US="ue_view_load_call_us",e.UE_CONTACT_FOR_PRICE="ue_contact_for_price",e.SV_VIEW_SHIPMENT="sv_view_shipment",e.SV_MANAGE_PROFILE="sv_manage_profile",e.SV_VIEW_MY_PROFILE="sv_view_my_profile",e.SV_VIEW_CARRIER_PROFILE="sv_view_carrier_profile",e.SV_MANAGE_USERS="sv_manage_users",e.SV_MANAGE_CAPACITY="sv_manage_capacity",e.SV_MANAGE_CAPACITY_ADDEDIT="sv_manage_capacity_addedit",e.UE_MANAGE_CAPACITY_SUCCESS="ue_manage_capacity_success",e.UE_MANAGE_CAPACITY_FAILED="ue_manage_capacity_failed",e.SV_MORE_MENU="sv_more_menu",e.UE_STOP_UPDATE_SUCCESS="ue_stop_update_success",e.UE_STOP_UPDATE_FAILURE="ue_stop_update_failure",e.UE_COMPLETE_TRIP="ue_complete_trip",e.SV_LOAD_DETAILS_MAP="sv_load_details_map",e.SV_VIEW_REFERENCE="sv_view_reference",e.UE_SORT_PRICE="ue_sort_price",e.UE_SORT_DISTANCE="ue_sort_distance",e.UE_FAVOURITE_SEARCH="ue_favourite_search",e.UE_CONCURRENT_BUY="ue_concurrent_buy",e.UE_LOAD_ON_HOLD="ue_load_on_hold",e.UE_BUY_IN_PROGRESS="ue_buy_in_progress",e.UE_ASSIGN_DRIVER="ue_assign_driver",e.UE_CONFIRM_ASSIGNMENT="ue_confirm_assignment",e.UE_FILTER_USAGE="ue_filter_usage",e.UE_START_TRIP_FAIL="ue_start_trip_fail",e.SV_LOAD_ASSIGNMENT="sv_load_assignment",e.UE_SATELLITE_VIEW="ue_satellite_view",e.UE_MAP_VIEW="ue_map_view",e.UE_EDIT_PROFILE="ue_edit_profile",e.UE_SAVE_PROFILE="ue_save_profile",e.UE_DELINK_CARRIER="ue_delink_carrier",e.UE_CHANGE_PASSWORD="ue_change_password",e.UE_VIEW_USER="ue_view_user",e.UE_EDIT_USER="ue_edit_user",e.UE_SAVE_USER_CHANGES="ue_save_user_changes",e.UE_ADD_NEW_USER="ue_add_new_user",e.UE_TRANSFER_USER="ue_transfer_user",e.UE_NEW_USER_ADDED="ue_new_user_added",e.UE_DELETE_CAPACITY="ue_delete_capacity",e.SV_MORE_FAQ="sv_more_faq",e.SV_MORE_VIDEO="sv_more_video",e.SV_MORE_CONTACT="sv_more_contact",e.SV_MORE_LEARN="sv_more_learn",e.SV_MORE_LEGAL="sv_more_legal",e.UE_FEEDBACK_MISSED="ue_feedback_missed",e.UE_FEEDBACK_SUCCESS="ue_feedback_success",e.UE_FEEDBACK_FAILURE="ue_feedback_failure",e.UE_LOGOUT="ue_logout",e.UE_NOTIFICATION_VIEW="ue_notification_view",e.UE_NOTIFICATION_RECEIVED="ue_notification_received",e.UE_REGISTRATION_LOGOUT="ue_registration_logout"}(ot||(ot={})),function(e){e.REGISTRATION="registration",e.NEWCARRIERREQUEST="newcarrierrequest",e.HOME="home",e.GET_STARTED="get-started",e.SHIPMENT_DETAILS="shipment_details",e.SEARCH_FILTER="search_filter",e.SEARCH_RESULT="search_result",e.LOAD_DETAILS="load_details",e.LOAD_DETAILS_RATE="load_details_rate",e.MYLOADS="myloads",e.MYLOADS_CARRIER_ASSIGNED="myloads_carrier_assigned",e.MYLOADS_DRIVER_ASSIGNMENT="myloads_driver_assignment",e.MYLOADS_IN_TRANSIT="myloads_in_transit",e.MYLOADS_RECENTLY_DEL="myloads_recently_del",e.MYLOADS_DRIVER_ASSIGNED="myloads_driver_assigned",e.MANAGE_PROFILE="manage_profile",e.MY_PROFILE="my_profile",e.CARRIER_PROFILE="carrier_profile",e.MANAGE_USERS="manage_users",e.MANAGE_CAPACITY="manage_capacity",e.MANAGE_CAPACITY_ADDEDIT="manage_capacity_addedit",e.MORE_MENU="more_menu",e.LOAD_DETAILS_MAP="load_details_map",e.MYLOADS_NEEDS_PPWK="myloads_needs_ppwk",e.HOME_SORT_PRICE="home_sort_price",e.HOME_SORT_DISTANCE="home_sort_distance",e.SEARCH_FAVOURITE="search_favourite",e.BUY_CONCURRENT="buy_concurrent",e.BUY_LOAD_ON_HOLD="buy_load_on_hold",e.BUY_IN_PROGRESS="buy_in_progress",e.CA_ASSIGN_DRIVER="ca_assign_driver",e.CA_CONFIRM_ASSIGNMENT="ca_confirm_assignment",e.DA_DRIVER_FILTER="da_driver_filter",e.DA_START_TRIP_FAILURE="da_start_trip_failure",e.ML_LOAD_ASSIGNMENT="ml_load_assignment",e.ML_START_TRIP="ml_start_trip",e.EX_SATELLITE_VIEW="ex_satellite_view",e.EX_MAP_VIEW="ex_map_view",e.MP_EDIT_PROFILE="mp_edit_profile",e.MP_SAVE_PROFILE="mp_save_profile",e.MP_DELINK_CARRIER="mp_delink_carrier",e.MP_CHANGE_PASSWORD="mp_change_password",e.MANAGE_USER="manage_user",e.MU_VIEW_USER="mu_view_user",e.MU_EDIT_USER="mu_edit_user",e.MU_DELINK_CARRIER="mu_delink_carrier",e.MU_SAVE_CHANGES="mu_save_changes",e.MU_ADD_NEW_USER="mu_add_new_user",e.MU_TRANSFER_USER="mu_transfer_user",e.MU_USER_ADDED="mu_user_added",e.MC_DELETE_CAPACITY="mc_delete_capacity",e.MORE_FAQ="more_faq",e.MORE_VIDEO_WALKTHROUGH="more_video_walkthrough",e.MORE_CONTACT_OPTION="more_contact_option",e.MR_LEARN_ABOUT_SNI="mr_learn_about_sni",e.MORE_LEGAL="more_legal",e.MR_STORE_FEEDBACK_MISSED="mr_store_feedback_missed",e.MR_STORE_FEEDBACK_SUCCESS="mr_store_feedback_success",e.MR_STORE_FEEDBACK_FAILURE="mr_store_feedback_failure",e.MR_LOGOUT="mr_logout",e.FCM_NOTIFICATION_VIEW="fcm_notification_view",e.FCM_NOTIFICATION_RECEIVED="fcm_notification_received",e.REGISTRATION_LEAKAGE="registration_leakage"}(ct||(ct={})),function(e){e.RECOMMENDED="recommended",e.WATCHED="watched",e.NEW="new",e.RECENT="recent",e.FAVORITE="favorite",e.SEARCHED="searched",e.CARRIER_ASSIGNED="CarrierAssigned",e.DRIVER_ASSIGNED="DriverAssigned"}(lt||(lt={}));var Tt,Rt=st("LOCATION_TRACKER","LOCATION_TRACKER",null).get_Service_Url(),Nt="",It=null,Ct=new Audio,kt="",jt="",Lt="",wt="",Mt="",Pt="",Ut=1,xt="",Ft="",Vt=null,Gt=null;function Ht(){0,Gt=null,Tt&&(clearInterval(Tt),Tt=null)}function Bt(){return nt.a}function qt(){return(qt=Object(He.a)(Ge.a.mark((function e(t){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:nt.a.getCurrentPosition({persist:!1},(function(e){t(e.coords.latitude,e.coords.longitude)}),(function(e){}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zt(e){var t=function(e,t){return{identifier:t?e.stopId+"_"+T.PRE_ARRIVAL:e.stopId+"_"+T.ARRIVAL,radius:t?I.GEO_PRE_ARRIVAL_RADIUS:400,latitude:e.latitude,longitude:e.longitude,notifyOnEntry:!0,notifyOnExit:!0,extras:{messageType:t?D.GEOFENCE_PRE_ARRIVAL:D.GEOFENCE_ARRIVAL,stopId:e.stopId,sequenceNo:e.sequenceNo,locationId:e.locationId}}},a=[];return e.map((function(e,r){if(e.sequenceNo===Ut){var n=t(e,!0);a.push(n);var i=t(e,!1);a.push(i)}})),a}function Yt(e){for(var t=0;t<Vt.length;t++)Vt[t].sequenceNo===e&&(Vt[t].actualArrivalDateTime=(new Date).toISOString())}function Wt(e){for(var t=!1,a=0;a<Vt.length;a++)Vt[a].sequenceNo===e&&Vt[a].actualArrivalDateTime&&(Vt[a].actualDepartureDateTime=(new Date).toISOString(),"D"===Vt[a].stopType&&Vt.length===e&&(t=!0,nt.a.stop().then((function(){console.log("- stop success"),Ya("DB_GPS_ACTIVATED_SHIPMENT").then((function(){console.log("- data removed from DB")}))})),nt.a.removeGeofences()));t||Kt()}function Kt(){return Xt.apply(this,arguments)}function Xt(){return(Xt=Object(He.a)(Ge.a.mark((function e(){var t,a,r,n;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Zt(),e.next=3,nt.a.getGeofences();case 3:if(e.sent.forEach((function(e,t){a=e.extras.sequenceNo})),a!==t)Ht(),Ut=t,nt.a.removeGeofences(),(r=zt(Vt)).length>0&&nt.a.addGeofences(r,(function(e){}),(function(e){}));else for(n=0;n<Vt.length;n++)Vt[n].sequenceNo===a&&Vt[n].actualArrivalDateTime&&Ht();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zt(){for(var e=99,t=0;t<Vt.length;t++)Vt[t].actualArrivalDateTime&&Vt[t].actualDepartureDateTime||e>Vt[t].sequenceNo&&(e=Vt[t].sequenceNo,xt=Vt[t].stopId,Ft=Vt[t].locationId);return e}function Qt(e){It=e}function Jt(e){Dt.a.isEqual(e,Vt)||e.length>0&&e[0].stopId&&(Vt=e)&&Kt()}function $t(e,t,a,r,n){if(e===a&&t===r)return 0;var i=Math.PI*e/180,s=Math.PI*a/180,o=t-r,c=Math.PI*o/180,l=Math.sin(i)*Math.sin(s)+Math.cos(i)*Math.cos(s)*Math.cos(c);return l>1&&(l=1),l=60*(l=180*(l=Math.acos(l))/Math.PI)*1.1515,"meters"===n&&(l=1.609344*l*1e3),l}var ea=function(){function e(){Object(qe.a)(this,e),this.__token=void 0}return Object(ze.a)(e,[{key:"getFreshToken",value:function(){var e=Object(He.a)(Ge.a.mark((function e(){var t;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=xr.getInstance(),e.t0=t,!e.t0){e.next=6;break}return e.next=5,t.isAuthenticated();case 5:e.t0=e.sent;case 6:if(e.t0){e.next=10;break}return we.dispatch(mt(Math.floor(100*Math.random()))),e.abrupt("return",null);case 10:return e.next=12,t.getAuthResponse();case 12:return this.__token=e.sent.id_token,e.abrupt("return",this.__token);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),ta=a(125),aa=a.n(ta),ra=function(){function e(){Object(qe.a)(this,e)}return Object(ze.a)(e,[{key:"__request",value:function(e,t,a,r,n,i,s,o){var c=e.toString();i[n]?i[n].cancel():i[n]=aa.a.CancelToken.source();var l={method:a,url:c,headers:t,data:r,onDownloadProgress:o,onUploadProgress:o,timeout:s};return aa()(l)}},{key:"__requestRestApi",value:function(e,t,a,r){var n={method:a,url:e.toString(),headers:t,data:r};return aa()(n)}},{key:"__instance",value:function(){return aa.a}}]),e}(),na=function(e){return{type:"ADD_WATCH_LOAD",payload:e}},ia=function(e){return{type:"REMOVE_WATCH_LOAD",payload:e}},sa=function(e){return{type:"REMOVE_WATCH_LOAD_SUCCESS",payload:e}},oa=function(e){return{type:"SHOW_API_RESPONSE_ERROR",payload:e}},ca=function(e){return{type:"SHOW_MEMBER_API_ERROR",payload:e}},la=function(e){return{type:"SEARCH_DATA",payload:e}},ua=function(e,t){return{type:"loadSearchData",payload:{data:e,isPagination:t}}},da=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:"FETCH_SEARCH_RESULTS",payload:{searchParams:e,isPagination:t,isHideLoader:a}}},pa=function(e){return{type:"SHOW_BUYLOAD_API_ERROR",payload:e}},ma=rt.a.FirebaseCrashlytics,fa={},Ea=!0,ha=function(){function e(){Object(qe.a)(this,e)}return Object(ze.a)(e,[{key:"getErrorMessage",value:function(e){var t="";switch(e){case 401:t=ce.unAuthorizedMsg;break;default:t=ce.serverErrorMsg}return t}},{key:"get",value:function(e,t,a,r,n,i){var s=st(e,t,a),o=this;return new Promise((function(a,r){o.getHeaders(e,n).then((function(e){s?(new ra).__request(s.get_Service_Url(),e,"get",null,t,fa,o.set_TimeOut(),(function(e){i&&i(e)})).then((function(e){if(e&&e.status>=200&&e.status<300)a(e.data);else{var t=o.getErrorMessage(e.status);r(new Error(t))}})).catch((function(e){var t=o.getErrorMessage(e&&e.response&&e.response.status);we.dispatch(oa({message:t})),r(e)})):r("No URL is provided for Service Request")}))}))}},{key:"post",value:function(e,t,a,r,n,i,s){var o=st(e,t,a),c=n,l=this;return new Promise((function(a,r){l.getHeaders(e,i).then((function(e){o&&e?(new ra).__request(o.get_Service_Url(),e,"post",c,t,fa,l.set_TimeOut(),(function(e){s&&s(e)})).then((function(e){if(e&&e.status>=200&&e.status<300)a(e.data);else{var t=l.getErrorMessage(e.status);r(new Error(t))}})).catch((function(e){var a=l.getErrorMessage(e&&e.response&&e.response.status);if(e&&e.response&&function(e){Object(d.V)("capacitor")&&ma.recordException(e)}({message:a||"",code:e.response.status||"",domain:e.response.url||""}),"GET_USER_DETAILS"===t)we.dispatch(ca(!0));else if(""===a&&"BUY_LOAD"===t){var n=e&&e.response&&e.response.status;n&&202!==n&&"error"!==n&&"UNKNOWN"!==n||we.dispatch(pa(!0))}else we.dispatch(oa({message:a}));r(e)})):r("No URL is provided for Service Request")}))}))}},{key:"getHeaders",value:function(){var e=Object(He.a)(Ge.a.mark((function e(t,a){var r,n,i,s;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=xr.getInstance(),!Ea){e.next=13;break}if(Ea=!1,e.t0=r,!e.t0){e.next=8;break}return e.next=7,r.isAuthenticated();case 7:e.t0=e.sent;case 8:if(n=e.t0,Ea=!0,n){e.next=13;break}return we.dispatch(mt(Math.floor(100*Math.random()))),e.abrupt("return",null);case 13:return e.next=15,r.getAuthResponse();case 15:if(i=e.sent.id_token,s={"Content-Type":"application/json","Cache-Control":"no-cache,no-store,max-age=0,must-revalidate",Pragma:"no-cache",Expires:"-1","X-XSS-Protection":"1; mode=block","X-Frame-Options":"SAMEORIGIN","Content-Security-Policy":"script-src 'self'","X-Content-Type-Options":"nosniff",Allow:"GET, POST, HEAD","Accept-Encoding":"deflate, gzip","Transfer-Encoding":"compress","Ocp-Apim-Subscription-Key":I.SUBSCRIPTION_KEY},!i){e.next=21;break}s.Authorization="Bearer "+i,e.next=22;break;case 21:return e.abrupt("return",null);case 22:return e.abrupt("return",s);case 23:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"cancelRequest",value:function(e){JSON.parse(JSON.stringify(fa))[e].cancel(e+" Service Request has been cancelled by Agent")}},{key:"set_TimeOut",value:function(){return 1e3*(Ua.details.keys&&parseInt(Ua.details.keys.configuration.serviceTimeout)||40)}},{key:"set_depMinTime",value:function(){return Ua.details.keys&&parseInt(Ua.details.keys.configuration.depMinTime)||1}},{key:"set_depMaxTime",value:function(){return Ua.details.keys&&parseInt(Ua.details.keys.configuration.depMaxTime)||60}}]),e}();function ga(e){return va.apply(this,arguments)}function va(){return(va=Object(He.a)(Ge.a.mark((function e(t){var a,r;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Ua.details.vault,!e.t0){e.next=5;break}return e.next=4,Ua.details.vault.getValue("AZURE_MAPS_ACCESS_TOKEN");case 4:e.t0=e.sent;case 5:if(!(a=e.t0)){e.next=17;break}if(r=JSON.parse(a),!((new Date).getTime()/1e3<r.expires_on)){e.next=13;break}t("Bearer "+r.access_token),e.next=15;break;case 13:return e.next=15,ba(t);case 15:e.next=19;break;case 17:return e.next=19,ba(t);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ba(e){return Sa.apply(this,arguments)}function Sa(){return(Sa=Object(He.a)(Ge.a.mark((function e(t){var a,r;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new ha,e.next=3,a.get("AZURE_MAPS","ACCESS_TOKEN");case 3:if(r=e.sent,e.t0=Ua.details.vault,!e.t0){e.next=8;break}return e.next=8,Ua.details.vault.storeValue("AZURE_MAPS_ACCESS_TOKEN",JSON.stringify(r));case 8:t("Bearer "+r.access_token);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ya(e,t){return Oa.apply(this,arguments)}function Oa(){return(Oa=Object(He.a)(Ge.a.mark((function e(t,a){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga((function(e){(new ra).__requestRestApi("https://atlas.microsoft.com/search/address/reverse/json?api-version=1.0&query=".concat(t),{"x-ms-client-id":I.AZURE_MAP_CLIENT_ID,Authorization:e},"get").then((function(e){a(e.data.addresses)})).catch(function(){var e=Object(He.a)(Ge.a.mark((function e(t){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Ua.details.vault,!e.t0){e.next=4;break}return e.next=4,Ua.details.vault.removeValue("AZURE_MAPS_ACCESS_TOKEN");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _a(e,t){return Aa.apply(this,arguments)}function Aa(){return(Aa=Object(He.a)(Ge.a.mark((function e(t,a){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga((function(e){(new ra).__requestRestApi("https://atlas.microsoft.com/search/address/json?typeahead=true&api-version=1.0&language=en-US&countrySet=US,CA&view=Auto&query=".concat(t),{"x-ms-client-id":I.AZURE_MAP_CLIENT_ID,Authorization:e},"get").then((function(e){a(e.data.results)})).catch(function(){var e=Object(He.a)(Ge.a.mark((function e(t){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Ua.details.vault,!e.t0){e.next=4;break}return e.next=4,Ua.details.vault.removeValue("AZURE_MAPS_ACCESS_TOKEN");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Da(e,t){return Ta.apply(this,arguments)}function Ta(){return(Ta=Object(He.a)(Ge.a.mark((function e(t,a){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga((function(e){(new ra).__requestRestApi("https://atlas.microsoft.com/timezone/byCoordinates/json?api-version=1.0&language=en-US&countrySet=US,CA&view=Auto&query=".concat(t),{"x-ms-client-id":I.AZURE_MAP_CLIENT_ID,Authorization:e},"get").then((function(e){a(e.data.TimeZones)})).catch(function(){var e=Object(He.a)(Ge.a.mark((function e(t){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Ua.details.vault,!e.t0){e.next=4;break}return e.next=4,Ua.details.vault.removeValue("AZURE_MAPS_ACCESS_TOKEN");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ra(e){return new Promise((function(t,a){(new google.maps.Geocoder).geocode({address:e},(function(e,r){"OK"==r?t(e[0].geometry.location.toJSON()):a(r)}))}))}var Na,Ia,Ca=rt.a.Storage,ka=function(){function e(){Object(qe.a)(this,e)}return Object(ze.a)(e,null,[{key:"dataToDomain",value:function(e,t){var a=Object.create(e.prototype);return a.__carrier_state=t,a}},{key:"domainToData",value:function(e){var t={query:"".concat(Object(at.jsonToGraphQLQuery)(e))};return console.log(t),JSON.stringify(t)}},{key:"dataToMutation",value:function(e,t){var a={query:"mutation ".concat(Object(at.jsonToGraphQLQuery)(e)),variables:{input:t}};return console.log(a),JSON.stringify(a)}}]),e}();function ja(e,t){return function(e,t){var a=Ua.details.keys&&Ua.details.keys.configuration.roleConfigurations;if(Ua.details.keys){if(1===Ia.length&&Ia.includes(X.carrierGuest))return!t||("screen"===t?La(e,Ia[0],a):wa(e,t,Ia[0],a));for(var r=!1,n=0;n<=Ia.length-1&&!(r="screen"!==t&&t?wa(e,t,Ia[n],a):La(e,Ia[n],a));n++);return r}}(e,t)}function La(e,t,a){return Object.keys(a).filter((function(t){return t.includes(e)&&a[t]})).map((function(e){return a[e][Object.keys(a[e])[0]][t]})).some((function(e){return e}))}function wa(e,t,a,r){return r[e+"."+(t&&t.charAt(0).toUpperCase()+t.slice(1))][t][a]}function Ma(e,t){return Pa.apply(this,arguments)}function Pa(){return(Pa=Object(He.a)(Ge.a.mark((function e(t,a){var r,n,i,s;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r="",!1,function(e){e[e.home=0]="home",e[e.search=1]="search",e[e.myLoad=2]="myLoad",e[e.manage=3]="manage",e[e.more=4]="more"}(n||(n={})),i=Ua.details.keys.configuration.roleConfigurations){e.next=6;break}return e.abrupt("return");case 6:Ia=a,t&&(Na=t),s=0;case 9:if(!(s<=Object.keys(n).length)){e.next=17;break}if(!La(n[s],Na,i)){e.next=14;break}return r=n[s],e.abrupt("break",17);case 14:s++,e.next=9;break;case 17:return e.abrupt("return",r);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ua=function(){function e(){Object(qe.a)(this,e),this._appVault=void 0,this._appAuth=void 0,this._appKeys=void 0,this._getValue={}}return Object(ze.a)(e,[{key:"getVault",value:function(e){this._appVault=e||{}}},{key:"getAuth",value:function(e){this._appAuth=e||{}}},{key:"getKeys",value:function(e){this._appKeys=e||{}}},{key:"auth",get:function(){return this._appAuth}},{key:"keys",get:function(){return this._appKeys}},{key:"getValue",get:function(){return this._getValue}},{key:"vault",get:function(){return this._appVault}},{key:"setValue",set:function(e){this._getValue=e||{}}}],[{key:"details",get:function(){return e.instance||(e.instance=new e),e.instance}}]),e}();function xa(e,t){return Fa.apply(this,arguments)}function Fa(){return(Fa=Object(He.a)(Ge.a.mark((function e(t,a){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ca.set({key:t,value:JSON.stringify(a)});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Va(e){return Ga.apply(this,arguments)}function Ga(){return(Ga=Object(He.a)(Ge.a.mark((function e(t){var a;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ca.get({key:t});case 2:return a=e.sent,e.abrupt("return",a.value&&JSON.parse(a.value));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ha(e,t){return Ba.apply(this,arguments)}function Ba(){return(Ba=Object(He.a)(Ge.a.mark((function e(t,a){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ca.set({key:t,value:a});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qa(e){return za.apply(this,arguments)}function za(){return(za=Object(He.a)(Ge.a.mark((function e(t){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ca.get({key:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ya(e){return Wa.apply(this,arguments)}function Wa(){return(Wa=Object(He.a)(Ge.a.mark((function e(t){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ca.remove({key:t});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ka(){return Xa.apply(this,arguments)}function Xa(){return(Xa=Object(He.a)(Ge.a.mark((function e(){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ca.clear();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Ua.accessToken=void 0,Ua.instance=void 0;var Za=function(){function e(){Object(qe.a)(this,e)}return Object(ze.a)(e,[{key:"initiateGPSconfig",value:function(){!function(){var e=new ea;nt.a.onLocation((function(e){}),(function(e){})),nt.a.onMotionChange((function(e){})),nt.a.onActivityChange((function(e){})),nt.a.onProviderChange((function(e){})),nt.a.onSchedule((function(e){})),nt.a.onHttp((function(t){if(console.log("[event] http: ",t),200===t.status)St(ot.UE_GEO_TRACKING,{carrierId:jt,shipmentId:Lt});else{var a=t.responseText&&""!==t.responseText?JSON.parse(t.responseText):{message:""};401===t.status&&401===a.statusCode&&"Unauthorized"===a.message&&e.getFreshToken().then((function(e){Nt=e,nt.a.setConfig({headers:{"Ocp-Apim-Subscription-Key":I.SUBSCRIPTION_KEY,Authorization:"Bearer "+Nt}})}))}})),nt.a.onGeofence(function(){var e=Object(He.a)(Ge.a.mark((function e(t){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:St(ot.UE_GEOFENCE_ANNOUNCEMENT,{carrierId:t.location.extras.carrierId,shipmentId:t.location.extras.shipmentId,msgType:t.extras.messageType+R.ENTER}),t.extras&&(t.identifier.includes(T.PRE_ARRIVAL)?t.action===R.ENTER?Ct.src=N.GEOFENCE_PRE_ARRIVAL_ENTRY:t.action===R.EXIT&&(Ct.src=N.GEOFENCE_PRE_ARRIVAL_EXIT,Wt(t.extras.sequenceNo),Ht()):t.identifier.includes(T.ARRIVAL)&&(t.action===R.ENTER?(Ct.src=N.GEOFENCE_ARRIVAL_ENTRY,Ht(),Gt=t.location,Tt=setInterval((function(){nt.a.getCurrentPosition({timeout:30,maximumAge:5e3,desiredAccuracy:10,samples:1,extras:{messageType:D.GEO_TPOSITION,activity:t.location.extras.activity,shipmentId:t.location.extras.shipmentId,carrierScac:t.location.extras.carrierScac,userId:t.location.extras.userId,sourceSystem:t.location.extras.sourceSystem,carrierId:t.location.extras.carrierId,stopId:t.extras.stopId,sequenceNo:t.extras.sequenceNo,locationId:t.extras.locationId}},(function(e){$t(Gt.coords.latitude,Gt.coords.longitude,e.coords.latitude,e.coords.longitude,"meters")<200?(nt.a.getCurrentPosition({timeout:30,maximumAge:5e3,desiredAccuracy:10,samples:1,extras:{messageType:D.GEO_STOP_ARRIVAL,activity:t.location.extras.activity,shipmentId:t.location.extras.shipmentId,carrierScac:t.location.extras.carrierScac,userId:t.location.extras.userId,sourceSystem:t.location.extras.sourceSystem,carrierId:t.location.extras.carrierId,stopId:t.extras.stopId,sequenceNo:t.extras.sequenceNo,locationId:t.extras.locationId}}),Ht(),Yt(t.extras.sequenceNo)):Gt=e}),(function(e){}))}),12e4)):t.action===R.EXIT&&(Ct.src=N.GEOFENCE_ARRIVAL_EXIT,Ht())),I.RELEASE===W.UNT&&Ct.play());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),qa("DB_GPS_ACTIVATED_SHIPMENT").then((function(t){var a=null;try{t.value&&(a=JSON.parse(t.value)),a&&(Mt="",Lt=a.shipmentID,Pt=a.carrierScac,kt=a.userId,wt=a.sourceTMS,jt=a.carrierId,It=a.shipmentID)}catch(r){console.log("error:::",r)}nt.a.ready({locationAuthorizationRequest:"Always",desiredAccuracy:nt.a.DESIRED_ACCURACY_MEDIUM,distanceFilter:800,disableElasticity:!0,useSignificantChangesOnly:!1,logLevel:nt.a.LOG_LEVEL_VERBOSE,stopOnTerminate:!1,startOnBoot:!0,debug:!1,allowIdenticalLocations:!0,autoSync:!0,url:Rt,headers:{"Ocp-Apim-Subscription-Key":I.SUBSCRIPTION_KEY,Authorization:"Bearer "+Nt},extras:{messageType:D.GEO_POSITION,activity:Mt,shipmentId:Lt,carrierScac:Pt,userId:kt,sourceSystem:wt,carrierId:jt,stopId:xt,sequenceNo:Ut,locationId:Ft}},(function(t){e.getFreshToken().then((function(e){Nt=e,nt.a.setConfig({headers:{"Ocp-Apim-Subscription-Key":I.SUBSCRIPTION_KEY,Authorization:"Bearer "+Nt}}).then((function(e){console.log("[setConfig] success: ",e)}))}))}))}))}()}},{key:"getCurrentPosition",value:function(e){!function(e){qt.apply(this,arguments)}(e)}},{key:"startGPStracking",value:function(e){!function(e){It=e.shipmentID,Jt(e.loadStops),Vt&&Kt(),(new ea).getFreshToken().then((function(t){Nt=t,nt.a.setConfig({distanceFilter:800,disableElasticity:!0,url:Rt,headers:{"Ocp-Apim-Subscription-Key":I.SUBSCRIPTION_KEY,Authorization:"Bearer "+Nt},extras:{messageType:D.GEO_POSITION,activity:e.activity,shipmentId:e.shipmentID,carrierScac:e.carrierScac,userId:e.userId,sourceSystem:e.sourceTMS,carrierId:e.carrierId,stopId:xt,sequenceNo:Ut,locationId:Ft}}).then((function(e){nt.a.start().then((function(){console.log("BackgroundGeolocation: started ",e)}))}))}))}(e)}},{key:"sendGeoStartTripLocation",value:function(e){!function(e){nt.a.getCurrentPosition({timeout:30,maximumAge:5e3,desiredAccuracy:10,samples:1,extras:{messageType:D.GEO_START_TRIP_LOCATION,activity:e.activity,shipmentId:e.shipmentID,carrierScac:e.carrierScac,userId:e.userId,sourceSystem:e.sourceTMS,carrierId:e.carrierId,stopId:xt,sequenceNo:Ut,locationId:Ft}})}(e)}},{key:"stopGPS",value:function(){Bt().stop(Object(He.a)(Ge.a.mark((function e(){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("- stop success"),Qt(null),e.next=4,Ya("DB_GPS_ACTIVATED_SHIPMENT");case 4:case"end":return e.stop()}}),e)})))),Bt().removeGeofences(),Bt().destroyLocations()}},{key:"getGPStrackingShipmentID",value:function(){return It}},{key:"getLoadDetailsTrackedShipment",value:function(){return Vt}},{key:"getState",value:function(){return Bt().getState()}},{key:"setGPStrackingShipmentID",value:function(e){Qt(e)}},{key:"setLoadDetailsTrackedShipment",value:function(e){!function(e){Jt(Object(At.cloneDeep)(e))}(e)}},{key:"getGeofenceSequenceNo",value:function(){return Ut}},{key:"setGeofenceSequenceNo",value:function(e){var t;(t=e)>Ut&&(Ut=t)}}],[{key:"details",get:function(){return e.instance||(e.instance=new e),e.instance}}]),e}();Za.instance=void 0;var Qa=function(){function e(){Object(qe.a)(this,e)}return Object(ze.a)(e,[{key:"setR2FeatureEnable",value:function(t){e.R2ConfigurationFlag=t}},{key:"getR2FeatureEnable",value:function(){return e.R2ConfigurationFlag}}],[{key:"details",get:function(){return e.instance||(e.instance=new e,e.R2ConfigurationFlag=!1),e.instance}}]),e}();Qa.instance=void 0,Qa.R2ConfigurationFlag=!1;var Ja,$a=function(){function e(){Object(qe.a)(this,e)}return Object(ze.a)(e,[{key:"searchCurrentAddress",value:function(){var e=Object(He.a)(Ge.a.mark((function e(t,a){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ya(t,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"searchAddress",value:function(){var e=Object(He.a)(Ge.a.mark((function e(t,a){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_a(t,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"searchTimezoneByCoordinates",value:function(){var e=Object(He.a)(Ge.a.mark((function e(t,a){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Da(t,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}],[{key:"details",get:function(){return e.instance||(e.instance=new e),e.instance}}]),e}();$a.instance=void 0,(function(){function e(){Object(qe.a)(this,e)}return Object(ze.a)(e,[{key:"getGeoCoderLatLong",value:function(){var e=Object(He.a)(Ge.a.mark((function e(t){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ra(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"details",get:function(){return e.instance||(e.instance=new e),e.instance}}]),e}()).instance=void 0,function(e){e[e.prod=0]="prod",e[e.alpha=1]="alpha",e[e.uat=2]="uat",e[e.unt=3]="unt",e[e.dev=4]="dev"}(Ja||(Ja={}));var er=function(){function e(t){Object(qe.a)(this,e),this.environment=void 0,this.environment=t}return Object(ze.a)(e,[{key:"__fetchOnlineConfig",value:function(){var e=Object(He.a)(Ge.a.mark((function e(t,a,r){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(new ra).__requestRestApi(st("CONFIG","APP_LEVEL","default").get_Service_Url(),{"Content-Type":"application/json","Ocp-Apim-Subscription-Key":t,Authorization:"Bearer ".concat(a)},"get").then((function(e){return e.data[0]})).catch(function(){var e=Object(He.a)(Ge.a.mark((function e(t){var a;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(new ra).__instance(),e.abrupt("return",a.get("./online-mock.json").then((function(e){return e.data[0]})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){var e=Object(He.a)(Ge.a.mark((function e(t,a,r,n,i){var s,o,c,l,u;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}throw new Error("Store service is not provided to share Keys accross the Applciation");case 2:return s="config",e.next=5,a.getVault();case 5:return o=e.sent,e.next=8,o.getValue(s);case 8:if(e.sent){e.next=33;break}return e.prev=9,e.next=12,Promise.all([this.__fetchOnlineConfig(r,n,i)]);case 12:if(c=e.sent,l=Object(Fe.a)(c,1),u=l[0],!Object.keys(u).length){e.next=26;break}return o.storeValue(s,btoa(JSON.stringify(Object(p.a)({},u)))),e.t0=t,e.t1=JSON,e.t2=atob,e.next=22,o.getValue(s);case 22:e.t3=e.sent,e.t4=(0,e.t2)(e.t3),e.t5=e.t1.parse.call(e.t1,e.t4),e.t0.getKeys.call(e.t0,e.t5);case 26:e.next=31;break;case 28:throw e.prev=28,e.t6=e.catch(9),new Error(e.t6);case 31:e.next=42;break;case 33:return e.t7=t,e.t8=JSON,e.t9=atob,e.next=38,o.getValue(s);case 38:e.t10=e.sent,e.t11=(0,e.t9)(e.t10),e.t12=e.t8.parse.call(e.t8,e.t11),e.t7.getKeys.call(e.t7,e.t12);case 42:case"end":return e.stop()}}),e,this,[[9,28]])})));return function(t,a,r,n,i){return e.apply(this,arguments)}}()}]),e}(),tr=function(e){return{type:"GET_RECENT",payload:e}};function ar(e){return{type:"FETCH_USER_DETAILS",payload:e}}function rr(e){return{type:"FETCH_USER_DETAILS_SUCCESS",payload:e}}function nr(e){return{type:"REGISTER_DEVICE_RESPONSE_ACTION",payload:e}}var ir=function(e){return{type:"SHOW_ALERT_MESSAGE",payload:e}},sr=function(e){return{type:"MORE_TAB_CONTENT_RESPONSE_DUMMY",payload:e}},or=function(){return ir({isShowAlert:!0,alertMessage:"Please check your network connectivity and try again.",alertTitle:"No network connection"})},cr=function(e){return{type:"UPDATE_SEARCH_PARAMS_OFFLINE",payload:e}},lr=function(e){return{type:"UPDATE_SHIPMENT_INFO_OFFLINE",payload:e}},ur=function(e){return{type:"REGISTER_USER_STATUS_MESSAGE",payload:e}},dr=function(e){return{type:"SHOW_NOTIFICATION",payload:e}},pr={userPrincipalName:!0,firstName:!0,lastName:!0,companyName:!0,email:!0,liablePartyId:!0,liablePartyName:!0,lastSelectedCustomer:!0,lastSelectedCarrier:!0,carrier:!0,carrierId:!0,tractorNumber:!0,internalUser:!0,customer:!0,carrierTier:!0,carrierScac:!0,registered:!0,image:!0,address:{addressLine1:!0,addressLine2:!0,addressType:!0,city:!0,state:!0,postalCode:!0},phone:{number:!0,type:!0},mobileNumber:!0,userApplicationDetails:{roles:{roleId:!0,roleName:!0}},updatedTimeStamp:!0},mr=function(){function e(){Object(qe.a)(this,e)}return Object(ze.a)(e,[{key:"getUsers",value:function(e,t){return{query:{getMembers:Object(p.a)({__args:{input:{carrierId:e,role:t}}},pr)}}}},{key:"getRequestPayload",value:function(e){return{query:{getUserDetails:Object(p.a)(Object(p.a)({__args:{userPrincipalName:e}},pr),{},{managedEquipmentCapability:!0,nonManagedEquipmentCapability:!0})}}}},{key:"validateUser",value:function(e){return{query:{validateUser:Object(p.a)({__args:{userPrincipalName:e}},pr)}}}},{key:"transferMember",value:function(e){return{mutation:{transferMember:{__args:{input:e},status:!0,message:!0}}}}},{key:"confirmTransfer",value:function(e){return{mutation:{confirmTransfer:{__args:{input:e},status:!0,message:!0}}}}},{key:"addUser",value:function(e){return{mutation:{addMember:{__args:{input:e},message:!0,status:!0,member:pr}}}}},{key:"updateMember",value:function(e){return{mutation:{updateMember:{__args:{input:e},message:!0,status:!0,member:pr}}}}},{key:"registerMember",value:function(e){return{mutation:{registerMember:{__args:{input:e},status:!0,message:!0,member:pr}}}}}]),e}(),fr=a(52),Er=a(38),hr=a(192),gr=a(126),vr={en:{translation:a(318)},fr:{translation:a(319)}};hr.a.use(gr.e).init({resources:vr,lng:"en",keySeparator:!1,interpolation:{escapeValue:!1}});var br,Sr=hr.a;!function(e){e.TOP="top",e.BOTTOM="bottom",e.CENTER="center"}(br||(br={}));var yr,Or,_r,Ar,Dr=function e(){Object(qe.a)(this,e)};Dr.show=Object(He.a)(Ge.a.mark((function e(){var t,a,r,n=arguments;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:Sr.t("Functionality coming soon"),n.length>1&&void 0!==n[1]?n[1]:br.BOTTOM,a=n.length>2&&void 0!==n[2]?n[2]:3e3,e.next=5,Er.i.create({color:"dark",duration:a,message:t,position:"bottom",mode:"ios",cssClass:"toaster-message"});case 5:return r=e.sent,e.next=8,r.present();case 8:case"end":return e.stop()}}),e)}))),Dr.open=function(){var e=Object(He.a)(Ge.a.mark((function e(t){var a,r,n;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object.assign({},t),r={color:"dark",duration:a.duration||3e3,message:a.message,position:"bottom",mode:"ios",cssClass:"toaster-message"},a.showUndo&&(r=Object(p.a)(Object(p.a)({},r),{},{buttons:[{text:a.btnTitle||"Undo",cssClass:"toast-message-btn",handler:function(){return a.callback()}}]})),e.next=5,Er.i.create(r);case 5:return n=e.sent,e.next=8,n.present();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var Tr,Rr,Nr,Ir,Cr,kr,jr,Lr,wr,Mr,Pr,Ur=(yr=function(e){Object(Ke.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(Ze.a)(e);if(t()){var n=Object(Ze.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(Xe.a)(this,a)}}(a);function a(e){var r;Object(qe.a)(this,a);var n=Object(d.V)("capacitor")?et:tt;return e.setAuthMode(fr.a.SecureStorage),n.tokenStorageProvider=e,(r=t.call(this,n)).vaultService=void 0,Object(Be.a)(r,"isLoggedIn",Or,Object(Ye.a)(r)),Object(Be.a)(r,"user",_r,Object(Ye.a)(r)),Object(Be.a)(r,"accessToken",Ar,Object(Ye.a)(r)),r.tabName=void 0,r.isActive=void 0,r.onVaultLockChange=void 0,r.vaultService=e,r.isLoggedIn=!1,r.tabName="login",r.isActive=!1,r.onVaultLockChange=Object(Je.c)((function(){r.setLoginState(r.vaultService.isLocked)})),r}return Object(ze.a)(a,[{key:"login",value:function(){var e=Object(He.a)(Ge.a.mark((function e(){var t,r=this;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.vaultService.logout();case 2:return e.prev=2,e.next=5,Object(We.a)(Object(Ze.a)(a.prototype),"login",this).call(this,I.DISCOVERY_URL);case 5:e.next=20;break;case 7:if(e.prev=7,e.t0=e.catch(2),void 0===(t=e.t0.message)||t.startsWith("AADB2C90118")){e.next=13;break}return e.next=13,Dr.show(ae);case 13:if(console.log("login error:",+e.t0),void 0===t||!t.startsWith("AADB2C90118")){e.next=18;break}Object(We.a)(Object(Ze.a)(a.prototype),"login",this).call(this,I.AZURE_RESET_URL).catch((function(e){void 0!==e.message&&e.message.startsWith("AADB2C90091")&&r.login()})),e.next=20;break;case 18:return e.next=20,Dr.show(ae);case 20:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"changePassword",value:function(){var e=Object(He.a)(Ge.a.mark((function e(){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(We.a)(Object(Ze.a)(a.prototype),"login",this).call(this,I.AZURE_RESET_URL).catch((function(e){}));case 3:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"getRole",value:function(e){var t;!function(e){e[e.carrierDispatcher=0]="carrierDispatcher",e[e.carrierDriver=1]="carrierDriver",e[e.carrierAdmin=2]="carrierAdmin"}(t||(t={}));var a="";if(1===e.length)return e[0];for(var r=0;r<=Object.keys(t).length;r++)if(e.includes(t[r])){a=t[r];break}return a}},{key:"hasSession",value:function(){var e=Object(He.a)(Ge.a.mark((function e(t,a){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=8;break}if(a(!1),this.isActive){e.next=7;break}return e.next=5,this.isAuthenticated();case 5:e.sent||(this.isLoggedIn=!1);case 7:this.isActive=!1;case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"isAuthenticated",value:function(){var e=Object(He.a)(Ge.a.mark((function e(){var t;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.vaultService.isLocked;case 2:if(t=e.sent,e.t0=!t,!e.t0){e.next=8;break}return e.next=7,Object(We.a)(Object(Ze.a)(a.prototype),"isAuthenticated",this).call(this);case 7:e.t0=e.sent;case 8:return e.abrupt("return",e.t0);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setLoginState",value:function(){var e=Object(He.a)(Ge.a.mark((function e(t){var a,r,n,i,s,o,c,l,u=this,d=arguments;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=d.length>1&&void 0!==d[1]?d[1]:{},!t){e.next=4;break}return this.isLoggedIn=!1,e.abrupt("return");case 4:return this.isActive=!0,r=a.accessToken,e.prev=6,e.next=9,Promise.all([this.vaultService.hasStoredSession(),this.getIdToken(),r?Promise.resolve(r):this.getAccessToken()]);case 9:return n=e.sent,i=Object(Fe.a)(n,3),s=i[0],o=i[1],c=i[2],e.t0=new er("uat ".trim()||"dev"),e.t1=Ua.details,e.t2=this.vaultService,e.t3=I.SUBSCRIPTION_KEY,e.next=20,this.getAuthResponse();case 20:return e.t4=e.sent.id_token,e.t5=I.API_HOST,e.next=24,e.t0.getConfig.call(e.t0,e.t1,e.t2,e.t3,e.t4,e.t5);case 24:if("login"!==this.tabName){e.next=31;break}return e.next=27,this.getIdToken();case 27:return l=e.sent,e.next=30,Ma(l.roles?this.getRole(l.roles):X.carrierGuest,l.roles);case 30:this.tabName=e.sent;case 31:return e.t6=Ua.details,e.next=34,this.vaultService.getVault();case 34:return e.t7=e.sent,e.t6.getVault.call(e.t6,e.t7),Ua.accessToken=c,e.t8=Ua.details,e.next=40,this.getAuthResponse();case 40:return e.t9=e.sent,e.next=43,this.getIdToken();case 43:e.t10=e.sent,e.t11={tokens:e.t9,user:e.t10},e.t8.getAuth.call(e.t8,e.t11),Object(Je.g)((function(){u.vaultService.hasSessionStored=s,u.user=u.getUserInfo(o),u.accessToken=c,u.isLoggedIn=!0})),this.getUserDetails(),e.next=52;break;case 50:e.prev=50,e.t12=e.catch(6);case 52:case"end":return e.stop()}}),e,this,[[6,50]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onLoginSuccess",value:function(){var e=Object(He.a)(Ge.a.mark((function e(t){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(d.V)("android")&&window.localStorage&&(localStorage.getItem("App_Permission")||(we.dispatch(ft({isShowPermissionAlert:!0,permissionAlertMessage:"This app will collect location data during an active trip execution so that we can automatically track the shipments, trigger workflow events on your behalf while the app is in use or backgrounded state. <br/> <br/> You will be prompted with run time permission dialog subsequently as you start using relevant features of the app. We encourage you to provide those permissions to maximize value of the app.",permissionAlertTitle:"Disclosure"})),localStorage.setItem("App_Permission","true"))),this.setLoginState(!1,t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onLogout",value:function(){var e=Object(He.a)(Ge.a.mark((function e(){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isLoggedIn=!1,this.user=void 0,this.accessToken=void 0,this.vaultService.logout(),this.vaultService.hasSessionStored=!1,e.next=7,Ka();case 7:this.tabName="login";case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getUserInfo",value:function(e){if(e){var t=e.email;return e.emails instanceof Array&&(t=e.emails[0]),{id:e.sub,email:t,firstName:e.firstName,lastName:e.lastName}}}},{key:"getUserDetails",value:function(){var e=new mr,t=Ua.details.auth&&Ua.details.auth.tokens.access_token||"",a=e.getRequestPayload(Ua.details.auth&&Ua.details.auth.user.upn);we.dispatch(ar({token:t,body:a})),we.dispatch(dr(!1))}}]),a}($e.IonicAuth),Or=Object(Qe.a)(yr.prototype,"isLoggedIn",[Je.f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_r=Object(Qe.a)(yr.prototype,"user",[Je.f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ar=Object(Qe.a)(yr.prototype,"accessToken",[Je.f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(Qe.a)(yr.prototype,"onLogout",[Je.b],Object.getOwnPropertyDescriptor(yr.prototype,"onLogout"),yr.prototype),yr),xr=function(){function e(){Object(qe.a)(this,e)}return Object(ze.a)(e,null,[{key:"getInstance",value:function(e){return this.vault=e,void 0===this.instance&&(this.instance=this.vault&&new Ur(this.vault)||void 0),this.instance}}]),e}();xr.instance=void 0,xr.vault=void 0,function(e){e[e.Dismiss=0]="Dismiss",e[e.New=2]="New",e[e.Unlock=3]="Unlock",e[e.Verify=4]="Verify"}(Pr||(Pr={}));var Fr=(Tr=function(e){Object(Ke.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(Ze.a)(e);if(t()){var n=Object(Ze.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(Xe.a)(this,a)}}(a);function a(e){var r;return Object(qe.a)(this,a),(r=t.call(this,{ready:function(){return Promise.resolve()}},{restoreSessionOnReady:!1,unlockOnReady:!1,unlockOnAccess:!0,lockAfter:0,hideScreenOnBackground:!1})).browserAuthPlugin=e,Object(Be.a)(r,"authMode",Rr,Object(Ye.a)(r)),Object(Be.a)(r,"biometricType",Nr,Object(Ye.a)(r)),Object(Be.a)(r,"biometricsEnabled",Ir,Object(Ye.a)(r)),Object(Be.a)(r,"secureStorageEnabled",Cr,Object(Ye.a)(r)),Object(Be.a)(r,"passcodeEnabled",kr,Object(Ye.a)(r)),Object(Be.a)(r,"hasSessionStored",jr,Object(Ye.a)(r)),Object(Be.a)(r,"pinMode",Lr,Object(Ye.a)(r)),Object(Be.a)(r,"pin",wr,Object(Ye.a)(r)),Object(Be.a)(r,"isLocked",Mr,Object(Ye.a)(r)),r.hasStoredSession().then((function(e){return r.hasSessionStored=e})),r.getVault().then((function(e){return e.isLocked()})).then((function(e){return r.isLocked=e})),r}return Object(ze.a)(a,[{key:"onConfigChange",value:function(e){if(void 0!==e.authMode){switch(e.authMode){case fr.a.BiometricAndPasscode:case fr.a.BiometricOrPasscode:this.setAuthModeState(!0,!0,!1);break;case fr.a.BiometricOnly:this.setAuthModeState(!0,!1,!1);break;case fr.a.InMemoryOnly:this.setAuthModeState(!1,!1,!1);break;case fr.a.PasscodeOnly:this.setAuthModeState(!1,!0,!1);break;case fr.a.SecureStorage:this.setAuthModeState(!1,!1,!0)}this.authMode=e.authMode}}},{key:"setAuthModeState",value:function(e,t,a){this.biometricsEnabled=e,this.passcodeEnabled=t,this.secureStorageEnabled=a}},{key:"onPasscodeRequest",value:function(){var e=Object(He.a)(Ge.a.mark((function e(t){var a,r=this;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pinMode=t?Pr.New:Pr.Unlock,e.next=3,Object(Je.j)((function(){return r.pinMode===Pr.Dismiss}));case 3:return a=this.pin,this.pin="",e.abrupt("return",a);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onVaultUnlocked",value:function(){var e=Object(He.a)(Ge.a.mark((function e(){var t,a=this;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.hasStoredSession();case 2:t=e.sent,Object(Je.g)((function(){a.isLocked=!1,a.hasSessionStored=t}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onVaultLocked",value:function(){var e=Object(He.a)(Ge.a.mark((function e(){var t,a=this;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.hasStoredSession();case 2:t=e.sent,Object(Je.g)((function(){a.isLocked=!0,a.hasSessionStored=t}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getPlugin",value:function(){return Object(d.V)("capacitor")?Object(We.a)(Object(Ze.a)(a.prototype),"getPlugin",this).call(this):this.browserAuthPlugin}}]),a}(fr.b),Rr=Object(Qe.a)(Tr.prototype,"authMode",[Je.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return fr.a.InMemoryOnly}}),Nr=Object(Qe.a)(Tr.prototype,"biometricType",[Je.f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ir=Object(Qe.a)(Tr.prototype,"biometricsEnabled",[Je.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Cr=Object(Qe.a)(Tr.prototype,"secureStorageEnabled",[Je.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),kr=Object(Qe.a)(Tr.prototype,"passcodeEnabled",[Je.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),jr=Object(Qe.a)(Tr.prototype,"hasSessionStored",[Je.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Lr=Object(Qe.a)(Tr.prototype,"pinMode",[Je.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Pr.Dismiss}}),wr=Object(Qe.a)(Tr.prototype,"pin",[Je.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Mr=Object(Qe.a)(Tr.prototype,"isLocked",[Je.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Object(Qe.a)(Tr.prototype,"onConfigChange",[Je.b],Object.getOwnPropertyDescriptor(Tr.prototype,"onConfigChange"),Tr.prototype),Tr),Vr=s.a.createContext(void 0),Gr=(Vr.Consumer,function(e){return s.a.createElement(Vr.Provider,{value:e.value},e.children)});function Hr(){var e=s.a.useContext(Vr);if(void 0===e)throw new Error("useAuthService must be used within an AuthProvider");return e}var Br=s.a.createContext(void 0),qr=(Br.Consumer,function(e){return s.a.createElement(Br.Provider,{value:e.value},e.children)});var zr=function(){function e(t){Object(qe.a)(this,e),this.browserAuthService=t}return Object(ze.a)(e,[{key:"getVault",value:function(e){return e.onReady&&e.onReady(this.browserAuthService),this.browserAuthService}}]),e}(),Yr=rt.a.Storage,Wr=function(){function e(){Object(qe.a)(this,e),this.config={authMode:fr.a.InMemoryOnly,descriptor:{username:"",vaultId:""},isBiometricsEnabled:!1,isPasscodeEnabled:!1,isPasscodeSetupNeeded:!1,isSecureStorageModeEnabled:!0,hideScreenOnBackground:!1,lockAfter:5e4}}return Object(ze.a)(e,[{key:"unsubscribe",value:function(){return Promise.resolve()}},{key:"isLockedOutOfBiometrics",value:function(){var e=Object(He.a)(Ge.a.mark((function e(){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getAvailableHardware",value:function(){var e=Object(He.a)(Ge.a.mark((function e(){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[]);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"clear",value:function(){return Yr.clear()}},{key:"lock",value:function(){return Promise.resolve()}},{key:"isLocked",value:function(){return Promise.resolve(!1)}},{key:"isInUse",value:function(){var e=Object(He.a)(Ge.a.mark((function e(){var t,a;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yr.get({key:"session"});case 2:return t=e.sent,a=t.value,e.abrupt("return",!!a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return Promise.resolve(this.config)}},{key:"remainingAttempts",value:function(){return Promise.resolve(5)}},{key:"getUsername",value:function(){return Promise.resolve("MyUsername")}},{key:"storeToken",value:function(e){return Promise.resolve()}},{key:"getToken",value:function(){return Promise.resolve("MyToken")}},{key:"storeValue",value:function(){var e=Object(He.a)(Ge.a.mark((function e(t,a){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yr.set({key:t,value:JSON.stringify(a)});case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getValue",value:function(){var e=Object(He.a)(Ge.a.mark((function e(t){var a,r;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yr.get({key:t});case 2:return a=e.sent,r=a.value,e.abrupt("return",r&&JSON.parse(r));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeValue",value:function(){var e=Object(He.a)(Ge.a.mark((function e(t){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yr.remove({key:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getKeys",value:function(){var e=Object(He.a)(Ge.a.mark((function e(){var t,a;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yr.keys();case 2:return t=e.sent,a=t.keys,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getBiometricType",value:function(){return Promise.resolve("none")}},{key:"setBiometricsEnabled",value:function(e){return Promise.resolve()}},{key:"isBiometricsEnabled",value:function(){return Promise.resolve(!1)}},{key:"isBiometricsAvailable",value:function(){return Promise.resolve(!1)}},{key:"isBiometricsSupported",value:function(){return Promise.resolve(!1)}},{key:"isPasscodeSetupNeeded",value:function(){return Promise.resolve(!1)}},{key:"setPasscode",value:function(e){return Promise.resolve()}},{key:"isPasscodeEnabled",value:function(){return Promise.resolve(!1)}},{key:"isSecureStorageModeEnabled",value:function(){return Promise.resolve(!0)}},{key:"setPasscodeEnabled",value:function(e){return Promise.resolve()}},{key:"setSecureStorageModeEnabled",value:function(e){return Promise.resolve()}},{key:"unlock",value:function(e,t){return Promise.resolve()}}]),e}(),Kr=(new Wr,a(466),rt.a.Network),Xr=function(){var e=Object(i.useState)({}),t=Object(Fe.a)(e,2),a=t[0],r=t[1],n=Object(i.useState)(0),s=Object(Fe.a)(n,2),o=s[0],c=s[1];return o&&0!==o||(c(1),Kr.addListener("networkStatusChange",(function(e){r(e)}))),{networkStatus:a,getNetworkStatus:function(){var e=Object(He.a)(Ge.a.mark((function e(){var t;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kr.getStatus();case 2:t=e.sent,r(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}},Zr=a(141),Qr=rt.a.Device,Jr=rt.a.Network,$r=rt.a.App,en=function(e){Jr.getStatus().then((function(t){e.updateNetworkStatus(t)}))},tn=function(){var e=Object(He.a)(Ge.a.mark((function e(){var t;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=rt.a.Browser,e.next=3,t.open({url:"https://schneidercarriers.com/"});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),an=function(){var e=Object(He.a)(Ge.a.mark((function e(){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qr.getInfo();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),rn=function(e){var t=Xr(),a=t.getNetworkStatus,o=t.networkStatus,c=Object(i.useState)({status:!1,forceUpdate:!1}),l=Object(Fe.a)(c,2),u=l[0],p=l[1];Object(i.useEffect)((function(){!function(e){var t=rt.a.FirebaseRemoteConfig;t.initialize({minimumFetchIntervalInSeconds:0}),t.fetchAndActivate().then((function(){t.getString({key:r.REMOTECONFIG_STORE_VERSION}).then((function(t){var a=t&&t.value&&"string"===typeof t.value?JSON.parse(t.value):t.value;console.log("Firebase Res:",a,t),Zr.a.getVersionNumber().then((function(t){a&&a.show&&a.version!==t&&e({status:!0,forceUpdate:a&&a.forceUpdate||!1})}))}),[])})).catch((function(e){console.error("Error getting store version data",e)}))}(p)}),[]);var m=function(){var t=Object(He.a)(Ge.a.mark((function t(){var n;return Ge.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(),!1===o.connected?e.getOpenModal(!0):"object"===typeof window&&(n=null,Object(d.V)("ios")?n=r.APPLESTORE_REDIRECTURL:Object(d.V)("android")&&(n=r.PLAYSTORE_REDIRECTURL),n&&(window.location.href=n));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return s.a.createElement(d.b,{isOpen:u.status,message:n.MESSAGE,backdropDismiss:!1,header:n.TITLE,cssClass:"update-alert",mode:"md",buttons:u.forceUpdate?[{text:n.OK,role:"Ok",handler:function(){return m(),!1}}]:[{text:n.CANCEL,role:"Cancel",handler:function(){}},{text:n.OK,role:"Ok",handler:function(){m()}}]})},nn=function(){var e=Xr(),t=e.getNetworkStatus,a=e.networkStatus,r=Object(i.useState)(!1),n=Object(Fe.a)(r,2),o=n[0],c=n[1],l=Object(i.useState)(!1),u=Object(Fe.a)(l,2),p=u[0],m=u[1],f=Object(i.useState)(!1),E=Object(Fe.a)(f,2),h=E[0],g=E[1],v=Hr();Object(i.useEffect)((function(){we.getState()&&we.getState().App&&we.getState().App.isCapacitor;_t().then((function(e){St(ot.SV_GET_STARTED,{screen:ct.GET_STARTED,channel:e.channel,os:e.os,device_name:e.device_name,model:e.model,sessionId:"NA",userId:"NA",carrierId:"NA"})}))}),[]);var b=function(){var e=Object(He.a)(Ge.a.mark((function e(r,n){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(),St(ot.UE_SIGN_IN,{screen:ct.GET_STARTED,sessionId:"NA"}),!1===a.connected&&c(!0),e.prev=3,e.next=6,r();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t,a){return e.apply(this,arguments)}}();return s.a.createElement(s.a.Fragment,null,s.a.createElement(rn,{getOpenModal:c}),s.a.createElement(d.A,{isOpen:h,cssClass:"dropdown-modal"},s.a.createElement(d.g,{className:"bookLoad-thankyou"},s.a.createElement(d.i,{className:"start-trip-cardContent"},J.CONFIGURATION_TXT),s.a.createElement(d.h,null,s.a.createElement(d.v,{lines:"none",className:"R2ConfigurationModal-item"},s.a.createElement(d.j,{checked:p,onIonChange:function(e){return m(e.detail.checked)}}),s.a.createElement(d.w,null,J.ENABLE_R2_FEATURE_TXT)),s.a.createElement(d.H,{className:"book-load-thankyou-row"},s.a.createElement(d.k,{size:"3"}),s.a.createElement(d.k,{className:"bookload-OK",size:"6"},window.location.href,s.a.createElement(d.e,{class:"load-btn",onClick:function(){return g(!1),void Qa.details.setR2FeatureEnable(p)}},J.OKAY)))))),o?s.a.createElement("div",null,s.a.createElement("div",{className:"networkError_div"}),s.a.createElement("div",{className:"popup"},s.a.createElement("p",{className:"no-network"},Sr.t("NO_NETWORK_TITLE")),s.a.createElement("p",{className:"network-content"},Sr.t("NO_NETWORK_TEXT")),s.a.createElement(d.e,{className:"retry_button",onClick:function(){return c(!1)}},Sr.t("Ok_TEXT")))):null,s.a.createElement("div",{className:"Landing-screen-content"},Object(d.V)("mobile")?s.a.createElement("div",{className:"globe-image"},s.a.createElement("img",{src:"assets/icon/app-landing.svg",alt:"FreightPower App landing image "})):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"globe-image"},s.a.createElement("p",{className:"getStarted","data-test":"Get-Started",onClick:function(){I.RELEASE!==W.PROD&&g(!0)}},Sr.t("GET_STARTED_TEXT")),s.a.createElement("p",{className:"StartwithSignin","data-test":"Start-With"},Sr.t("SIGNUP_TEXT")),s.a.createElement("img",{src:me.mid_icon,className:"midpart-icon",alt:""}))),s.a.createElement("div",{className:"signup-buttons"},s.a.createElement(d.H,null,s.a.createElement(d.k,{"data-test":"SignIn-btn",className:"signIn-col",onClick:function(){b(v.login.bind(v),Sr.t("There was an error logging in"))}},s.a.createElement(d.e,{class:"load-btn-Signup","data-test":"signin-button"},s.a.createElement("span",{className:"signup-btn"},Sr.t("GET_STARTED_TEXT"))))))))},sn={GPSData:[],UserDetails:{},deviceRegistration:"",showAlert:!1,alertMessage:"",alertTitle:"",moreContent:{},offlineJSON:null,configParams:{},searchParams:null,pullToRefreshState:null,access_token:null,registerUserStatusMessage:{},session:{},shipmentParams:null,isCapacitor:!1,isNotificationClosed:!1,isContentStackApiCalled:!1},on=function(e){return e.global||ve},cn=function(e){return e.App},ln=function(){return Object(xe.a)([on],(function(e){return e.loading||!1}))},un=function(){return Object(xe.a)([on],(function(e){return e.userData||ve.userData}))},dn=function(){return Object(xe.a)([on],(function(e){return e.deepLinkURI||ve.deepLinkURI}))},pn=function(){return Object(xe.a)([cn],(function(e){return e&&e.UserDetails}))},mn=function(){return Object(xe.a)([on],(function(e){return e.showPullToRefresh||ve.showPullToRefresh}))},fn=function(){return Object(xe.a)([on],(function(e){return e.networkStatus.connected||ve.networkStatus.connected}))},En=function(){return Object(xe.a)([cn],(function(e){return e.moreContent||sn.moreContent}))},hn=function(){return Object(xe.a)([cn],(function(e){return e.searchParams||sn.searchParams}))},gn=function(){return Object(xe.a)([cn],(function(e){return e.shipmentParams||sn.shipmentParams}))},vn=function(){return Object(xe.a)([cn],(function(e){return e.pullToRefreshState||sn.pullToRefreshState}))},bn=function(){return Object(xe.a)([cn],(function(e){return e.isCapacitor||sn.isCapacitor}))},Sn=Object(Ue.a)((function(e){var t=e.authService.tabName,a=e.authService.isLoggedIn;return t?s.a.createElement(Pe.a,null,s.a.createElement(Me.c,{path:"/",render:function(){return s.a.createElement(Me.b,{to:"/carrier"})},exact:!0}),s.a.createElement(Me.c,{path:"/carrier",render:function(){return a?s.a.createElement(e.Wrapper,e):s.a.createElement(Me.b,{to:"/carrier"})}}),s.a.createElement(Me.c,{path:"/carrier",render:function(){return a?s.a.createElement(Me.b,{to:"/carrier/".concat(t)}):s.a.createElement(nn,null)}})):null})),yn=Object(xe.b)({hasSession:Object(xe.a)([on],(function(e){return e.hasSession}))}),On=Object(u.c)(yn)((function(e){var t,a=e.hasSession,r=e.component;Object(d.V)("capacitor")||(t=new zr(new Wr));var n=new Fr(t),i=xr.getInstance(n);return s.a.createElement(qr,{value:n},s.a.createElement(Gr,{value:i},s.a.createElement(Sn,{authService:i,Wrapper:r,vaultService:n,sessionEval:a})))})),_n=a(4);function An(e){var t=new ha;return"LOGIN"!==e[0]&&"MANAGE"!==e[0]&&"SEARCH"!==e[0]&&"RECENT"!==e[0]&&"APP"!==e[0]&&"FETCH_SEARCH_LOADS"!==e[1]&&"MYLOAD"!==e[0]&&"DRIVERS_LIST"!==e[0]&&"LOCATION_TRACKER"!==e[0]&&"FETCH_USER_DETAILS"!==e[0]&&"REGISTER_DEVICE"!==e[0]&&"MORETAB"!==e[0]&&"FAVORITE"!==e[0]&&"SUBMITFEEDBACK"!==e[0]&&"HOME"!==e[0]?t.get(e[0],e[1]):t.post(e[0],e[1],e[2],e[3],e[4],e[5])}var Dn=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:"FAVORITE_LOADS_DATA",payload:{data:e,isHideLoader:t}}},Tn=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:"UPDATE_FAVORITE_LOADS",payload:{data:e,isHideLoader:t}}},Rn=function(e){return{type:"UPDATE_FAVORITE_LOADS_REDUCER",payload:e.data.updateUserSearchHistory}},Nn=function(e){return{type:"GET_FAVORITE",payload:e}},In=Ge.a.mark(jn),Cn=Ge.a.mark(Ln),kn=Ge.a.mark(wn);function jn(e){var t;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(_n.c)(ut());case 3:return e.next=5,Object(_n.b)(An,["SEARCH","SEARCH_LOADS"]);case 5:return t=e.sent,e.next=8,Object(_n.c)(ua(t.data,!1));case 8:return e.next=10,Object(_n.c)(dt());case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(0),e.next=16,Object(_n.c)(dt());case 16:case"end":return e.stop()}}),In,null,[[0,12]])}function Ln(e){var t,a,r,n,i,s,o;return Ge.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(t=e.payload,a=t.searchParams,r=t.isPagination,n=t.isHideLoader,c.prev=1,e&&e.payload&&n){c.next=5;break}return c.next=5,Object(_n.c)(ut());case 5:return c.next=7,Object(_n.c)({type:"PULL_TO_REFRESH_LOADING",status:!0});case 7:return i=ka.domainToData(a),c.next=10,An(["SEARCH","SEARCH",null,"",i,"application/json"]);case 10:return s=c.sent,o={},s&&s.data&&s.data.searchLoadPostings&&(o={searchLoads:s.data.searchLoadPostings.loadPostings||[],totalRecords:s.data.searchLoadPostings.totalRecords||0}),c.next=15,Object(_n.c)(ua(o,r));case 15:if(e&&e.payload&&n){c.next=18;break}return c.next=18,Object(_n.c)(dt());case 18:return c.next=20,Object(_n.c)({type:"PULL_TO_REFRESH_LOADING",status:!1});case 20:c.next=29;break;case 22:if(c.prev=22,c.t0=c.catch(1),e&&e.payload&&n){c.next=27;break}return c.next=27,Object(_n.c)(dt());case 27:return c.next=29,Object(_n.c)({type:"PULL_TO_REFRESH_LOADING",status:!1});case 29:case"end":return c.stop()}}),Cn,null,[[1,22]])}function wn(){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_n.a)([Object(_n.f)("SEARCH_DATA",jn),Object(_n.f)("FETCH_SEARCH_RESULTS",Ln)]);case 2:case"end":return e.stop()}}),kn)}var Mn=function(e){return{type:"GET_MYLOAD_CARD_DATA",payload:e}},Pn=function(e){return{type:g.CONFIRM_START_INFORMATION_SUCCESS,payload:e}},Un=function(e){return{type:g.CONFIRM_START_INFORMATION_STATUS_MESSAGE,payload:e}},xn=function(){return{type:g.CLEAR_CONFIRM_START_INFORMATION_STATUS_MESSAGE}},Fn=function(){return{type:g.CLEAR_UPDATE_STOP_INFORMATION_RESPONSE}},Vn=[{cradImg:"/assets/icon/more-arrow.svg",profileHeading:"My Profile",profileRouting:"/app/manage/ProfileDetails"},{cradImg:"/assets/icon/more-arrow.svg",profileHeading:"Carrier Profile",profileRouting:"/app/manage/CarrierProfileDetails"},{cradImg:"/assets/icon/more-arrow.svg",profileHeading:"Manage Users",profileRouting:"/app/manage/ManageUser"},{cradImg:"/assets/icon/more-arrow.svg",profileHeading:"Manage My Capacity",profileRouting:"/app/manage/ManageMyCapacity"}];function Gn(){return[].concat(Object(Se.a)(ja("myLoad","carrierAssigned")?[{count:"carrierAssignedCount",cardImg:"assets/icon/carrier.svg",title:"Carrier Assigned",myLoadRouting:"/app/MyLoad/CarrierAssigned",className:"carrier_assigned",class:"carrier-assigned"}]:[]),Object(Se.a)(ja("myLoad","driverAssigned")?[{count:"driverAssignedCount",cardImg:Ua.details.auth.user.roles.includes(X.carrierDispatcher)?"assets/icon/driver.svg":"assets/icon/carrier.svg",title:Ua.details.auth.user.roles.includes(X.carrierDispatcher)?"Driver Assigned":"Loads Assigned",myLoadRouting:"/app/MyLoad/DriverAssigned",className:"driver_assinged",class:"driver-assigned"}]:[]),Object(Se.a)(ja("myLoad","inTransit")?[{count:"inTransitCount",cardImg:"assets/icon/transit.svg",title:"In-Transit",myLoadRouting:"/app/MyLoad/InTransit",className:"in-transit",class:"in_transit"}]:[]),Object(Se.a)(ja("myLoad","recentlyDeliveredLoads")?[{count:"deliveredCount",cardImg:"assets/icon/recent.svg",title:"Recently Delivered Loads",myLoadRouting:"/app/MyLoad/Delivered",className:"recently_delivered",class:"recently-delivered"}]:[]))}var Hn=[{name:"Dry Van",value:"Dry Van"},{name:"Refrigerated",value:"Refrigerated"},{name:"Specialty",value:"Specialty"},{name:"Power Only",value:"Power Only"}],Bn=[{value:"pickUpdate",name:"Pick-up date"},{value:"total_distance",name:"Distance"}],qn=function(e,t){return{type:"BUYLOAD_SHIPMENT_REQUEST",payload:{data:e,callback:t}}},zn=function(e,t){return{type:"LOAD_CARRIER_DATA",payload:{data:e,count:t}}},Yn=function(e){return{type:"ASSIGN_DRIVER",payload:e}},Wn=function(e){return{type:"ASSIGN_DRIVER_LIST",payload:e}},Kn=function(e){return{type:"ADD_DRIVER_SUCCESS",payload:e}};var Xn=function(e,t){return{type:"DRIVER_ASSIGNED_DATA",payload:{data:e,count:t}}};var Zn=function(e){return{type:"FETCH_DRIVER_ASSIGNED_LOADS_FROM_PUSH",payload:e}},Qn=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{type:"SHIPMENT_LOADS",payload:{query:e,isHideLoader:t,callBack:a}}},Jn=function(e,t){return{type:"LOAD_INTRANSIT_DATA",payload:{data:e,count:t}}},$n=function(e){return{type:g.SHIPMENT_FOR_STARTTRIP,payload:e}},ei=function(e){return{type:g.SHIPMENT_FOR_STARTTRIP_TIMESTAMP,payload:e}},ti=function(e){return{type:g.START_TRIP_INFORMATION_RESPONSE,payload:e}},ai=function(e){return{type:g.COMPLETE_TRIP_API_RESPONSE,payload:e}},ri=function(e,t){return{type:"LOAD_DELIVERED_DATA",payload:{data:e,count:t}}},ni=function(e){return e.myload||_e},ii=function(e,t){return t&&t.match&&t.match.params&&t.match.params.id},si=function(e,t){return t&&t.match&&t.match.params&&t.match.params[0]},oi=function(){return Object(xe.a)([ni],(function(e){return e.myLoadCardData||_e.myLoadCardData}))},ci=function(){return Object(xe.a)([ni],(function(e){return e.myLoadCount}))};function li(){return Object(xe.a)([ni],(function(e){return e.driverAssigned||[]}))}function ui(){return Object(xe.a)([ni],(function(e){return e.carrierAssigned||[]}))}function di(){return Object(xe.a)([ni],(function(e){return e.inTransit||[]}))}var pi=function(){return Object(xe.a)(ni,(function(e){return e&&e.confirmStartStatusMessage}))},mi=Ge.a.mark(Ti),fi=Ge.a.mark(Ni),Ei=Ge.a.mark(Ii),hi=Ge.a.mark(Ci),gi=Ge.a.mark(ki),vi=Ge.a.mark(ji),bi=Ge.a.mark(Li),Si=Ge.a.mark(wi),yi=Ge.a.mark(Mi),Oi=Ge.a.mark(Pi),_i=Ge.a.mark(Ui),Ai=Ge.a.mark(xi),Di=Ge.a.mark(Fi);function Ti(e){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(_n.c)(ut());case 3:return e.next=5,Object(_n.c)(dt());case 5:e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),e.next=11,Object(_n.c)(dt());case 11:case"end":return e.stop()}}),mi,null,[[0,7]])}function Ri(e,t){console.log(e,t);var a=new Date(e).getTime(),r=(new Date).getTime(),n=parseInt(((r-a)/1e3).toString());return console.log(n,60*parseInt(t)),!1}function Ni(e){var t,a,r,n,i,s,o,c,l;return Ge.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e&&e.payload&&e.payload,a=t.data,r=t.isHideLoader,n=hn(),u.next=4,Object(_n.d)(n);case 4:return i=u.sent,s=vn(),u.next=8,Object(_n.d)(s);case 8:if(o=u.sent,!i||!Ri(i.RecentSearch,i.RecentSearchInterval)||o){u.next=11;break}return u.abrupt("return");case 11:if(u.prev=11,e&&e.payload&&r){u.next=15;break}return u.next=15,Object(_n.c)(ut());case 15:return u.next=17,Object(_n.c)({type:"PULL_TO_REFRESH_LOADING",status:!0});case 17:return c=ka.domainToData(a),u.next=20,An(["RECENT","RECENT",null,"",c,"application/json"]);case 20:return l=u.sent,u.next=23,Object(_n.c)(tr(l));case 23:return u.next=25,Object(_n.c)(cr({RecentSearch:(new Date).toUTCString(),RecentSearchInterval:"5"}));case 25:if(console.log(l),e&&e.payload&&r){u.next=29;break}return u.next=29,Object(_n.c)(dt());case 29:return u.next=31,Object(_n.c)({type:"PULL_TO_REFRESH_LOADING",status:!1});case 31:u.next=40;break;case 33:if(u.prev=33,u.t0=u.catch(11),e&&e.payload&&r){u.next=38;break}return u.next=38,Object(_n.c)(dt());case 38:return u.next=40,Object(_n.c)({type:"PULL_TO_REFRESH_LOADING",status:!1});case 40:case"end":return u.stop()}}),fi,null,[[11,33]])}function Ii(e){var t,a,r,n,i,s,o,c;return Ge.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return t=e&&e.payload&&e.payload,a=t.isHideLoader,r=hn(),l.next=4,Object(_n.d)(r);case 4:return n=l.sent,i=vn(),l.next=8,Object(_n.d)(i);case 8:if(s=l.sent,!n||!Ri(n.FavouriteSearch,n.FavouriteSearchInterval)||s){l.next=11;break}return l.abrupt("return");case 11:if(l.prev=11,e&&e.payload&&a){l.next=15;break}return l.next=15,Object(_n.c)(ut());case 15:return l.next=17,Object(_n.c)({type:"PULL_TO_REFRESH_LOADING",status:!0});case 17:return o=ka.domainToData(e.payload.data),l.next=20,An(["FAVORITE","FAVORITE_LOADS",null,"",o,"application/json"]);case 20:return c=l.sent,l.next=23,Object(_n.c)(Nn(c));case 23:return l.next=25,Object(_n.c)(cr({FavouriteSearch:(new Date).toUTCString(),FavouriteSearchInterval:"5"}));case 25:if(console.log(c),e&&e.payload&&a){l.next=29;break}return l.next=29,Object(_n.c)(dt());case 29:return l.next=31,Object(_n.c)({type:"PULL_TO_REFRESH_LOADING",status:!1});case 31:l.next=40;break;case 33:if(l.prev=33,l.t0=l.catch(11),e&&e.payload&&a){l.next=38;break}return l.next=38,Object(_n.c)(dt());case 38:return l.next=40,Object(_n.c)({type:"PULL_TO_REFRESH_LOADING",status:!1});case 40:case"end":return l.stop()}}),Ei,null,[[11,33]])}function Ci(e){var t,a,r,n,i,s;return Ge.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,t=e.payload,a=t.token,r=t.body,n=ka.domainToData(r),o.next=5,Object(_n.b)(An,["FETCH_USER_DETAILS","GET_USER_DETAILS",null,a,n,"application/json"]);case 5:return i=o.sent,s=i.data&&i.data.getUserDetails&&i.data.getUserDetails.length>0&&i.data.getUserDetails[0],o.next=9,Object(_n.c)(rr(s));case 9:o.next=15;break;case 11:return o.prev=11,o.t0=o.catch(0),o.next=15,Object(_n.c)(dt());case 15:case"end":return o.stop()}}),hi,null,[[0,11]])}function ki(e){var t,a;return Ge.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=ka.domainToData(e.payload),r.next=4,Object(_n.b)(An,["REGISTER_DEVICE","REGISTER_DEVICE",null,"",t,"application/json"]);case 4:return a=r.sent,r.next=7,Object(_n.c)(nr({deviceRegisterResult:a.data,errors:a.errors}));case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(0),r.next=13,Object(_n.c)(nr({deviceRegisterResult:null,errors:[r.t0.message]}));case 13:case"end":return r.stop()}}),gi,null,[[0,9]])}function ji(e){var t,a,r,n;return Ge.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(i.prev=0,t=e.payload.query.query.getShipments.__args.filter,e&&e.payload&&e.payload.isHideLoader){i.next=5;break}return i.next=5,Object(_n.c)(ut());case 5:return a=ka.domainToData(e.payload.query),i.next=8,Object(_n.b)(An,["MYLOAD","CARRIER",null,"",a,"application/json"]);case 8:if(r=i.sent,n=r.data.getShipments,!t.driverAssigned){i.next=13;break}return i.next=13,Object(_n.c)(Xn(n.driverAssignedShipments,n.driverAssignedCount));case 13:if(!t.carrierAssigned){i.next=16;break}return i.next=16,Object(_n.c)(zn(n.carrierAssginedShipments,n.carrierAssignedCount));case 16:if(!t.inTransit){i.next=19;break}return i.next=19,Object(_n.c)(Jn(n.inTransitShipments,n.inTransitCount));case 19:if(e&&e.payload&&e.payload.isHideLoader){i.next=22;break}return i.next=22,Object(_n.c)(dt());case 22:e&&e.payload&&e.payload.callback&&e.payload.callback(),i.next=30;break;case 25:if(i.prev=25,i.t0=i.catch(0),e&&e.payload&&e.payload.isHideLoader){i.next=30;break}return i.next=30,Object(_n.c)(dt());case 30:case"end":return i.stop()}}),vi,null,[[0,25]])}function Li(e){var t,a;return Ge.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(_n.c)(ut());case 3:return t=ka.domainToData(e.payload),r.next=6,Object(_n.b)(An,["MORETAB","MORETAB",null,"",t,"application/json"]);case 6:return a=r.sent,r.next=9,Object(_n.c)({type:"MORE_TAB_CONTENT_RESPONSE",payload:a});case 9:return r.next=11,Object(_n.c)(dt());case 11:return r.next=13,Object(_n.c)(sr({termsAndConditions:"1.0",eula:"0.0",privacy:"1.0",contactOptions:"0.0",videoWalkthroughs:"1.0",aboutSchneider:"2.0",becomingCarrier:"1.0",faq:"0.0",schneiderOfferings:"0.0"}));case 13:r.next=19;break;case 15:return r.prev=15,r.t0=r.catch(0),r.next=19,Object(_n.c)(dt());case 19:case"end":return r.stop()}}),bi,null,[[0,15]])}function wi(){var e;return Ge.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(_n.c)(ut());case 3:return e=Gn(),t.next=6,Object(_n.c)(Mn(e));case 6:return t.next=8,Object(_n.c)(dt());case 8:t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(0),t.next=14,Object(_n.c)(dt());case 14:case"end":return t.stop()}}),Si,null,[[0,10]])}function Mi(e){return Ge.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(_n.c)(ut());case 3:return console.log(e.payload),t.next=6,Object(_n.c)({type:"GET_CONFIG_PARAMS",payload:z});case 6:return t.next=8,Object(_n.c)(dt());case 8:t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(0),t.next=14,Object(_n.c)(dt());case 14:case"end":return t.stop()}}),yi,null,[[0,10]])}function Pi(e){var t,a,r,n,i,s,o;return Ge.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=4,Object(_n.c)(ut());case 4:return t=e.payload,a=t.token,r=t.body,n=ka.domainToData(r),c.next=8,Object(_n.b)(An,["FETCH_USER_DETAILS","USER_DETAILS",null,a,n,"application/json"]);case 8:if(i=c.sent,s=i&&i.data&&i.data.registerMember||{},o=i&&i.errors){c.next=18;break}return c.next=14,Object(_n.c)(rr(s.member));case 14:return c.next=16,Object(_n.c)(ur({status:s.status,message:s.message,registerClicked:!0}));case 16:c.next=21;break;case 18:if(!(o&&o.length>0&&o[0].message)){c.next=21;break}return c.next=21,Object(_n.c)(ur({status:!1,message:o[0].message,registerClicked:!0}));case 21:return c.next=23,Object(_n.c)(dt());case 23:c.next=29;break;case 25:return c.prev=25,c.t0=c.catch(0),c.next=29,Object(_n.c)(dt());case 29:case"end":return c.stop()}}),Oi,null,[[0,25]])}function Ui(e){return Ge.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(_n.c)(ut());case 3:return console.log(e.payload),t.next=6,Object(_n.c)(cr({RecommendedLoads:!0,RecommendedLoadsInterval:"5",WatchedLoads:!0,WatchedLoadsInterval:"10",RecentSearch:!0,RecentSearchInterval:"10",FavouriteSearch:!0,FavouriteSearchInterval:"10"}));case 6:return t.next=8,Object(_n.c)(dt());case 8:t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(0),t.next=14,Object(_n.c)(dt());case 14:case"end":return t.stop()}}),_i,null,[[0,10]])}function xi(e){return Ge.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(_n.c)(ut());case 3:return console.log(e.payload),t.next=6,Object(_n.c)(lr({shipment:!0,shipmentInterval:"5"}));case 6:return t.next=8,Object(_n.c)(dt());case 8:t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(0),t.next=14,Object(_n.c)(dt());case 14:case"end":return t.stop()}}),Ai,null,[[0,10]])}function Fi(){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_n.a)([Object(_n.f)("UPDATE_GPS_COORDS",Ti),Object(_n.f)("OFFLINE_MODE_START",Mi),Object(_n.f)("FIND_SEARCH_DATA",Ui),Object(_n.f)("FIND_SHIPMENT_INFO",xi),Object(_n.f)("FETCH_USER_DETAILS",Ci),Object(_n.f)("REGISER DEVICE ACTION",ki),Object(_n.f)("FETCH_DRIVER_ASSIGNED_LOADS_FROM_PUSH",ji),Object(_n.f)("GET_MORE_TAB_CONTENT",Li),Object(_n.f)("MYLOAD_CARD_DATA",wi),Object(_n.f)("RECENT_LOADS",Ni),Object(_n.f)("REGISTER_USER",Pi),Object(_n.f)("FAVORITE_LOADS_DATA",Ii)]);case 2:case"end":return e.stop()}}),Di)}var Vi=Ge.a.mark(zi),Gi=Ge.a.mark(Yi),Hi=Ge.a.mark(Wi),Bi=Ge.a.mark(Ki),qi=Ge.a.mark(Xi);function zi(){var e;return Ge.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(_n.c)(ut());case 3:return e=Gn(),t.next=6,Object(_n.c)(Mn(e));case 6:return t.next=8,Object(_n.c)(dt());case 8:t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(0),t.next=14,Object(_n.c)(dt());case 14:case"end":return t.stop()}}),Vi,null,[[0,10]])}function Yi(e){var t,a,r,n,i,s,o,c,l,u;return Ge.a.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return t=gn(),d.next=3,Object(_n.d)(t);case 3:return a=d.sent,r=vn(),d.next=7,Object(_n.d)(r);case 7:if(n=d.sent,!a||!Ri(a.shipment,a.shipmentInterval)||n){d.next=10;break}return d.abrupt("return");case 10:if(d.prev=10,i=e.payload.query.query.getShipments.__args.filter,e&&e.payload&&e.payload.isHideLoader){d.next=17;break}return d.next=15,Object(_n.c)(ut());case 15:d.next=19;break;case 17:return d.next=19,Object(_n.c)({type:"PULL_TO_REFRESH_LOADING",status:!0});case 19:return s=ka.domainToData(e.payload.query),d.next=22,Object(_n.b)(An,["MYLOAD","CARRIER",null,"",s,"application/json"]);case 22:if(o=d.sent,!(c=o&&o.data&&o.data.getShipments)){d.next=41;break}if(!i.carrierAssigned){d.next=28;break}return d.next=28,Object(_n.c)(zn(c.carrierAssginedShipments,c.carrierAssignedCount));case 28:if(!i.driverAssigned){d.next=35;break}return l=c.driverAssignmentPendingShipments||[],u=c.driverAssignedPendingCount||0,l=l.concat(c.driverAssignedShipments),u+=c.driverAssignedCount,d.next=35,Object(_n.c)(Xn(l,u));case 35:if(!i.inTransit){d.next=38;break}return d.next=38,Object(_n.c)(Jn(c.inTransitShipments,c.inTransitCount));case 38:if(!i.delivered){d.next=41;break}return d.next=41,Object(_n.c)(ri(c.deliveredShipments,c.deliveredCount));case 41:if(e&&e.payload&&e.payload.callBack&&e.payload.callBack(),e&&e.payload&&e.payload.isHideLoader){d.next=45;break}return d.next=45,Object(_n.c)(dt());case 45:return d.next=47,Object(_n.c)({type:"PULL_TO_REFRESH_LOADING",status:!1});case 47:return d.next=49,Object(_n.c)(lr({shipment:(new Date).toUTCString(),shipmentInterval:"5"}));case 49:d.next=58;break;case 51:if(d.prev=51,d.t0=d.catch(10),e&&e.payload&&e.payload.isHideLoader){d.next=56;break}return d.next=56,Object(_n.c)(dt());case 56:return d.next=58,Object(_n.c)({type:"PULL_TO_REFRESH_LOADING",status:!1});case 58:case"end":return d.stop()}}),Gi,null,[[10,51]])}function Wi(e){var t,a,r,n,i;return Ge.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.payload,a=t.query,r=t.data,s.prev=1,s.next=4,Object(_n.c)(ut());case 4:return n=ka.dataToMutation(a,r),s.next=7,Object(_n.b)(An,["MYLOAD","BUY_LOAD",null,"",n,"application/json"]);case 7:return i=s.sent,s.next=10,Object(_n.c)({type:"BUYLOAD_DATA_SUCCESS",payload:i});case 10:return s.next=12,Object(_n.c)(dt());case 12:s.next=18;break;case 14:return s.prev=14,s.t0=s.catch(1),s.next=18,Object(_n.c)(dt());case 18:case"end":return s.stop()}}),Hi,null,[[1,14]])}function Ki(e){var t,a,r,n,i,s,o,c,l,u,d,p;return Ge.a.wrap((function(m){for(;;)switch(m.prev=m.next){case 0:if(m.prev=0,!(e&&e.payload&&e.payload.data.isPullToRefresh)){m.next=6;break}return m.next=4,Object(_n.c)({type:"PULL_TO_REFRESH_LOADING",status:!0});case 4:m.next=8;break;case 6:return m.next=8,Object(_n.c)(ut());case 8:return t=ka.domainToData(e.payload.data.query),m.next=11,Object(_n.b)(An,["MYLOAD","CARRIER",null,"",t,"application/json"]);case 11:return a=m.sent,m.next=14,Object(_n.c)({type:"BUYLOAD_SHIPMENT_SUCCESS",payload:a});case 14:return e.payload.callback&&e.payload.callback(),m.next=17,Object(_n.d)(ni);case 17:if(r=m.sent,n=r&&r.shipment||{},e.payload.data.module!==C.CARRIER_ASSIGNED_MODULE){m.next=24;break}return i=r&&r.carrierAssigned||[],s=i.map((function(e){return n.find((function(t){return t.shipmentId===e.shipmentId}))||e})),m.next=24,Object(_n.c)(zn(s,s.length));case 24:if(e.payload.data.module!==C.DRIVER_ASSIGNED_MODULE){m.next=33;break}return o=r&&r.driverAssigned||[],c=o.map((function(e){return n.find((function(t){return t.shipmentId===e.shipmentId}))||e})),m.next=29,Object(_n.c)(Xn(c,c.length));case 29:return m.next=31,Object(_n.c)($n(n[0]));case 31:return m.next=33,Object(_n.c)(ei((new Date).getTime().toString()));case 33:if(e.payload.data.module!==C.INTRANSIT_MODULE){m.next=42;break}return l=r&&r.inTransit||[],u=l.map((function(e){return n.find((function(t){return t.shipmentId===e.shipmentId}))||e})),m.next=38,Object(_n.c)(Jn(u,u.length));case 38:return m.next=40,Object(_n.c)($n(n[0]));case 40:return m.next=42,Object(_n.c)(ei((new Date).getTime().toString()));case 42:if(e.payload.data.module!==C.RECENTLY_DELIVERED_MODULE){m.next=51;break}return d=r&&r.delivered||[],p=d.map((function(e){return n.find((function(t){return t.shipmentId===e.shipmentId}))||e})),m.next=47,Object(_n.c)(ri(p,p.length));case 47:return m.next=49,Object(_n.c)($n(n[0]));case 49:return m.next=51,Object(_n.c)(ei((new Date).getTime().toString()));case 51:if(!(e&&e.payload&&e.payload.data.isPullToRefresh)){m.next=56;break}return m.next=54,Object(_n.c)({type:"PULL_TO_REFRESH_LOADING",status:!1});case 54:m.next=58;break;case 56:return m.next=58,Object(_n.c)(dt());case 58:m.next=69;break;case 60:if(m.prev=60,m.t0=m.catch(0),!(e&&e.payload&&e.payload.data.isPullToRefresh)){m.next=67;break}return m.next=65,Object(_n.c)({type:"PULL_TO_REFRESH_LOADING",status:!1});case 65:m.next=69;break;case 67:return m.next=69,Object(_n.c)(dt());case 69:case"end":return m.stop()}}),Bi,null,[[0,60]])}function Xi(){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_n.a)([Object(_n.e)("MYLOAD_CARD_DATA",zi),Object(_n.e)("SHIPMENT_LOADS",Yi),Object(_n.e)("BUYLOAD_DATA_REQUEST",Wi),Object(_n.e)("BUYLOAD_SHIPMENT_REQUEST",Ki)]);case 2:case"end":return e.stop()}}),qi)}var Zi=Ge.a.mark($i),Qi=Ge.a.mark(es),Ji=Ge.a.mark(ts);function $i(e){var t,a,r;return Ge.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(_n.c)(ut());case 3:return t=ka.domainToData(e.payload),n.next=6,An(["DRIVERS_LIST","DRIVERS_LIST",null,"",t,"application/json"]);case 6:return a=n.sent,r=a&&a.data&&a.data.getMembers||[],n.next=10,Object(_n.c)(Wn(r));case 10:return n.next=12,Object(_n.c)(dt());case 12:n.next=18;break;case 14:return n.prev=14,n.t0=n.catch(0),n.next=18,Object(_n.c)(dt());case 18:case"end":return n.stop()}}),Zi,null,[[0,14]])}function es(e){var t,a;return Ge.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(_n.c)(ut());case 3:return t=ka.domainToData(e.payload),r.next=6,An(["MYLOAD","CARRIER",null,"",t,"application/json"]);case 6:return a=r.sent,r.next=9,Object(_n.c)(dt());case 9:return r.next=11,Object(_n.c)((n={assignDriverToShipment:a.data&&a.data.assignDriverToShipment||!1,errors:a.errors},{type:g.ASSIGN_DRIVER_TO_SHIPMENT_RESPONSE,payload:n}));case 11:r.next=17;break;case 13:return r.prev=13,r.t0=r.catch(0),r.next=17,Object(_n.c)(dt());case 17:case"end":return r.stop()}var n}),Qi,null,[[0,13]])}function ts(){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_n.a)([Object(_n.f)("ASSIGN_DRIVER",$i),Object(_n.f)(g.ASSIGN_DRIVER_TO_SHIPMENT,es)]);case 2:case"end":return e.stop()}}),Ji)}var as=a(57),rs=a.n(as),ns=a(84),is=a.n(ns);function ss(e){var t={dispatch:At.isFunction,subscribe:At.isFunction,getState:At.isFunction,replaceReducer:At.isFunction,runSaga:At.isFunction,injectedReducers:At.isObject,injectedSagas:At.isObject};is()(Object(At.conformsTo)(e,t),"(app/utils...) injectors: Expected a valid redux store")}var os=["@@saga-injector/restart-on-remount",v,"@@saga-injector/once-till-unmount"],cs=function(e){return is()(Object(At.isString)(e)&&!Object(At.isEmpty)(e),"(app/utils...) injectSaga: Expected `key` to be a non empty string")},ls=function(e){var t={saga:At.isFunction,mode:function(e){return Object(At.isString)(e)&&os.includes(e)}};is()(Object(At.conformsTo)(e,t),"(app/utils...) injectSaga: Expected a valid saga descriptor")};function us(e,t){return function(a){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;t||ss(e);var i=Object(p.a)(Object(p.a)({},r),{},{mode:r.mode||v}),s=i.saga,o=i.mode;cs(a),ls(i);var c=Reflect.has(e.injectedSagas,a);(!c||c&&o!==v&&"@@saga-injector/once-till-unmount"!==o)&&(e.injectedSagas[a]=Object(p.a)(Object(p.a)({},i),{},{task:e.runSaga(s,n)}))}}function ds(e,t){return function(a){if(t||ss(e),cs(a),Reflect.has(e.injectedSagas,a)){var r=e.injectedSagas[a];r.mode&&r.mode!==v&&(r.task.cancel(),e.injectedSagas[a]="done")}}}var ps=function(e){var t=e.key,a=e.saga;return function(e){var r=function(r){Object(Ke.a)(i,r);var n=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(Ze.a)(e);if(t()){var n=Object(Ze.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(Xe.a)(this,a)}}(i);function i(e,r){var s,o;return Object(qe.a)(this,i),(s=n.call(this,e,r)).injectors=void 0,s.injectors=(ss(o=r.store),{injectSaga:us(o,!0),ejectSaga:ds(o,!0)}),s.injectors.injectSaga(t,{saga:a,mode:"@@saga-injector/daemon"},s.props),s}return Object(ze.a)(i,[{key:"componentWillUnmount",value:function(){this.injectors.ejectSaga(t)}},{key:"render",value:function(){return s.a.createElement(e,this.props)}}]),i}(s.a.Component);return r.WrappedComponent=e,r.contextType=u.b,r.displayName="withSaga(".concat(e.displayName||e.name||"Component",")"),rs()(r,e)}};function ms(e,t){return function(a,r){t||ss(e),is()(Object(At.isString)(a)&&!Object(At.isEmpty)(a)&&Object(At.isFunction)(r),"(app/utils...) injectReducer: Expected `reducer` to be a reducer function"),Reflect.has(e.injectedReducers,a)&&e.injectedReducers[a]===r||(e.injectedReducers[a]=r,e.replaceReducer(Re(e.injectedReducers)))}}var fs=function(e){var t=e.key,a=e.reducer;return function(e){var r=function(r){Object(Ke.a)(i,r);var n=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(Ze.a)(e);if(t()){var n=Object(Ze.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(Xe.a)(this,a)}}(i);function i(e,r){var s,o;return Object(qe.a)(this,i),s=n.call(this,e,r),(o=r.store,ss(o),{injectReducer:ms(o,!0)}).injectReducer(t,a),s}return Object(ze.a)(i,[{key:"render",value:function(){return s.a.createElement(e,this.props)}}]),i}(s.a.Component);return r.WrappedComponent=e,r.contextType=u.b,r.displayName="withReducer(".concat(e.displayName||e.name||"Component",")"),rs()(r,e)}},Es=(a(467),a(32)),hs=(a(115),a(146)),gs=Object(i.memo)((function(e){var t=e.labelName,a=e.TrailerType,r=e.handleChange,n=Object(i.useState)(!1),o=Object(Fe.a)(n,2),c=o[0],l=o[1],u=Object(i.useState)({name:a,value:a}),p=Object(Fe.a)(u,2),m=p[0],f=p[1],E=Object(i.useState)({name:a,value:a}),h=Object(Fe.a)(E,2),g=h[0],v=h[1],b=Object(hs.a)().t;return Object(i.useEffect)((function(){f({name:a,value:a}),v({name:a,value:a})}),[e.TrailerType]),s.a.createElement(s.a.Fragment,null,s.a.createElement(d.o,{class:" trailer-ion-item"},s.a.createElement(d.w,{mode:"ios",class:"trailer_type_label"},b(t)),s.a.createElement(d.e,{type:"button",class:"dropdown-button trailer_type_dropdown","data-test":"dropdown-click",onClick:function(){return l(!0)}},s.a.createElement("span",null,b(g.value)),s.a.createElement("i",{className:"down"}))),s.a.createElement(d.A,{isOpen:c,cssClass:"dropdown-modal",backdropDismiss:!1,onDidDismiss:function(){return l(!1)}},s.a.createElement("div",{className:"search_options_trailer"},s.a.createElement(d.H,{class:"dropdown-heading"},s.a.createElement(d.k,null," ",s.a.createElement("p",{className:"sortBy_text"},t)," ")),s.a.createElement("div",{className:"options_content_trailer"},Hn.map((function(e,t){return s.a.createElement(d.H,{class:"dropdown-row",key:t,"data-test":"hide-dropdown",onClick:function(){return function(e){f(e)}(e)}},s.a.createElement(d.k,{class:e.name===m.name?"checked":""},b(e.value)," ",s.a.createElement("i",{className:"check"})," "))}))),s.a.createElement(d.H,{class:"dropdown-handler"},s.a.createElement(d.k,{size:"1"}),s.a.createElement(d.k,{className:"dropdown_cancel",size:"5","data-test":"dropdown-cancel",onClick:function(){l(!1),f(g)}},s.a.createElement("span",null,b("Cancel"))),s.a.createElement(d.k,{className:"dropdown_cancel",size:"5","data-test":"confirm-cancel",onClick:function(){return function(e){v(e),l(!1);var t={target:{name:"TrailerType",value:e.value}};r(t)}(m)}},s.a.createElement("span",null,b("Ok_TEXT"))),s.a.createElement(d.k,{size:"1"})))))})),vs=function(e){var t=e.disabled,a=void 0!==t&&t,r=e.currentLocationOff,n=e.onTimeZoneChange,o=e.Error,c=e.labelValue,l=e.InputValue,u=e.handleChange,p=e.InputName,m=e.getLocalTime,f=e.keyboardshowHandler,E=e.locationValue,h=e.keyboardhideHandler,g=e.deFaultValue,v=e.isDestination,b=e.useHandler,y=e.setErrorValue,O=e.placeholder,_=(e.confirmStartLocationInp,e.onFocus),A=e.country,D=void 0===A?"":A,T=Object(i.useState)([]),R=Object(Fe.a)(T,2),N=R[0],I=R[1],C=Object(i.useState)(l),k=Object(Fe.a)(C,2),j=k[0],L=k[1],w=Object(i.useState)({lat:"",lng:""}),M=Object(Fe.a)(w,2),P=M[0],U=M[1],x=Object(i.useState)(!1),F=Object(Fe.a)(x,2),V=F[0],G=F[1],H=Object(i.useState)(!1),B=Object(Fe.a)(H,2),q=B[0],z=B[1],Y=Object(i.useState)(O||""),W=Object(Fe.a)(Y,2),K=W[0],X=W[1],Z=Object(i.useState)({cityName:"",position:"",country:""}),Q=Object(Fe.a)(Z,2),J=Q[0],$=Q[1],ee=Object(i.useState)(!1),te=Object(Fe.a)(ee,2),ae=te[0],re=te[1],ne=Object(i.useState)(!0),ie=Object(Fe.a)(ne,2),se=ie[0],oe=ie[1],ce=Object(i.useState)(""),le=Object(Fe.a)(ce,2),ue=le[0],de=le[1],pe=!1,me=Object(i.useState)(!1),fe=Object(Fe.a)(me,2),Ee=fe[0],he=fe[1],ge=Object(i.useState)(!1),ve=Object(Fe.a)(ge,2),be=ve[0],Se=ve[1],ye=/^[a-zA-Z0-9, ]*$/;Object(i.useEffect)((function(){Object(d.V)("capacitor")&&!r&&Za.details.getCurrentPosition((function(e,t){_e("".concat(e,",").concat(t)),U({lat:e,lng:t})}))}),[r]),Object(i.useEffect)((function(){if(!v&&!q){L(J.cityName),X("");var e=J&&J.position&&J.position.split(",")||[];u({target:{name:p,value:J.cityName,backClicked:se,lat:e.length>0?e[0]:"",lng:e.length>0?e[1]:"",country:J.country}})}}),[v,q,J]),Object(i.useEffect)((function(){E?(he(!0),L(J.cityName)):L("")}),[E]),Object(i.useEffect)((function(){L(l||"")}),[l]),Object(i.useEffect)((function(){re(o)}),[o]);var Oe=Object(i.useCallback)(Dt.a.debounce((function(e){return Ae(e)}),500),[]),_e=function(){var e=Object(He.a)(Ge.a.mark((function e(t){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$a.details.searchCurrentAddress(t,(function(e){var t={};e.forEach(function(){var e=Object(He.a)(Ge.a.mark((function e(a,r){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.address.municipality&&(-1!==a.address.municipality.indexOf(",")?a.address.municipality.split(",").forEach((function(e,r){t.cityName=e+(a.address.countrySubdivision?", "+a.address.countrySubdivision:"")})):t.cityName=a.address.municipality+(a.address.countrySubdivision?", "+a.address.countrySubdivision:"")),a.address.countryCode&&(t.country=a.address.countryCode,de(a.address.countryCode)),!a.position){e.next=6;break}return t.position=a.position,e.next=6,$a.details.searchTimezoneByCoordinates(a.position,(function(e){var t=e[0]&&e[0].ReferenceTime&&(e[0].ReferenceTime.WallTime||"");n&&n(e&&e.length>0&&e[0].Id),m&&m(t)}));case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),$(t)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(He.a)(Ge.a.mark((function e(t){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length>2)){e.next=5;break}return e.next=3,$a.details.searchAddress(t,(function(e){var t=[];e.forEach((function(e,a){var r={};if(e.address.municipality){if(-1!==e.address.municipality.indexOf(","))e.address.municipality.split(",").forEach((function(a,r){var n={};n.cityName=a+(e.address.countrySubdivision?", "+e.address.countrySubdivision:""),n.cityName=n.cityName.trim(),e.position&&(n.position=e.position),J.cityName!==n.cityName&&t.push(n)}));else r.cityName=e.address.municipality+(e.address.countrySubdivision?", "+e.address.countrySubdivision:""),e.position&&(r.position=e.position),J.cityName!==r.cityName&&t.push(r);e.address.countryCode&&(r.country=e.address.countryCode)}}));var a,r,n=(r="cityName",(a=t).length?a.filter((function(e,t,a){return a.map((function(e){return e[r]})).indexOf(e[r].trim())===t})):[]);I(n),G(!0),v&&b&&f()}));case 3:e.next=7;break;case 5:G(!1),v&&b&&h();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),De=function(){var e=Object(He.a)(Ge.a.mark((function e(t){var a,r;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(L(t.cityName),de(t.country),G(!1),he(!0),!t.position){e.next=11;break}return a="",(r=t.position)&&(a="".concat(r.lat,",").concat(r.lon)),U({lat:r.lat,lng:r.lon}),e.next=11,$a.details.searchTimezoneByCoordinates(a,(function(e){n&&n(e&&e.length>0&&e[0].Id);var t=e[0]&&e[0].ReferenceTime&&(e[0].ReferenceTime.WallTime||"");m&&m(t)}));case 11:v&&b&&h();case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Te=Object(hs.a)().t;return s.a.createElement(s.a.Fragment,null,s.a.createElement(d.v,{mode:"ios",className:"typeahead-item ".concat(o||ae?"ion-error-field-validation":"ion-field-validation")},c.length>0?s.a.createElement(d.w,{mode:"ios",position:"floating"},c):null,s.a.createElement(d.u,{type:"text",disabled:a,className:"cts-form-control",name:p,onIonChange:function(e){return function(e){var t=j.trim();(ye.test(e.target.value)||Ee||(e.target.value=e.target.value.replace(/[^a-zA-Z0-9 ]*/g,"")),L(e.target.value),z(!0),j!==e.target.value)&&(t!==e.target.value.trim()&&Oe(e.target.value));q&&X(""),Ee?u({target:{name:p,value:e.target.value,backClicked:se,lat:P.lat,lng:P.lng,country:ue}}):(u({target:{name:p,value:e.target.value,backClicked:se,lat:P.lat,lng:P.lng,country:D}}),n&&n("")),he(!1)}(e)},value:j,placeholder:K,onIonFocus:function(){_&&_()},onIonBlur:function(){return Se(!0),G(!1),pe=N.some((function(e){return e.cityName===j})),v&&b&&h(),pe?(re(!1),y(!1,p)):(j===J.cityName||v&&j===g?(re(!1),y(!1,p)):(re(!0),y(!0,p)),0===j.length&&(re(!0),y(!0,p))),void oe(!1)},onClick:function(e){(be||J.cityName===j||v&&j===S)&&(L(""),z(!0),oe(!0),Se(!1))}},s.a.createElement(d.r,{slot:"end",alt:"logo",src:"/assets/icon/search_icon.svg",className:"origin-input_icon"})),v&&""!==j?s.a.createElement(d.r,{slot:"end",alt:"logo",src:"/assets/icon/cancel.svg",className:"destination-input_icon",onClick:function(){L(g)}}):null),s.a.createElement("div",{className:"pickupdate-error"},s.a.createElement("p",null,o?Te(o):ae?Te("CityError"):"")),V?s.a.createElement("div",{className:" ".concat(E?"suggestion-startTrip":"suggestions_div ")},s.a.createElement(d.H,{className:"suggestions_row"},E?null:s.a.createElement(d.k,{class:"icon-col"},J.cityName?s.a.createElement(d.r,{alt:"logo",src:"/assets/icon/position.svg",className:"position_icon"}):null),s.a.createElement(d.k,{class:"suggestion-col"},J.cityName?s.a.createElement(d.H,{className:" ".concat(E?"current-location2":"current-location "),onMouseDown:function(){return J&&De({cityName:J.cityName,country:J.country})}},s.a.createElement(d.k,{className:"currentLocation-col"},E?null:s.a.createElement(d.w,{position:"floating"},Te("Current Location")),s.a.createElement(d.u,{className:"".concat(E?"suggestion-border":"cts-form-control"),type:"text",value:E?l:J.cityName,readonly:!0}))):null,v?s.a.createElement(d.H,{className:"suggestions_item",onMouseDown:function(){return De({cityName:g})}},s.a.createElement(d.k,{class:"suggestions_list"},Te(g))):"",N.length?s.a.createElement(d.o,{class:"suggestions ".concat(v?"destination_suggestions":""," ").concat(E?"suggestions-pad":"")},N.map((function(e,t){return s.a.createElement(d.H,{className:"suggestions_item",key:t,onMouseDown:function(){return De(e)}},s.a.createElement(d.k,{class:"suggestions_list"},e.cityName))}))):s.a.createElement("div",{className:"pickupdate-error"},s.a.createElement("p",null,E?"":Te("CityError")))))):null)},bs=a(191),Ss=(a(525),a(526),function(e){var t=e.labelName,a=e.InputValue,r=e.handleChange,n=e.name,o=e.divClassName,c=e.rangeDisabled,l=Object(i.useState)(a),u=Object(Fe.a)(l,2),p=u[0],m=u[1],f=Object(bs.a)(bs.b);return Object(i.useEffect)((function(){m(a)}),[a]),s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"ion-item1"},s.a.createElement("div",{className:o}," ",s.a.createElement(d.w,{mode:"ios",className:"ion-label-radius"},t)," ",s.a.createElement("div",{className:"value-div"}," ",p," mi")),s.a.createElement(f,{min:25,marks:{25:"25mi",50:"50 mi",75:"",100:"100 mi",125:"",150:"150 mi",175:"",200:"200 mi",225:"",250:{style:{left:"95%",width:"38px"},label:"250 mi"}},step:25,max:250,onChange:function(e){m(e),r({target:{name:n,value:e}})},tipFormatter:function(e){return"".concat(e," mi")},value:p,disabled:c})))});function ys(e,t){var a="",r=Os(e)||{},n=Os(t)||{},i=r.year===n.year?"":n.year,s=r.month===n.month?"":n.month,o=r.day===n.day?"":n.day,c=n.time,l="";return Object.keys(r).length&&(a="".concat(r.month," ").concat(r.day," ").concat(r.time)),i&&(l=i),(s&&!o||!s&&o||s&&o)&&(l="".concat(l," ").concat(n.month," ").concat(n.day)),c&&(l="".concat(l," ").concat(c)),l&&(a="".concat(a," -").concat(l)),a}var Os=function(e){if(!/\d{4}-[0-9]\d-[0-9]\dT[0-9]\d:[0-9]\d/.test(e))return null;var t=(e=e.split("T"))[0],a=e[1],r=t.split("-"),n=parseInt(r[0]),i=j[parseInt(r[1])-1],s=parseInt(r[2]),o=(a=a&&a.split(":")).length?a[0]:"",c=a.length?a[1]:"";c&&-1!==c.indexOf("-")&&(c=c.slice(0,c.indexOf("-")));var l=o>=12?"PM":"AM";return{year:n,month:i,day:s,time:"".concat(o=o%12||12,":").concat(c).concat(l)}},_s=function(){return Ua.details.auth.user.roles&&Ua.details.auth.user.roles.map((function(e){return P[e]}))||[]},As=function(e){var t="",a="";return e.appointmentEarlyDateTime?(t=e.appointmentEarlyDateTime,a=e.appointmentLateDateTime):e.actualETADateTime?(t=e.actualETADateTime,a=""):e.plannedEtaDateTime&&(t=e.plannedEtaDateTime,a=""),ys(t||"",a||"")},Ds=function(e){var t=e.specialServices||e.stopActivity||[];return t&&t.map((function(e){return e.name})).join(",")||""},Ts=function(e,t,a,r,n,i){var s=[];return e&&t&&a&&r?(e.forEach((function(e){var o={},c=e.loadStop&&e.loadStop.slice().sort((function(e,t){return e.sequenceNo&&t.sequenceNo?e.sequenceNo-t.sequenceNo:e.stopSequence&&t.stopSequence?e.stopSequence-t.stopSequence:0}));"shipmentId"!==r&&(c=c&&c.filter((function(e){return"NFR"!==e.stopType})));var l=c&&c[0],u=c&&c.slice(-1)[0];if(o.loadId=e[r],l&&(o.origin_city="".concat(l.city,", ").concat(l.state),o.origin_from_date="shipmentId"===r?As(l):ys(l[t]||"",l[a]||""),o.origin_deadhead=l.deadHead,o.origin_load_type=Ds(l)),u&&(o.destination_city="".concat(u.city,", ").concat(u.state),o.destination_from_date="shipmentId"===r?As(u):ys(u[t]||"",u[t]||""),o.destination_deadhead=u.deadHead,o.destination_load_type=Ds(u)),o.trailer=e[n],o.price=e&&e.rate&&e.rate.totalCharge?e.rate.totalCharge:"Contact for price",i){var d="U",p=e.shipmentInvolvedParties&&e.shipmentInvolvedParties.filter((function(e){return"PRIMARY DRIVER"===e.partyType}));if(p=p.length?p[0].partyName:""){var m=p.slice(0,1),f=p.indexOf(" ")>0?p.slice(p.indexOf(" ")+1,p.indexOf(" ")+2):"";d=m.toUpperCase()+f.toUpperCase()}o.driverName=d}s.push(o)})),s):"Missing requried parametres"},Rs=function(){var e=(new Date).getFullYear(),t=(new Date).getMonth(),a=[e];return 11===t&&a.push(e+1),0===t&&a.push(e-1),a},Ns=function(e){var t=e.labelName,a=e.InputValue,r=e.placeholder,n=e.handleChange,i=e.Error,o=e.name,c=e.useHandler,l=e.rangeDisabled,u=e.localTime,p=Rs()||(new Date).getFullYear(),m=Object(hs.a)().t;return s.a.createElement(s.a.Fragment,null,s.a.createElement(d.v,{mode:"ios",className:"date-picker-item ".concat(i?"ion-error-field-validation":"ion-field-validation"),lines:"dropdate"===o&&c?"none":"full"},s.a.createElement(d.w,{mode:"ios",className:"date-picker-label"},t),s.a.createElement(d.m,{displayFormat:"MMM DD, YYYY",min:u&&u.split("T")[0],yearValues:p,name:o,value:a&&a.split("T")[0]||"",disabled:l,onIonChange:n,mode:"ios",placeholder:r})),s.a.createElement("div",{className:"pickupdate-error"},s.a.createElement("p",null,m(i))))},Is=function(e){var t=e.originError,a=e.origin,r=e.originRadius,n=e.pickUpdateError,i=e.pickUpdate,o=e.isDestination,c=e.defaultValue,l=e.useHandler,u=e.setErrorValue,p=e.updateLocalCurrentTime,m=e.pickUpLocalTime,f=e.country,E=void 0===f?"":f,h=Object(hs.a)().t;return s.a.createElement(d.o,{className:"pickup-data"},s.a.createElement(d.H,null,s.a.createElement(d.k,null,s.a.createElement(vs,{Error:t,labelValue:h("Origin"),InputValue:a,InputName:"origin",handleChange:function(t){return e.handleChange(t)},isDestination:o,deFaultValue:h(c),locationValue:!1,useHandler:l,setErrorValue:u,getLocalTime:function(t){e.showDate&&p("pickUpdate",t)},onFocus:e.onFocus||function(){},country:E}))),s.a.createElement(d.H,null,s.a.createElement(d.k,null,s.a.createElement(Ss,{labelName:h("Origin Radius"),rangeDisabled:e.rangeOriginDisable,InputValue:r,divClassName:"pickRadius",name:r,handleChange:e.handleChange}))),e.showDate?s.a.createElement(d.H,null,s.a.createElement(d.k,null,s.a.createElement(Ns,{Error:n,rangeDisabled:e.rangeOriginDisable,"display-timezone":"utc",labelName:h("Pickup Date"),name:"pickUpdate",InputValue:i,handleChange:e.handleChange,placeholder:h("Choose Pickup Date"),localTime:m}))):null)},Cs=function(e){var t=e.destinationError,a=e.destination,r=e.destinationRadius,n=e.dropUpdateError,i=e.dropdate,o=e.defaultValue,c=e.isDestination,l=e.useHandler,u=e.setErrorValue,p=e.updateLocalCurrentTime,m=e.dropLocalTime,f=e.showDate,E=e.country,h=void 0===E?"":E,g=Object(hs.a)().t;return s.a.createElement(d.o,{className:"delivery-data"},s.a.createElement(d.H,null,s.a.createElement(d.k,null,s.a.createElement(vs,{Error:t,locationValue:!1,labelValue:g("Destination"),InputValue:a,InputName:"destination",handleChange:e.handleChange,keyboardshowHandler:e.keyboardshowHandler,keyboardhideHandler:e.keyboardhideHandler,deFaultValue:o,isDestination:c,useHandler:l,setErrorValue:u,getLocalTime:function(e){p("dropdate",e)},onFocus:e.onFocus||function(){},country:h}))),s.a.createElement(d.H,null,s.a.createElement(d.k,null,s.a.createElement(Ss,{labelName:g("Destination Radius"),rangeDisabled:e.rangeDisable,InputValue:r,divClassName:"pickRadius",name:"destinationRadius",handleChange:e.handleChange}))),f?s.a.createElement(d.H,null,s.a.createElement(d.k,null,s.a.createElement(Ns,{Error:n,labelName:g("Delivery Date"),rangeDisabled:e.rangeDisable,name:"dropdate",InputValue:i,handleChange:e.handleChange,placeholder:g("Choose Delivery Date"),useHandler:l,localTime:m}))):null)},ks={loadId:!0,loadPostingStatus:!0,sourceSystem:!0,hasAppointments:!0,isHazardous:!0,isHighValue:!0,isTemperatureControlled:!0,totalDistance:!0,distanceUOM:!0,totalWeight:!0,weightUOM:!0,numberOfStops:!0,transportMode:!0,termsAndConditions:!0,rate:{binRateIdentifier:!0,binSource:!0,totalCharge:!0,lineHaulCharge:{charge:!0,unitCharge:!0,quantity:!0,rateQualifier:!0,chargeDescription:!0},fuelCharge:{charge:!0,unitCharge:!0,quantity:!0,rateQualifier:!0,chargeDescription:!0},accessorials:{accessorialCode:!0,accessorialDescription:!0,accessorialType:!0,accessorialCharge:{charge:!0,unitCharge:!0,quantity:!0,rateQualifier:!0,chargeDescription:!0}}},loadStop:{stopSequence:!0,stopType:!0,activityType:!0,city:!0,state:!0,postalCode:!0,country:!0,stopId:!0,appointmentFrom:!0,appointmentTo:!0,timeZone:!0,deadHead:!0,specialServices:{specialServiceDesc:!0}},buyAllowed:!0},js=function(){function e(){Object(qe.a)(this,e),this.recommendedState={carrierId:"",carrierScac:"",carrierTier:"",page:0,size:5,sortColumn:"pickupDate",sortDirection:"asc",managedEquipmentCapability:"",nonManagedEquipmentCapability:"",userRole:""}}return Object(ze.a)(e,[{key:"persistLoads",value:function(e){return xa("Carrier-rcmd-Loads",e)}},{key:"getLoads",value:function(){return Va("Carrier-rcmd-Loads")}},{key:"getRequestPayload",value:function(){return{query:{recommendedLoads:{__args:{input:this.recommendedState},totalRecords:!0,loadPostings:Object(p.a)({},ks)}}}}},{key:"carrierId",get:function(){return this.recommendedState.carrierId},set:function(e){e&&(this.recommendedState.carrierId=e)}},{key:"carrierScac",get:function(){return this.recommendedState.carrierScac},set:function(e){e&&(this.recommendedState.carrierScac=e)}},{key:"carrierTier",get:function(){return this.recommendedState.carrierTier},set:function(e){e&&(this.recommendedState.carrierTier=e)}},{key:"page",get:function(){return this.recommendedState.page},set:function(e){e&&(this.recommendedState.page=e)}},{key:"size",get:function(){return this.recommendedState.size},set:function(e){e&&(this.recommendedState.size=e)}},{key:"sortColumn",get:function(){return this.recommendedState.sortColumn},set:function(e){e&&(this.recommendedState.sortColumn=e)}},{key:"sortDirection",get:function(){return this.recommendedState.sortDirection},set:function(e){e&&(this.recommendedState.sortDirection=e)}},{key:"managedEquipmentCapability",get:function(){return this.recommendedState.managedEquipmentCapability},set:function(e){e&&(this.recommendedState.managedEquipmentCapability=e)}},{key:"nonManagedEquipmentCapability",get:function(){return this.recommendedState.nonManagedEquipmentCapability},set:function(e){e&&(this.recommendedState.nonManagedEquipmentCapability=e)}},{key:"userRole",get:function(){return this.recommendedState.userRole},set:function(e){e&&(this.recommendedState.userRole=e)}}]),e}(),Ls=function(){function e(){Object(qe.a)(this,e),this.distance="mi",this.carrierState={size:5,page:0,sortColumn:"pickUpdate",sortDirection:"asc",managedEquipmentCapability:"",nonManagedEquipmentCapability:""}}return Object(ze.a)(e,[{key:"getRequestPayload",value:function(){return{query:{searchLoadPostings:{__args:{input:this.carrierState},totalRecords:!0,loadPostings:Object(p.a)(Object(p.a)({},ks),{},{specialServices:{serviceDesc:!0,specialServiceDesc:!0}})}}}}},{key:"persistLoads",value:function(e){return xa("Search-Loads",e)}},{key:"getLoads",value:function(){return Va("Search-Loads")}},{key:"recentLoads",value:function(e){return xa("Recent-Loads",e)}},{key:"getRecentLoads",value:function(){return Va("Recent-Loads")}},{key:"favoriteLoads",value:function(e){return xa("Favorite-Loads",e)}},{key:"getfavoriteLoadss",value:function(){return Va("Favorite-Loads")}},{key:"sortDirection",get:function(){return this.carrierState.sortDirection},set:function(e){e&&(this.carrierState.sortDirection=e)}},{key:"page",get:function(){return this.carrierState.page},set:function(e){e&&(this.carrierState.page=e)}},{key:"size",get:function(){return this.carrierState.size},set:function(e){e&&(this.carrierState.size=e)}},{key:"originCountry",get:function(){return this.carrierState.originCountry},set:function(e){e&&(this.carrierState.originCountry=e)}},{key:"destinationCountry",get:function(){return this.carrierState.destinationCountry},set:function(e){e&&(this.carrierState.destinationCountry=e)}},{key:"sortColumn",get:function(){return this.carrierState.sortColumn},set:function(e){e&&(this.carrierState.sortColumn=e)}},{key:"userID",get:function(){return this.carrierState.userId},set:function(e){e&&(this.carrierState.userId=e)}},{key:"carrierId",get:function(){return this.carrierState.carrierId},set:function(e){e&&(this.carrierState.carrierId=e)}},{key:"originCity",get:function(){return this.carrierState.originCity},set:function(e){e&&(this.carrierState.originCity=e)}},{key:"originState",get:function(){return this.carrierState.originState},set:function(e){e&&(this.carrierState.originState=e)}},{key:"originRadius",get:function(){return this.carrierState.originRadius},set:function(e){e&&(this.carrierState.originRadius=e)}},{key:"pickUpdate",get:function(){return this.carrierState.pickUpdate},set:function(e){e&&(this.carrierState.pickUpdate=e)}},{key:"destinationCity",get:function(){return this.carrierState.destinationCity},set:function(e){e&&(this.carrierState.destinationCity=e)}},{key:"destinationState",get:function(){return this.carrierState.destinationState},set:function(e){e&&(this.carrierState.destinationState=e)}},{key:"destinationRadius",get:function(){return this.carrierState.destinationRadius},set:function(e){e&&(this.carrierState.destinationRadius=e)}},{key:"dropDate",get:function(){return this.carrierState.dropDate},set:function(e){e&&(this.carrierState.dropDate=e)}},{key:"trailerType",get:function(){return this.carrierState.trailerType},set:function(e){e&&(this.carrierState.trailerType=e)}},{key:"favorite",get:function(){return this.carrierState.favorite},set:function(e){e&&(this.carrierState.favorite=e)}},{key:"carrierScac",get:function(){return this.carrierState.carrierScac},set:function(e){e&&(this.carrierState.carrierScac=e)}},{key:"carrierTier",get:function(){return this.carrierState.carrierTier},set:function(e){e&&(this.carrierState.carrierTier=e)}},{key:"userRole",get:function(){return this.carrierState.userRole},set:function(e){e&&(this.carrierState.userRole=e)}},{key:"managedEquipmentCapability",get:function(){return this.carrierState.managedEquipmentCapability},set:function(e){e&&(this.carrierState.managedEquipmentCapability=e)}},{key:"nonManagedEquipmentCapability",get:function(){return this.carrierState.nonManagedEquipmentCapability},set:function(e){e&&(this.carrierState.nonManagedEquipmentCapability=e)}}]),e}(),ws=new Ls;Object.freeze(ws);var Ms=function(e,t){var a=e.origin,r=e.originRadius,n=e.pickUpdate,i=e.TrailerType,s=e.dropdate,o=e.destinationRadius,c=e.favorite,l=e.destination,u=e.originCountry,d=e.destinationCountry,p="";if(e.pickUpLocalTime){var m=(p=e.pickUpLocalTime.split("T")[1]).indexOf("-"),f=-1!==m?p.slice(m,m+6):"-00:00";p=p.slice(0,12)+f}var E="";if(e.dropLocalTime){var h=(E=e.dropLocalTime.split("T")[1]).indexOf("-"),g=-1!==h?E.slice(h,h+6):"-00:00";E=E.slice(0,12)+g}var v={origin:a,originCountry:u,destinationCountry:d,originRadius:r,destination:l,pickUpdate:n&&"".concat(n.split("T")[0],"T").concat(p)||"",TrailerType:i,dropdate:s&&"".concat(s.split("T")[0],"T").concat(E)||"",destinationRadius:o,favorite:c};""!==e.destinationError||""!==e.originError||""!==e.dropUpdateError||""!==e.pickUpdateError||e.isCityError||(t.submitForm(v),t.history.push("/app/search/results",{params:v,searchInput:Ps(v,t),totalRecords:t.totalRecords}))},Ps=function(e,t){var a=new Ls;if(e){var r=-1!==e.destination.indexOf(",")?e.destination.split(","):[e.destination,e.destination],n=-1!==e.origin.indexOf(",")?e.origin.split(","):[e.origin,e.origin],i=_s(),s=e;a.originCity=n[0].trim(),a.originState=n[1].trim(),a.originRadius=s.originRadius,a.pickUpdate=s.pickUpdate,a.dropDate=s.dropdate,"Anywhere"!==e.destination&&(a.destinationCity=r[0].trim(),a.destinationState=r[1].trim()),a.destinationRadius=s.destinationRadius,a.favorite=s.favorite,a.trailerType=s.TrailerType,a.userID=t.userDetails&&t.userDetails.userPrincipalName,a.carrierId=t.userDetails&&t.userDetails.carrierId,a.page=0,a.size=5,a.sortColumn="pickUpdate",a.originCountry=s.originCountry,a.destinationCountry=s.destinationCountry,a.carrierScac=t.userDetails&&t.userDetails.carrierScac||"",a.carrierTier=t.userDetails&&t.userDetails.carrierTier||"",a.managedEquipmentCapability=t.userDetails&&t.userDetails.managedEquipmentCapability||null,a.nonManagedEquipmentCapability=t.userDetails&&t.userDetails.nonManagedEquipmentCapability||null,a.userRole=i.join(",")}return a},Us=function(e,t){var a={},r=e.target.backClicked,n=t.pickUpLocalTime&&t.pickUpLocalTime.split("T")[0],i="";return"pickUpdate"===e.target.name&&(i=e.target.value),"pickUpdate"===e.target.name&&i<n?a=Object(p.a)(Object(p.a)({},a),{},{pickUpdateError:"Please provide a correct pickup date."}):"pickUpdate"===e.target.name&&i>=n?a=Object(p.a)(Object(p.a)({},a),{},{pickUpdateError:""}):"dropdate"===e.target.name&&e.target.value>=t.pickUpdate?a=Object(p.a)(Object(p.a)({},a),{},{dropUpdateError:""}):"dropdate"===e.target.name&&e.target.value<t.pickUpdate&&""!==e.target.value?a=Object(p.a)(Object(p.a)({},a),{},{dropUpdateError:"Please provide correct delivery date"}):"origin"!==e.target.name||0!==e.target.value.length||r?"origin"===e.target.name&&e.target.country.length>0?a=Object(p.a)(Object(p.a)({},a),{},{originCountry:e.target.country}):"destination"===e.target.name&&e.target.country.length>0?a=Object(p.a)(Object(p.a)({},a),{},{destinationCountry:e.target.country,destinationError:"",rangeDisable:!1}):"origin"===e.target.name&&e.target.value.length>0?a=Object(p.a)(Object(p.a)({},a),{},{originError:""}):"destination"!==e.target.name||0!==e.target.value.length||r?"destination"===e.target.name&&e.target.value.length>0?a=Object(p.a)(Object(p.a)({},a),{},{destinationError:"",rangeDisable:!1}):"destinationRadius"===e.target.name&&e.target.value>100&&(a=Object(p.a)(Object(p.a)({},a),{},{rangeDisable:!1})):a=Object(p.a)(Object(p.a)({},a),{},{destinationError:_,rangeDisable:!0}):a=Object(p.a)(Object(p.a)({},a),{},{originError:O}),"pickUpdate"===e.target.name&&t.dropdate<e.target.value&&""!==t.dropdate?a=Object(p.a)(Object(p.a)({},a),{},{dropUpdateError:"Please provide correct delivery date"}):"pickUpdate"===e.target.name&&t.dropdate>=e.target.value&&(a=Object(p.a)(Object(p.a)({},a),{},{dropUpdateError:""})),a},xs=function(e,t){var a={};return"origin"===t&&!0===e?a={originError:O}:"destination"===t&&!0===e?a={destinationError:_}:"origin"===t&&!1===e?a={originError:""}:"destination"===t&&!1===e&&(a={destinationError:""}),a};var Fs=(new Date).toISOString(),Vs=function(e){Object(Ke.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(Ze.a)(e);if(t()){var n=Object(Ze.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(Xe.a)(this,a)}}(a);function a(){var e;Object(qe.a)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={showDelivaryfields:!1,origin:"",originCountry:"",destinationCountry:"",destination:S,originRadius:100,pickUpdate:Fs,dropdate:"",TrailerType:"Dry Van",destinationRadius:100,favorite:!1,searchResultPage:!1,pickUpdateError:"",dropUpdateError:"",destinationError:"",originError:"",isCityError:!1,rangeDisable:!0,rangeOriginDisable:!1,showResults:e.props.isRecentSearch,pickUpLocalTime:Fs,dropLocalTime:Fs},e.dateUpdated=!1,e.keyboardshowHandler=function(){document.getElementsByClassName("search-form-mobile")[0].classList.add("scroll-up")},e.keyboardhideHandler=function(){document.getElementsByClassName("search-form-mobile")[0].classList.remove("scroll-up")},e.handleChange=function(t){var a=t.target.value;e.setState(Object(Es.a)({},t.target.name,a));var r=Us(t,e.state);e.setState(r)},e.Apply=function(t){St("ue_search_request",{page:"Search Page"}),St(ot.UE_SEARCH_SEE_RESULTS,{screen:ct.SEARCH_FILTER,tab:lt.NEW}),t.preventDefault(),e.state.destination!==S&&""===e.state.dropdate?e.setState({dropUpdateError:"Please provide correct delivery date"}):(e.setState({dropUpdateError:""}),e.props.isNetworkAvailable?e.state.origin?Ms(e.state,e.props):e.setState({originError:O}):e.props.showAlert())},e.updateLocalCurrentTime=function(t,a){if("pickUpdate"===t){var r=e.state.pickUpdate,n=a;!e.dateUpdated&&a&&(r=n.split("T")[0],e.dateUpdated=!0),e.setState({pickUpdate:r,pickUpLocalTime:a})}"dropdate"===t&&e.setState({dropLocalTime:a})},e}return Object(ze.a)(a,[{key:"componentDidUpdate",value:function(){this.state.destination.length>0&&this.state.destination!==S&&this.state.TrailerType.length>0&&(100===this.state.destinationRadius||this.state.destinationRadius>100)&&this.setState({rangeDisable:!1}),this.state.destination.length>0&&this.state.destination===S&&this.setState({rangeDisable:!0,dropdate:"",destinationRadius:100,dropUpdateError:""})}},{key:"componentDidMount",value:function(){yt("screen_search_page"),this.setState(this.props.data),St(ot.SV_SEARCH_FILTER,{screen:ct.SEARCH_FILTER,tab:lt.NEW})}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement(d.l,{className:"ion-padding search_form_container",class:"background"},s.a.createElement("form",{className:"search-form"},s.a.createElement(d.o,{class:"new_page_list search-mobile"},s.a.createElement(d.g,{class:"trailer-type-card"},s.a.createElement(gs,{labelName:"Trailer type",TrailerType:this.state.TrailerType,handleChange:this.handleChange})),s.a.createElement(d.o,{class:"search-form-mobile"},s.a.createElement(d.H,{class:"pickup-row"},Sr.t("Pick-up")),s.a.createElement(Is,Object.assign({"data-test":"pick-upData"},this.state,{showDate:!0,handleChange:this.handleChange,rangeDisabled:this.state.rangeOriginDisable,isDestination:!1,defaultValue:S,useHandler:!1,setErrorValue:function(t,a){return e.setState(xs(t,a))},updateLocalCurrentTime:this.updateLocalCurrentTime})),s.a.createElement(d.g,{class:"delivery-type-card"},s.a.createElement(d.i,{class:"".concat(this.state.showDelivaryfields?"":"changeColor"),onClick:function(){e.setState({showDelivaryfields:!e.state.showDelivaryfields})}},s.a.createElement("span",null," ",Sr.t("Delivery")),this.state.showDelivaryfields?s.a.createElement(d.q,{src:"assets/icon/minus-icon.svg"}):s.a.createElement("div",{className:"desitnation-city"},Sr.t(this.state.destination),s.a.createElement(d.q,{src:"assets/icon/plus.svg"}))),s.a.createElement(d.h,{class:"".concat(this.state.showDelivaryfields?"fadein":"fadeout")},s.a.createElement(Cs,Object.assign({},this.state,{showDate:!0,handleChange:this.handleChange,rangeDisabled:this.state.rangeDisable,platform:"mobile",keyboardshowHandler:this.keyboardshowHandler,keyboardhideHandler:this.keyboardhideHandler,defaultValue:S,isDestination:!0,useHandler:!0,setErrorValue:function(t,a){return e.setState(xs(t,a))},DestinationRadius:"DestinationRadius",updateLocalCurrentTime:this.updateLocalCurrentTime}))))),s.a.createElement(d.g,{class:"fav-card"},s.a.createElement(d.w,null," ",Sr.t("Add as Favorite")),s.a.createElement(d.q,{"data-test":"favorite-click",src:"assets/icon/star.svg",class:this.state.favorite?"fav-star":"",onClick:function(){e.setState({favorite:!e.state.favorite})}}))))),s.a.createElement(d.n,{class:"searchPageFooter"},s.a.createElement(d.e,{expand:"full","data-test":"apply-mobile",onClick:function(t){return e.Apply(t)}},Sr.t("See Results"))))}}]),a}(i.PureComponent),Gs=Object(Me.h)(Vs),Hs=function(e){return e.search},Bs=function(){return Object(xe.a)(Hs,(function(e){return e.loads||De.loads}))},qs=function(){function e(){Object(qe.a)(this,e),this.carrierState={}}return Object(ze.a)(e,[{key:"searchLoads",get:function(){return this.carrierState.searchLoads}}]),e}(),zs=null,Ys=Object(xe.b)({loading:ln(),data:Bs(),userData:un(),userDetails:pn(),isNetworkAvailable:fn()}),Ws=Object(u.c)(Ys,(function(e){return{fectchData:function(t,a){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e(da(t,a,r))},searchData:function(t){return e(la(t))},clearLoads:function(){return e({type:"CLEAR_SEARCH_RESULST",payload:[]})},showAlert:function(){return e(or())}}})),Ks=fs({key:"search",reducer:Te}),Xs=ps({key:"search",saga:wn}),Zs=Object(m.compose)(Xs,Ks,Ws)(Object(Me.h)(s.a.memo((function(e){var t=e.location,a=e.fectchData,r=e.data,n=e.clearLoads,o=e.isRecentSearch,c=e.userDetails,l=e.isNetworkAvailable,u=e.showAlert,d=Object(i.useState)({}),p=Object(Fe.a)(d,2),m=p[0],f=p[1],E=function(){var e=Object(He.a)(Ge.a.mark((function e(t){var r,i,s,o;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=_s(),n(),i=new Ls,s=-1!==t.destination.indexOf(",")?t.destination.split(","):[t.destination,t.destination],o=-1!==t.origin.indexOf(",")?t.origin.split(","):[t.origin,t.origin],zs=t,i.originCity=o[0].trim(),i.originState=o[1].trim(),i.originRadius=zs.originRadius,i.pickUpdate=zs.pickUpdate,i.dropDate=zs.dropdate,"Anywhere"!==t.destination&&(i.destinationCity=s[0].trim(),i.destinationState=s[1].trim()),i.destinationRadius=zs.destinationRadius,i.favorite=zs.favorite,i.trailerType=zs.TrailerType,i.userID=c&&c.userPrincipalName||"",i.carrierId=c&&c.carrierId||"",i.page=0,i.size=5,i.sortColumn="pickUpdate",i.originCountry=zs.originCountry,i.destinationCountry=zs.destinationCountry,i.sortDirection="asc",i.carrierScac=c&&c.carrierScac||"",i.carrierTier=c&&c.carrierTier||"",i.managedEquipmentCapability=c&&c.managedEquipmentCapability||null,i.nonManagedEquipmentCapability=c&&c.nonManagedEquipmentCapability||null,i.userRole=r.join(","),f(i),a(i.getRequestPayload(),!1,!1);case 30:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return s.a.createElement(Gs,{isRecentSearch:o,data:t.state?t.state.params:{},submitForm:E,results:ka.dataToDomain(qs,r),userDetails:c,totalRecords:r.totalRecords,searchInput:m,isNetworkAvailable:l,showAlert:u,handleSortingPagination:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];a(e.getRequestPayload(),t,r)}})})))),Qs=(a(527),a(190)),Js=a(148),$s=a.n(Js);a(265),a(266);function eo(e){switch(e){case 0:return"Jan";case 1:return"Feb";case 2:return"Mar";case 3:return"Apr";case 4:return"May";case 5:return"Jun";case 6:return"Jul";case 7:return"Aug";case 8:return"Sep";case 9:return"Oct";case 10:return"Nov";case 11:return"Dec";default:return""}}var to=function(e){var t=Object(i.useState)(),a=Object(Fe.a)(t,2),r=a[0],n=a[1];Object(i.useEffect)((function(){e.favoriteFlag||n(e.recentData)}),[e.recentData]);var o,c=[{name:"Origin",selector:"",width:"91",style:{fontWeight:800,fontSize:14,colorName:"#000000"},cell:function(e){return"Anywhere"===e.originCity?s.a.createElement("div",{className:"originCity"},e.originCity):s.a.createElement("div",{className:"originCity"},"".concat(e.originCity,", ").concat(e.originState))}},{name:"Origin Date",selector:"pickup_date",width:"120px"},{name:"Origin Radius",selector:"",width:"65",cell:function(e){return null!=e.originradius?s.a.createElement("div",null,e.originradius," mi"):s.a.createElement("div",null)}},{name:"Destination",selector:"",width:"82",style:{fontWeight:800,fontSize:14,colorName:"#000000"},cell:function(e){return null===e.destinationCity?s.a.createElement("div",{className:"originCity"},"Anywhere"):s.a.createElement("div",{className:"originCity"},"".concat(e.destinationCity,", ").concat(e.destinationState))}},{name:"Destination Date",selector:"",width:"150px",cell:function(e){return null===e.dropdate||null===e.destinationCity?s.a.createElement("div",null):s.a.createElement("div",null,e.dropdate&&"".concat(eo(new Date(e.dropdate).getMonth())," \n            ").concat(("0"+new Date(e.dropdate).getDate()).slice(-2)))}},{name:"Destination Radius",selector:"",width:"79",cell:function(e){return null!=e.destinationradius?s.a.createElement("div",null,e.destinationradius," mi"):s.a.createElement("div",null,"NA")}},{name:"Trailer Type",selector:"trailertype",width:"84"},{name:"",selector:"",width:"50px",cell:function(t){return t.favouritesearchindicator?s.a.createElement(d.r,{className:"star_icon",onClick:function(a){if(a.stopPropagation(),e.updateFavorite(!1,t),!e.favoriteFlag){var i=r.map((function(e){return e.id===t.id?Object(p.a)(Object(p.a)({},e),{},{favouritesearchindicator:!t.favouritesearchindicator}):e}));n(i)}},src:"assets/icon/star-color.svg"}):s.a.createElement(d.r,{className:"star_icon",onClick:function(a){if(a.stopPropagation(),e.updateFavorite(!0,t),!e.favoriteFlag){var i=r.map((function(e){return e.id===t.id?Object(p.a)(Object(p.a)({},e),{},{favouritesearchindicator:!t.favouritesearchindicator}):e}));n(i)}},src:"assets/icon/star.svg"})}},{name:"",selector:"",width:"50px",cell:function(e){return s.a.createElement(d.o,{"data-test":"IonGrid-RecentSearchDesktop",class:"datatable-badge"},s.a.createElement("i",null))}}],l=[{name:"Origin",selector:"",width:"91",style:{fontWeight:800,fontSize:14,colorName:"#000000"},cell:function(e){return"Anywhere"===e.originCity?s.a.createElement("div",{"data-test":"origin-anywhere",className:"originCity"},e.originCity):s.a.createElement("div",{className:"originCity","data-test":"origin-city"},"".concat(e.originCity,", ").concat(e.originState))}},{name:"Origin Radius",selector:"",width:"65",cell:function(e){return null!=e.originradius?s.a.createElement("div",{"data-test":"origin-radius"},e.originradius," mi"):s.a.createElement("div",null)}},{name:"Destination",selector:"",width:"82",style:{fontWeight:800,fontSize:14,colorName:"#000000"},cell:function(e){return null===e.destinationCity?s.a.createElement("div",{className:"originCity","data-test":"destination-city"},"Anywhere"):s.a.createElement("div",{className:"originCity"},"".concat(e.destinationCity,", ").concat(e.destinationState))}},{name:"Destination Radius",selector:"",width:"79",cell:function(e){return null!=e.destinationradius?s.a.createElement("div",null,e.destinationradius," mi"):s.a.createElement("div",null,"NA")}},{name:"Trailer Type",selector:"trailertype",width:"84"},{name:"",selector:"",width:"50px",cell:function(t){return t.favouritesearchindicator?s.a.createElement(d.r,{className:"star_icon","data-test":"recent-star1",onClick:function(a){if(a.stopPropagation(),e.updateFavorite(!1,t),!e.favoriteFlag){var i=r.map((function(e){return e.id===t.id?Object(p.a)(Object(p.a)({},e),{},{favouritesearchindicator:!t.favouritesearchindicator}):e}));n(i)}},src:F}):s.a.createElement(d.r,{className:"star_icon","data-test":"recent-star",onClick:function(a){if(a.stopPropagation(),e.updateFavorite(!0,t),!e.favoriteFlag){var i=r.map((function(e){return e.id===t.id?Object(p.a)(Object(p.a)({},e),{},{favouritesearchindicator:!t.favouritesearchindicator}):e}));n(i)}},src:V})}},{name:"",selector:"",width:"50px",cell:function(e){return s.a.createElement(d.o,{"data-test":"IonGrid-RecentSearchDesktop",class:"datatable-badge"},s.a.createElement("i",null))}}];return o=e.favoriteFlag?e.recentData&&e.recentData.filter((function(t,a,r){return(!e.favoriteFlag||!e.ID.includes(t.id))&&t})).map((function(e,t,a){var r=e.originCity,n=e.originState,i=e.destinationCity,s=e.destinationState,o=e.destinationradius,c=e.trailertype,l=e.originradius,u=e.favouritesearchindicator,d=e.pickupdate,p=e.searchdate,m=e.userid,f=e.id,E=e.carrierid,h={originCity:r,destinationState:s,destinationCity:i,originradius:l,destinationradius:o,trailertype:c,favouritesearchindicator:u,pickupdate:d,dropdate:e.dropdate,carrierid:E,searchdate:p,userid:m,id:f,originState:n,originPostalCode:e.originPostalCode,destinationPostalCode:e.destinationPostalCode,originCountry:e.originCountry,destinationCountry:e.destinationCountry};return Object(Qs.a)(h),Object.assign({},h)})):r&&r.filter((function(t,a,r){return(!e.favoriteFlag||!e.ID.includes(t.id))&&t})).map((function(e,t,a){var r=e.originCity,n=e.originState,i=e.destinationCity,s=e.destinationState,o=e.destinationradius,c=e.trailertype,l=e.originradius,u=e.favouritesearchindicator,d=e.pickupdate,p=e.searchdate,m=e.userid,f=e.id,E=e.carrierid,h={originCity:r,destinationState:s,destinationCity:i,originradius:l,destinationradius:o,trailertype:c,favouritesearchindicator:u,pickupdate:d,dropdate:e.dropdate,carrierid:E,searchdate:p,userid:m,id:f,originState:n,originPostalCode:e.originPostalCode,destinationPostalCode:e.destinationPostalCode,originCountry:e.originCountry,destinationCountry:e.destinationCountry};return Object(Qs.a)(h),Object.assign({},h)})),s.a.createElement(s.a.Fragment,null,o?s.a.createElement(s.a.Fragment,null,s.a.createElement($s.a,{onRowClicked:function(t){return function(t){e.onRedirectToTab(t)}(t)},columns:e.favoriteFlag?l:c,data:o})):null)},ao=a(20),ro=a.n(ao),no=function(e){var t=e.status,a=e.isHideLoader,r=void 0===a||a,n=e.networkStatus,o=e.showAlert,c=Object(i.useState)({}),l=Object(Fe.a)(c,2),u=l[0],p=l[1];Object(i.useEffect)((function(){t||u&&u.detail&&u.detail.complete()}),[t]);return s.a.createElement(d.E,{slot:"fixed",className:"pull-to-refresh",onIonRefresh:function(t){n?(e.updatePullToRefreshState&&e.updatePullToRefreshState(!0),p(t),e.onPullToRefresh||t&&t.detail&&t.detail.complete(),e&&e.onPullToRefresh&&e.onPullToRefresh(r),e.updatePullToRefreshState&&e.updatePullToRefreshState(null)):(o(),t&&t.detail&&t.detail.complete())}},s.a.createElement(d.F,{pullingText:'<img src= "assets/images/Schneider_Spinner-transparent.gif" className="loader-image" />',refreshingSpinner:null}))},io=Object(u.c)(null,(function(e){return{updatePullToRefreshState:function(t){return e({type:"UPDATE_PULL_TO_REFRESH_STATE",payload:t})}}}))(no);function so(e){switch(e){case 0:return"Jan";case 1:return"Feb";case 2:return"Mar";case 3:return"Apr";case 4:return"May";case 5:return"Jun";case 6:return"Jul";case 7:return"Aug";case 8:return"Sep";case 9:return"Oct";case 10:return"Nov";case 11:return"Dec";default:return""}}no.prototype={onPullToRefresh:ro.a.func.isRequired,isHideLoader:ro.a.bool,status:ro.a.bool.isRequired,networkStatus:ro.a.bool,showAlert:ro.a.func};var oo=function(e){var t=e.recentData,a=e.updateFavorite,r=e.favoriteFlag,n=e.isNetworkAvailable,o=e.showAlert,c=Object(i.useState)(!1),l=Object(Fe.a)(c,2),u=l[0],p=l[1];Object(i.useEffect)((function(){p(t.favouritesearchindicator)}),[t]);var m=Object(hs.a)().t;return s.a.createElement(d.h,{className:"card-content recent-card"},s.a.createElement(d.o,{className:"recent_grid"},s.a.createElement(d.H,null,s.a.createElement(d.k,{className:"card-price-col",size:"4"},s.a.createElement("p",{className:"trailerType"},m(t.trailertype))),s.a.createElement(d.k,{className:"card-city-col"},s.a.createElement(d.H,{class:"stop-details-row"},s.a.createElement(d.k,{class:"stop-icon-col"},s.a.createElement(d.r,{className:"ellipse_icon",src:"assets/icon/origin-pointer.svg"}),s.a.createElement("div",{className:"stops_border"})),s.a.createElement(d.k,{class:"stop-details-col"},"Anywhere"===t.originCity?s.a.createElement("p",{className:"origin_city"},t.originCity):s.a.createElement("p",{className:"origin_city"},t.originCity,", ",t.originState),s.a.createElement(d.d,{className:"originRadius"},m("Radius")," : ",t.originradius),r?"":s.a.createElement(d.d,{className:"pickupDate"},t.pickupdate&&"".concat(so(new Date(t.pickupdate).getMonth())," ").concat(("0"+new Date(t.pickupdate).getDate()).slice(-2))))),s.a.createElement(d.H,{class:"stop-details-row"},s.a.createElement(d.k,{class:"stop-icon-col"},s.a.createElement(d.r,{className:"path_icon",src:"assets/icon/dst-pointer.svg"})),s.a.createElement(d.k,{class:"stop-details-col"},null===t.destinationCity?s.a.createElement("p",{className:"origin_city"},m("Anywhere")):s.a.createElement("p",{className:"origin_city"},t.destinationCity,", ",t.destinationState),s.a.createElement(d.d,{className:"originRadius"},m("Radius")," : ",t.destinationradius),r||null===t.destinationCity?"":s.a.createElement(d.d,{className:"pickupDate"},t.dropdate&&"".concat(so(new Date(t.dropdate).getMonth())," ").concat(("0"+new Date(t.dropdate).getDate()).slice(-2)))))),s.a.createElement(d.k,{size:"1",className:"star_icon_col"},s.a.createElement(d.r,{"data-test":"Favorite-IonImg",onClick:function(e){e.stopPropagation(),a(!u,t),n?p(!u):o()},className:"star_icon",src:u?F:V})))))},co=function(e){Object(Ke.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(Ze.a)(e);if(t()){var n=Object(Ze.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(Xe.a)(this,a)}}(a);function a(e){var r;return Object(qe.a)(this,a),(r=t.call(this,e)).cardClick=function(e){if(r.props.isNetworkAvailable){var t=e.originCity,a=e.originState,n=e.originradius,i=e.originCountry,s=e.pickupdate,o=e.trailertype,c=e.dropdate,l=e.destinationradius,u=e.favouritesearchindicator,d=e.durationDays,m=e.destinationCity,f=e.destinationState,E=e.destinationCountry,h="";t&&(h=t),a&&"anywhere"!==a.toLowerCase()&&(h+=", "+a);var g="";m&&(g=m),f&&"anywhere"!==f.toLowerCase()&&(g+=", "+f);var v=null,b=null,S=Math.abs(d);r.props.favoriteFlag?(v=(new Date).toISOString(),c&&S&&(b=new Date((new Date).setDate((new Date).getDate()+S+1)).toISOString())):(v=s,b=c);var y={origin:h||"Anywhere",originRadius:n,destination:g||"Anywhere",pickUpdate:v,TrailerType:o,dropdate:b,destinationRadius:l,favorite:u,originCountry:i,destinationCountry:E};r.props.onSearchResult(Object(p.a)(Object(p.a)({},e),{},{pickupdate:v,dropdate:b}),y)}else r.props.showAlert()},r.state={},r}return Object(ze.a)(a,[{key:"componentDidMount",value:function(){St(ot.SV_SEARCH_FILTER,{screen:ct.SEARCH_FILTER,tab:this.props.favoriteFlag?x.FAVORITE:x.RECENT})}},{key:"render",value:function(){var e=this;return s.a.createElement(d.l,{className:"ion-padding recent_container",class:"background"},s.a.createElement(io,{onPullToRefresh:this.props.favoriteFlag?this.props.getFavoriteSearchList:this.props.getRecentSearchList,status:this.props.isInPullToRefresh,networkStatus:this.props.isNetworkAvailable,showAlert:this.props.showAlert}),s.a.createElement(d.o,{class:"recent-list"},this.props.getLoads&&this.props.getLoads.map((function(t,a){return e.props.favoriteFlag&&e.props.id.includes(t.id)?"":!e.props.favoriteFlag&&e.props.flag&&!e.props.undo&&e.props.id.includes(t.id)?(t=Object(p.a)(Object(p.a)({},t),{},{favouritesearchindicator:!1}),s.a.createElement(d.g,{"data-test":"IonCard-RecentPage",onClick:function(){return e.cardClick(t)},className:"ion-card-updated",key:a},s.a.createElement(oo,{recentData:t,updateFavorite:e.props.updateFavorite,favoriteFlag:e.props.favoriteFlag,isNetworkAvailable:e.props.isNetworkAvailable,showAlert:e.props.showAlert}))):!e.props.favoriteFlag&&e.props.undo&&e.props.id.includes(t.id)?(t=Object(p.a)(Object(p.a)({},t),{},{favouritesearchindicator:!0}),s.a.createElement(d.g,{"data-test":"IonCard-RecentPage",onClick:function(){return e.cardClick(t)},className:"ion-card-updated",key:a},s.a.createElement(oo,{recentData:t,updateFavorite:e.props.updateFavorite,favoriteFlag:e.props.favoriteFlag,isNetworkAvailable:e.props.isNetworkAvailable,showAlert:e.props.showAlert}))):s.a.createElement(d.g,{"data-test":"IonCard-RecentPage",onClick:function(){return e.cardClick(t)},className:"ion-card-updated",key:a},s.a.createElement(oo,{recentData:t,updateFavorite:e.props.updateFavorite,favoriteFlag:e.props.favoriteFlag,isNetworkAvailable:e.props.isNetworkAvailable,showAlert:e.props.showAlert}))}))),s.a.createElement("p",{className:"end_of_list"},Sr.t("End of list")),s.a.createElement("div",{className:"recentDesktop"},s.a.createElement(to,{"data-test":"RecentSeachDesktop-RecentPage",onRedirectToTab:function(t){return e.cardClick(t)},recentData:this.props.getLoads,updateFavorite:this.props.updateFavorite,favoriteFlag:this.props.favoriteFlag,ID:this.props.id})))}}]),a}(s.a.Component),lo={recent:[],error:{}},uo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lo,t=arguments.length>1?arguments[1]:void 0;return Object(E.a)(e,(function(e){switch(t.type){case"GET_RECENT":e.recent=t.payload;break;case"UPDATE_FAVORITE_ERROR":case"CLEAR_FAVORITE_ERROR":e.error=t.payload}}))},po=function(e){return e.recent||lo},mo=function(){return Object(xe.a)([po],(function(e){return e.recent||lo.recent}))},fo=Ge.a.mark(ho),Eo=Ge.a.mark(go);function ho(e){var t,a,r,n;return Ge.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(t=e&&e.payload&&e.payload,a=t.isHideLoader,i.prev=1,e&&e.payload&&a){i.next=5;break}return i.next=5,Object(_n.c)(ut());case 5:return i.next=7,Object(_n.c)({type:"PULL_TO_REFRESH_LOADING",status:!0});case 7:return r=ka.domainToData(e.payload.data),console.log(r),i.next=11,An(["FAVORITE","FAVORITE_LOADS",null,"",r,"application/json"]);case 11:if(n=i.sent,console.log(n),!n.data.updateUserSearchHistoryAsFavorite.errorMessage){i.next=19;break}return console.log(n.data.updateUserSearchHistoryAsFavorite.errorMessage),i.next=17,Object(_n.c)({type:"UPDATE_FAVORITE_ERROR",payload:n.data});case 17:i.next=21;break;case 19:return i.next=21,Object(_n.c)(Rn(n));case 21:if(e&&e.payload&&a){i.next=24;break}return i.next=24,Object(_n.c)(dt());case 24:return i.next=26,Object(_n.c)({type:"PULL_TO_REFRESH_LOADING",status:!1});case 26:i.next=35;break;case 28:if(i.prev=28,i.t0=i.catch(1),e&&e.payload&&a){i.next=33;break}return i.next=33,Object(_n.c)(dt());case 33:return i.next=35,Object(_n.c)({type:"PULL_TO_REFRESH_LOADING",status:!1});case 35:case"end":return i.stop()}}),fo,null,[[1,28]])}function go(){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_n.a)([Object(_n.f)("UPDATE_FAVORITE_LOADS",ho)]);case 2:case"end":return e.stop()}}),Eo)}var vo=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:"RECENT_LOADS",payload:{data:e,isHideLoader:t}}},bo=function(){function e(){Object(qe.a)(this,e),this.recentState={page:0,sortColumn:"pickupdate",favourite:null}}return Object(ze.a)(e,[{key:"getRequestPayload",value:function(){return{query:{findUserRecentSearchHistory:{__args:{input:this.recentState},id:!0,userid:!0,originCity:!0,originState:!0,originCountry:!0,originradius:!0,destinationCity:!0,destinationState:!0,destinationCountry:!0,destinationradius:!0,pickupdate:!0,favouritesearchindicator:!0,trailertype:!0,dropdate:!0,searchdate:!0,destinationPostalCode:!0,originPostalCode:!0,carrierid:!0,durationDays:!0}}}}},{key:"page",get:function(){return this.recentState.page},set:function(e){e&&(this.recentState.page=e)}},{key:"size",get:function(){return this.recentState.size},set:function(e){e&&(this.recentState.size=e)}},{key:"sortColumn",get:function(){return this.recentState.sortColumn},set:function(e){e&&(this.recentState.sortColumn=e)}},{key:"userID",get:function(){return this.recentState.userID},set:function(e){e&&(this.recentState.userID=e)}},{key:"carrierId",get:function(){return this.recentState.carrierId},set:function(e){e&&(this.recentState.carrierId=e)}},{key:"favourite",get:function(){return this.recentState.favourite},set:function(e){e&&(this.recentState.favourite=e)}}]),e}(),So=(a(529),function(){function e(){Object(qe.a)(this,e),this.favoriteState={page:0,sortColumn:"pickupdate",favourite:!0}}return Object(ze.a)(e,[{key:"getFavoritePayload",value:function(){return{query:{findUserFavouriteSearchHistory:{__args:{input:this.favoriteState},id:!0,userid:!0,originState:!0,originCity:!0,originPostalCode:!0,originCountry:!0,originradius:!0,pickupdate:!0,destinationCity:!0,destinationState:!0,destinationPostalCode:!0,destinationCountry:!0,destinationradius:!0,dropdate:!0,trailertype:!0,searchdate:!0,favouritesearchindicator:!0,carrierid:!0,durationDays:!0}}}}},{key:"updateFavoriteLoad",value:function(e){return{mutation:{updateUserSearchHistory:{__args:{input:e},id:!0}}}}},{key:"updateFavoriteLoadCheckDuplicate",value:function(e){return{mutation:{updateUserSearchHistoryAsFavorite:{__args:{input:e},errorMessage:!0,status:!0,userSearchHistory:{id:!0}}}}}},{key:"page",get:function(){return this.favoriteState.page},set:function(e){e&&(this.favoriteState.page=e)}},{key:"size",get:function(){return this.favoriteState.size},set:function(e){e&&(this.favoriteState.size=e)}},{key:"sortColumn",get:function(){return this.favoriteState.sortColumn},set:function(e){e&&(this.favoriteState.sortColumn=e)}},{key:"userID",get:function(){return this.favoriteState.userID},set:function(e){e&&(this.favoriteState.userID=e)}},{key:"carrierId",get:function(){return this.favoriteState.carrierId},set:function(e){e&&(this.favoriteState.carrierId=e)}},{key:"favourite",get:function(){return this.favoriteState.favourite},set:function(e){e&&(this.favoriteState.favourite=e)}}]),e}()),yo=(a(530),function(e){var t=e.isOpen,a=e.title,r=e.message,n=e.buttons;return s.a.createElement(d.A,{isOpen:t,cssClass:"custom-modal",backdropDismiss:!1},s.a.createElement("header",{className:"custom-modal-header"},s.a.createElement(d.w,{className:"custom-modal-title",color:"dark"},a)),s.a.createElement("section",null,s.a.createElement(d.N,{className:"custom-modal-message"},s.a.createElement("div",{dangerouslySetInnerHTML:{__html:r}}))),s.a.createElement("footer",null,n.map((function(e,t){return s.a.createElement(d.k,{key:"".concat(a,"_").concat(t)},s.a.createElement(d.e,{class:"btn load-btn","data-test":"".concat(e.label.toLowerCase(),"-btn"),onClick:e.callback},e.label))}))))}),Oo=function(e,t,a){var r=_s(),n=new Ls;return n.originCity=e.originCity,n.originState=e.originState,n.originRadius=e.originradius,n.pickUpdate=e.pickupdate||"",n.dropDate=e.dropdate||"",n.destinationCity=e.destinationCity,n.destinationState=e.destinationState,n.destinationRadius=e.destinationradius,n.favorite=e.favouritesearchindicator,n.userID=a&&a.userPrincipalName||"",n.trailerType=e.trailertype,n.carrierId=a&&a.carrierId||"",n.carrierScac=a&&a.carrierScac||"",n.carrierTier=a&&a.carrierTier||"",n.userRole=r.join(","),n.originCountry=e.originCountry||"",n.destinationCountry=e.destinationCountry||"",n.managedEquipmentCapability=a&&a.managedEquipmentCapability||null,n.nonManagedEquipmentCapability=a&&a.nonManagedEquipmentCapability||null,n},_o=function(e,t){var a=Ua.details.auth.user.roles&&Ua.details.auth.user.roles.map((function(e){return P[e]})),r=new Ls;if(e){var n=-1!==e.destination.indexOf(",")?e.destination.split(","):[e.destination,e.destination],i=-1!==e.origin.indexOf(",")?e.origin.split(","):[e.origin,e.origin],s=e;r.originCity=i[0].trim(),r.originState=i[1].trim(),r.originRadius=s.originRadius,r.pickUpdate=s.pickUpdate,r.dropDate=s.dropdate,"Anywhere"!==e.destination&&(r.destinationCity=n[0].trim(),r.destinationState=n[1].trim()),r.destinationRadius=s.destinationRadius,r.favorite=s.favorite,r.trailerType=s.TrailerType,r.userID=t&&t.userPrincipalName,r.carrierId=t&&t.carrierId,r.page=0,r.size=5,r.sortColumn="pickUpdate",r.originCountry=s.originCountry||"",r.destinationCountry=s.destinationCountry||"",r.carrierScac=t&&t.carrierScac||"",r.carrierTier=t&&t.carrierTier||"",r.userRole=a&&a[0]}return r};var Ao=!1,Do=null,To=function(e){Object(Ke.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(Ze.a)(e);if(t()){var n=Object(Ze.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(Xe.a)(this,a)}}(a);function a(e){var r;return Object(qe.a)(this,a),(r=t.call(this,e)).model=void 0,r.modelF=void 0,r.updateFavorite=function(e,t){if(r.props.isNetworkAvailable){var a=Object(p.a)(Object(p.a)({},t),{},{pickupdate:t.pickupdate,searchdate:t.searchdate,dropdate:null===t.destinationCity?null:t.dropdate,favouritesearchindicator:e}),n=[];n.push(t.id),r.setState({id:n,data:a,undo:!1,flag:null}),e?r.props.updateFavoriteLoads(r.modelF.updateFavoriteLoadCheckDuplicate(a),!1):(Dr.open({message:Sr.t("FAVORITE_SEARCH_REMOVED"),showUndo:!0,callback:r.undoClicked}),r.props.updateFavoriteLoads(r.modelF.updateFavoriteLoad(a),!1))}else r.props.showAlert()},r.undoClicked=function(){var e=Object(p.a)(Object(p.a)({},r.state.data),{},{favouritesearchindicator:!r.state.data.favouritesearchindicator});r.props.updateFavoriteLoads(r.modelF.updateFavoriteLoadCheckDuplicate(e),!1),r.setState({undo:!0})},r.getRecentSearchList=function(e){r.model.userID=r.props.userDetails&&r.props.userDetails.userPrincipalName||"",r.model.carrierId=r.props.userDetails&&r.props.userDetails.carrierId||"",r.model.page=0,r.model.size=10,r.props.recentLoads(r.model.getRequestPayload(),e)},r.onSearchResult=function(e,t){Do=t,Ao=!0;var a=Oo(e,0,r.props.userDetails);Object(d.V)("mobile")?r.props.fetchData(a.getRequestPayload()):(r.props.onRedirectToTab("New",_o(Do,r.props.userDetails)),Ao=!1)},r.state={id:[],data:{},undo:!1,showErrorPopup:!1,flag:null},r.model=new bo,r.modelF=new So,r}return Object(ze.a)(a,[{key:"componentDidMount",value:function(){yt("recent_search_page"),this.getRecentSearchList(!1)}},{key:"render",value:function(){var e=this;return this.props&&this.props.data&&this.props.data.searchLoads&&Ao&&!Object(d.V)("desktop")?(Ao=!1,s.a.createElement(Me.b,{to:{pathname:"/app/search/results",state:{data:ka.dataToDomain(qs,this.props.data),params:Do,searchInput:_o(Do,this.props.userDetails)}}})):s.a.createElement(s.a.Fragment,null,s.a.createElement(co,{"data-test":"recent-search",getRecentSearchList:this.getRecentSearchList,getLoads:this.props&&this.props.recentSearchLoads&&this.props.recentSearchLoads.data&&this.props.recentSearchLoads.data.findUserRecentSearchHistory,isInPullToRefresh:this.props.isInPullToRefresh,isNetworkAvailable:this.props.isNetworkAvailable,showAlert:this.props.showAlert,onSearchResult:this.onSearchResult,updateFavorite:this.updateFavorite,favoriteFlag:!1,id:this.state.id,undo:this.state.undo,flag:this.state.flag}),s.a.createElement("div",{"data-test":"error-state",onClick:function(){e.setState({showErrorPopup:!1,flag:!0}),e.props.clearErrorState()}},s.a.createElement(yo,{isOpen:this.state.showErrorPopup,title:Sr.t("FAVORITE_ALREADY_EXIST_TITLE"),message:Sr.t("FAVORITE_ALREADY_EXIST_MESSAGE"),buttons:[{label:Sr.t("Ok_TEXT"),callback:function(){}}]})))}},{key:"componentDidUpdate",value:function(){this.props.errorData.updateUserSearchHistoryAsFavorite&&this.setState({showErrorPopup:!0})}}]),a}(i.PureComponent),Ro=Object(xe.b)({loading:ln(),errorData:Object(xe.a)([po],(function(e){return e.error||lo.error})),recentSearchLoads:mo(),userData:un(),data:Bs(),isInPullToRefresh:mn(),userDetails:pn(),isNetworkAvailable:fn()}),No=Object(u.c)(Ro,(function(e){return{recentLoads:function(t,a){return e(vo(t,a))},clearErrorState:function(){return e({type:"CLEAR_FAVORITE_ERROR",payload:void 0})},fetchData:function(t){return e(da(t,!1,!1))},showAlert:function(){return e(or())},updateFavoriteLoads:function(t,a){return e(Tn(t,a))}}})),Io=fs({key:"recent",reducer:uo}),Co=ps({key:"recent",saga:go}),ko=Object(m.compose)(Co,Io,No)(Object(Me.h)(To)),jo={Favorite:[],updatedId:{},error:{}},Lo=function(e){return e.Favorite||jo},wo=function(){return Object(xe.a)([Lo],(function(e){return e||jo.Favorite}))};var Mo=!1,Po=null,Uo=function(e){Object(Ke.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(Ze.a)(e);if(t()){var n=Object(Ze.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(Xe.a)(this,a)}}(a);function a(e){var r;return Object(qe.a)(this,a),(r=t.call(this,e)).model=void 0,r.updateFavorite=function(e,t){if(r.props.isNetworkAvailable){var a=Object(p.a)(Object(p.a)({},t),{},{pickupdate:t.pickupdate,searchdate:t.searchdate,dropdate:t.dropdate,favouritesearchindicator:e}),n=r.state.id;n.push(t.id),r.setState({id:n,data:a}),r.props.updateFavoriteLoads(r.model.updateFavoriteLoad(a),!1),Dr.open({message:Sr.t("FAVORITE_SEARCH_REMOVED"),showUndo:!0,callback:r.undoClicked})}else r.props.showAlert()},r.undoClicked=function(){var e=Object(p.a)(Object(p.a)({},r.state.data),{},{favouritesearchindicator:!r.state.data.favouritesearchindicator});r.props.updateFavoriteLoads(r.model.updateFavoriteLoad(e),!1);var t=r.state.id;t.pop(),r.setState({id:t})},r.getFavoriteSearchList=function(e){r.props.isNetworkAvailable&&(r.model.userID=r.props.userDetails&&r.props.userDetails.userPrincipalName||"",r.model.carrierId=r.props.userDetails&&r.props.userDetails.carrierId||"",r.model.page=0,r.model.size=10,r.props.favoriteLoads(r.model.getFavoritePayload(),e))},r.onSearchResult=function(e,t){Po=t,Mo=!0;var a=Oo(e,0,r.props.userDetails);Object(d.V)("mobile")?r.props.fetchData(a.getRequestPayload()):(r.props.onRedirectToTab("New",_o(Po,r.props.userDetails)),Mo=!1)},r.state={id:[],data:{}},r.model=new So,r}return Object(ze.a)(a,[{key:"componentDidMount",value:function(){this.getFavoriteSearchList(!1),yt("favourite_list_page")}},{key:"render",value:function(){return this.props&&this.props.data&&this.props.data.searchLoads&&Mo&&!Object(d.V)("desktop")?(Mo=!1,s.a.createElement(Me.b,{to:{pathname:"/app/search/results",state:{data:ka.dataToDomain(qs,this.props.data),params:Po,searchInput:_o(Po,this.props.userDetails)}}})):s.a.createElement(co,{"data-test":"favorite-search",getLoads:this.props.favoriteLoadsData.Favorite.data&&this.props.favoriteLoadsData.Favorite.data.findUserFavouriteSearchHistory,favoriteFlag:!0,isInPullToRefresh:this.props.isInPullToRefresh,getFavoriteSearchList:this.getFavoriteSearchList,isNetworkAvailable:this.props.isNetworkAvailable,showAlert:this.props.showAlert,onSearchResult:this.onSearchResult,updateFavorite:this.updateFavorite,id:this.state.id})}}]),a}(i.PureComponent),xo=Object(xe.b)({loading:ln(),favoriteLoadsData:wo(),isInPullToRefresh:mn(),isNetworkAvailable:fn(),userDetails:pn(),data:Bs(),userData:un()}),Fo=Object(u.c)(xo,(function(e){return{favoriteLoads:function(t,a){return e(Dn(t,a))},showAlert:function(){return e(or())},fetchData:function(t){return e(da(t,!1,!1))},updateFavoriteLoads:function(t,a){return e(Tn(t,a))}}})),Vo=Object(m.compose)(Fo)(Uo);var Go,Ho,Bo=function(e){Object(Ke.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(Ze.a)(e);if(t()){var n=Object(Ze.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(Xe.a)(this,a)}}(a);function a(e){return Object(qe.a)(this,a),t.call(this,e)}return Object(ze.a)(a,[{key:"render",value:function(){return i.createElement("div",{className:"loads-div"},this.props.children({loads:this.props.loads,segmentName:this.props.segmentName}))}}]),a}(i.Component);!function(e){e.TRAILER_IN="TRAILER_IN",e.TRAILER_OUT="TRAILER_OUT",e.INOUT="INOUT",e.NA="NA"}(Go||(Go={})),function(e){e[e.SUCCESS=0]="SUCCESS",e[e.WARNING=1]="WARNING",e[e.FAILURE=2]="FAILURE"}(Ho||(Ho={}));var qo={equipmentFlow:Go.NA,equipmentId:"",equipmentOwner:"",equipmentType:"",execActivity:"",id:"",name:"",seqNo:"",stopId:"",tmsActivity:""},zo={id:!0,stopId:!0,seqNo:!0,execActivity:!0,tmsActivity:!0,equipmentId:!0,equipmentType:!0,equipmentOwner:!0,equipmentFlow:!0,name:!0},Yo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2?arguments[2]:void 0,r=e||[];r=r.filter((function(e){return"BOBTAIL"!==(e.name||"").toUpperCase()})),t?"P"===a?r=r.slice().sort((function(e){return"DROPEMPTY"===e.specialServiceDesc.replace(/ /g,"").toUpperCase().slice(0,9)?-1:1})):"D"===a&&(r=r.slice().sort((function(e){return"PICKUPEMPTY"===e.specialServiceDesc.replace(/ /g,"").toUpperCase().slice(0,11)?1:-1}))):r=r.slice().sort((function(e,t){return Number(e.seqNo)-Number(t.seqNo)}));var n=[];return r.forEach((function(e){n.includes((e.name||e.specialServiceDesc||"").trim())||n.push(e.name||e.specialServiceDesc)})),n.map((function(e){return e})).join(", ")||""};var Wo=function(e){var t=e.stopDetails,a=s.a.useState(!1),r=Object(Fe.a)(a,2),n=r[0],i=r[1];return s.a.useEffect((function(){!0===n&&i(!1)}),[JSON.stringify(e.stopDetails)]),s.a.createElement(d.o,{class:"stop-data-grid"},e.index<e.length-1?s.a.createElement(s.a.Fragment,null,0===e.index?s.a.createElement(d.r,{className:"stop-icon",src:"assets/icon/origin-pointer.svg"}):s.a.createElement(d.r,{className:"stop-icon",src:"assets/icon/stop-pointer.svg"})):s.a.createElement(d.r,{className:"path_icon",src:"assets/icon/dst-pointer.svg"}),s.a.createElement(d.o,{className:"stop-address-grid"},s.a.createElement("p",{className:"origin_city"},t&&null===t.state?t&&t.city:"".concat(t&&t.city,", ").concat(t&&t.state),e.showExpandView?s.a.createElement(s.a.Fragment,null,n?s.a.createElement(d.q,{src:"assets/icon/minus-icon.svg",class:"plus-icon",onClick:function(){return i(!n)}}):s.a.createElement(d.q,{src:"assets/icon/plus.svg",class:"plus-icon",onClick:function(){return i(!n)}})):null),e.showExpandView&&t?s.a.createElement(d.o,{class:"complete-address ".concat(n?"fadein":"fadeout")},t&&t.locationName&&s.a.createElement("p",null,t.locationName),t&&t.addressLine1&&s.a.createElement("p",null," ",t.addressLine1),t&&t.addressLine2&&s.a.createElement("p",null," ",t.addressLine2),t&&(t.city||t.state||t.postalCode)&&s.a.createElement("p",null," ",t.city,",",t.state,",",t.postalCode)):null,0===e.index?s.a.createElement("p",{className:"origin_milehead load_header_elements"},Yo(t&&t.stopActivity||t&&t.specialServices||[],!e.isCarrierLoad,t.stopType)," "):s.a.createElement(s.a.Fragment,null," ",e.index===e.length-1?s.a.createElement("p",{className:"origin_milehead load_header_elements"},Yo(t&&t.stopActivity||t&&t.specialServices||[],!e.isCarrierLoad,t.stopType)," "):s.a.createElement(s.a.Fragment,null," ",e.index===e.length-1?s.a.createElement("p",{className:"origin_milehead load_header_elements"},Yo(t&&t.stopActivity||t&&t.specialServices||[],!e.isCarrierLoad,t.stopType)," ",e.isCarrierLoad?null:s.a.createElement(s.a.Fragment,null,t&&t.deadHead," deadhead ")):s.a.createElement("p",{className:"origin_milehead load_header_elements"},"Stop off ",e.index," :"," ",Yo(t&&t.stopActivity||t&&t.specialServices||[],!e.isCarrierLoad,t.stopType)," "))),s.a.createElement("p",{className:"origin_dateTime load_header_elements"},e.appointment)))},Ko=function(e){Object(Ke.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(Ze.a)(e);if(t()){var n=Object(Ze.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(Xe.a)(this,a)}}(a);function a(e){return Object(qe.a)(this,a),t.call(this,e)}return Object(ze.a)(a,[{key:"render",value:function(){var e=this,t=[],a=this.props.loadStop||[];a=a.slice().sort((function(e,t){return e.sequenceNo&&t.sequenceNo?e.sequenceNo-t.sequenceNo:e.stopSequence&&t.stopSequence?e.stopSequence-t.stopSequence:0})),this.props.isCarrierLoad||(a=a.filter((function(e){return"NFR"!==e.stopType}))),this.props.isLoadDetails?t=a:(t[0]=a&&a[0],t[1]=a&&a[a.length-1]);var r=function(t){return e.props.isCarrierLoad?As(t):ys(t.appointmentFrom||"",t.appointmentTo||"")};return s.a.createElement(d.o,{class:"stop-details-grid"},t?t.map((function(a,n){return s.a.createElement(Wo,{key:n,stopDetails:a,appointment:a&&r(a)||"",length:t.length,index:n,showExpandView:e.props.showExpandView,isCarrierLoad:e.props.isCarrierLoad})})):null)}}]),a}(s.a.Component);a(531);var Xo=function(e){Object(Ke.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(Ze.a)(e);if(t()){var n=Object(Ze.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(Xe.a)(this,a)}}(a);function a(){return Object(qe.a)(this,a),t.apply(this,arguments)}return Object(ze.a)(a,[{key:"render",value:function(){var e=this.props.numberOfStops-2;return i.createElement("div",null,i.createElement("p",{className:"card_p-elements loadno_card"},this.props.showLoadNo?this.props.shipmentId:""),null===this.props.rate||this.props.rate&&null===this.props.rate.totalCharge||this.props.rate&&0===this.props.rate.totalCharge?i.createElement("p",{className:"card_p-elements card-contact_for_price","data-test":"contact-price"},Sr.t("Contact for price")):i.createElement(i.Fragment,null,this.props.rate&&this.props.rate.totalCharge?i.createElement("p",{className:"card-price","dat-test":"card-price"},"$",Math.trunc(this.props.rate.totalCharge)):null),this.props.totalDistance?i.createElement("p",{className:"card-distance ".concat(this.props.showLoadNo?"no-margin":""),"data-test":"card-distance"},Math.round(this.props.totalDistance)," ","miles"):null,e>0&&i.createElement("p",{className:"card-stopOffs","data-test":"stop-offs"},e>1?"".concat(e," ").concat(Sr.t("Stop offs")):"".concat(e," ").concat(Sr.t("Stop off"))),i.createElement("p",{className:"card_p-elements card-trailerType"},this.props.isCarrierLoad?Sr.t(this.props.equipmentType):Sr.t(this.props.transportMode)),i.createElement("p",{className:"card_p-elements card-lbs"},this.props.totalWeight&&this.props.totalWeight.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")," ",this.props.weightUOM),this.props.isHazardous&&i.createElement("p",{className:"card_p-elements card-hazmat","data-test":"is-Hazardous"},"Hazmat"),this.props.isHighValue&&i.createElement("p",{className:"card_p-elements card-value","data-test":"is-HighValue"},"High Value"),this.props.specialServices&&this.props.specialServices.length&&this.props.specialServices.map((function(e,t){return i.createElement("p",{className:"card_p-elements card-value",key:t},e.specialServiceDesc)}))||null,this.props.shipmentServices&&this.props.shipmentServices.length&&this.props.shipmentServices.map((function(e,t){return i.createElement("p",{className:"card_p-elements card-value",key:t},e.serviceDescription)}))||null,this.props.isTemperatureControlled&&i.createElement("p",{className:"card_p-elements card-value","data-test":"is-temperature"},"Temp Control"))}}]),a}(i.Component);var Zo=function(e){var t=e.stopDetails;return i.createElement(d.o,{class:"stop-data-grid"},e.index<e.length-1?i.createElement(d.r,{className:"stop-icon",src:me.origin_pointer}):i.createElement(d.r,{className:"path_icon",src:me.destination_pointer}),i.createElement(d.o,{className:"stop-address-grid"},i.createElement("p",{className:"origin_city"},t.city,", ",t.state),i.createElement("p",{className:"origin_dateTime load_header_elements"},e.appointment)))},Qo=function(e){Object(Ke.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(Ze.a)(e);if(t()){var n=Object(Ze.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(Xe.a)(this,a)}}(a);function a(){return Object(qe.a)(this,a),t.apply(this,arguments)}return Object(ze.a)(a,[{key:"render",value:function(){var e=[],t=this.props.loadStop||[];return(t=t.slice().sort((function(e,t){return e.sequenceNo&&t.sequenceNo?e.sequenceNo-t.sequenceNo:e.stopSequence&&t.stopSequence?e.stopSequence-t.stopSequence:0}))).length>0&&(e[0]=t[0],e[1]=t[t.length-1]),i.createElement(d.o,{class:"assign-load-details-grid"},e?e.map((function(t,a){return i.createElement(Zo,{key:a,stopDetails:t||{},appointment:t&&As(t)||"",length:e.length,index:a})})):null)}}]),a}(i.Component),Jo=function(){function e(){Object(qe.a)(this,e),this.getShipmentState={shipmentIds:[]}}return Object(ze.a)(e,[{key:"getRequestShipmentPayload",value:function(){return{query:{getShipment:{__args:{shipmentIds:this.getShipmentState.shipmentIds},shipmentId:!0,lineOfBusiness:!0,transportMode:!0,totalWeight:!0,weightUOM:!0,totalDistance:!0,distanceUOM:!0,numberOfStops:!0,sourceTMS:!0,driverAssignmentStatus:!0,assignedCarrierId:!0,assignedTMSCarrierId:!0,isAppointmentConfirmed:!0,isHazardous:!0,isHighValue:!0,isTemperatureControlled:!0,isFreezeProtected:!0,readyDateTime:!0,readyDateTimeZone:!0,equipmentType:!0,predecessorShipmentId:!0,successorShipmentId:!0,assignmentStatus:!0,executionStatus:!0,masterBillOfLoading:!0,shipmentServices:{serviceDescription:!0},startState:!0,startCity:!0,startCountry:!0,startDateTime:!0,loadStop:{stopId:!0,locationId:!0,stopType:!0,sequenceNo:!0,locationName:!0,addressLine1:!0,addressLine2:!0,city:!0,state:!0,country:!0,postalCode:!0,timeZone:!0,longitude:!0,latitude:!0,estimatedArrivalDateTime:!0,plannedArrivalDateTime:!0,actualArrivalDateTime:!0,estimatedStopDuration:!0,plannedEtaDateTime:!0,plannedDepartureDateTime:!0,actualDepartureDateTime:!0,appointmentEarlyDateTime:!0,appointmentLateDateTime:!0,estimatedStopDurationUom:!0,actualETADateTime:!0,isTrailerInSet:!0,stopActivity:zo,stopReference:{id:!0,type:!0,value:!0,stopId:!0,shipmentId:!0,display:!0}},shipmentInvolvedParties:{id:!0,partyId:!0,partyType:!0,partyName:!0,partyEmail:!0,partyPhone:!0},shipmentReferences:{id:!0,type:!0,value:!0,stopId:!0,shipmentId:!0,display:!0},assignmentTransaction:{transactionId:!0,driverId:!0,driverName:!0},managedEquipment:!0}}}}},{key:"shipmentIds",set:function(e){this.getShipmentState.shipmentIds=e},get:function(){return this.getShipmentState.shipmentIds}}]),e}(),$o=function(){var e=Object(He.a)(Ge.a.mark((function e(t,a){var r,n,i,s;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.subModule,n=t,i=!1,s=!1,e.next=6,Ua.details.auth.user.roles.forEach(function(){var e=Object(He.a)(Ge.a.mark((function e(t,a){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"carrierDriver"===t&&(i=!0);case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}());case 6:i||(s=!0),a.setShipmentForStartTrip(n),a.history.push({pathname:"/app/MyLoad/shipmentUpdateScreen/".concat(n.shipmentId),state:{isCurrentLocationOn:s,isLocation:!1,module:r,withGPS:!0,startTripShipment:n,moduleName:"INTRANSIT"}});case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ec=function(e,t){var a="";return(e!==C.DRIVER_ASSIGNED_MODULE||e===C.DRIVER_ASSIGNED_MODULE&&!0===t.driverAssignmentStatus)&&(a=(a=t.shipmentInvolvedParties&&t.shipmentInvolvedParties.filter((function(e){return"PRIMARY DRIVER"===e.partyType})))&&a.length?a[0].partyName:""),!1===t.driverAssignmentStatus&&e===C.DRIVER_ASSIGNED_MODULE&&(a=t.assignmentTransaction&&t.assignmentTransaction[0]&&t.assignmentTransaction[0].driverName),a};var tc=function(e){var t="";if(e.showInitial){var a=ec(e.module,e.shipmentLoad);if(a){var r=a.slice(0,1),n=a.includes(" ")?a.slice(a.indexOf(" ")+1,a.indexOf(" ")+2):"";t=r.toUpperCase()+n.toUpperCase()}else t="U"}var s=function(t){e.isNetworkAvailable,t.stopPropagation(),e.onButtonClick(t)};return i.createElement(d.h,{className:"card-content"},i.createElement(d.o,{class:"load-grid"},i.createElement(d.H,null,i.createElement(d.k,{className:"card-price-col",size:"4"},i.createElement(Xo,Object.assign({},e,{isCarrierLoad:e.isCarrierLoad}))),i.createElement(d.k,{className:"card-city-col"},!0===e.isCarrier?i.createElement(Qo,{loadStop:e.loadStop,onButtonClick:function(e){s(e)},buttonName:e.buttonName}):i.createElement(Ko,{loadStop:e.loadStop,isLoadDetails:e.isLoadDetails,showExpandView:e.showExpandView,module:e.module,isCarrierLoad:e.isCarrierLoad})),e.isWatch?i.createElement(d.k,{size:"0.5",className:"star_icon_col",onClick:function(t){t.preventDefault(),e.toggleWatchLoad(e.loadId)}},i.createElement(d.r,{className:"star_icon",src:"assets/icon/watched-color.svg"})):null),i.createElement(d.H,{class:"card-footer-row"},i.createElement(d.k,{size:"4"},e.showInitial&&t?i.createElement(d.o,{className:"driver-name-div"},t):null),i.createElement(d.k,null,e.buttonName?i.createElement(d.H,{class:"assign-driver-row",onClick:function(e){return s(e)}},i.createElement(d.k,{class:"assign-driver-icon-col"},i.createElement("div",{className:"assign-driver-icon-div"},i.createElement(d.q,{src:e.buttonIcon}))),i.createElement(d.k,{class:"label-col"},e.buttonName)):null))))},ac=function(e){Object(Ke.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(Ze.a)(e);if(t()){var n=Object(Ze.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(Xe.a)(this,a)}}(a);function a(e){var r;return Object(qe.a)(this,a),(r=t.call(this,e))._updatedLoads=void 0,r._source=void 0,r._destination=void 0,r.getNavigationUrl=function(){var e="";return e=r.props.isCarrier?r.props.shipmentId:r.props.loadId,r.props.module===C.INTRANSIT_MODULE||r.props.module===C.DRIVER_ASSIGNED_MODULE||r.props.module===C.RECENTLY_DELIVERED_MODULE||r.props.module===C.CARRIER_ASSIGNED_MODULE?void 0:"/app/".concat(r.props.module,"/").concat(e)},r.onCardClick=function(){r.props.module!==C.INTRANSIT_MODULE&&r.props.module!==C.DRIVER_ASSIGNED_MODULE&&r.props.module!==C.RECENTLY_DELIVERED_MODULE&&r.props.module!==C.CARRIER_ASSIGNED_MODULE||!r.props.onRowCallback||r.props.onRowCallback(r.props.shipmentLoad)},r.state={stopCount:r.props.stopCount,pageName:"loadPage"},r._source=r.props.loadStop&&r.props.loadStop[0],r._destination=r.props.loadStop&&r.props.loadStop[r.props.loadStop.length-1],r}return Object(ze.a)(a,[{key:"render",value:function(){return i.createElement(i.Fragment,null,!0===this.props.isLoadDetails?i.createElement(d.g,{className:"ion-card-updated"},i.createElement(tc,this.props)):i.createElement(d.g,{routerLink:this.getNavigationUrl(),className:"ion-card-updated",onClick:this.onCardClick},i.createElement(tc,this.props)))}}]),a}(i.Component);a(532);var rc=function(e){Object(Ke.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(Ze.a)(e);if(t()){var n=Object(Ze.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(Xe.a)(this,a)}}(a);function a(e){var r;return Object(qe.a)(this,a),(r=t.call(this,e)).hideDropdownMenu=function(e){r.setState({clickedOption:e}),r.state.slectedValue!==e.value&&r.setState({asc:!0})},r.onConfrim=function(e){r.setState({slectedValue:r.state.selectedOption.value,selectedOption:r.state.clickedOption}),r.sortBy(e)},r.dropdownClick=function(){r.setState({isDropdown:!0})},r.sortBy=function(e){var t=r.state.asc;r.setState({isDropdown:!1}),r.props.sortedData(e,t)},r.state={selectedOption:r.props.options[0],clickedOption:r.props.options[0],asc:!0,isDropdown:!1,loadData:r.props.loadData,upArrow:"assets/icon/sort icon.svg",downArrow:"assets/icon/sort icon downward.svg",slectedValue:r.props.options[0].value},r}return Object(ze.a)(a,[{key:"render",value:function(){var e=this,t=this.props.options;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"search_sortby_select"},s.a.createElement("div",{onClick:this.dropdownClick,className:"search_sort_button","data-test":"dropdown-click"},s.a.createElement("span",{className:"text_BY"},Sr.t("By")," ")," ",this.state.selectedOption.name.length<=16?Sr.t(this.state.selectedOption.name):Sr.t(this.state.selectedOption.name).slice(0,15)+"..."),s.a.createElement("i",{className:"down"})),s.a.createElement("div",{"data-test":"sort-arrows",className:"sortArrows",onClick:function(){e.setState({asc:!e.state.asc},(function(){e.sortBy(e.state.selectedOption.value)}))}},s.a.createElement(d.q,{src:!0===this.state.asc?this.state.upArrow:this.state.downArrow})),s.a.createElement(d.A,{"show-backdrop":!0,"backdrop-dismiss":!1,isOpen:this.state.isDropdown,cssClass:"dropdown-modal",onDidDismiss:function(){e.setState({isDropdown:!1})}},s.a.createElement("div",{className:"search_options"},s.a.createElement(d.H,{class:"dropdown-row dropdown-heading"},s.a.createElement(d.k,null," ",s.a.createElement("p",{className:"sortBy_text"},Sr.t("Sort by"))," ")),t.map((function(t,a){return s.a.createElement(d.H,{"data-test":"hide-drop",class:"dropdown-row",key:a,onClick:function(){return e.hideDropdownMenu(t)}},s.a.createElement(d.k,{class:t.name===e.state.clickedOption.name?"checked":""},Sr.t(t.name)," ",s.a.createElement("i",{className:"check"})," "))})),s.a.createElement(d.H,{class:"dropdown-handler"},s.a.createElement(d.k,{size:"1"}),s.a.createElement(d.k,{"data-test":"dropdown-cancel",size:"5",className:"dropdown_cancel",onClick:function(){return e.setState({isDropdown:!1,clickedOption:e.state.selectedOption})}},s.a.createElement("span",null,Sr.t("Cancel"))),s.a.createElement(d.k,{"data-test":"dropdown_cancel",size:"5",className:"dropdown_cancel",onClick:function(){return e.onConfrim(e.state.clickedOption.value)}},s.a.createElement("span",null,Sr.t("Ok_TEXT"))),s.a.createElement(d.k,{size:"1"})))))}}]),a}(i.Component),nc=(a(533),a(328)),ic=a.n(nc),sc=a(149),oc={ios:sc,md:sc},cc=(a(536),Object(xe.b)({isNetworkAvailable:fn()})),lc=Object(u.c)(cc,null)((function(e){var t=Object(hs.a)().t;return s.a.createElement(s.a.Fragment,null,e.isNetworkAvailable?null:s.a.createElement("div",{className:"no-network-div"},t("CHECK_NETWORK_MESSAGE")))})),uc=function(e){var t=e.getSegment,a=e.segments,r=e.activeSegment,n=Object(hs.a)().t;return i.createElement(i.Fragment,null,a&&i.createElement(d.H,{class:"segment-row"},i.createElement(d.I,{mode:"ios",onIonChange:function(e){return t(e)},class:"segment_control_tabs"},a.map((function(e,t){return i.createElement(d.J,{mode:"ios",key:t,value:e,checked:r===e},i.createElement(d.w,null,n(e)))})))))},dc=(a(267),function(e){var t=e.firstName,a=e.lastName,r=e.big,n=void 0!==r&&r,i=e.xlarge,o=void 0!==i&&i,c=e.normal,l="ion-user-custom-image ".concat(void 0!==c&&c?"normal":""," ").concat(n?"big":""," ").concat(o?"xlarge":"");return s.a.createElement("div",{className:"ion-image-wrapper"},s.a.createElement("div",{className:l},[t,a].map((function(e,t){return e?s.a.createElement("span",{key:e+t,className:"ion-user-child-img"},e?e[0].toUpperCase():""):null}))))}),pc=function(e){var t=e.userDetails,a=Ua.details.auth.user.roles&&Ua.details.auth.user.roles.map((function(e){return P[e]})),r=Object(hs.a)().t,n=Object(i.useState)(!1),o=Object(Fe.a)(n,2),c=o[0],l=o[1];return s.a.createElement(s.a.Fragment,null,s.a.createElement(d.o,null,t?s.a.createElement(d.H,null,s.a.createElement(d.k,{className:"profileImg-col",size:"4"},s.a.createElement(dc,Object.assign({},t,{xlarge:!0}))),s.a.createElement(d.k,{className:"profile-Col",size:"8"},s.a.createElement("div",{className:"profileName","data-test":"profile-name"},"".concat(t.firstName||"","  ").concat(t.lastName||"")),s.a.createElement("div",{className:"profile-role","data-test":"admin"},a&&a.length>0&&r(a[0])||"",a.length>1?s.a.createElement("span",{className:"admincount",onClick:function(){l(!c)}}," ",c?"-":"+ ".concat(a.length-1)):null,c?s.a.createElement("ul",{className:"profile-add-roles"},a.slice(1,a.length).map((function(e){return s.a.createElement("li",null,r(e))}))):null),s.a.createElement("div",{className:"profileEmail","data-test":"profile-email"},t.email))):null))},mc=a(723),fc=a(329),Ec=a.n(fc);var hc=function(e){Object(Ke.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(Ze.a)(e);if(t()){var n=Object(Ze.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(Xe.a)(this,a)}}(a);function a(){return Object(qe.a)(this,a),t.apply(this,arguments)}return Object(ze.a)(a,[{key:"render",value:function(){var e=this.props.richText;return s.a.createElement("div",{className:this.props.isRichText?"htmlParseDiv":"parsingDiv"},Ec()(e))}}]),a}(s.a.Component),gc=hc,vc=function(e){var t=e.text,a=e.dataType;return s.a.createElement(s.a.Fragment,null," ",function(e){switch(e){case"text":return t;case"richText":return s.a.createElement(gc,{richText:t});default:return t}}(a)," ")},bc=(a(578),function(e){var t=e.moreContent,a=e.setHasNotification,r=e.setShowNotification,n=e.isNotificationClosed,o=Object(i.useState)(!1),c=Object(Fe.a)(o,2),l=c[0],u=c[1],p=Object(i.useState)(!1),m=Object(Fe.a)(p,2),f=m[0],E=m[1],h=Object(i.useState)({title:"",richTextDescription:""}),g=Object(Fe.a)(h,2),v=g[0],b=g[1];return Object(i.useEffect)((function(){if(t&&t.data&&t.data.getUserHelpContent&&t.data.getUserHelpContent.menuEntries){var e=t.data.getUserHelpContent.menuEntries.find((function(e){return"blt9cb920e9715586bc"===e.uid}));e&&!n&&(b(e.group[0]),u(!0),a(!0))}}),[t,n]),l?s.a.createElement("div",{className:"sni-notifcation-wrapper"},s.a.createElement("div",{className:"notification-inner"},s.a.createElement(d.o,null,s.a.createElement(d.H,null,s.a.createElement(d.k,{size:"10"},s.a.createElement("h4",{onClick:function(){E(!f)}},s.a.createElement(vc,{text:v.title,dataType:"richText"}))),s.a.createElement(d.k,{size:"2",className:"right"},f&&s.a.createElement(d.r,{className:"close-icon",src:"/assets/icon/cancel.svg",onClick:function(){u(!1),a(!1),r(!0)}}))),f&&s.a.createElement(d.H,null,s.a.createElement(d.k,{size:"12"},s.a.createElement(vc,{text:v.richTextDescription,dataType:"richText"})))))):null}),Sc=Object(Me.h)((function(e){var t=e.title,a=e.getSegment,r=e.segments,n=e.activeSegment,s=e.backUrl,o=e.isAddDriver,c=e.isMap,l=e.editData,u=e.viewMap,p=e.isDeviceInfo,m=e.viewDeviceInfo,f=(e.isSearch,e.tab),E=e.isLoadDetails,h=e.History,g=(e.isMyLoad,e.isStar),v=e.isWatched,b=e.toggleWatchLoad,S=e.addPage,y=e.customBackUrl,O=e.imageCapture,_=(e.className,e.isHome),A=void 0!==_&&_,D=e.notification,T="";T=f&&-1!==f.indexOf("/")?f.replace("/","\xa0\xa0\xa0|\xa0\xa0\xa0"):f;var R=function(){Object(d.V)("desktop")&&"/app/search/results"===s&&(s="/app/search"),h.push(s)};return i.createElement(d.p,{class:"Manage"===t?"page-manage":"Loads"===t||"Search"===t?"page-header":"page-header-searchResults"},i.createElement(d.H,{class:"header-desc"},i.createElement(d.k,{size:"2"},(s||y)&&i.createElement(d.e,{onClick:function(){return y?y():R()},className:"header-back-button ".concat("Select A Driver"===t?"cross_backbutton":"")},i.createElement(d.q,{icon:"Select A Driver"===t?oc:ic.a}))),i.createElement(d.k,{class:"title-col",size:"End User Licensing Agreement"===t||"Add Driver/Dispatcher"===t?"10":"Menu"===t?"5":"7"},i.createElement("div",{id:"Loads"===t||"Search"===t?"header-title":"End User Licensing Agreement"===t||"Add Driver/Dispatcher"===t?"header-title-more":"header-title-sm"},i.createElement(mc.a,null,(function(e){return e("Frequently Asked Questions"===t?"FAQ":t)})))),i.createElement(d.k,{size:"Menu"===t?"5":"3",class:"header-desc-col"},c&&i.createElement(i.Fragment,null,i.createElement("div",{id:"header-icon",className:"edit_icon"},i.createElement(d.r,{alt:"logo",src:"assets/icon/shipment-header-map.svg",onClick:function(){return u()}}),i.createElement("div",{className:"start-trip-header"},i.createElement(mc.a,null,(function(e){return e("Map")}))))),S&&i.createElement(i.Fragment,null,i.createElement("div",{id:"header-icon",className:"edit_icon"},i.createElement(d.r,{alt:"logo",src:"assets/icon/Add_Black.svg",onClick:function(){return S()}}),i.createElement("div",{className:"edit_text"},i.createElement(mc.a,null,(function(e){return e("Add")}))))),p&&i.createElement(i.Fragment,null,i.createElement("div",{id:"header-icon",onClick:function(){return m()},className:"edit_icon"},i.createElement(d.r,{alt:"logo",src:"assets/icon/help.svg"}),i.createElement("div",{className:"start-trip-header"},i.createElement(mc.a,null,(function(e){return e("Device Info")}))))),l&&i.createElement(i.Fragment,null,i.createElement("div",{id:"header-icon",className:"edit_icon",onClick:function(){return l()}},i.createElement(d.r,{alt:"logo",src:"assets/icon/edit.svg"}),i.createElement("div",{className:"edit_text"},i.createElement(mc.a,null,(function(e){return e("Edit")}))))),g&&i.createElement(d.q,{class:"star-icon",src:"assets/icon/".concat(v?"watched-color":"watch-icon",".svg"),onClick:function(){return b&&b(!v)}}),o&&i.createElement(i.Fragment,null,i.createElement("div",{id:"header-icon",className:"edit_icon"},i.createElement(d.r,{alt:"logo",src:"assets/icon/Add_Black.svg",onClick:function(){return o()}}),i.createElement("div",{className:"edit_text"},i.createElement(mc.a,null,(function(e){return e("Add")})))))," ")),s||t?i.createElement(d.o,{className:"desktop-header-desc"},s&&i.createElement(d.o,{class:"desktop-hdeader-button"},i.createElement(d.e,{onClick:function(){return R()},class:"desktop-back-button"},T),i.createElement("span",{className:"desktop-title"},E?i.createElement(i.Fragment,null,"\xa0\xa0|\xa0\xa0\xa0Load #".concat(t)):i.createElement(i.Fragment,null,"\xa0\xa0|\xa0\xa0\xa0".concat(t)))),t&&"Manage"!==t?i.createElement(d.o,{className:"header-title"},t):null):null,O?i.createElement(pc,O):null,i.createElement(uc,{segments:r,getSegment:a,activeSegment:n}),i.createElement(lc,null),A?i.createElement(bc,D):null)}));var yc=function(e){Object(Ke.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(Ze.a)(e);if(t()){var n=Object(Ze.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(Xe.a)(this,a)}}(a);function a(){return Object(qe.a)(this,a),t.apply(this,arguments)}return Object(ze.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"No-Recommended"},s.a.createElement("img",{alt:"logo",src:"assets/icon/no-search-icon.svg",width:"79.01px",height:"84.59px"}),s.a.createElement("p",{className:"recommended-Error"},this.props.constantText),Object(d.V)("desktop")?s.a.createElement(d.H,null,s.a.createElement(d.k,{size:"6"},s.a.createElement("div",{className:"SearchLoadBtn"},s.a.createElement(d.e,{expand:"full",shape:"round",onClick:this.props.loads,size:"large",type:"submit",class:"RecommendedSearch"},s.a.createElement(d.r,{src:me.search_error,class:"load-search"}),this.props.constantButton))),this.props.addCapacity&&!Qa.details.getR2FeatureEnable()?s.a.createElement(s.a.Fragment,null,s.a.createElement(d.k,{size:"6"},s.a.createElement("div",{className:"SearchLoadBtn"},s.a.createElement(d.e,{expand:"full",shape:"round",onClick:this.props.addCapacity,size:"large",type:"submit",class:"RecommendedSearch"},s.a.createElement(d.r,{src:me.add_capacity,class:"load-search"}),this.props.constCapacityButton)))):null):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"SearchLoadBtn"},s.a.createElement(d.e,{expand:"full",shape:"round",onClick:this.props.loads,size:"large",type:"submit",class:"RecommendedSearch"},s.a.createElement(d.r,{src:me.search_error,class:"load-search"}),this.props.constantButton)),this.props.addCapacity&&!Qa.details.getR2FeatureEnable()?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"recommended-error-btn-p"},this.props.orText),s.a.createElement("div",null,s.a.createElement(d.e,{expand:"full",shape:"round",onClick:this.props.addCapacity,size:"large",type:"submit",class:"RecommendedSearch"},s.a.createElement(d.r,{src:me.add_capacity,class:"load-search"}),this.props.constCapacityButton))):null))}}]),a}(i.PureComponent);a(580);var Oc=function(e){Object(Ke.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(Ze.a)(e);if(t()){var n=Object(Ze.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(Xe.a)(this,a)}}(a);function a(e){var r;return Object(qe.a)(this,a),(r=t.call(this,e)).pageSize=5,r.sortedData=function(e,t){r.setState({sortColumn:e,currentPage:0,sortDirection:!0===t?"asc":"desc"},(function(){r.searchData(!1)}))},r.newSearch=function(){r.props.history.push("/app/search")},r.getCurrentModel=function(){var e=new Ls,t=_s(),a=r.state.searchParamData;return e&&a&&(e.originCity=a.originCity,e.originState=a.originState,e.originRadius=a.originRadius,e.pickUpdate=a.pickUpdate,e.dropDate=a.dropDate,e.destinationCity=a.destinationCity,e.destinationState=a.destinationState,e.destinationRadius=a.destinationRadius,e.favorite=a.favorite,e.trailerType=a.trailerType,e.userID=r.props.userDetails&&r.props.userDetails.userPrincipalName||"",e.carrierId=r.props.userDetails&&r.props.userDetails.carrierId||"",e.page=r.state.currentPage,e.size=r.pageSize,e.sortColumn=r.state.sortColumn,e.originCountry=a.originCountry,e.destinationCountry=a.destinationCountry,e.sortDirection=r.state.sortDirection,e.carrierScac=r.props.userDetails&&r.props.userDetails.carrierScac||"",e.carrierTier=r.props.userDetails&&r.props.userDetails.carrierTier||"",e.managedEquipmentCapability=r.props.userDetails&&r.props.userDetails.managedEquipmentCapability||null,e.nonManagedEquipmentCapability=r.props.userDetails&&r.props.userDetails.nonManagedEquipmentCapability||null,e.userRole=t.join(",")),e},r.searchData=function(e){r.props.handleSortingPagination(r.getCurrentModel(),e,!1)},r.searchOnPull=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];r.setState({currentPage:0}),r.props.handleSortingPagination(r.state.searchParamData,!1,e)},r.OnScroll=function(){var e=Object(He.a)(Ge.a.mark((function e(t){var a,n,i,s;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.currentTarget.getScrollElement();case 2:if(0!==e.sent.scrollTop){e.next=5;break}return e.abrupt("return",!0);case 5:return Object(d.V)("desktop")||r.props.isInPullToRefresh||(a=r.pageSize,n=r.state.totalRecords,i=parseInt("".concat(n/a))+(n%a>0?1:0),s=r.state.currentPage,n>a&&s<i-1?r.setState({currentPage:s+1},(function(){r.searchData(!0)})):r.setState({isPageEnd:!0})),e.abrupt("return",!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.dateFormatChange=function(e){if(!/\d{4}-[0-9]\d-[0-9]\dT[0-9]\d:[0-9]\d/.test(e))return null;var t=(e=e.split("T"))[0].split("-"),a=parseInt(t[0]),r=j[parseInt(t[1])-1],n=parseInt(t[2]);return"".concat(n," ").concat(r," ").concat(a)},r.state={tab:!0,loadData:r.props.results?r.props.results.searchLoads:[],editSearch:!0,currentPage:0,sortDirection:"asc",sortColumn:r.props&&r.props.searchInput&&r.props.searchInput.sortColumn||"pickUpdate",totalRecords:r.props.totalRecords||0,searchParamData:r.props.searchInput||new Ls,isPageEnd:!1},r}return Object(ze.a)(a,[{key:"componentDidMount",value:function(){yt("screen_search_results"),St("ue_loads_search_scroll_view",{page:"search"}),St(ot.SV_SEARCH_RESULT,{screen:ct.SEARCH_RESULT,lead:x.SEARCHED})}},{key:"componentDidUpdate",value:function(e){var t=this.state.totalRecords,a=this.state.searchParamData,r=this.state.currentPage;this.props.searchInput&&JSON.stringify(this.props.searchInput)!==JSON.stringify(e.searchInput)&&(a=this.props.searchInput,r=0),this.props.totalRecords!==e.totalRecords&&(t=this.props.totalRecords),this.setState({loadData:this.props.results?this.props.results.searchLoads:[],searchParamData:a,totalRecords:t,currentPage:r})}},{key:"render",value:function(){var e=this,t=Object(p.a)({},this.props.params);return t&&("Anywhere"===t.destination&&(delete t.destinationRadius,delete t.dropdate),t.originRadius&&(t["Origin Radius"]=t.originRadius,delete t.originRadius),t.pickUpdate&&(t["Pick up date"]=t.pickUpdate,delete t.pickUpdate),t.TrailerType&&(t["Trailer type"]=t.TrailerType,delete t.TrailerType),t.destinationRadius&&(t["Destination Radius"]=t.destinationRadius,delete t.destinationRadius),t["Pick up date"]=t["Pick up date"]&&this.dateFormatChange(t["Pick up date"]),t.dropdate?(t.dropdate=this.dateFormatChange(t.dropdate),console.log("SEARCH",t.dropdate)):delete t.dropdate,delete t.favorite),s.a.createElement(d.B,{className:"desktop-page search-result-page"},s.a.createElement(Sc,{title:"Search Results",backUrl:"/app/search",editData:function(){return e.props.history.push("/app/search",{params:e.props.params})},History:this.props.history}),s.a.createElement(d.l,{class:"search_results_container",scrollEvents:!0,onIonScrollEnd:this.OnScroll},s.a.createElement(io,{"data-test":"pull-to-refresh",onPullToRefresh:this.searchOnPull,status:this.props.isInPullToRefresh,networkStatus:this.props.isNetworkAvailable,showAlert:this.props.showAlert}),this.props.params&&s.a.createElement(d.I,{scrollable:!0,className:"ion-segment"},Object.entries(t).map((function(e,a){return""!==Object.entries(t)[a][1]&&s.a.createElement(d.J,{className:"ion-segment-button",key:a},s.a.createElement(d.d,{class:"search_floating_badge"},Sr.t(e[0])+": "+Sr.t(e[1])))}))),this.props.results&&this.props.results.searchLoads&&this.props.results.searchLoads.length?s.a.createElement("div",null,s.a.createElement("div",{className:"short-div"},s.a.createElement(d.H,{class:"short-row"},s.a.createElement(d.k,{size:"5",class:"rec_text"},s.a.createElement("span",{className:"recommendations_num"},this.state.totalRecords||0," ",Sr.t("Matches"))),s.a.createElement(d.k,{size:"7",class:"sort_select"},s.a.createElement("div",{className:"select_div"},s.a.createElement(rc,{options:Bn,loadData:this.state.loadData,sortedData:this.sortedData}))))),s.a.createElement(Bo,{segmentName:"",loads:this.state.loadData},(function(e){var t=e.loads;return s.a.createElement(d.y,{className:"searchResults_list"},t.map((function(e,t){return s.a.createElement(ac,Object.assign({key:t},e,{module:"search/results"}))})))})),this.state.isPageEnd?s.a.createElement("p",{className:"end_of_list"},Sr.t("End of list")):null):s.a.createElement(yc,{constantText:Sr.t("searchResultsErrorText"),loads:this.newSearch,constantButton:Sr.t("searchResultsErrorButton")})))}}]),a}(i.PureComponent),_c={},Ac=Object(xe.b)({loading:ln(),data:Bs(),userDetails:pn(),isInPullToRefresh:mn(),isNetworkAvailable:fn()}),Dc=Object(u.c)(Ac,(function(e){return{searchData:function(t){return e(la(t))},fectchData:function(t,a,r){return e(da(t,a,r))},showAlert:function(){return e(or())}}})),Tc=fs({key:"search",reducer:Te}),Rc=ps({key:"search",saga:wn}),Nc=Object(m.compose)(Rc,Tc,Dc)(Object(Me.h)((function(e){var t=e.location,a=e.data,r=e.history,n=e.fectchData,i=e.userDetails,o=e.isInPullToRefresh,c=e.isNetworkAvailable,l=e.showAlert,u=t&&t.state&&t.state.searchInput;return t.state&&t.state.params&&(_c=t.state.params),r.location?s.a.createElement(Oc,{results:{searchLoads:a.searchLoads||[],totalRecords:a.totalRecords||0},params:_c,history:r,userDetails:i,searchInput:u,totalRecords:a.totalRecords,handleSortingPagination:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];n(e.getRequestPayload(),t||!1,a)},isInPullToRefresh:o,isNetworkAvailable:c,showAlert:l}):null})));var Ic=function(e){Object(Ke.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(Ze.a)(e);if(t()){var n=Object(Ze.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(Xe.a)(this,a)}}(a);function a(){return Object(qe.a)(this,a),t.apply(this,arguments)}return Object(ze.a)(a,[{key:"renderSwitch",value:function(e){switch(e){case"New":return s.a.createElement(Zs,{isRecentSearch:this.props.isRecentSearch,searchParams:this.props.searchParams});case"Recent":return s.a.createElement(ko,{onRedirectToTab:this.props.onRedirectToTab});case"Favorite":return St(ot.UE_FAVOURITE_SEARCH,{screen:ct.SEARCH_FAVOURITE}),s.a.createElement(Vo,{onRedirectToTab:this.props.onRedirectToTab});case"results":return s.a.createElement(Nc,null);default:return s.a.createElement(Zs,null)}}},{key:"render",value:function(){return this.renderSwitch(this.props.section)}}]),a}(i.Component),Cc=function(){var e=Object(i.useState)({name:"New",data:{}}),t=Object(Fe.a)(e,2),a=t[0],r=t[1],n=Object(i.useState)(!1),o=Object(Fe.a)(n,2),c=o[0],l=o[1],u=Object(i.useState)({}),p=Object(Fe.a)(u,2),m=p[0],f=p[1];return Object(i.useEffect)((function(){"New"!==a&&Object(d.V)("desktop")&&l(!1)}),[a]),s.a.createElement(d.B,{className:"desktop-page search-page"},s.a.createElement(Sc,{title:"Search",getSegment:function(e){r({name:e.detail.value,data:{}})},segments:["New","Recent","Favorite"],activeSegment:a.name}),s.a.createElement(d.l,{className:"ion-padding load-page-content search-page-content"},s.a.createElement(Ic,{onRedirectToTab:function(e,t){r({name:e,data:{}}),Object(d.V)("desktop")&&(l(!0),f(t))},section:a.name,isRecentSearch:c,searchParams:m})))};var kc=function(e){Object(Ke.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(Ze.a)(e);if(t()){var n=Object(Ze.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(Xe.a)(this,a)}}(a);function a(){return Object(qe.a)(this,a),t.apply(this,arguments)}return Object(ze.a)(a,[{key:"render",value:function(){return s.a.createElement(Cc,this.props)}}]),a}(i.Component),jc=s.a.memo(kc),Lc=(a(282),a(184),a(581),a(582),function(e){var t=e.dropdown,a=t.options,r=t.setFilter,n=t.direction,o=e.isDesktop,c=a.map((function(e,t){return Object(p.a)(Object(p.a)({},e),{},{selected:0===t})})),l=Object(i.useState)(!1),u=Object(Fe.a)(l,2),m=u[0],f=u[1],E=Object(i.useState)(c),h=Object(Fe.a)(E,2),g=h[0],v=h[1],b=Object(i.useState)([]),S=Object(Fe.a)(b,2),y=S[0],O=S[1],_=Object(i.useState)(n),A=Object(Fe.a)(_,2),D=A[0],T=A[1],R=g.filter((function(e){return e.selected})),N=R.map((function(e){return"".concat(e.name).concat(1===R.length&&"Any"!==e.name?"s":"")})).join(" + "),I=R.map((function(e){return e.name})).join(" + "),C=Object(hs.a)().t,k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D;r({filter:{selected:y,direction:e}})};return s.a.createElement(d.H,{class:"list-items-header"},o?null:s.a.createElement(d.k,null,s.a.createElement("span",{className:"list-items-title"},C("List of")," ",C(N))),s.a.createElement(d.k,null,s.a.createElement("div",{className:"list-items-filter"},o?s.a.createElement(s.a.Fragment,null,s.a.createElement(d.q,{src:"assets/icon/add.svg",class:"manage_add_icon"}),s.a.createElement(d.N,{class:"add-driver-text",onClick:function(){return e.addPage()}},"Add Driver")," "):null,s.a.createElement(d.N,{"item-left":!0,class:"filter-dropdown",onClick:function(){O(g),f(!0)}},C(I),s.a.createElement("i",{className:"down"})),s.a.createElement(d.N,{class:"filter-sort",onClick:function(){var e="asc"===D?"desc":"asc";T(e),k(e)}},s.a.createElement(d.q,{src:"assets/icon/sort icon".concat("asc"===D?" downward":"",".svg")}))),s.a.createElement(d.A,{"show-backdrop":!0,"backdrop-dismiss":!1,isOpen:m,cssClass:"dropdown-modal",onDidDismiss:function(){f(!1)}},s.a.createElement("div",{className:"search_options"},s.a.createElement(d.H,{class:"dropdown-row dropdown-heading"},s.a.createElement(d.k,null,s.a.createElement("p",{className:"sortBy_text"},C("Filter By")))),y.map((function(e,t){return s.a.createElement(d.H,{className:"dropdown-row filter-option",key:t,onClick:function(){return function(e){var t=y.map((function(t){return Object(p.a)(Object(p.a)({},t),{},{selected:t.name===e.name&&!t.selected})}));t.find((function(e){return e.selected}))&&O(t)}(e)}},s.a.createElement(d.k,{className:e.selected?"checked":""},C(e.name)," ",s.a.createElement("i",{className:"check"})))})),s.a.createElement(d.H,{class:"dropdown-handler"},s.a.createElement(d.k,{size:"1"}),s.a.createElement(d.k,{size:"5",className:"dropdown_cancel",onClick:function(){return f(!1)}},s.a.createElement("span",null,C("Cancel"))),s.a.createElement(d.k,{size:"5",className:"dropdown_cancel dropdown_ok",onClick:function(){k(),v(y),f(!1)}},s.a.createElement("span",null,C("Ok_TEXT"))),s.a.createElement(d.k,{size:"1"}))))))}),wc=function(e){var t=e.isDesktop,a=e.dropdown,r=e.children,n=e.addPage;return s.a.createElement(d.l,{class:"".concat(t?"mange-user-desktop":"custom-padding")},s.a.createElement(Lc,{dropdown:a,addPage:n,isDesktop:t}),r)},Mc=function(e){var t=e.user,a=e.onUserClick,r=e.isDesktop,n=Object(hs.a)().t;return s.a.createElement(d.g,{class:"ion-user-content",onClick:function(){return a(t)}},s.a.createElement(d.h,{className:"card-content ion-user-card"},s.a.createElement(d.o,{class:"ion-user-grid"},s.a.createElement(d.H,null,s.a.createElement(d.k,{className:"ion-user-col",size:r?"1":"4"},s.a.createElement(dc,{firstName:t.firstName,lastName:t.lastName,normal:!0})),s.a.createElement(d.k,{className:"ion-user-col",size:r?"11":"8"},s.a.createElement("div",{className:"ion-user-content"},s.a.createElement("h4",{className:"ion-user-title"},t.firstName," ",t.lastName),s.a.createElement("div",{className:"ion-user-info"},s.a.createElement("label",null,n("Email")),s.a.createElement("span",null,t.email)),s.a.createElement("div",{className:"ion-user-info"},s.a.createElement("label",null,n("Mobile No")),s.a.createElement("span",null,t.mobileNumber))))))))},Pc=function(e){var t=Object(hs.a)().t;return s.a.createElement("div",{className:"No-Recommended"},s.a.createElement("img",{alt:"logo",src:"assets/icon/no-user.svg",width:"79.01px",height:"84.59px"}),s.a.createElement("p",{className:"recommended-Error"},t("EMPTY_USER_TEXT")),s.a.createElement("div",{className:"SearchLoadBtn"},s.a.createElement(d.e,{expand:"full",shape:"round",onClick:e.addPage,size:"large",type:"submit",class:"RecommendedSearch"},s.a.createElement(d.r,{src:"assets/icon/add.svg",class:"load-search"}),e.constantButton)))},Uc=function(){var e=Object(He.a)(Ge.a.mark((function e(t,a){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length>2)){e.next=3;break}return e.next=3,$a.details.searchAddress(t,(function(e){var t=e.map((function(e){return{addressLine1:e.address.streetName||"",addressLine2:"",addressType:"",city:e.address.municipality||"",state:e.address.countrySubdivision||"",postalCode:e.address.postalCode||""}}));a(t)}));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),xc=function(e){return e&&e.replace(/[^a-zA-Z0-9 ]*/g,"")||""},Fc=function(e){return/^([0-9]{10})$/.test(e)},Vc=function(e){return!/[~`!#@$%\^&*+=\-\[\]\\';.,/(){}|\\"\_:<>\?]/g.test(e)},Gc=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a="".concat(e).replace(/\D/g,""),r=a.match(/^(1|91|52)?(\d{3})(\d{3})(\d{4})$/);if(r){var n=r[1]?"+".concat(r[1]):"";return t?[n," ",r[2],".",r[3],".",r[4]].join(""):[r[2],".",r[3],".",r[4]].join("")}return null},Hc=function(e){return e&&e.replace(/[^\d]/g,"")},Bc=[{value:"carrierGuest",name:"Guest"},{value:"carrierDriver",name:"Driver"},{value:"carrierDispatcher",name:"Dispatcher"},{value:"carrierAdmin",name:"Admin"}],qc=[{label:"Driver",value:X.carrierDriver,desc:"Carry and update the status of loads.",selected:!0},{label:"Dispatcher",value:X.carrierDispatcher,desc:"Search, book, carry and update the status of loads.",selected:!1}],zc=(ie.PARK_LOCATION,se.PARK_LOCATION,ie.TRACKTOR_NUMBER,se.TRACKTOR_NUMBER,ie.FIRST_NAME,se.FIRST_NAME,ie.LAST_NAME,se.LAST_NAME,ie.MOBILE_NUMBER,se.MOBILE_NUMBER,{userId:null,roles:"",firstName:"",lastName:"",email:"",mobileNumber:"",tractorNumber:"",addressDTOs:{addressLine1:"",addressLine2:"",addressType:"",city:"",state:"",postalCode:""},carrierId:""}),Yc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=-1!==e.indexOf("carrierAdmin"),r=e.map((function(e){return new at.EnumType(e)})),n=Wc(t);return a?[new at.EnumType("carrierAdmin")].concat(Object(Se.a)(n)):n.length>0?n:r},Wc=function(e){return e.filter((function(e){return e.selected})).map((function(e){return new at.EnumType(e.value)}))},Kc=function(e){return"".concat(e.addressLine1).concat(e.addressLine2&&", "+e.addressLine2).concat(e.city&&", "+e.city).concat(e.state&&", "+e.state).concat(e.postalCode&&", "+e.postalCode).replace(/(^,)|(,$)/g,"")},Xc=function(e){return e.alertProps?s.a.createElement(yo,e.alertProps):null},Zc=function(e,t){return t?(Ua.details.auth.user.roles&&Ua.details.auth.user.roles.map((function(e){return P[e]}))).join(", ")||"":e&&e.roles&&e.roles.map((function(e){var t=Bc.find((function(t){return t.value===e}));return t?t.name:""})).join(", ")||""},Qc=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=Zc(e,t)||"Guest",r=e&&e.roles&&-1!==e.roles.indexOf("carrierDriver")?[{label:ie.PARK_LOCATION,value:(e.address&&e.address.length)>0&&Kc(e.address[0])||"-"},{label:ie.TRACKTOR_NUMBER,value:e.tractorNumber||"-"}]:[],n=e?[{label:ie.FIRST_NAME,value:e.firstName},{label:ie.LAST_NAME,value:e.lastName},{label:ie.EMAIL_ADDRESS,value:e.email},{label:ie.MOBILE_NUMBER,value:Jc(e.mobileNumber)},{label:ie.ROLES,value:a}].concat(r,[{label:ie.CARRIER_ID,value:e.carrierId||"NA"}]):[];return n&&n.length>0?n.map((function(e){return s.a.createElement(d.v,{className:"profile-item",key:e.label},s.a.createElement(d.w,{className:"profile-label",position:"floating",mode:"ios"},e.label),s.a.createElement(d.u,{value:e.value,readonly:!0,type:"text",class:"profile-input"}))})):null},Jc=function(e){if(!e)return e;var t=e.replace(/[^\d]/g,""),a=t.length;return a<4?t:a<7?"".concat(t.slice(0,3),"-").concat(t.slice(3)):"".concat(t.slice(0,3),"-").concat(t.slice(3,6),"-").concat(t.slice(6,10))},$c=s.a.memo((function(e){var t=e.isPullToRefresh,a=e.getUsersList,r=e.users,n=e.selectedUser,o=e.history,c=e.isNetworkAvailable,l=e.showNetworkAlert,u=e.setFilter,m=e.filters,f=Object(i.useState)(r),E=Object(Fe.a)(f,2),h=E[0],g=E[1],v=Object(hs.a)().t,b={options:[{value:"carrierAny",name:"Any"},{value:"carrierDriver",name:"Driver"},{value:"carrierDispatcher",name:"Dispatcher"},{value:"carrierAdmin",name:"Admin"}],data:r,filterParam:"roles",setFilter:u,direction:m.direction},S=function(){Qa.details.getR2FeatureEnable()?Dr.show():c?o.push("/app/".concat(e.module,"/ManageUser/Add")):l()},y=function(t){Qa.details.getR2FeatureEnable()?Dr.show():c?(St(ot.UE_VIEW_USER,{screen:ct.MU_VIEW_USER}),n({userProfile:t}),o.push("/app/".concat(e.module,"/ManageUser/Profile"))):l()};Object(i.useEffect)((function(){var e=function(){var e=b.filterParam,t=m.selected,a=m.direction,n=t.filter((function(e){return e.selected}));if(0===n.length||"Any"===n[0].name)return Object(Se.a)(r).sort((function(e,t){return e&&e.updatedTimeStamp&&t&&t.updatedTimeStamp&&new Date(e.updatedTimeStamp).getTime()>new Date(t.updatedTimeStamp).getTime()?"asc"===a?1:-1:"asc"===a?-1:1}));var i=r.filter((function(t){return n.filter((function(a){return-1!==t[e].findIndex((function(e){return e===a.value}))})).length>0}));return"asc"===a?i.reverse():i}().map((function(e){return Object(p.a)(Object(p.a)({},e),{},{defaultMobileNumber:e.mobileNumber,mobileNumber:Gc(e.mobileNumber)})}));g(e)}),[r]);var O=function(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return s.a.createElement(wc,{addPage:S,title:"List of users",dropdown:b,isDesktop:r},s.a.createElement(io,{status:t,onPullToRefresh:a,networkStatus:c,showAlert:e.showNetworkAlert}),s.a.createElement(d.H,{className:r?"manage-users-list-desktop":""},s.a.createElement(d.k,{size:"12"},h.map((function(e){return s.a.createElement(Mc,{key:e.userPrincipalName,user:e,isDesktop:r,onUserClick:y})})),h.length>0?s.a.createElement("div",{className:"end-of-list"},v("End of list")):s.a.createElement(Pc,{message:"",addPage:S,constantButton:v("Add")}))))};return Object(d.V)("desktop")?O(!0):s.a.createElement(d.B,{className:"manage-userslist-page"},s.a.createElement(Sc,{title:"Manage Users",backUrl:"/app/"+e.module,History:e.history,addPage:S}),O())})),el=function(e){var t=Hr(),a=e.selectedUser,r=e.history,n=e.isNetworkAvailable,o=e.showNetworkAlert,c=e.isSelf,l=void 0!==c&&c,u=Object(i.useState)(!1),p=Object(Fe.a)(u,2),m=p[0],f=p[1],E=Object(hs.a)().t,h={title:E("CHANGE_PASSWORD_TITLE"),message:E("CHANGE_PASSWORD_MESSAGE"),buttons:[{label:E("Cancel"),callback:function(){f(!1)}},{label:E("Ok_TEXT"),callback:function(){St(ot.UE_CHANGE_PASSWORD,{screen:ct.MP_CHANGE_PASSWORD}),t.changePassword(),f(!1)}}]};Object(i.useEffect)((function(){yt("screen_my_profile"),St(ot.SV_VIEW_MY_PROFILE,{screen:ct.MY_PROFILE,carrierId:a.carrierId})}),[]);return a?s.a.createElement(d.B,{className:"manage-userslist-page"},s.a.createElement(Sc,{title:l?"My Profile":"User Profile",backUrl:"/app/"+e.module,History:e.history,editData:function(){if(Qa.details.getR2FeatureEnable())return Dr.show(),!0;n?(St(ot.UE_EDIT_PROFILE,{screen:ct.MP_EDIT_PROFILE}),r.push("/app/".concat(e.module).concat(l?"/ProfileDetails/edit":"/Profile/edit"))):o()}}),s.a.createElement(d.l,{class:"custom-padding"},l?null:s.a.createElement(d.o,null,s.a.createElement(d.H,null,s.a.createElement(d.k,{size:"12"},s.a.createElement("div",{className:"manage-user-profile-header"},s.a.createElement(dc,{firstName:a.firstName,lastName:a.lastName,big:!0}),s.a.createElement("h4",null,a.firstName," ",a.lastName))))),s.a.createElement("div",{className:"manage-users-wrapper"},s.a.createElement(d.y,null,Qc(a),l?s.a.createElement(d.v,{className:"changePwd",key:"change-pwd","data-test":"change-pwd",lines:"none",onClick:function(){n?f(!0):o()}},s.a.createElement(d.N,{className:"change-pwd"},E("Change Password")),s.a.createElement("img",{slot:"end",alt:"logo",src:"/assets/icon/more-arrow.svg",className:"moresideimg"})):null))),s.a.createElement(yo,Object.assign({},h,{isOpen:m}))):null},tl="manage/ManageUser",al=new mr,rl=function(e){return e&&e.isAssignDriver?(e.history.push("/app/".concat(e.module)),!0):(e.history.push(Object(d.V)("desktop")?"/app/manage":"/app/".concat(tl)),!0)},nl=function(e){return function(t,a){var r=al.addUser(t);e.addUserAction({query:r,callback:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t)return a(),Dr.show(Sr.t("MANAGE_USER_SUCCESS_MESSAGE")),rl(e),!0;Dr.show(Sr.t("OOPS_MESSAGE"))},isCarrierAssign:!!e.isAssignDriver})}},il=function(e){return function(t,a){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=t.name,i=t.params;if(e.resetValidateUser(),r)return a(),Dr.show(Sr.t("MANAGE_USER_TRANSFER_EXIST")),rl(e),!0;var s=al.transferMember(i),o=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];a(),t?Dr.open({message:Sr.t("MANAGE_USER_TRANSFER_MESSAGE").replace("NAME",n),btnTitle:Sr.t("Ok_TEXT"),showUndo:!0,callback:function(){}}):Dr.show(Sr.t("OOPS_MESSAGE")),rl(e)};e.transferUserAction({query:s,callback:o})}};function sl(e){return ol.apply(this,arguments)}function ol(){return(ol=Object(He.a)(Ge.a.mark((function e(t){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(d.V)("capacitor")&&Za.details.stopGPS(),e.next=3,Ka();case 3:return e.next=5,t.authService.logout();case 5:return e.next=7,t.logout();case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var cl=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(a){var r=a.userDetails.userId,n=al.updateMember(a),i=function(){var a=Object(He.a)(Ge.a.mark((function a(){var r=arguments;return Ge.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(r.length>0&&void 0!==r[0]&&r[0])){a.next=9;break}if(Dr.show(Sr.t("MANAGE_USER_REMOVE_SUCCESS_TEXT")),!t){a.next=7;break}return a.next=6,sl(e);case 6:return a.abrupt("return",!0);case 7:return e.history.push("".concat(Object(d.V)("desktop")?"/app/manage":"/app/".concat(tl))),a.abrupt("return",!0);case 9:Dr.show(Sr.t("OOPS_MESSAGE"));case 10:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();e.delinkUserAction({query:n,userId:r,callback:i})}},ll=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(n,i){if(r){var s=e.userDetails&&e.userDetails.userApplicationDetails&&e.userDetails.userApplicationDetails.reduce((function(e,t){return[].concat(Object(Se.a)(e),Object(Se.a)(t.roles))}),[]).map((function(e){return e.roleName})),o=[];s.filter((function(e){return!0})).map((function(e){return o.push(new at.EnumType(e))})),n.userDetails=Object(p.a)(Object(p.a)({},n.userDetails),{},{roles:o})}var c=al.updateMember(n);e.updateUserAction({query:c,isProfile:!t,callback:function(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(r)return i(),Dr.show(Sr.t("MANAGE_USER_UPDATE_SUCCESS")),a||(t?e.history.push("/app/".concat(tl,"/Profile")):e.history.push("/app/manage/ProfileDetails")),!0;Dr.show(Sr.t("OOPS_MESSAGE"))}})}},ul=function(e){var t=e.isSelf,a=void 0!==t&&t,r=e.isProfile,n=void 0!==r&&r,o=e.isDesktop,c=void 0!==o&&o,l=e.isSelfDesktop,u=void 0!==l&&l,m=e.selectedUser,f=e.emailAddressError,E=e.formFields,h=e.isUserNotExist,g=e.reset,v=Object(i.useState)(qc),b=Object(Fe.a)(v,2),S=b[0],y=b[1],O=S.filter((function(e){return e.selected})).map((function(e){return e.label})).join(", "),_=1===S.filter((function(e){return e.selected})).length?S.find((function(e){return e.selected})).desc:S[1].desc,A=Object(i.useState)(!1),D=Object(Fe.a)(A,2),T=D[0],R=D[1],N=Object(i.useState)(!1),I=Object(Fe.a)(N,2),C=I[0],k=I[1],j=Object(hs.a)().t;Object(i.useEffect)((function(){if(m){var e=-1!==m.roles.indexOf("carrierAdmin"),t=qc.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{selected:-1!==m.roles.indexOf(e.value.toString())})}));y(t),k(e)}}),[m]),Object(i.useEffect)((function(){g&&(y(qc),k(!1),R(!1),e.setReset(!1))}),[g]);var L=function(){if(!e.isNetworkAvailable)return e.showNetworkAlert(),!0;St(ot.UE_ADD_NEW_USER,{screen:ct.MU_ADD_NEW_USER});var t=E.email;if(T&&R(!1),/^[a-zA-Z0-9.]+@[a-zA-Z0-9]+\.[A-Za-z]+$/.test(t)){var a=al.validateUser(t);return e.validateUserAction({query:a,callback:function(){return Dr.show(j("OOPS_MESSAGE"))}}),!0}e.setEmailAddressError(!0)},w=function(){return a&&C&&m||!a&&m||!m?s.a.createElement(d.N,{class:"role-desc"},j(_)):null},M=function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(d.v,{className:u?"profile-item role-info":"role-info","data-test":"select-role",onClick:function(){return R(!T)}},s.a.createElement(d.w,{position:"floating",mode:"ios"},j(ie.ROLE)),s.a.createElement(d.u,{value:C?"".concat(j("Admin")).concat(O.length>0?", ".concat(j(O)):""):"".concat(j(O))||"".concat(j("Guest")),readonly:!0,type:"text",class:""}),!(a&&C&&m||!a&&m)&&m||e.isAssignDriver?null:s.a.createElement(d.q,{src:"/assets/icon/grid-down-arrow.svg",className:"role-icon"}),u?w():null),u?null:w(),(a&&C&&m||!a&&m||!m)&&!e.isAssignDriver&&S&&T?s.a.createElement(d.y,{"data-test":"roles-list",class:"roles-list-grid static"},S.map((function(t,a){return s.a.createElement(d.v,{key:"role_".concat(a),"data-test":"role-list-item",onClick:function(){return function(t){var a=S.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{selected:e.label===t.label?!e.selected:e.selected})}));if(C||a.filter((function(e){return e.selected})).length>0){var r=a.find((function(e){return e.selected&&"Driver"===e.label}));e.setDriverSelected(!!r),y(a);var n=m?Yc(m.roles,a):Wc(a);e.setFormFields(Object(p.a)(Object(p.a)({},E),{},{roles:n})),e.setFormEdit(!0)}}(t)}},s.a.createElement("i",{className:"role-check-icon ".concat(t.selected?"checked":"")}),s.a.createElement("span",{className:"role-list-label"},j(t.label)))}))):null)},P=function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(d.v,{className:f?"email-field error":"email-field "},s.a.createElement(d.w,{position:"floating",mode:"ios"},j(ie.EMAIL_ADDRESS)),s.a.createElement(d.u,{value:E&&E.email,placeholder:j(se.EMAIL_ADDRESS),type:"email",readonly:h,name:"emailAddress",onIonChange:e.handleChange,"data-test":"email-field",pattern:"/^[a-zA-Z0-9]+@[a-zA-Z0-9]+\\.[A-Za-z]+$/"})),f?s.a.createElement(d.N,{class:"field-error","data-test":"email-field-error"},j("EMAIL_ERROR")):null)},U=function(){return s.a.createElement(s.a.Fragment,null,m?c&&!m?P():null:s.a.createElement(s.a.Fragment,null,P(),h||c?null:s.a.createElement(d.v,{className:"validate-btn-wrapper"},s.a.createElement(d.e,{className:"validate-btn","data-test":"validate-btn",onClick:L},j(ie.VALIDATE_NOW)))))},x=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return s.a.createElement(s.a.Fragment,null,s.a.createElement(d.y,{class:"manage-userslist-form"},e?s.a.createElement(d.H,null,s.a.createElement(d.k,null,M()),s.a.createElement(d.k,null,U())):s.a.createElement(s.a.Fragment,null,M(),U())),m||h||!e?null:s.a.createElement(d.H,{className:"manage-userButtons-row"},s.a.createElement(d.k,{className:"starRating-col"},s.a.createElement(d.e,{"data-kind":"primary",type:"submit","data-test":"validate-btn",class:"manage-user_btn",onClick:function(){return L()}},j(ie.VALIDATE_NOW)))))};return m?a?n?M():u?s.a.createElement(d.y,{className:"manage-userslist-form"},M()):null:n?null:x(c):x(c)},dl=function(e){var t=Object(hs.a)().t,a=Object(d.V)("desktop")?"6":"12";return s.a.createElement(s.a.Fragment,null,e.isUserNotExist||e.isEdit?s.a.createElement(s.a.Fragment,null,s.a.createElement(d.y,{className:"manage-userslist-form"},s.a.createElement(d.H,null,s.a.createElement(d.k,{size:a},s.a.createElement(d.v,null,s.a.createElement(d.w,{position:"floating",mode:"ios"},t(ie.FIRST_NAME)),s.a.createElement(d.u,{type:"text",placeholder:t(se.FIRST_NAME),onIonChange:e.handleChange,value:e.formFields.firstName,name:"firstName"})),e.formErrors&&e.formErrors.firstName?s.a.createElement(d.N,{class:"field-error","data-test":"firstName-field-error"},t(e.formErrors.firstName)):null),s.a.createElement(d.k,{size:a},s.a.createElement(d.v,null,s.a.createElement(d.w,{position:"floating",mode:"ios"},t(ie.LAST_NAME)),s.a.createElement(d.u,{type:"text",name:"lastName",placeholder:t(se.LAST_NAME),onIonChange:e.handleChange,value:e.formFields.lastName})),e.formErrors&&e.formErrors.lastName?s.a.createElement(d.N,{class:"field-error","data-test":"lastName-field-error"},t(e.formErrors.lastName)):null),s.a.createElement(d.k,{size:a},s.a.createElement(d.v,null,s.a.createElement(d.w,{position:"floating",mode:"ios"},t(ie.MOBILE_NUMBER)),s.a.createElement(d.u,{value:e.formFields.mobileNumber,name:"mobileNumber","data-test":"mobile-field",placeholder:t(se.MOBILE_NUMBER),pattern:"[0-9a-zA-Z]",type:"text",onFocus:function(){return e.setFormFields(Object(p.a)(Object(p.a)({},e.formFields),{},{mobileNumber:e.formFields.mobileNumber&&e.removeSpecial(e.formFields.mobileNumber)}))},onIonBlur:e.handleChange,maxlength:10})),e.formErrors&&e.formErrors.mobileNumber?s.a.createElement(d.N,{class:"field-error","data-test":"mobile-field-error"},t(e.formErrors.mobileNumber)):null),e.selectedUser?s.a.createElement(d.k,{size:a},s.a.createElement(d.v,null,s.a.createElement(d.w,{position:"floating",mode:"ios"},t(ie.EMAIL_ADDRESS)),s.a.createElement(d.u,{value:e.formFields.email,placeholder:t(se.EMAIL_ADDRESS),type:"email",readonly:!0,name:"emailAddress","data-test":"email-field"}))):null,e.isDesktop||e.isSelfDesktop||!e.selectedUser?null:s.a.createElement(d.k,{size:a},s.a.createElement(ul,Object.assign({},e.roleFormProps,{isProfile:!0}))),e.isDriverSelected&&s.a.createElement(s.a.Fragment,null,s.a.createElement(d.k,{size:a},s.a.createElement(d.v,null,s.a.createElement(d.w,{position:"floating",mode:"ios"},t(ie.PARK_LOCATION)),s.a.createElement(d.u,{type:"text",name:"addressDTOs",placeholder:t(se.PARK_LOCATION),onIonChange:e.handleChange,"data-test":"address-field",onIonFocus:function(){e.setAddressEdit(!0)},value:e.isAddressEdit?e.address:e.getAddressValue(e.formFields.addressDTOs)},s.a.createElement(d.r,{slot:"end",alt:"logo",src:"/assets/icon/search_icon.svg",className:"search-input-icon"}))),e.showAddressList?s.a.createElement(d.o,{class:"suggestions","data-test":"address-suggestions"},e.addressList.map((function(t,a){return s.a.createElement(d.H,{key:"address".concat(a),className:"suggestions_item","data-test":"suggestions_item",onClick:function(){return e.handleAddressSelection(t)}},s.a.createElement(d.k,{class:"suggestions_list"},e.getAddressValue(t)))}))):null),s.a.createElement(d.k,{size:a},s.a.createElement(d.v,null,s.a.createElement(d.w,{position:"floating",mode:"ios"},t(ie.TRACKTOR_NUMBER)),s.a.createElement(d.u,{type:"text",placeholder:t(se.TRACKTOR_NUMBER),name:"tractorNumber","data-test":"tractor-field",onIonChange:e.handleChange,value:e.formFields.tractorNumber})),e.formErrors&&e.formErrors.tractorNumber?s.a.createElement(d.N,{class:"field-error","data-test":"tractorNumber-field-error"},t(e.formErrors.tractorNumber)):null)),s.a.createElement(d.k,{size:a},s.a.createElement(d.v,null,s.a.createElement(d.w,{position:"floating",mode:"ios"},t(ie.CARRIER_ID)),s.a.createElement(d.u,{type:"text",name:"carrierId",value:e.formFields.carrierId,readonly:!0}),e.isEdit?s.a.createElement("img",{slot:"end",alt:"delink",src:"/assets/icon/delink.svg",className:"delink","data-test":"delink-btn",onClick:e.handleDelinkClick}):null)))),e.isDesktop?s.a.createElement(d.H,{className:"manage-userButtons-row"},s.a.createElement(d.k,{className:"starRating-col"},s.a.createElement(d.e,{"data-kind":"primary",type:"submit","data-test":"back-btn",class:"manage-user_btn",onClick:function(){return e.handleBackButton("/app/manage")}},"Back")),s.a.createElement(d.k,null,s.a.createElement(d.e,{"data-kind":"primary",type:"submit","data-test":"submit-btn",class:"manage-user_btn btn_save",onClick:function(){return e.handleSubmit()}},"Save"))):null):null)},pl=function(e){return s.a.createElement(d.B,{className:"manage-user-card-content ion-page desktop-page my-load-desktop-page"},s.a.createElement(d.l,{class:"mange-user-desktop"},s.a.createElement(d.o,{className:"addDriver-desktop-header"},e.title),s.a.createElement(ul,Object.assign({},e.roleFormProps,{isDesktop:!0})),s.a.createElement(dl,Object.assign({},e,{isDesktop:!0}))),Xc(e))},ml=function(e){var t=Hr(),a=Object(i.useState)(!1),r=Object(Fe.a)(a,2),n=r[0],o=r[1],c=e.selectedUser,l=Object(i.useState)(null),u=Object(Fe.a)(l,2),p=u[0],m=u[1];return s.a.createElement(d.l,{class:"custom-padding my-profile-desktop"},n?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"manage-users-wrapper"},s.a.createElement(ul,e.roleFormProps),s.a.createElement(dl,e)),s.a.createElement("div",{className:"manage-user-buttons"},s.a.createElement(d.e,{"data-kind":"primary",type:"submit","data-test":"back-btn",class:"load-btn",onClick:function(){return function(){if(!e.isFormEdit)return o(!1),!0;m({isOpen:!0,title:"Are you sure you want to navigate back?",message:"You have not saved the new user information.",buttons:[{label:"Cancel",callback:function(){m(null)}},{label:"Ok",callback:function(){e.resetData(),o(!1),m(null)}}]})}()}},"Back"),s.a.createElement(d.e,{"data-kind":"primary",type:"submit","data-test":"submit-btn",class:"",className:e.isFormValid?"load-btn btn_save ":"load-btn invalid-btn",onClick:function(){o(!1),e.handleSubmit()}},"Save"))):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"manage-users-wrapper"},s.a.createElement(d.y,null,Qc(c),s.a.createElement(d.v,{className:" profile-item changePwd",key:"change-pwd","data-test":"change-pwd-link",lines:"none",onClick:function(){return function(){if(!e.isNetworkAvailable)return e.showNetworkAlert(),!0;m({isOpen:!0,title:"Site Redirection",message:"You will be redirected to the secure site to change your password.",buttons:[{label:$.CANCEL,callback:function(){m(null)}},{label:$.OK,callback:function(){t.changePassword(),m(null)}}]})}()}},s.a.createElement(d.N,{className:"change-pwd"},"Change Password"),s.a.createElement("img",{slot:"end",alt:"logo",src:"/assets/icon/more-arrow.svg",className:"moresideimg"})))),s.a.createElement("div",{className:"manage-user-buttons"},s.a.createElement(d.e,{class:"load-btn","data-test":"edit-btn",onClick:function(){o(!0)}},"Edit"))),p?s.a.createElement(yo,Object.assign({},p,{isOpen:!0})):null)},fl=function(e){var t=e.userDetails,a=t.carrierId,r=t.userPrincipalName,n=e.isSelfDesktop,o=void 0!==n&&n,c=e.isSelf,l=void 0!==c&&c,u=e.selectedUser,m=void 0===u?null:u,f=e.validateUserDetails,E=void 0===f?null:f,h=e.isUserValid,g=void 0===h?null:h,v=e.resetValidateUser,b=void 0===v?null:v,S=e.history,y=e.isNetworkAvailable,O=e.showNetworkAlert,_=Object(i.useState)(!1),A=Object(Fe.a)(_,2),D=A[0],T=A[1],R=Object(i.useState)(!1),N=Object(Fe.a)(R,2),I=N[0],C=N[1],k=Object(i.useState)(!0),j=Object(Fe.a)(k,2),L=j[0],w=j[1],P=Object(i.useState)(null),U=Object(Fe.a)(P,2),x=U[0],F=U[1],V=Object(i.useState)(Object(p.a)(Object(p.a)({},zc),{},{roles:Wc(qc),carrierId:a})),G=Object(Fe.a)(V,2),H=G[0],B=G[1],q=Object(i.useState)([]),z=Object(Fe.a)(q,2),Y=z[0],W=z[1],K=Object(i.useState)(!1),X=Object(Fe.a)(K,2),Z=X[0],Q=X[1],J=Object(i.useState)(!0),$=Object(Fe.a)(J,2),ee=$[0],te=$[1],ae=Object(i.useState)({firstName:"",lastName:"",mobileNumber:"",tractorNumber:!1}),re=Object(Fe.a)(ae,2),ne=re[0],ie=re[1],se=Object(i.useState)(!1),oe=Object(Fe.a)(se,2),ce=oe[0],le=oe[1],ue=Object(i.useState)(!1),de=Object(Fe.a)(ue,2),pe=de[0],me=de[1],fe=Object(i.useState)(""),Ee=Object(Fe.a)(fe,2),he=Ee[0],ge=Ee[1],ve=Object(i.useState)(!1),be=Object(Fe.a)(ve,2),Se=be[0],ye=be[1],Oe=Object(hs.a)().t,_e=function(){if(F(null),ge(""),me(!1),ye(!0),le(!1),m){var e=qc.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{selected:-1!==m.roles.indexOf(e.value.toString())})})),t=Ae(m);B(Object(p.a)(Object(p.a)({},t),{},{roles:Yc(m.roles,e)}))}else C(!1),ie({firstName:"",lastName:"",mobileNumber:""}),b(),B(Object(p.a)(Object(p.a)({},zc),{},{roles:Wc(qc),carrierId:a}))},Ae=function(e){return{userId:e.userPrincipalName,roles:[],firstName:e.firstName,lastName:e.lastName,email:e.email,mobileNumber:Jc(e.defaultMobileNumber),tractorNumber:e.tractorNumber,addressDTOs:e.address&&e.address.length>0?e.address[0]:{addressLine1:"",addressLine2:"",addressType:"",city:"",state:"",postalCode:""},carrierId:e.carrierId}};Object(i.useEffect)((function(){null!==g&&(C(!g),Te(g))}),[g]),Object(i.useEffect)((function(){if(m){var e=qc.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{selected:-1!==m.roles.indexOf(e.value.toString())})})),t=e.find((function(e){return e.selected&&"Driver"===e.label}));w(!!t),te(!1);var a=Ae(m);B(Object(p.a)(Object(p.a)({},a),{},{roles:Yc(m.roles,e)})),Object.keys(ne).forEach((function(e){ne[e]=!(a[e]&&""!==a[e]&&"tractorNumber"!==e||"tractorNumber"===e)&&""})),ie(ne),le(!1)}}),[m]);var De=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=t||(l?"/app/manage/ProfileDetails":m?"/app/manage/ManageUser/Profile":"/app/manage/ManageUser");return e&&e.isAssignDriver&&(a="/app/"+e.module),S.push(a),!0},Te=function(t){F({isOpen:t,title:Oe("USER_EXIST_TITLE"),message:Oe("USER_EXIST_MESSAGE").replace("EMAIL",E&&E.userPrincipalName).replace("NAME",E&&E.firstName),buttons:[{label:Oe("NO"),callback:function(){B(Object(p.a)(Object(p.a)({},H),{},{email:""})),F(null),e.resetValidateUser(),De()}},{label:Oe("YES"),callback:function(){F(null),function(){if(!y)return O(),!0;St(ot.UE_TRANSFER_USER,{screen:ct.MU_TRANSFER_USER});var t={requester:{userId:r,carrierId:a,isAdmin:!0},userId:E.userPrincipalName,currentCarrierId:E.carrierId,requestedCarrierId:a,roles:H.roles},n={name:E&&E.firstName,params:t};e.handleTransfer(n,_e,a===E.carrierId)}()}}]})},Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!ce)return De(e);F({isOpen:!0,title:Oe("USER_BACK_TITLE"),message:Oe("USER_BACK_MESSAGE"),buttons:[{label:Oe("Cancel"),callback:function(){F(null)}},{label:Oe("Ok_TEXT"),callback:function(){_e(),le(!1),De()}}]})},Ne=function(e){W(e),Q(!0)},Ie=Object(i.useCallback)(Dt.a.debounce((function(e){return Uc(e,Ne)}),500),[]),Ce=function(e){var t=e.target,a=t.name,r=t.value;switch("emailAddress"!==a&&function(e,t){var a=Object(p.a)({},ne);switch(e){case"firstName":case"lastName":var r=""!==t&&Vc(t);a=Object(p.a)(Object(p.a)({},ne),{},Object(Es.a)({},e,!r&&M[e]));break;case"tractorNumber":var n=""===t||""!==t&&Vc(t);a=Object(p.a)(Object(p.a)({},ne),{},Object(Es.a)({},e,!n&&M[e]));break;case"mobileNumber":var i=t.replace(/[^\d]/g,""),s=Fc(i);a=Object(p.a)(Object(p.a)({},ne),{},Object(Es.a)({},e,!s&&M[e]))}var o=Object.keys(a).filter((function(e){return!1!==a[e]}));me(0===o.length),ie(a)}(a,r),le(!0),a){case"emailAddress":T(!1),B(Object(p.a)(Object(p.a)({},H),{},{email:r}));break;case"mobileNumber":B(Object(p.a)(Object(p.a)({},H),{},{mobileNumber:Jc(r)}));break;case"addressDTOs":ee&&(Ie(r),ge(r));break;default:B(Object(p.a)(Object(p.a)({},H),{},Object(Es.a)({},a,r)))}},ke=function(){if(!y)return O(),!0;if(function(){var e=Object.keys(ne).filter((function(e){return!1!==ne[e]})),t=Object.keys(ne).filter((function(e){return""===H[e]&&"tractorNumber"!==e}));if(e.length>0||t.length>0){var a=ne;return e.forEach((function(e){a[e]=M[e]})),t.forEach((function(e){a[e]=M[e]})),ie(a),B(Object(p.a)({},H)),!0}return!1}())return!0;var t={requester:{userId:r,carrierId:a,isAdmin:!0},userDetails:Object(p.a)(Object(p.a)({},H),{},{mobileNumber:Hc(H.mobileNumber)})};e.handleSubmit(t,_e);ot.UE_NEW_USER_ADDED,ct.MU_USER_ADDED;St(m?l?ot.UE_SAVE_PROFILE:ot.UE_SAVE_USER_CHANGES:ot.UE_NEW_USER_ADDED,{screen:m?l?ct.MP_SAVE_PROFILE:ct.MU_SAVE_CHANGES:ct.MU_USER_ADDED})},je=Object(p.a)(Object(p.a)({},e),{},{formFields:H,isUserNotExist:I,handleChange:Ce,emailAddressError:D,setEmailAddressError:T,setDriverSelected:w,setFormFields:B,setFormEdit:le,reset:Se,setReset:ye}),Le=Object(p.a)(Object(p.a)({},e),{},{title:m?l?"Edit Profile":"Edit User":"Add Driver/Dispatcher",isEdit:!!m,handleBackButton:Re,emailAddressError:D,isUserNotExist:I,isFormEdit:ce,formFields:H,formErrors:ne,setFormFields:B,handleChange:Ce,isDriverSelected:L,alertProps:x,setAddressEdit:te,showAddressList:Z,addressList:Y,handleAddressSelection:function(e){te(!1),B(Object(p.a)(Object(p.a)({},H),{},{addressDTOs:e})),me(!1),Q(!1),W([])},isAddressEdit:ee,address:he,removeSpecial:Hc,getAddressValue:Kc,handleSubmit:ke,handleDelinkClick:function(){if(!y)return O(),!0;F({isOpen:!0,title:Oe("DELINK_ACCOUNT_TITLE"),message:Oe("DELINK_ACCOUNT_TITLE"),buttons:[{label:Oe("NO"),callback:function(){return F(null)}},{label:Oe("YES"),callback:function(){var t=ct.MU_DELINK_CARRIER;l&&(t=ct.MP_DELINK_CARRIER),St(ot.UE_DELINK_CARRIER,{screen:t});var n=Ae(m),i={requester:{userId:r,carrierId:a,isAdmin:!0},userDetails:Object(p.a)(Object(p.a)({},n),{},{roles:[new at.EnumType("carrierGuest")],mobileNumber:n.mobileNumber&&Hc(n.mobileNumber),carrierId:""})};F(null),e.handleDelink(i)}}]})},resetData:_e,roleFormProps:je});return s.a.createElement(s.a.Fragment,null,o?s.a.createElement(ml,Le):Object(d.V)("desktop")?s.a.createElement(pl,Le):s.a.createElement(d.B,{className:"manage-userslist-page"},s.a.createElement(Sc,{title:e.title?e.title:m?l?"Edit Profile":"Edit User":"Add Driver/Dispatcher",customBackUrl:Re,History:e.history}),s.a.createElement(d.l,{class:"ion-padding  custom-padding"},s.a.createElement(d.l,{class:"ion-padding  custom-padding"},s.a.createElement("div",{className:"manage-users-formWrapper"},s.a.createElement(ul,je),s.a.createElement(dl,Object.assign({},Le,{isSelf:!1,isProfile:!0})))),s.a.createElement(d.n,{class:"manage-userlist-footer"},s.a.createElement(d.e,{expand:"full",onClick:ke,"data-test":"submit-btn",className:pe?"":"invalid-btn"}," ",Oe("Save")))),Xc({alertProps:x})))},El=function(e){return{type:"MANAGE_USER_VALIDATE",payload:e}},hl=function(e){return{type:"MANAGE_USER_TRANSFER",payload:e}},gl=function(e){return{type:"MANAGE_USER_TRANSFER_REQUEST",payload:e}},vl=function(e){return{type:"MANAGE_USER_ADD",payload:e}},bl=function(e){return{type:"MANAGE_USER_EDIT",payload:e}},Sl=function(e){return{type:"MANAGE_USER_REMOVE",payload:e}},yl=function(e){return{type:"MANAGE_CAPACITY_ADD",payload:e}},Ol=Object(xe.b)({loading:ln(),userProfile:pn(),isNetworkAvailable:fn()}),_l=Object(u.c)(Ol,(function(e){return{showNetworkAlert:function(){return e(or())},updateUserAction:function(t){return e(bl(t))},delinkUserAction:function(t){return e(Sl(t))}}}))((function(e){var t=e&&e.userProfile&&e.userProfile.userApplicationDetails&&e.userProfile.userApplicationDetails.reduce((function(e,t){return[].concat(Object(Se.a)(e),Object(Se.a)(t.roles))}),[]).map((function(e){return e.roleName}))||[],a=Object(p.a)(Object(p.a)({},e.userProfile),{},{roles:t}),r=Object(p.a)(Object(p.a)({},a),{},{defaultMobileNumber:a.defaultMobileNumber?a.defaultMobileNumber:a.mobileNumber}),n=Hr();return Object(d.V)("desktop")?s.a.createElement(fl,Object.assign({},e,{isSelf:!0,isSelfDesktop:!0,selectedUser:r,userDetails:e.userProfile,userProfile:a,isEditable:!1,module:"manage",handleSubmit:ll(e,!1,!0),handleDelink:cl(Object(p.a)(Object(p.a)({},e),{},{authService:n}),!0)})):s.a.createElement(el,Object.assign({},e,{isSelf:!0,selectedUser:r,userDetails:e.userProfile,userProfile:a,isEditable:!1,module:"manage",handleSubmit:ll(e),handleDelink:cl(e,!0)}))})),Al={profileImg:[],manageCardData:[],users:{data:[],loaded:!1,selectedProfile:null,filter:{selected:[],direction:"desc"},validateUser:{isUserValid:null,details:{}},transfer:{isRequested:!1,details:{}}},capacity:{loaded:!1,data:[],filter:{selected:[],direction:"desc"},selected:null},carrierProfile:{data:null,loaded:!1}},Dl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Al,t=arguments.length>1?arguments[1]:void 0;return Object(E.a)(e,(function(e){switch(t.type){case"GET_MANAGE_CARD_DATA":e.manageCardData=t.payload;break;case"MANAGE_USERS_LIST_SUCCESS":e.users.data=t.payload.usersList,e.users.loaded=!0,e.users.selectedProfile=null;break;case"MANAGE_USER_SELECTED":e.users.selectedProfile=t.payload.userProfile;break;case"MANAGE_USER_FILTER":e.users.filter=t.payload.filter;break;case"MANAGE_USER_VALIDATE_STATUS":e.users.validateUser=t.payload;break;case"MANAGE_USER_VALIDATE_RESET":e.users.validateUser={isUserValid:null,details:{}};break;case"MANAGE_USER_ADD_SUCCESS":e.users.data=[].concat(Object(Se.a)(e.users.data),[t.payload.member]),e.users.filter=Al.users.filter,e.users.selectedProfile=null;break;case"MANAGE_USER_EDIT_SUCCESS":var a=t.payload.member;e.users.data=e.users.data.map((function(e){return e.userPrincipalName===a.userPrincipalName?a:e})),e.users.selectedProfile=a;break;case"MANAGE_USER_TRANSFER_REQUEST":e.users.transfer=t.payload.transfer;break;case"MANAGE_USER_TRANSFER_REQUEST_RESET":e.users.transfer={isRequested:!1,details:{}};break;case"MANAGE_USER_REMOVE_SUCCESS":e.users.data=e.users.data.filter((function(e){return e.userPrincipalName!==t.payload.userId})),e.users.selectedProfile=null;break;case"MANAGE_USER_LOADED_RESET":e.users.loaded=!1;break;case"MANAGE_CAPACITY_FILTER":e.capacity.filter=t.payload.filter;break;case"MANAGE_CAPACITY_ADD_SUCCESS":e.capacity.data=[t.payload.capacityItem].concat(Object(Se.a)(e.capacity.data)),e.capacity.filter=Al.capacity.filter;break;case"MANAGE_CAPACITY_EDIT_SUCCESS":var r=t.payload.capacityItem;e.capacity.data=e.capacity.data.map((function(e){return e.capacityId===r.capacityId?r:e})),e.capacity.selected=r;break;case"MANAGE_CAPACITY_SELECTED":e.capacity.selected=t.payload.capacityItem;break;case"MANAGE_CAPACITY_LIST_SUCCESS":var n=t.payload.isRefresh?t.payload.capacityList:[].concat(Object(Se.a)(e.capacity.data),Object(Se.a)(t.payload.capacityList));e.capacity.data=n.filter((function(e,t){return t===n.findIndex((function(t){return t.capacityId===e.capacityId}))})),e.capacity.selected=null,e.capacity.loaded=!0;break;case"MANAGE_CAPACITY_REMOVE_SUCCESS":e.capacity.data=e.capacity.data.filter((function(e){return e.capacityId!==t.payload.capacityId}));break;case"CARRIER_MANAGE_DATA_SUCCESS":e.carrierProfile.data=t.payload.data,e.carrierProfile.loaded=!0}}))},Tl=function(e){return e.manage||Al},Rl=function(){return Object(xe.a)([Tl],(function(e){return e.users.selectedProfile||Al.users.selectedProfile}))},Nl=function(){return Object(xe.a)([Tl],(function(e){return e.users.validateUser.isUserValid}))},Il=function(){return Object(xe.a)([Tl],(function(e){return e.users.validateUser.details||Al.users.validateUser.details}))},Cl=function(){return Object(xe.a)([Tl],(function(e){return e.capacity.selected||Al.capacity.selected}))},kl=function(){function e(){Object(qe.a)(this,e)}return Object(ze.a)(e,[{key:"getProfile",value:function(e){return{query:{getCarrierProfile:{__args:{input:{carrierId:e}},carrierName:!0,carrierMCNo:!0,carrierUsDOTNo:!0,commonCarrierId:!0,carrierScac:!0,carrierTier:!0,carrierStatusCode:!0,addressLine1:!0,addressLine2:!0,city:!0,state:!0,country:!0,postalCode:!0,carrierModeTruckloadInd:!0,carrierModeLTLInd:!0,carrierModeIMInd:!0,primaryContact:{contactFirstName:!0,contactLastName:!0,contactType:!0,contactPhoneNumber:!0,contactFaxNumber:!0,contactEmail:!0},otherContacts:{contactFirstName:!0,contactLastName:!0,contactType:!0,contactPhoneNumber:!0,contactFaxNumber:!0,contactEmail:!0},insurances:{insuranceId:!0,policyNumber:!0,coverageAmount:!0,maxInsuranceLimit:!0,insuranceTypeCode:!0,insuranceTypeDesc:!0,insuranceStatusCode:!0,insuranceCertificateId:!0,policyEffectiveDate:!0,policyExpirationDate:!0},certifications:{certificationCode:!0,certificationDesc:!0,certificateExpireDate:!0,qualificationStatus:!0}}}}}}]),e}(),jl=(a(583),function(e){return gt()(e).format("MM/DD/YYYY")}),Ll=function(e){var t=e&&e.data&&e.data.filter((function(e){return new Date(gt()(e.policyExpirationDate).format("YYYY-MM-DD")).getTime()>=(new Date).getTime()}))||[],a=Object(hs.a)().t;return i.createElement(d.g,{class:"carrier-card"},i.createElement(d.i,{class:e.showAccordian?"card-header-pad carrier-accordion-header":"card-header-pad2 carrier-accordion-header",onClick:e.accordianClick},i.createElement(d.w,{className:"carrier-card-title"},e.carrierHeader),e.showAccordian?i.createElement(d.q,{src:me.plus,className:"addAccordian"}):i.createElement(d.q,{src:me.minus,className:"addAccordian"})),i.createElement(d.h,{class:e.showAccordian?"fadeout accordianCardContent":"fadein accordianCardContent"},Object(d.V)("desktop")?i.createElement(d.N,{className:"carrier-text insurence"},"New insurance certs will show starting at the effective date. If your cert is close to expiry, please send insurance cert to xxxxxx@rmis.com"):null,t.map((function(e,t){return i.createElement(i.Fragment,null,i.createElement(d.o,{className:"insurance-card-header"},i.createElement(d.H,null,i.createElement(d.k,{size:Object(d.V)("desktop")?"1":"2"},i.createElement(d.q,{src:"/assets/icon/insurence-icon.svg",className:"insurence-icon"})),i.createElement(d.k,null,i.createElement(d.N,{class:"insurence-title"},Object(d.V)("desktop")?"Insurance":e.insuranceTypeCode)))),Object(d.V)("desktop")?i.createElement(d.y,{className:"insurance-card-list"},i.createElement(d.v,{mode:"ios",key:t,className:"carrier-profile-ionitem"},i.createElement(d.w,{mode:"ios",position:"floating"},a("Effective Date")),i.createElement(d.u,{type:"text",className:"profile-form-control",name:"origin",value:jl(e.policyEffectiveDate),readonly:!0})),i.createElement(d.v,{mode:"ios",key:t,className:"carrier-profile-ionitem"},i.createElement(d.w,{mode:"ios",position:"floating"},a("Type")),i.createElement(d.u,{type:"text",className:"profile-form-control",name:"origin",value:e.insuranceTypeCode,readonly:!0})),i.createElement(d.v,{mode:"ios",key:t,className:"carrier-profile-ionitem"},i.createElement(d.w,{mode:"ios",position:"floating"},a("Coverage Amount")),i.createElement(d.u,{type:"text",className:"profile-form-control",name:"origin",value:"$".concat(e.coverageAmount),readonly:!0})),i.createElement(d.v,{mode:"ios",key:t,className:"carrier-profile-ionitem"},i.createElement(d.w,{mode:"ios",position:"floating"},a("Expiration Date")),i.createElement(d.u,{type:"text",className:"profile-form-control",name:"origin",value:jl(e.policyExpirationDate),readonly:!0}))):i.createElement(d.y,{className:"insurance-card-list"},i.createElement(d.v,{mode:"ios",key:t,className:"carrier-profile-ionitem"},i.createElement(d.w,{mode:"ios",position:"floating"},a("Effective Date")),i.createElement(d.u,{type:"text",className:"profile-form-control",name:"origin",value:jl(e.policyEffectiveDate),readonly:!0})),i.createElement(d.v,{mode:"ios",key:t,className:"carrier-profile-ionitem"},i.createElement(d.w,{mode:"ios",position:"floating"},a("Expiration Date")),i.createElement(d.u,{type:"text",className:"profile-form-control",name:"origin",value:jl(e.policyExpirationDate),readonly:!0})),i.createElement(d.v,{mode:"ios",key:t,className:"carrier-profile-ionitem",lines:"none"},i.createElement(d.w,{mode:"ios",position:"floating"},a("Coverage Amount")),i.createElement(d.u,{type:"text",className:"profile-form-control",name:"origin",value:"$".concat(e.coverageAmount),readonly:!0}))))}))))},wl=function(e){var t=e.showAccordian,a=e.accordianClick,r=e.carrierHeader,n=e.data,i=Object(hs.a)().t;return s.a.createElement(d.g,{class:" ".concat("Carrier Info"===r?"carrier-card2":"carrier-card")},s.a.createElement(d.i,{class:t?"card-header-pad carrier-accordion-header":"card-header-pad2 carrier-accordion-header","data-test":"carrier-acc-title",onClick:a},s.a.createElement(d.w,{className:"carrier-card-title"},r),t?s.a.createElement(d.q,{src:"assets/icon/add.svg",className:"addAccordian","data-test":"add-icon"}):s.a.createElement(d.q,{src:"assets/icon/minus-icon.svg",className:"addAccordian","data-test":"remove-icon"})),s.a.createElement(d.h,{class:t?"fadeout":"fadein accordianCardContent"},n&&n.length>0?s.a.createElement(d.y,{className:"carrier-profile-list"},n.map((function(e,t){return s.a.createElement(d.v,{mode:"ios",key:t,className:"carrier-profile-ionitem",lines:t!==n.length-1||Object(d.V)("desktop")?"inset":"none"},s.a.createElement(d.w,{mode:"ios",position:"floating",className:"carrier-profile-label"},i(e.label)),s.a.createElement(d.u,{type:"text",className:"profile-form-control",name:"origin",value:e.value,readonly:!0}))}))):null))},Ml=function(e){return[{label:"Carrier Name",value:e.carrierName||"-"},{label:"Carrier ID",value:e.commonCarrierId||"-"},{label:"Carrier MC#",value:e.carrierMCNo||"-"},{label:"USDOT#",value:e.carrierUsDOTNo||"-"}]},Pl=function(e){return[{label:"Carrier Address",value:e&&Object.keys({addressLine1:e.addressLine1||null,addressLine2:e.addressLine2||null,city:e.city||null,state:e.state||null,country:e.country||null,postalCode:e.postalCode||null}).filter((function(t){return e[t]})).map((function(t){return e[t]})).join(", ")||"-"},{label:"Carrier Contact",value:e.primaryContact&&"".concat(e.primaryContact.contactFirstName,", ").concat(e.primaryContact.contactLastName)||"-"},{label:"Carrier Phone",value:e.primaryContact&&e.primaryContact.contactPhoneNumber||"-"},{label:"Email",value:e.primaryContact&&e.primaryContact.contactEmail||"-"}]},Ul=function(e){var t=e.carrierProfile;return s.a.createElement(d.l,{className:"ion-padding custom-padding carrier-profile-desktop"},t&&t.map((function(t){var a=t&&t.certifications&&t.certifications.filter((function(e){return"hazmat"!==e.certificationCode.toLowerCase()||"hazmat"===e.certificationCode.toLowerCase()&&new Date(e.certificateExpireDate)>=new Date(gt()().format("YYYY-MM-DD HH:MM"))}))||[];return s.a.createElement(s.a.Fragment,null,s.a.createElement(d.N,{className:"carrier-text"},"Contact Schneider if any of the fields need to be updated"),s.a.createElement(wl,{showAccordian:!e.showCarrier,accordianClick:function(){return e.setShowCarrier(!e.showCarrier)},carrierHeader:"Carrier Info",data:Ml(t)}),s.a.createElement(wl,{showAccordian:!e.showContact,accordianClick:function(){return e.setShowContact(!e.showContact)},carrierHeader:"Contact Details",data:Pl(t)}),s.a.createElement(Ll,{showAccordian:!e.showCarrierInsurance,accordianClick:function(){return e.setShowCarrierInsurance(!e.showCarrierInsurance)},carrierHeader:"Carrier Insurance",data:t.insurances}),s.a.createElement(d.o,null,s.a.createElement(d.H,null,s.a.createElement(d.k,{size:"6"},s.a.createElement(d.w,{className:"carrier-card-title"},"Certification")),s.a.createElement(d.k,{size:"6"},s.a.createElement(d.w,{className:"carrier-card-title"},"Qualification Status"))),a.map((function(e){return s.a.createElement(d.H,null,s.a.createElement(d.k,{size:"6"},s.a.createElement(d.o,{className:"cert-grid"},s.a.createElement(d.H,{className:"cert-header"},s.a.createElement(d.k,{size:"1"},s.a.createElement(d.r,{alt:"logo",src:"/assets/icon/".concat(e.certificationDesc.toLowerCase(),".svg"),className:"certificate-png"})),s.a.createElement(d.k,{size:"6"},s.a.createElement(d.N,{className:"cert-desc"},Object(At.capitalize)(e.certificationDesc))),s.a.createElement(d.k,{size:"5"},s.a.createElement(d.y,{className:"HazmatDate date_approved"}))))),s.a.createElement(d.k,{size:"6"},s.a.createElement(d.o,{className:"cert-grid"},s.a.createElement(d.H,null,s.a.createElement(d.k,{size:"1"},s.a.createElement(d.q,{src:"assets/icon/tick-icon.svg",className:"tick-icon"})),s.a.createElement(d.k,{size:"6",className:"Approved"},s.a.createElement(d.N,{className:"qualficiation-desc"},Object(At.capitalize)(e.qualificationStatus))),s.a.createElement(d.k,{size:"5"},s.a.createElement(d.N,{className:"qualficiation-expiry"},e&&e.certificateExpireDate&&"hazmat"===e.certificationCode.toLowerCase()?gt()(e.certificateExpireDate).format("MM/DD/YYYY"):""))))))}))))})),s.a.createElement("div",{className:"contact",dangerouslySetInnerHTML:{__html:'Contact Schneider at <a href="mailto:stmcarrier@schneider.com" className="email">stmcarrier@schneider.com</a> <span>if any of the fields need to be updated</span>'}}))},xl=function(e){Object(i.useEffect)((function(){yt("screen_carrier_profile")}));var t=e.carrierProfile,a=e.history,r=e.backUrl,n=e.isPullToRefresh,o=e.getCarrierProfile,c=Object(i.useState)(!0),l=Object(Fe.a)(c,2),u=l[0],m=l[1],f=Object(i.useState)(!0),E=Object(Fe.a)(f,2),h=E[0],g=E[1],v=Object(i.useState)(!0),b=Object(Fe.a)(v,2),S=b[0],y=b[1],O=Object(hs.a)().t;if(Object(d.V)("desktop")){var _=Object(p.a)(Object(p.a)({},e),{},{showCarrier:u,setShowCarrier:m,showContact:h,setShowContact:g,showCarrierInsurance:S,setShowCarrierInsurance:y});return s.a.createElement(Ul,_)}return s.a.createElement(d.B,{className:"desktop-page","data-test":"IonPage-Manage"},s.a.createElement(Sc,{title:"Carrier Profile",backUrl:"/app/"+r,History:a}),s.a.createElement(d.l,{className:"ion-padding custom-padding recent_container"},s.a.createElement(io,{status:n,onPullToRefresh:o,networkStatus:e.isNetWorkAvailable,showAlert:e.showNetworkAlert}),t&&t.map((function(e,t){var a=e&&e.certifications&&e.certifications.filter((function(e){return"hazmat"!==e.certificationCode.toLowerCase()||"hazmat"===e.certificationCode.toLowerCase()&&new Date(gt()(e.certificateExpireDate).format("YYYY-MM-DD")).getTime()>=(new Date).getTime()}))||[];return s.a.createElement(s.a.Fragment,{key:"profile".concat(t)},s.a.createElement(wl,{showAccordian:u,accordianClick:function(){return m(!u)},carrierHeader:O("CARRIER_INFO"),data:Ml(e)}),s.a.createElement(wl,{showAccordian:h,accordianClick:function(){return g(!h)},carrierHeader:O("CARRIER_CONTACT_DETAILS"),data:Pl(e)}),s.a.createElement(Ll,{showAccordian:S,accordianClick:function(){return y(!S)},carrierHeader:O("CARRIER_INSURANCE"),data:e.insurances}),s.a.createElement(d.g,{class:"carrier-card"},s.a.createElement(d.i,{class:"card-header-pad carrier-accordion-header"},s.a.createElement(d.w,{className:"carrier-card-title"},O("CARRIER_CERITIFCATION"))),s.a.createElement(d.h,{class:"accordianCardContent"},a.map((function(e,t){return s.a.createElement(d.o,{className:"cert-grid",key:"cer".concat(t)},s.a.createElement(d.H,{className:"cert-header"},s.a.createElement(d.k,{size:"2"},s.a.createElement(d.r,{alt:"logo",src:"/assets/icon/".concat(e.certificationDesc.toLowerCase(),".svg"),className:"certificate-png"})),s.a.createElement(d.k,{size:"6"},s.a.createElement(d.N,{className:"cert-desc"},Object(At.capitalize)(e.certificationDesc))),s.a.createElement(d.k,{size:"4"},s.a.createElement(d.y,{className:"HazmatDate date_approved"},e&&e.certificateExpireDate&&"hazmat"===e.certificationCode.toLowerCase()?gt()(e.certificateExpireDate).format("MM/DD/YYYY"):""))),s.a.createElement(d.w,{className:"inner-card-title"},O("CARRIER_QUALIFICATION_STATUS")),s.a.createElement(d.H,null,s.a.createElement(d.k,{size:"2"},s.a.createElement(d.q,{src:"assets/icon/tick-icon.svg",className:"tick-icon"})),s.a.createElement(d.k,{size:"6",className:"Approved"},s.a.createElement(d.N,{className:"qualficiation-desc"},Object(At.capitalize)(e.qualificationStatus))),s.a.createElement(d.k,{size:"4"},s.a.createElement(d.N,{className:"qualficiation-expiry"}))))})))))})),s.a.createElement("div",{className:"contact",dangerouslySetInnerHTML:{__html:O("CARRIER_PROFILE_FOOTER")}})))},Fl=Object(xe.b)({userDetails:pn(),loaded:Object(xe.a)([Tl],(function(e){return e.carrierProfile.loaded||Al.carrierProfile.loaded})),isPullToRefresh:mn(),carrierProfile:Object(xe.a)([Tl],(function(e){return e.carrierProfile.data||Al.carrierProfile.data})),isNetWorkAvailable:fn()}),Vl=Object(u.c)(Fl,(function(e){return{loadCarrierProfile:function(t){return e(function(e){return{type:"CARRIER_MANAGE_DATA_REQUEST",payload:e}}(t))},showNetworkAlert:function(){return e(or())}}}))((function(e){var t=e.loaded,a=e.userDetails,r=e.loadCarrierProfile,n=new kl,o=Object(hs.a)().t,c=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=a.carrierId,i=n.getProfile(t),s=function(){Dr.show(o("OOPS_MESSAGE"))};r({query:i,isPullToRefresh:e,callback:s})};return Object(i.useEffect)((function(){t||c()}),[t]),Object(i.useEffect)((function(){St(ot.SV_VIEW_CARRIER_PROFILE,{screen:ct.CARRIER_PROFILE,carrierId:e.userDetails.carrierId})}),[]),s.a.createElement(xl,Object.assign({},e,{backUrl:"manage",getCarrierProfile:c}))})),Gl=Ge.a.mark(zl),Hl=Ge.a.mark(Wl),Bl=Ge.a.mark(Kl),ql=Ge.a.mark(Xl);function zl(e){var t,a,r,n,i,s,o;return Ge.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,a=t.query,r=t.isPullToRefresh,n=t.callback,c.prev=1,c.next=4,Object(_n.c)(ut(r));case 4:return i=ka.domainToData(a),c.next=7,Object(_n.b)(An,["MANAGE","MY_CAPACITY",null,"",i,"application/json"]);case 7:return s=c.sent,o=s.data&&s.data.getCarrierCapacity&&s.data.getCarrierCapacity.capacity?s.data.getCarrierCapacity.capacity:[],c.next=11,Object(_n.c)({type:"MANAGE_CAPACITY_LIST_SUCCESS",payload:{capacityList:o,isRefresh:r||!n}});case 11:return n&&n(o.length),c.next=14,Object(_n.c)(dt(r));case 14:c.next=20;break;case 16:return c.prev=16,c.t0=c.catch(1),c.next=20,Object(_n.c)(dt(r));case 20:case"end":return c.stop()}}),Gl,null,[[1,16]])}var Yl=function(e){return Object(p.a)(Object(p.a)({},e),{},{capacityId:e.capacityId,lastUpdatedBy:e.lastUpdatedBy,lastUpdatedByEmail:e.userEmail,lastUpdatedByPhoneNumber:e.userPhone,lastUpdatedDateTime:(new Date).toISOString(),destination:{city:e.destinationCity,state:e.destinationState,country:e.destinationCountry,latitude:e.destinationLatitude,longitude:e.destinationLongitude,radius:e.destinationRadius},origin:{city:e.originCity,state:e.originState,country:e.originCountry,latitude:e.originLatitude,longitude:e.originLongitude,radius:e.originRadius}})};function Wl(e){var t,a,r,n,i,s,o,c,l,u;return Ge.a.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return t=e.payload,a=t.params,r=a.query,n=a.input,i=t.callback,d.prev=1,d.next=4,Object(_n.c)(ut());case 4:return s=ka.dataToMutation(r,n),d.next=7,Object(_n.b)(An,["MANAGE","MY_CAPACITY",null,"",s,"application/json"]);case 7:if(!(o=d.sent).data||!o.data.addCarrierCapacity){d.next=12;break}return c=o.data.addCarrierCapacity,l=c.capacityID,u=c.lastUpdatedByUserName,d.next=12,Object(_n.c)({type:"MANAGE_CAPACITY_ADD_SUCCESS",payload:{capacityItem:Yl(Object(p.a)(Object(p.a)({},n),{},{capacityId:l,lastUpdatedBy:u}))}});case 12:return i(!!o.data),d.next=15,Object(_n.c)(dt());case 15:d.next=22;break;case 17:return d.prev=17,d.t0=d.catch(1),i(),d.next=22,Object(_n.c)(dt());case 22:case"end":return d.stop()}}),Hl,null,[[1,17]])}function Kl(e){var t,a,r,n,i,s,o,c;return Ge.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.payload,a=t.params,r=a.query,n=a.input,i=a.lastUpdatedBy,s=t.callback,l.prev=1,l.next=4,Object(_n.c)(ut());case 4:return o=ka.dataToMutation(r,n),l.next=7,Object(_n.b)(An,["MANAGE","MY_CAPACITY",null,"",o,"application/json"]);case 7:if(!(c=l.sent).data||!c.data.updateCarrierCapacity){l.next=11;break}return l.next=11,Object(_n.c)({type:"MANAGE_CAPACITY_EDIT_SUCCESS",payload:{capacityItem:Yl(Object(p.a)(Object(p.a)({},n),{},{lastUpdatedBy:i}))}});case 11:return s(!!c.data),l.next=14,Object(_n.c)(dt());case 14:l.next=21;break;case 16:return l.prev=16,l.t0=l.catch(1),s(),l.next=21,Object(_n.c)(dt());case 21:case"end":return l.stop()}}),Bl,null,[[1,16]])}function Xl(e){var t,a,r,n,i,s;return Ge.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,a=t.query,r=t.capacityId,n=t.callback,o.prev=1,o.next=4,Object(_n.c)(ut());case 4:return i=ka.domainToData(a),o.next=7,Object(_n.b)(An,["MANAGE","MY_CAPACITY",null,"",i,"application/json"]);case 7:if(!(s=o.sent).data||!s.data.deleteCarrierCapacity){o.next=11;break}return o.next=11,Object(_n.c)({type:"MANAGE_CAPACITY_REMOVE_SUCCESS",payload:{capacityId:r}});case 11:return n(!!s.data),o.next=14,Object(_n.c)(dt());case 14:o.next=21;break;case 16:return o.prev=16,o.t0=o.catch(1),n(),o.next=21,Object(_n.c)(dt());case 21:case"end":return o.stop()}}),ql,null,[[1,16]])}var Zl=Ge.a.mark(ru),Ql=Ge.a.mark(nu),Jl=Ge.a.mark(iu),$l=Ge.a.mark(su),eu=Ge.a.mark(ou),tu=Ge.a.mark(cu),au=Ge.a.mark(lu);function ru(e){var t,a,r,n,i,s,o;return Ge.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,a=t.fetchAllUsersQuery,r=t.isPullToRefresh,c.prev=1,c.next=4,Object(_n.c)(r?{type:"PULL_TO_REFRESH_LOADING",status:!0}:ut());case 4:return n=ka.domainToData(a),c.next=7,Object(_n.b)(An,["FETCH_USER_DETAILS","USER_DETAILS",null,"",n,"application/json"]);case 7:return i=c.sent,s=i.data?i.data.getMembers:[],o=(o=Object(Se.a)(s)).filter((function(e,t){return o.findIndex((function(t){return e.userPrincipalName===t.userPrincipalName}))===t})),c.next=13,Object(_n.c)({type:"MANAGE_USERS_LIST_SUCCESS",payload:{usersList:o}});case 13:return c.next=15,Object(_n.c)(r?{type:"PULL_TO_REFRESH_LOADING",status:!1}:dt());case 15:c.next=21;break;case 17:return c.prev=17,c.t0=c.catch(1),c.next=21,Object(_n.c)(r?{type:"PULL_TO_REFRESH_LOADING",status:!1}:dt());case 21:case"end":return c.stop()}}),Zl,null,[[1,17]])}function nu(e){var t,a,r,n,i,s,o;return Ge.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,a=t.query,r=t.callback,c.prev=1,c.next=4,Object(_n.c)(ut());case 4:return n=ka.domainToData(a),c.next=7,Object(_n.b)(An,["FETCH_USER_DETAILS","USER_DETAILS",null,"",n,"application/json"]);case 7:if(!(i=c.sent)||!i.data){c.next=15;break}return s=i&&i.data&&i.data.validateUser||{},o=!!(i&&i.data&&i.data.validateUser),c.next=13,Object(_n.c)({type:"MANAGE_USER_VALIDATE_STATUS",payload:{isUserValid:o,details:s}});case 13:c.next=16;break;case 15:r();case 16:return c.next=18,Object(_n.c)(dt());case 18:c.next=25;break;case 20:return c.prev=20,c.t0=c.catch(1),r(),c.next=25,Object(_n.c)(dt());case 25:case"end":return c.stop()}}),Ql,null,[[1,20]])}function iu(e){var t,a,r,n,i,s;return Ge.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,a=t.query,r=t.callback,o.prev=1,o.next=4,Object(_n.c)(ut());case 4:return n=ka.domainToData(a),o.next=7,Object(_n.b)(An,["FETCH_USER_DETAILS","USER_DETAILS",null,"",n,"application/json"]);case 7:return(i=o.sent)&&i.data?(s=!!(i&&i.data&&i.data.transferMember&&i.data.transferMember.status),r(s)):r(),o.next=11,Object(_n.c)(dt());case 11:o.next=18;break;case 13:return o.prev=13,o.t0=o.catch(1),r(),o.next=18,Object(_n.c)(dt());case 18:case"end":return o.stop()}}),Jl,null,[[1,13]])}function su(e){var t,a,r,n,i,s;return Ge.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,a=t.query,r=t.callback,o.prev=1,o.next=4,Object(_n.c)(ut());case 4:return n=ka.domainToData(a),o.next=7,Object(_n.b)(An,["FETCH_USER_DETAILS","USER_DETAILS",null,"",n,"application/json"]);case 7:return(i=o.sent)&&i.data?(s=!!(i&&i.data&&i.data.confirmTransfer&&i.data.confirmTransfer.status),r(s)):r(),o.next=11,Object(_n.c)(dt());case 11:o.next=18;break;case 13:return o.prev=13,o.t0=o.catch(1),r(),o.next=18,Object(_n.c)(dt());case 18:case"end":return o.stop()}}),$l,null,[[1,13]])}function ou(e){var t,a,r,n,i,s,o,c;return Ge.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.payload,a=t.query,r=t.callback,n=t.isCarrierAssign,i=void 0!==n&&n,l.prev=1,l.next=4,Object(_n.c)(ut());case 4:return s=ka.domainToData(a),l.next=7,Object(_n.b)(An,["FETCH_USER_DETAILS","USER_DETAILS",null,"",s,"application/json"]);case 7:if(!((o=l.sent)&&o.data&&o.data.addMember&&o.data.addMember.status)){l.next=18;break}return c=o&&o.data&&o.data.addMember&&o.data.addMember.member||{},l.next=12,Object(_n.c)({type:"MANAGE_USER_ADD_SUCCESS",payload:{member:c}});case 12:if(!i){l.next=15;break}return l.next=15,Object(_n.c)(Kn({member:c}));case 15:r(!0),l.next=19;break;case 18:r();case 19:return l.next=21,Object(_n.c)(dt());case 21:l.next=28;break;case 23:return l.prev=23,l.t0=l.catch(1),r(),l.next=28,Object(_n.c)(dt());case 28:case"end":return l.stop()}}),eu,null,[[1,23]])}function cu(e){var t,a,r,n,i,s,o,c,l;return Ge.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.payload,a=t.query,r=t.isProfile,n=void 0!==r&&r,i=t.callback,u.prev=1,u.next=4,Object(_n.c)(ut());case 4:return s=ka.domainToData(a),u.next=7,Object(_n.b)(An,["FETCH_USER_DETAILS","USER_DETAILS",null,"",s,"application/json"]);case 7:if(!((o=u.sent)&&o.data&&o.data.updateMember&&o.data.updateMember.status)){u.next=21;break}if(c=o&&o.data&&o.data.updateMember&&o.data.updateMember.member||{},l=c&&c.userApplicationDetails&&c.userApplicationDetails.reduce((function(e,t){var a=t.roles&&t.roles.map((function(e){return e.roleName}))||[];return[].concat(Object(Se.a)(e),Object(Se.a)(a))}),[])||[],!n){u.next=16;break}return u.next=14,Object(_n.c)(rr(Object(p.a)(Object(p.a)({},c),{},{defaultMobileNumber:c.mobileNumber||"",mobileNumber:c.mobileNumber?Gc(c.mobileNumber):"",roles:l})));case 14:u.next=18;break;case 16:return u.next=18,Object(_n.c)({type:"MANAGE_USER_EDIT_SUCCESS",payload:{member:Object(p.a)(Object(p.a)({},c),{},{defaultMobileNumber:c.mobileNumber||"",mobileNumber:c.mobileNumber?Gc(c.mobileNumber):"",roles:l})}});case 18:i(!0),u.next=22;break;case 21:i();case 22:return u.next=24,Object(_n.c)(dt());case 24:u.next=31;break;case 26:return u.prev=26,u.t0=u.catch(1),i(),u.next=31,Object(_n.c)(dt());case 31:case"end":return u.stop()}}),tu,null,[[1,26]])}function lu(e){var t,a,r,n,i,s;return Ge.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,a=t.query,r=t.userId,n=t.callback,o.prev=1,o.next=4,Object(_n.c)(ut());case 4:return i=ka.domainToData(a),o.next=7,Object(_n.b)(An,["FETCH_USER_DETAILS","USER_DETAILS",null,"",i,"application/json"]);case 7:if(!((s=o.sent)&&s.data&&s.data.updateMember&&s.data.updateMember.status)){o.next=14;break}return o.next=11,Object(_n.c)({type:"MANAGE_USER_REMOVE_SUCCESS",payload:{userId:r}});case 11:n(!0),o.next=15;break;case 14:n();case 15:return o.next=17,Object(_n.c)(dt());case 17:o.next=24;break;case 19:return o.prev=19,o.t0=o.catch(1),n(),o.next=24,Object(_n.c)(dt());case 24:case"end":return o.stop()}}),au,null,[[1,19]])}var uu=Ge.a.mark(du);function du(e){var t,a,r,n,i,s,o;return Ge.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,a=t.query,r=t.isPullToRefresh,n=t.callback,c.prev=1,c.next=4,Object(_n.c)(ut(r));case 4:return i=ka.domainToData(a),c.next=7,Object(_n.b)(An,["MANAGE","CARRIER_PROFILE",null,"",i,"application/json"]);case 7:return s=c.sent,o=s.data&&s.data.getCarrierProfile?s.data.getCarrierProfile:[],c.next=11,Object(_n.c)({type:"CARRIER_MANAGE_DATA_SUCCESS",payload:{data:o}});case 11:return c.next=13,Object(_n.c)(dt(r));case 13:c.next=20;break;case 15:return c.prev=15,c.t0=c.catch(1),n&&n(),c.next=20,Object(_n.c)(dt(r));case 20:case"end":return c.stop()}}),uu,null,[[1,15]])}var pu=Ge.a.mark(Eu),mu=Ge.a.mark(hu),fu=Ge.a.mark(gu);function Eu(e){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(_n.c)(ut());case 3:return e.next=5,Object(_n.c)(dt());case 5:e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),e.next=11,Object(_n.c)(dt());case 11:case"end":return e.stop()}}),pu,null,[[0,7]])}function hu(){var e;return Ge.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(_n.c)(ut());case 3:return e=Vn,t.next=6,Object(_n.c)({type:"GET_MANAGE_CARD_DATA",payload:e});case 6:return t.next=8,Object(_n.c)(dt());case 8:t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(0),t.next=14,Object(_n.c)(dt());case 14:case"end":return t.stop()}}),mu,null,[[0,10]])}function gu(){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_n.a)([Object(_n.f)("PROFILE_IMAGE_SET",Eu),Object(_n.f)("MANAGE_CARD_DATA",hu),Object(_n.f)("GET_MANAGE_USERS_LIST",ru),Object(_n.f)("MANAGE_USER_VALIDATE",nu),Object(_n.f)("MANAGE_USER_TRANSFER",iu),Object(_n.f)("MANAGE_USER_TRANSFER_COFIRM_REQUEST",su),Object(_n.f)("MANAGE_USER_ADD",ou),Object(_n.f)("MANAGE_USER_EDIT",cu),Object(_n.f)("MANAGE_USER_REMOVE",lu),Object(_n.f)("GET_MANAGE_CAPACITY_LIST",zl),Object(_n.f)("MANAGE_CAPACITY_ADD",Wl),Object(_n.f)("MANAGE_CAPACITY_REMOVE",Xl),Object(_n.f)("MANAGE_CAPACITY_EDIT",Kl),Object(_n.f)("CARRIER_MANAGE_DATA_REQUEST",du)]);case 2:case"end":return e.stop()}}),fu)}var vu=Object(xe.b)({userDetails:pn(),isPullToRefresh:mn(),usersList:Object(xe.a)([Tl],(function(e){return e.users.data||Al.users.data})),isNetworkAvailable:fn(),filters:Object(xe.a)([Tl],(function(e){return e.users.filter||Al.users.filter})),isUsersListLoaded:Object(xe.a)([Tl],(function(e){return e.users.loaded||Al.users.loaded}))}),bu=Object(u.c)(vu,(function(e){return{getUsersListFn:function(t){return e(function(e){return{type:"GET_MANAGE_USERS_LIST",payload:e}}(t))},selectedUser:function(t){return e(function(e){return{type:"MANAGE_USER_SELECTED",payload:e}}(t))},showNetworkAlert:function(){return e(or())},setFilter:function(t){return e(function(e){return{type:"MANAGE_USER_FILTER",payload:e}}(t))},resetUsersLoaded:function(){return e({type:"MANAGE_USER_LOADED_RESET"})}}})),Su=fs({key:"manage",reducer:Dl}),yu=ps({key:"manage",saga:gu}),Ou=Object(m.compose)(yu,Su,bu)(Object(Me.h)((function(e){var t=e.userDetails,a=e.getUsersListFn,r=e.usersList,n=e.isUsersListLoaded,o=e.history,c=r.map((function(e){var t=e.userApplicationDetails.reduce((function(e,t){var a=t.roles&&t.roles.map((function(e){return e.roleName}))||[];return[].concat(Object(Se.a)(e),Object(Se.a)(a))}),[]);return Object(p.a)(Object(p.a)({},e),{},{roles:t})})),l=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=t.carrierId,n=new mr,i=n.getUsers(r,"");a({fetchAllUsersQuery:i,isPullToRefresh:e})};return Object(i.useEffect)((function(){(o&&o.location&&o.location.state&&o.location.state.resetLoaded||!1)&&e.resetUsersLoaded()}),[o]),Object(i.useEffect)((function(){t&&!n&&l()}),[t,n]),St(ot.SV_MANAGE_USERS,{screen:ct.MANAGE_USERS,carrierId:e.userDetails.carrierId}),s.a.createElement($c,Object.assign({},e,{module:"manage",users:c,getUsersList:l}))}))),_u=(a(584),a(64)),Au=[{name:"Alabama",code:"AL"},{name:"Alaska",code:"AK"},{name:"American Samoa",code:"AS"},{name:"Arizona",code:"AZ"},{name:"Arkansas",code:"AR"},{name:"California",code:"CA"},{name:"Colorado",code:"CO"},{name:"Connecticut",code:"CT"},{name:"Delaware",code:"DE"},{name:"District Of Columbia",code:"DC"},{name:"Federated States Of Micronesia",code:"FM"},{name:"Florida",code:"FL"},{name:"Georgia",code:"GA"},{name:"Guam",code:"GU"},{name:"Hawaii",code:"HI"},{name:"Idaho",code:"ID"},{name:"Illinois",code:"IL"},{name:"Indiana",code:"IN"},{name:"Iowa",code:"IA"},{name:"Kansas",code:"KS"},{name:"Kentucky",code:"KY"},{name:"Louisiana",code:"LA"},{name:"Maine",code:"ME"},{name:"Marshall Islands",code:"MH"},{name:"Maryland",code:"MD"},{name:"Massachusetts",code:"MA"},{name:"Michigan",code:"MI"},{name:"Minnesota",code:"MN"},{name:"Mississippi",code:"MS"},{name:"Missouri",code:"MO"},{name:"Montana",code:"MT"},{name:"Nebraska",code:"NE"},{name:"Nevada",code:"NV"},{name:"New Hampshire",code:"NH"},{name:"New Jersey",code:"NJ"},{name:"New Mexico",code:"NM"},{name:"New York",code:"NY"},{name:"North Carolina",code:"NC"},{name:"North Dakota",code:"ND"},{name:"Northern Mariana Islands",code:"MP"},{name:"Ohio",code:"OH"},{name:"Oklahoma",code:"OK"},{name:"Oregon",code:"OR"},{name:"Palau",code:"PW"},{name:"Pennsylvania",code:"PA"},{name:"Puerto Rico",code:"PR"},{name:"Rhode Island",code:"RI"},{name:"South Carolina",code:"SC"},{name:"South Dakota",code:"SD"},{name:"Tennessee",code:"TN"},{name:"Texas",code:"TX"},{name:"Utah",code:"UT"},{name:"Vermont",code:"VT"},{name:"Virgin Islands",code:"VI"},{name:"Virginia",code:"VA"},{name:"Washington",code:"WA"},{name:"West Virginia",code:"WV"},{name:"Wisconsin",code:"WI"},{name:"Wyoming",code:"WY"}],Du=function(e){return[{name:"Origin",selector:"",sortable:!0,minWidth:"123px",cell:function(e){return s.a.createElement("b",null,e.originDetails)}},{name:"Origin Date",selector:"originDate",sortable:!0},{name:"Origin Radius",selector:"originRadius",sortable:!0},{name:"Destination",selector:"",sortable:!0,cell:function(e){return s.a.createElement("b",null,e.destinationDetails)}},{name:"Destination Radius",selector:"destinationRadius",sortable:!0},{name:"Trailer Type",selector:"trailerType",sortable:!0},{name:"",selector:"",sortable:!1,width:"150px",cell:function(e){return s.a.createElement("b",null,Object(At.capitalize)(e.capacityType))}},{name:"",selector:"",sortable:!1,width:"50px",cell:function(t){return s.a.createElement(d.r,{src:"assets/icon/Delete_bin.svg",class:"assign-icon",onClick:function(){return e.handleDelete(t)}})}},{name:"",selector:"",sortable:!1,width:"50px",cell:function(e){return s.a.createElement(d.o,{class:"datatable-badge"},s.a.createElement("i",null))}}]},Tu=function(e){return _u.tz(e,"US/Central").format("YYYY-MM-DDTHH:mm:ss.SSSZ")},Ru=[{label:"State 1",name:"state1",value:""},{label:"State 2",name:"state2",value:""},{label:"State 3",name:"state3",value:""}],Nu=function(e,t){var a=e.country,r=e.lat,n=e.lng,i=e.value,s=i.split(", "),o=Object(Fe.a)(s,2);return t({city:o[0],state:o[1],country:a,lat:r,lng:n,address:i})},Iu=function(){document.getElementsByClassName("add-capacity-grid-mobile")[0].classList.add("scroll-up")},Cu=function(){document.getElementsByClassName("add-capacity-grid-mobile")[0].classList.remove("scroll-up")},ku=function(e){return e.map((function(e){var t=Au.find((function(t){return t.code===e}));return t&&t.name||e}))},ju=function(e){switch(e){case"US":return"USA";case"CA":return"CAN";case"MX":return"MEX";default:return e}},Lu=Object(i.memo)((function(e){var t=e.states,a=e.isDestination,r=Object(hs.a)().t;return s.a.createElement(d.H,{class:"stop-details-row"},s.a.createElement(d.k,{class:"stop-icon-col"},s.a.createElement(d.r,{className:"ellipse_icon",src:"assets/icon/".concat(e.icon)}),e.isOrigin?s.a.createElement("div",{className:"stops_border"}):null),s.a.createElement(d.k,{class:"stop-details-col capacity"},s.a.createElement("p",{className:"origin_city ".concat(a&&t&&t.length>0||!e.radius?"states-active":"")},a&&t&&t.length>0?t.join(", "):e.city===S||null===e.city?"".concat(r("Anywhere")):"".concat(e.city,", ").concat(e.state)),!t||a&&t&&0===t.length&&e.radius||e.isOrigin?s.a.createElement(d.d,{className:"originRadius"},r("Radius")," : ",e.radius," mi"):null,e.isTruck?s.a.createElement(d.d,{className:"pickupDate"},e.fromDate&&e.toDate?"".concat(eo(new Date(e.fromDate).getMonth()),"\n                        ").concat(("0"+new Date(e.fromDate).getDate()).slice(-2)," to ").concat(eo(new Date(e.toDate).getMonth())," \n                        ").concat(("0"+new Date(e.toDate).getDate()).slice(-2)):null):null))})),wu=function(e){var t=e.data,a=e.handleClick,r=e.handleDelete,n=[Object(p.a)(Object(p.a)({icon:"origin-pointer.svg"},t.origin),{},{fromDate:t.pickUpFromDate,toDate:t.pickUpToDate,isOrigin:!0,isTruck:"truck"===t.capacityType.toLowerCase()}),Object(p.a)(Object(p.a)({icon:"dst-pointer.svg"},t.destination),{},{isDestination:!0,states:ku(t.destinationStates)})];return s.a.createElement(d.g,{"data-test":"capacity-card",className:"ion-card-updated",onClick:function(){return a(t)}},s.a.createElement(d.h,{className:"card-content recent-card"},s.a.createElement(d.o,{className:"recent_grid"},s.a.createElement(d.H,null,s.a.createElement(d.k,{className:"card-price-col",size:"4"},s.a.createElement("p",{className:"capacity-type"},t.capacityType.toLowerCase()),s.a.createElement("p",{className:"trailer-type"},t.trailerType)),s.a.createElement(d.k,{className:"card-city-col"},s.a.createElement(d.r,{className:"star_icon","data-test":"capacity-card-delete",src:"assets/icon/Delete_bin.svg",onClick:function(e){e.stopPropagation(),r(t)}}),n.map((function(e,a){return s.a.createElement(Lu,Object.assign({},e,{key:"details_".concat(t.capacityId,"_").concat(a)}))})))))))},Mu={city:!0,radius:!0,state:!0,country:!0,latitude:!0,longitude:!0},Pu=function(){function e(){Object(qe.a)(this,e)}return Object(ze.a)(e,[{key:"getList",value:function(e,t,a){return{query:{getCarrierCapacity:{__args:{criteria:{commonCarrierId:e,page:t,size:a}},totalRecords:!0,capacity:{capacityId:!0,capacityType:!0,commonCarrierId:!0,trailerType:!0,origin:Mu,pickUpFromDate:!0,pickUpToDate:!0,preferredDays:!0,destination:Mu,destinationStates:!0,lastUpdatedDateTime:!0,lastUpdatedBy:!0,lastUpdatedByPhoneNumber:!0,lastUpdatedByEmail:!0}}}}}},{key:"addCapacity",value:function(){return{addCarrierCapacity:{__variables:{input:"CapacityInput"},addCarrierCapacity:{__args:{input:new at.VariableType("input")},capacityID:!0,lastUpdatedByUserName:!0}}}}},{key:"updateCapacity",value:function(){return{updateCarrierCapacity:{__variables:{input:"CapacityInput"},updateCarrierCapacity:{__args:{input:new at.VariableType("input")}}}}}},{key:"deleteCapacity",value:function(e){return{mutation:{deleteCarrierCapacity:{__args:{capacityId:e}}}}}}]),e}(),Uu=function(e){return s.a.createElement("div",{className:"No-Recommended"},s.a.createElement("img",{alt:"logo",src:"assets/icon/".concat(e.icon,".svg"),width:"79.01px",height:"84.59px"}),s.a.createElement("p",{className:"recommended-Error",dangerouslySetInnerHTML:{__html:e.message}}),s.a.createElement("div",{className:"SearchLoadBtn"},s.a.createElement(d.e,{expand:"full",shape:"round",onClick:e.callback,size:"large",type:"submit",class:"RecommendedSearch"},s.a.createElement(d.r,{src:"assets/icon/add.svg",class:"load-search"}),e.constantButton)))},xu=a(90),Fu=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(t?e.toLowerCase():e).replace(/(?:^|\s|["'([{])+\S/g,(function(e){return e.toUpperCase()}))},Vu=function(){var e=te.find((function(e){return e.identifier===xu.a.model}));return e?e.generation:xu.a.model},Gu=function(){return xu.a.platform},Hu=function(){return xu.a.version},Bu=(a(587),function(e){var t=e.dropdown,a=t.options,r=t.setFilter,n=e.filter,o=a.map((function(e,t){return Object(p.a)(Object(p.a)({},e),{},{selected:0===t})})),c=Object(i.useState)(!1),l=Object(Fe.a)(c,2),u=l[0],m=l[1],f=Object(i.useState)(o),E=Object(Fe.a)(f,2),h=E[0],g=E[1],v=Object(i.useState)([]),b=Object(Fe.a)(v,2),S=b[0],y=b[1],O=h.filter((function(e){return e.selected})).map((function(e){return"".concat(e.name)})).join(""),_=Object(hs.a)().t;return Object(i.useEffect)((function(){var e=n&&n.length>0?n:a.map((function(e,t){return Object(p.a)(Object(p.a)({},e),{},{selected:0===t})}));g(e)}),[n]),s.a.createElement(d.H,{class:"list-items-header"},s.a.createElement(d.k,{class:"list-item-button"},s.a.createElement(d.o,{class:"filter-display-text"}," ",_(O)," ",s.a.createElement(d.q,{src:"assets/icon/filter.svg",onClick:function(){return y(h),void m(!0)}})),s.a.createElement(d.A,{"show-backdrop":!0,"backdrop-dismiss":!1,isOpen:u,cssClass:"dropdown-modal",onDidDismiss:function(){m(!1)}},s.a.createElement("div",{className:"search_options"},s.a.createElement(d.H,{class:"dropdown-row dropdown-heading"},s.a.createElement(d.k,null,s.a.createElement("p",{className:"sortBy_text"},_("Filter By")))),S.map((function(e,t){return s.a.createElement(d.H,{className:"dropdown-row filter-option",key:t,onClick:function(){return function(e){var t=S.map((function(t){return Object(p.a)(Object(p.a)({},t),{},{selected:t.name===e.name&&!t.selected})}));t.find((function(e){return e.selected}))&&y(t)}(e)}},s.a.createElement(d.k,{className:e.selected?"checked":""},_(e.name)," ",s.a.createElement("i",{className:"check"})))})),s.a.createElement(d.H,{class:"dropdown-handler"},s.a.createElement(d.k,{size:"1"}),s.a.createElement(d.k,{size:"5",className:"dropdown_cancel",onClick:function(){return m(!1)}},s.a.createElement("span",null,_("Cancel"))),s.a.createElement(d.k,{size:"5",className:"dropdown_cancel dropdown_ok",onClick:function(){r({filter:{selected:S,direction:"asc"}}),g(S),m(!1)}},s.a.createElement("span",null,_("Ok_TEXT"))),s.a.createElement(d.k,{size:"1"}))))))}),qu=function(e,t,a){return"asc"===a?Object(Se.a)(e).sort((function(e,a){return e[t]>a[t]?1:-1})):Object(Se.a)(e).sort((function(e,a){return e[t]>a[t]?-1:1}))},zu=function(e){var t=e.columns,a=e.data,r=e.redirect,n=e.showEndofList,i=e.showHeader,o=e.titleText,c=e.headerText,l=e.pagination;e.onButtonClick;return s.a.createElement(s.a.Fragment,null,a?s.a.createElement(s.a.Fragment,null,i?null:s.a.createElement("div",{className:"searchResults_div"},c),s.a.createElement($s.a,{title:o,columns:t,data:a&&a.reverse(),highlightOnHover:!0,sortFunction:qu,onRowClicked:function(e){r&&r(e)},pagination:l}),n?null:s.a.createElement("div",{className:"end-of-list"},"End of list")):null)},Yu=function(e){var t=e.isPullToRefresh,a=e.getCapacityList,r=e.capacityList,n=e.userDetails,o=e.isNetWorkAvailable,c=e.showNetworkAlert,l=e.history,u=e.removeCapacityAction,m=e.setCapacityFilter,f=e.filter,E=e.onPageScroll,h=Object(i.useState)(e.data),g=Object(Fe.a)(h,2),v=g[0],b=g[1],y=Object(i.useState)([]),O=Object(Fe.a)(y,2),_=O[0],A=O[1],D=new Pu,T="/app/".concat(e.module,"/ManageMyCapacity");Object(i.useEffect)((function(){yt("screen_manage_my_capacity"),St(ot.SV_MANAGE_CAPACITY,{screen:ct.MANAGE_CAPACITY,carrierId:n.carrierId})}),[]);var R={options:[{value:"",name:"All Capacity"},{value:"TRUCK",name:"Trucks"},{value:"LANE",name:"Lanes"}],data:v,setFilter:m},N=Object(hs.a)().t,I=function(){Qa.details.getR2FeatureEnable()?Dr.show():o?l.push("".concat(T,"/Add")):c()},C=function(){var e=f.selected.filter((function(e){return e.selected})).map((function(e){return e.value})).join("");return e?r.filter((function(t){return t.capacityType===e})):r};Object(i.useEffect)((function(){var e=C(),t=e.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{originDetails:e.origin?"".concat(e.origin.city,", ").concat(e.origin.state):"",originDate:"TRUCK"===e.capacityType?"".concat(gt()(e.pickUpFromDate).format("MMMM DD")," to ").concat(gt()(e.pickUpToDate).format("MMMM DD")):"",originRadius:e.origin&&e.origin.radius||"",destinationDetails:e&&e.destinationStates&&e.destinationStates>0?e.destinationStates.join(", "):null===e.destination.city?S:"".concat(e.destination.city,", ").concat(e.destination.state&&e.destination.state.toUpperCase()),destinationRadius:e&&e.destinationStates&&e.destinationStates>0?"":e.destination.radius})}));b(e),A(t)}),[r,f]);var k=function(t){var a=t.capacityId,r=t.capacityType;if(o){St(ot.UE_DELETE_CAPACITY,{screen:ct.MC_DELETE_CAPACITY});var n=D.deleteCapacity(a);u({query:n,capacityId:a,callback:function(){Dr.open({showUndo:!0,message:N("CAPACITY_REMOVED").replace("CAPACITY",Fu(r,!0)),callback:function(){!function(t){var a=t.destination?{destinationCity:t.destination.city,destinationState:t.destination.state,destinationCountry:t.destination.country,destinationLatitude:t.destination.latitude,destinationLongitude:t.destination.longitude,destinationRadius:t.destination.radius}:{},r=t.origin?{originCity:t.origin.city,originState:t.origin.state,originRadius:t.origin.radius,originCountry:t.origin.country,originLongitude:t.origin.latitude,originLatitude:t.origin.longitude}:{},n=Object(p.a)(Object(p.a)(Object(p.a)({capacityId:null,userId:t.lastUpdatedBy,userEmail:t.lastUpdatedByEmail,userPhone:t.lastUpdatedByPhoneNumber,capacityType:t.capacityType,commonCarrierId:t.commonCarrierId,trailerType:t.trailerType},r),a),{},{preferredDays:t.preferredDays,pickUpToDate:t.pickUpToDate,pickUpFromDate:t.pickUpFromDate,destinationStates:t.destinationStates}),i=D.addCapacity();e.addCapacityItem({params:{query:i,input:n},callback:function(){}})}(t)}})}})}else c()},j=function(t){o?(e.setSelectedCapacityAction({capacityItem:t}),l.push("".concat(T,"/View"))):c()};return Object(d.V)("desktop")?s.a.createElement(d.l,{className:"manage-capacity-desktop",onIonScrollEnd:E},s.a.createElement(zu,{columns:Du({handleDelete:k}),data:_,showEndofList:!0,showHeader:!1,titleText:s.a.createElement(Bu,{dropdown:R,filter:f.selected}),pagination:!0,redirect:j}),s.a.createElement("div",{className:"manage-capacity-buttons"},s.a.createElement(d.e,{class:"load-btn",onClick:function(){return l.push("/app/manage/ManageMyCapacity/Add")}},s.a.createElement(d.q,{src:"assets/icon/Add_Black.svg"}),"Add"))):s.a.createElement(d.B,{className:"desktop-page","data-test":"IonPage-Manage"},s.a.createElement(Sc,{title:"Manage My Capacity",backUrl:"/app/"+e.module,History:e.history,addPage:I}),s.a.createElement(d.l,{className:"ion-padding recent_container"},s.a.createElement(io,{status:t,onPullToRefresh:a,networkStatus:e.isNetWorkAvailable,showAlert:e.showNetworkAlert}),s.a.createElement(Bu,{dropdown:R,filter:f.selected}),s.a.createElement(d.o,{class:"recent-list"},v.length>0?s.a.createElement(s.a.Fragment,null,v.map((function(e,t){return s.a.createElement(wu,{data:e,key:"lane".concat(t),handleClick:j,handleDelete:k})})),e.isCapacityEnd?s.a.createElement("div",{className:"end-of-list"},N("End of list")):null):s.a.createElement(Uu,{icon:"no-search-icon",message:N("NO_TRUCKS_MESSAGE"),callback:I,constantButton:N("Add")})),s.a.createElement(d.s,{onIonInfinite:E},s.a.createElement(d.t,{loadingSpinner:null,loadingText:""}))))},Wu=a(106),Ku=function(e){var t=e.item,a=e.listItems,r=e.history.push;return s.a.createElement(d.B,{className:"desktop-page my-load-desktop-page manage-card-content manage-capacity-view-desktop"},s.a.createElement(Sc,{title:"Manage",imageCapture:e}),s.a.createElement(d.l,{className:"custom-padding"},s.a.createElement("h1",null,t.capacityId),a.map((function(e,t){return s.a.createElement("div",{className:"manage-capacity-wrapper",key:"main_".concat(e.title,"_").concat(t)},e.title?s.a.createElement("h3",{className:e.value?"underline":""},e.title,s.a.createElement("span",null,e.value)):null,s.a.createElement(d.y,{className:"manage-capcity-list"},e.childrens.map((function(e){return s.a.createElement(d.v,{key:e.title,"data-test":e.slug,className:"manage-capacity-item"},s.a.createElement(d.w,{position:"floating",mode:"ios"},e.title),s.a.createElement(d.u,{value:e.value,readonly:!0,type:"text",className:"manage-input-field",onClick:e.callback?e.callback:function(){}}))}))))})),s.a.createElement("div",{className:"manage-capacity-buttons"},s.a.createElement(d.e,{class:"load-btn","data-test":"back-btn",onClick:function(){return r("/app/manage")}},"Back"),s.a.createElement(d.e,{class:"load-btn","data-test":"edit-btn",onClick:function(){return r("/app/manage/ManageMyCapacity/Edit")}},"Edit"))))},Xu=function(e){var t=e.selectedCapacity,a=e.isNetworkAvailable,r=e.showNetworkAlert,n=e.history,o=e.userDetails,c=Object(hs.a)().t;Object(i.useEffect)((function(){St(ot.SV_MANAGE_CAPACITY_ADDEDIT,{screen:ct.MANAGE_CAPACITY_ADDEDIT,carrierId:o.carrierId})}),[]);var l="TRUCK"===t.capacityType?[{title:"Pick-up Start Date",slug:"pickup-start-date",value:t&&gt()(t.pickUpFromDate).format("MMMM DD, YYYY")},{title:"Pick-up End Date",slug:"pickup-end-date",value:t&&gt()(t.pickUpToDate).format("MMMM DD, YYYY")}]:[{title:"Days of Week",slug:"days-of-week",value:t&&t.preferredDays&&t.preferredDays.map((function(e){return Fu(e.substr(0,3),!0)})).join(", ")||""}],u=!t.destinationStates||t.destinationStates&&0===t.destinationStates.length&&t.destination.radius?[{title:"Destination Radius",slug:"destination-radius",value:t.destination.radius?"".concat(t.destination.radius,"mi"):"NA"}]:[],p=[{title:"Last Updated",value:gt()(t.lastUpdatedDateTime).format("MMM DD, YYYY h:mm a"),childrens:[{title:"Name",slug:"last-update-name",value:t&&t.lastUpdatedBy||""},{title:"Email address",slug:"last-update-email",value:t&&t.lastUpdatedByEmail||"",callback:function(){window.location.href="mailto:".concat(t.lastUpdatedByEmail)}},{title:"Phone",slug:"last-update-phone",value:t&&t.lastUpdatedByPhoneNumber||"",callback:function(){Wu.a.callNumber(t.lastUpdatedByPhoneNumber,!0).then((function(e){})).catch((function(e){}))}}]},{title:"",value:"",childrens:[{title:"Capacity Type",slug:"capacity-type",value:t&&Fu(t.capacityType,!0)},{title:"Trailer Type",slug:"trailer-type",value:t&&t.trailerType}]},{title:"Pick-up",value:"",childrens:[{title:"Origin",slug:"origin-name",value:t&&"".concat(t.origin.city).concat(t.origin.state?", "+t.origin.state:"")},{title:"Origin Radius",slug:"origin-radius",value:t&&"".concat(t.origin.radius,"mi")}].concat(l)},{title:"Delivery",value:"",childrens:[{title:t&&t.destinationStates&&t.destinationStates.length?"States":"Destination",slug:t&&t.destinationStates&&t.destinationStates.length?"destination-states":"destination-details",value:t&&t.destinationStates&&t.destinationStates.length>0?ku(t.destinationStates).join(", "):null!==t.destination.city?"".concat(t.destination.city).concat(t.destination.state?", "+t.destination.state:""):S}].concat(u)}];return Object(d.V)("desktop")?s.a.createElement(Ku,Object.assign({},e,{item:t,listItems:p})):s.a.createElement(d.B,{className:"desktop-page"},s.a.createElement(Sc,{title:t.capacityId,backUrl:"/app/"+e.module,History:e.history,editData:function(){a?n.push("/app/".concat(e.module,"/Edit")):r()}}),s.a.createElement(d.l,{className:"custom-padding"},p.map((function(e,t){return s.a.createElement("div",{className:"manage-capacity-wrapper",key:"main_".concat(e.title,"_").concat(t)},e.title?s.a.createElement("h3",{className:e.value?"underline":""},c(e.title),s.a.createElement("span",null,e.value)):null,s.a.createElement(d.y,{className:"manage-capcity-list"},e.childrens.map((function(e){return s.a.createElement(d.v,{key:e.title,"data-test":e.slug,className:"manage-capacity-item"},s.a.createElement(d.w,{position:"floating",mode:"ios"},c(e.title)),s.a.createElement(d.u,{value:e.value,readonly:!0,type:"text",className:"manage-input-field",onClick:e.callback?e.callback:function(){}}))}))))}))))},Zu=(a(588),s.a.memo((function(e){var t=e.fromDate,a=e.toDate,r=e.pickUpLocalTime,n=e.handleError,o=Object(i.useState)(!1),c=Object(Fe.a)(o,2),l=c[0],u=c[1],p=function(t){e.handleChange(t)},m=Rs()||(new Date).getFullYear(),f=Object(hs.a)().t;return Object(i.useEffect)((function(){if(t&&a){var e=a.split("T")[0]<t.split("T")[0];u(e),n(e)}}),[t,a]),Object(i.useEffect)((function(){u(e.error)}),[e.error]),s.a.createElement(s.a.Fragment,null,s.a.createElement(d.o,{class:"time-window"},s.a.createElement(d.H,{class:"pickuptime-title"},f("Pick-up Date")),s.a.createElement(d.H,null,s.a.createElement(d.k,null,s.a.createElement(d.w,{class:"pickup-date-title"},f("From Date")),s.a.createElement(d.m,{displayFormat:"MMM DD, YYYY",min:r&&r.split("T")[0],value:t,yearValues:m,onIonChange:function(e){return p(e)},mode:"ios",name:"fromDate"})),s.a.createElement(d.k,null,s.a.createElement(d.o,{class:"to-date-grid"},s.a.createElement(d.w,{class:"pickup-date-title"},f("To Date")),s.a.createElement(d.m,{displayFormat:"MMM DD, YYYY",min:r&&r.split("T")[0],value:a,yearValues:m,onIonChange:function(e){return p(e)},mode:"ios",name:"toDate"}))))),l?s.a.createElement(d.o,{className:"pickupdate-error"},s.a.createElement("p",null,f("PickUpdateError"))):null)}))),Qu=(a(589),function(e){var t=q.map((function(e){return{label:e.label.toLowerCase(),value:e.value,selected:!1}})),a=Object(i.useState)(t),r=Object(Fe.a)(a,2),n=r[0],o=r[1],c=Object(i.useState)(!1),l=Object(Fe.a)(c,2),u=l[0],m=l[1],f=Object(i.useState)(!1),E=Object(Fe.a)(f,2),h=E[0],g=E[1],v=Object(hs.a)().t;Object(i.useEffect)((function(){if(e.preferredDays){var a=t.map((function(t){return Object(p.a)(Object(p.a)({},t),{},{selected:-1!==e.preferredDays.indexOf(t.value)})}));o(a),m(7===e.preferredDays.length)}}),[e.preferredDays]),Object(i.useEffect)((function(){g(e.showError)}),[e.showError]);var b=function(t){var a=t.filter((function(e){return e.selected})).map((function(e){return e.value})),r=7===a.length;m(r),o(t),e.handleError(!1),e.setPickupDays(a)};return s.a.createElement(s.a.Fragment,null,s.a.createElement(d.H,{className:"pickupdays-title-wrapper"},s.a.createElement(d.w,{class:"pickupdays-title"},v("Days of Week"))),s.a.createElement(d.H,{className:"pickupday-wrapper"},n.map((function(e){return s.a.createElement(d.k,{size:"3",className:"pickupday ".concat(e.selected?"selected":""),key:e.label,onClick:function(){return function(e){var t=n.map((function(t){return Object(p.a)(Object(p.a)({},t),{},{selected:t.label===e.label?e.selected:t.selected})}));b(t)}(Object(p.a)(Object(p.a)({},e),{},{selected:!e.selected}))}},v(e.label))})),s.a.createElement(d.k,{className:"pickupday ".concat(u?"selected":""),onClick:function(){var e=n.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{selected:!u})}));b(e)},"data-test":"handle-click"},v("All"))),h?s.a.createElement(d.H,{className:"pickupdays-error-wrapper"},s.a.createElement(d.N,{class:"pickupdays-error"},v("PICKUP_DAYS_ERROR"))):null)}),Ju=(a(590),function(e){var t=e.options,a=e.name,r=e.placeholder,n=e.label,o=e.value,c=Object(i.useState)(!1),l=Object(Fe.a)(c,2),u=l[0],p=l[1],m=Object(i.useState)({}),f=Object(Fe.a)(m,2),E=f[0],h=f[1];Object(i.useEffect)((function(){if(o){var e=t.find((function(e){return e.code===o}));e&&h(e)}}),[o]);return s.a.createElement(d.o,{class:"select-grid"},s.a.createElement(d.H,{class:"select-label-row"},s.a.createElement(d.w,{class:"select-label"},n)),s.a.createElement(d.H,{"data-test":"show-options",class:"select-type",onClick:function(){return p(!u)}},s.a.createElement(d.k,{class:"select-name"},E&&E.name?E.name:r),s.a.createElement(d.k,{class:"dropDown-icon"},s.a.createElement(d.q,{src:"/assets/icon/grid-down-arrow.svg"}))),t&&u?s.a.createElement(d.o,{className:"select-suggetion-grid"},t.map((function(t,r){return s.a.createElement(d.H,{"data-test":"select-change",className:"select-change",key:r,onClick:function(){!function(t){h(t),p(!1),e.handleChange({name:a,value:t})}(t)}},s.a.createElement(d.k,{className:"select-suggestion-item"},t.name))}))):null)}),$u=function(e){return s.a.createElement(d.B,{className:"desktop-page my-load-desktop-page manage-card-content manage-capacity-view-desktop"},s.a.createElement(Sc,{title:"Manage",imageCapture:e}),s.a.createElement(d.l,{className:"ion-padding custom-padding add-capacity-form-content"},s.a.createElement("h1",null,e.title||"Add Lane/Truck"),s.a.createElement(d.o,{class:"capacity-grid"},s.a.createElement(d.H,null,s.a.createElement(d.k,{size:"6"},s.a.createElement(d.H,{class:"capacity-label-row"},s.a.createElement(d.w,{class:"capacity-label"},"Capacity Type")),s.a.createElement(d.H,{class:"capacity-type","data-test":"capacity-type",onClick:function(){return e.setShowCapacityOptions(!e.showCapacityOptions)}},s.a.createElement(d.k,{class:"capacity-name"},e.capacityType.name),e.capacityId?null:s.a.createElement(d.k,{class:"dropDown-icon"},s.a.createElement(d.q,{src:"/assets/icon/grid-down-arrow.svg"}))),s.a.createElement(d.H,{class:"capacity-desc"},e.capacityType.desc),!e.capacityId&&e.capacityOptions&&e.showCapacityOptions?s.a.createElement(d.o,{class:"suggetion-grid","data-test":"capacity-type-list"},e.capacityOptions.map((function(t,a){return s.a.createElement(d.H,{key:a,"data-test":"capacity-type-list-item",onClick:function(){e.setCapacityType(t),e.setStatesShow(!1),e.setShowCapacityOptions(!1)}},t.name)}))):null))),s.a.createElement(d.o,{class:"capacity-grid-form"},s.a.createElement(d.H,null,s.a.createElement(d.k,{size:"6"},s.a.createElement(d.H,{class:"pickup-row"},s.a.createElement(d.k,null,"Pick-up")),s.a.createElement(d.H,{class:"pickup-content"},s.a.createElement(d.k,null,s.a.createElement(Is,{origin:e.originDetails.address,country:e.originDetails.country,originError:e.originError,originRadius:e.originRadius,handleChange:e.handleChange,rangeDisabled:!0,isDestination:!1,defaultValue:S,useHandler:!1,setErrorValue:e.setErrorValue,updateLocalCurrentTime:e.updateLocalCurrentTime,showDate:!1,onFocus:function(){e.isOriginEdit||e.setOriginEdit(!0)}}),"Truck"===e.capacityType.name?s.a.createElement(Zu,{pickUpLocalTime:e.pickUpLocalTime,handleChange:e.handleChange,fromDate:e.pickupFromDate,toDate:e.pickupToDate,error:e.pickupTimeError,handleError:e.setPickuptimeError}):s.a.createElement(Qu,{setPickupDays:e.setPreferredDays,showError:e.pickupDaysError,handleError:e.setPickupDaysError})))),s.a.createElement(d.k,{size:"6"},s.a.createElement(d.H,{class:"pickup-row"},s.a.createElement(d.k,{size:"6"},"Delivery"),s.a.createElement(d.k,{size:"6"},s.a.createElement(d.g,{class:"trailer-type-card"},s.a.createElement(gs,{labelName:"Trailer type",TrailerType:e.trailerType,handleChange:e.handleChange})))),s.a.createElement(d.H,{class:"pickup-content"},s.a.createElement(d.k,null,"Truck"===e.capacityType.name?s.a.createElement(d.H,{class:"states-wrapper"},s.a.createElement(d.k,{size:"6",class:"state-destination-label"},e.isStatesShow?s.a.createElement("span",null,"Destination"):null),s.a.createElement(d.k,{size:"6",class:"state-toggle-wrapper"},s.a.createElement(d.N,{class:"state-toggle-label"},"Select States"),s.a.createElement(d.R,{mode:"ios",class:"state-toggle",checked:e.isStatesShow,name:"stateToggle",onIonChange:e.handleChange}))):null,e.isStatesShow&&"Truck"===e.capacityType.name?s.a.createElement("div",{"data-test":"state-list-wrapper",className:"states-list-wrapper ".concat(e.stateError?"error":"")},e.statesList&&e.statesList.map((function(t,a){return s.a.createElement(Ju,{key:"state".concat(a),options:Au,placeholder:"Choose the state",label:t.label,name:t.name,handleChange:e.handleStateChange})}))):s.a.createElement(Cs,{destination:e.destinationDetails.address!==S&&""!==e.destinationDetails.address?e.destinationDetails.address:"Truck"===e.capacityType.name?S:"",destinationError:e.destinationError,Destination:"DestinationDetails",handleChange:e.handleChange,rangeDisable:e.destinationDetails&&("Lane"===e.capacityType.name&&e.destinationDetails.address===S||""===e.destinationDetails.address||null===e.destinationDetails.address),platform:"mobile",keyboardshowHandler:function(){},keyboardhideHandler:function(){},defaultValue:S,isDestination:!0,useHandler:!0,setErrorValue:e.setErrorValue,destinationRadius:e.destinationRadius,updateLocalCurrentTime:e.updateLocalCurrentTime,showDate:!1,onFocus:function(){e.isDestinationEdit||e.setDestinationEdit(!0)}})))))),s.a.createElement("div",{className:"manage-capacity-buttons"},s.a.createElement(d.e,{class:"load-btn","data-test":"back-btn",onClick:function(){return e.handleBackButton()}},"Back"),s.a.createElement(d.e,{class:"load-btn save-btn","data-test":"save-btn",onClick:function(){return e.handleSubmit()}},"Save"))))},ed=[{name:"Truck",desc:"Spot capacity currently available."},{name:"Lane",desc:"Frequently desired origin to destination."}],td=new Date,ad=new Date;ad.setDate(ad.getDate()+1);var rd={city:S,state:null,country:null,lat:null,lng:null,address:null},nd=function(e){var t=e.userDetails,a=e.selectedCapacity,r=void 0===a?null:a,n=Object(i.useState)(!1),o=Object(Fe.a)(n,2),c=o[0],l=o[1],u=Object(i.useState)(ed[0]),m=Object(Fe.a)(u,2),f=m[0],E=m[1],h=Object(i.useState)("Dry Van"),g=Object(Fe.a)(h,2),v=g[0],b=g[1],A=Object(i.useState)({}),D=Object(Fe.a)(A,2),T=D[0],R=D[1],N=Object(i.useState)(!1),I=Object(Fe.a)(N,2),C=I[0],k=I[1],j=Object(i.useState)(100),L=Object(Fe.a)(j,2),w=L[0],M=L[1],P=Object(i.useState)(td.toISOString()),U=Object(Fe.a)(P,2),x=U[0],F=U[1],V=Object(i.useState)(td.toISOString()),G=Object(Fe.a)(V,2),H=G[0],B=G[1],q=Object(i.useState)(ad.toISOString()),z=Object(Fe.a)(q,2),Y=z[0],W=z[1],K=Object(i.useState)([]),X=Object(Fe.a)(K,2),Z=X[0],Q=X[1],J=Object(i.useState)(!1),$=Object(Fe.a)(J,2),ee=$[0],te=$[1],ae=Object(i.useState)(Object(p.a)(Object(p.a)({},rd),{},{city:null,address:""})),re=Object(Fe.a)(ae,2),ne=re[0],ie=re[1],se=Object(i.useState)(100),oe=Object(Fe.a)(se,2),ce=oe[0],le=oe[1],ue=Object(i.useState)(!1),de=Object(Fe.a)(ue,2),pe=de[0],me=de[1],fe=Object(i.useState)(""),Ee=Object(Fe.a)(fe,2),he=Ee[0],ge=Ee[1],ve=Object(i.useState)(""),be=Object(Fe.a)(ve,2),Se=be[0],ye=be[1],Oe=Object(i.useState)(!1),_e=Object(Fe.a)(Oe,2),Ae=_e[0],De=_e[1],Te=Object(i.useState)(!1),Re=Object(Fe.a)(Te,2),Ne=Re[0],Ie=Re[1],Ce=Object(i.useState)(!1),ke=Object(Fe.a)(Ce,2),je=ke[0],Le=ke[1],we=Object(i.useState)(!1),Me=Object(Fe.a)(we,2),Pe=Me[0],Ue=Me[1],xe=Object(i.useState)(!1),Ve=Object(Fe.a)(xe,2),Ge=Ve[0],He=Ve[1],Be=Object(i.useState)(Ru),qe=Object(Fe.a)(Be,2),ze=qe[0],Ye=qe[1],We=Object(hs.a)().t,Ke=!1,Xe=function(e){var t=e.target,a=t.name,n=t.value;switch(a){case"TrailerType":b(n);break;case"fromDate":B(n);break;case"toDate":W(n);break;case"origin":ge(""),!Pe&&r||Nu(e.target,R);break;case"originRadius":M(n);break;case"destination":ye(""),Ge&&Nu(e.target,ie);break;case"destinationRadius":le(n);break;case"stateToggle":me(!pe)}},Ze=function(){var e=Ru.map((function(e,t){return Object(p.a)(Object(p.a)({},e),{},{value:r.destinationStates[t]||""})}));Ue(!1),E(ed["TRUCK"===r.capacityType?0:1]),b(r.trailerType),R(Object(p.a)(Object(p.a)({},r.origin),{},{lat:r.origin.latitude,lng:r.origin.longitude,address:r.origin.city+(r.origin.state?", ".concat(r.origin.state):"")})),M(r.origin.radius),""!==r.pickUpFromDate&&F(r.pickUpFromDate),r.pickUpFromDate&&""!==r.pickUpFromDate&&B(r.pickUpFromDate),r.pickUpToDate&&""!==r.pickUpToDate&&W(r.pickUpToDate),Q(r.preferredDays),ie(Object(p.a)(Object(p.a)({},r.destination),{},{lat:r.destination.latitude,lng:r.destination.longitude,address:null!==r.destination.city?r.destination.city+(r.destination.state?", ".concat(r.destination.state):""):S})),le(r.destination.radius||100),me(r&&r.destinationStates.length>0),Ye(e),te(!1),He(!1),Le(!1),Ie(!1)};Object(i.useEffect)((function(){r&&Ze()}),[r]),Object(d.W)((function(){C||r||(et(),k(!0))}));var Qe=function(e,t){return"origin"===t?ge(e?O:""):ye(e?_:"")},Je=function(e,t){"pickUpdate"===e&&(!Ke&&t&&(B(x),Ke=!0),F(t))},$e=function(e){var t=e.name,a=e.value,r=ze.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{value:e.name===t?a.code:e.value})})),n=r.filter((function(e){return""!==e.value})).map((function(e){return e.value}));De(0===n.length),Ye(r)},et=function(){E(ed[0]),b("Dry Van"),R({}),M(100),F(td.toISOString()),B(td.toISOString()),W(ad.toISOString()),Q([]),te(!1),ie(Object(p.a)(Object(p.a)({},rd),{},{address:S})),le(100),me(!1),ge(""),Ye(Ru),k(!1)},tt=function(){if(r)Ze(),e.history.push("/app/"+e.module);else{k(!1);var t=Object(d.V)("desktop")?"/app/manage":"/app/"+e.module;e.history.push(t)}},at=function(){if(!(T&&T.city&&T.lat&&T.lng))return ge(y),!0;if(Ne&&"Truck"===f.name)return!0;if("Lane"===f.name&&0===Z.length)return Le(!0),!0;if("Lane"===f.name&&!pe&&(!ne||!ne.city||ne.city===S))return ye(y),te(!0),!0;var a=ze.filter((function(e){return""!==e.value})).map((function(e){return e.value}));if(pe&&0===a.length)return De(!0),!0;Ue(!1),He(!1);var n=pe||ne.city===S?{destinationCity:null,destinationState:null,destinationCountry:null,destinationLatitude:null,destinationLongitude:null}:{destinationCity:ne.city,destinationState:ne.state,destinationCountry:ju(ne.country),destinationLatitude:ne.lat,destinationLongitude:ne.lng},i=Object(p.a)(Object(p.a)({capacityId:r&&r.capacityId||null,userId:t.userPrincipalName,userEmail:t.email,userPhone:t.mobileNumber||t.phone,capacityType:f.name.toUpperCase(),commonCarrierId:t.carrierId,trailerType:v,originCity:T.city,originState:T.state,originRadius:w,originCountry:ju(T.country),originLongitude:T.lng,originLatitude:T.lat},n),{},{destinationRadius:null!==n.destinationCity?ce:null,preferredDays:"Lane"===f.name?Z:[],pickUpToDate:"Lane"!==f.name?Tu(Y):null,pickUpFromDate:"Lane"!==f.name?Tu(H):null,destinationStates:pe?a:[]});e.handleSubmit(i,et)};return Object(d.V)("desktop")?s.a.createElement($u,Object.assign({},e,{capacityId:r&&r.capacityId||null,title:r&&r.capacityId||null,statesList:ze,capacityOptions:ed,showCapacityOptions:c,setShowCapacityOptions:l,capacityType:f,setCapacityType:E,trailerType:v,originDetails:T,originRadius:w,pickUpLocalTime:x,handleChange:Xe,pickupFromDate:H,pickupToDate:Y,pickupTimeError:Ne,setPickuptimeError:Ie,setPreferredDays:Q,pickupDaysError:je,setPickupDaysError:Le,showDelivaryfields:ee,setShowDelivaryfields:te,destinationDetails:ne,destinationRadius:ce,isStatesShow:pe,setStatesShow:me,handleStateChange:$e,isOriginEdit:Pe,setOriginEdit:Ue,isDestinationEdit:Ge,setDestinationEdit:He,setErrorValue:Qe,handleSubmit:at,handleBackButton:tt})):s.a.createElement(d.B,{className:"manage-userslist-page"},s.a.createElement(Sc,{title:r&&r.capacityId||"Add Lane/Truck",customBackUrl:tt,History:e.history}),s.a.createElement(d.l,{className:"ion-padding add-capacity-content"},s.a.createElement(d.l,{className:"add-capacity-form-content"},s.a.createElement(d.o,{class:"capacity-grid"},s.a.createElement(d.H,{class:"capacity-label-row"},s.a.createElement(d.w,{class:"capacity-label"},We("Capacity Type"))),s.a.createElement(d.H,{class:"capacity-type","data-test":"capacity-type",onClick:function(){return l(!c)}},s.a.createElement(d.k,{class:"capacity-name"},We(f.name)),r?null:s.a.createElement(d.k,{class:"dropDown-icon"},s.a.createElement(d.q,{src:"/assets/icon/grid-down-arrow.svg"}))),s.a.createElement(d.H,{class:"capacity-desc"},We(f.desc)),!r&&ed&&c?s.a.createElement(d.o,{class:"suggetion-grid","data-test":"capacity-type-list"},ed.map((function(e,t){return s.a.createElement(d.H,{key:t,"data-test":"capacity-type-list-item",onClick:function(){E(e),me(!1),l(!1)}},We(e.name))}))):null),s.a.createElement(d.o,{class:"add-capacity-grid-mobile"},s.a.createElement(d.g,{class:"trailer-type-card"},s.a.createElement(gs,{labelName:"Trailer type",TrailerType:v,handleChange:Xe})),s.a.createElement(d.o,{class:"add-capacity-pick-up"},s.a.createElement(d.H,{class:"pickup-row"},We("Pick-up")),C||r?s.a.createElement(Is,{origin:T.address,country:T.country,originError:he,originRadius:w,handleChange:Xe,rangeDisabled:!0,isDestination:!1,defaultValue:S,useHandler:!1,setErrorValue:Qe,updateLocalCurrentTime:Je,showDate:!1,onFocus:function(){Pe||Ue(!0)}}):null,"Truck"===f.name?s.a.createElement(Zu,{pickUpLocalTime:x,handleChange:Xe,fromDate:H,toDate:Y,error:Ne,handleError:Ie}):s.a.createElement(Qu,{preferredDays:Z,setPickupDays:Q,showError:je,handleError:Le}),s.a.createElement(d.g,{class:"delivery-type-card"},s.a.createElement(d.i,{class:"".concat(ee?"":"changeColor"),"data-test":"delivery-type-accordian",onClick:function(){return te(!ee)}},s.a.createElement("span",null," ",We("Delivery")),ee?s.a.createElement(d.q,{"data-test":"delivery-minus-icon",src:"assets/icon/minus-icon.svg"}):s.a.createElement("div",{className:"desitnation-city"},r&&r.destinationStates&&0===r.destinationStates.length?"".concat(ne.address!==S&&""!==ne.address?ne.address:"Truck"===f.name?We("Anywhere"):""):"",s.a.createElement(d.q,{src:"assets/icon/plus.svg"}))),s.a.createElement(d.h,{class:"".concat(ee?"fadein":"fadeout")},s.a.createElement(d.N,{className:"states-toggle-wrapper"},s.a.createElement("div",{className:"destination-wrapper"},pe?s.a.createElement("span",null,We("Destination")):null),s.a.createElement("div",{className:"state-wrapper"},s.a.createElement("span",null,We("Select States")),s.a.createElement(d.R,{mode:"ios",class:"state-toggle",checked:pe,name:"stateToggle",onIonChange:Xe}))),pe?s.a.createElement("div",{"data-test":"state-list-wrapper",className:"states-list-wrapper ".concat(Ae?"error":"")},ze&&ze.map((function(e,t){return s.a.createElement(Ju,{key:"state".concat(t),options:Au,placeholder:We("Choose the state"),label:We(e.label),name:e.name,value:ze[t]&&ze[t].value,handleChange:$e})}))):s.a.createElement(Cs,{destination:"".concat(ne.address!==S?ne.address:"Truck"===f.name?We("Anywhere"):""),destinationError:Se,Destination:"DestinationDetails",handleChange:Xe,rangeDisable:ne&&("Lane"===f.name&&ne.address===S||""===ne.address||null===ne.address),platform:"mobile",keyboardshowHandler:Iu,keyboardhideHandler:Cu,defaultValue:S,isDestination:!0,useHandler:!0,setErrorValue:Qe,destinationRadius:ce,updateLocalCurrentTime:Je,showDate:!1,onFocus:function(){Ge||He(!0)}})))))),s.a.createElement(d.n,{class:"addTruckFooter"},s.a.createElement(d.e,{expand:"full","data-test":"capacity-submit",onClick:at},We("Save")))))},id=Object(xe.b)({isLoading:ln(),isCapacityLoaded:Object(xe.a)([Tl],(function(e){return e.capacity.loaded||Al.capacity.loaded})),isNetWorkAvailable:fn(),userDetails:pn(),isPullToRefresh:mn(),capacityList:Object(xe.a)([Tl],(function(e){return e.capacity.data||Al.capacity.data})),filter:Object(xe.a)([Tl],(function(e){return e.capacity.filter||Al.capacity.filter}))}),sd=fs({key:"manage",reducer:Dl}),od=ps({key:"manage",saga:gu}),cd=Object(u.c)(id,(function(e){return{showNetworkAlert:function(){return e(or())},getCapacityListAction:function(t){return e(function(e){return{type:"GET_MANAGE_CAPACITY_LIST",payload:e}}(t))},addCapacityItem:function(t){return e(yl(t))},removeCapacityAction:function(t){return e(function(e){return{type:"MANAGE_CAPACITY_REMOVE",payload:e}}(t))},setSelectedCapacityAction:function(t){return e(function(e){return{type:"MANAGE_CAPACITY_SELECTED",payload:e}}(t))},setCapacityFilter:function(t){return e(function(e){return{type:"MANAGE_CAPACITY_FILTER",payload:e}}(t))}}})),ld=Object(m.compose)(od,sd,cd)(Object(Me.h)((function(e){var t=e.capacityList,a=e.isLoading,r=e.isCapacityLoaded,n=e.userDetails,o=e.getCapacityListAction,c=new Pu,l=Object(d.V)("desktop")?99:10,u=Object(i.useState)(0),p=Object(Fe.a)(u,2),m=p[0],f=p[1],E=Object(i.useState)(!1),h=Object(Fe.a)(E,2),g=h[0],v=h[1],b=function(){f(0),v(!1)},S=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=n.carrierId,i=c.getList(r,t,l);e&&b(),o({query:i,isPullToRefresh:e,callback:a})};Object(i.useEffect)((function(){n&&!r&&(b(),S())}),[n,r]);var y=function(){var e=Object(He.a)(Ge.a.mark((function e(t){var r,n;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!Object(d.V)("desktop")&&!g&&!a&&m<5&&(n=function(e){0!==e&&e%l===0||v(!0)},f(r=m+1),S(!1,r,n),t.target.complete());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return s.a.createElement(Yu,Object.assign({module:"manage"},e,{data:t,getCapacityList:S,onPageScroll:y,isCapacityEnd:g}))}))),ud=Object(xe.b)({isNetWorkAvailable:fn(),userDetails:pn()}),dd=Object(u.c)(ud,(function(e){return{showNetworkAlert:function(){return e(or())},addCapacityItem:function(t){return e(yl(t))}}}))((function(e){var t=e.isNetWorkAvailable,a=e.showNetworkAlert,r=e.history,n=e.userDetails,i=Object(hs.a)().t;return s.a.createElement(nd,Object.assign({module:"manage/ManageMyCapacity"},e,{handleSubmit:function(s,o){if(!t)return a(),!0;var c=(new Pu).addCapacity();e.addCapacityItem({params:{query:c,input:s},callback:function(e){Dr.show(i(e?"ADD_CAPACITY_SUCCESS":"OOPS_MESSAGE")),St(e?ot.UE_MANAGE_CAPACITY_SUCCESS:ot.UE_MANAGE_CAPACITY_FAILED,{screen:ct.MANAGE_CAPACITY_ADDEDIT,carrierId:n&&n.carrierId||"",capacityType:"lane"}),o(),r.push("/app/manage".concat(Object(d.V)("desktop")?"":"/ManageMyCapacity"))}})}}))})),pd=Object(xe.b)({isNetWorkAvailable:fn(),userDetails:pn(),selectedCapacity:Cl()}),md=Object(u.c)(pd,(function(e){return{showNetworkAlert:function(){return e(or())},updateCapacityItem:function(t){return e(function(e){return{type:"MANAGE_CAPACITY_EDIT",payload:e}}(t))}}}))((function(e){var t=e.isNetWorkAvailable,a=e.showNetworkAlert,r=e.history,n=e.selectedCapacity,i=e.userDetails,o=Object(hs.a)().t;return n?s.a.createElement(nd,Object.assign({module:"".concat("manage/ManageMyCapacity","/View")},e,{handleSubmit:function(n,s){if(!t)return a(),!0;var c="".concat(i.firstName," ").concat(i.lastName),l=(new Pu).updateCapacity();e.updateCapacityItem({params:{query:l,input:n,lastUpdatedBy:c},callback:function(e){Dr.show(o(e?"EDIT_CAPACITY_SUCCESS":"OOPS_MESSAGE")),e&&r.push("/app/".concat("manage/ManageMyCapacity","/View"))}})}})):null})),fd=Object(xe.b)({isNetworkAvailable:fn(),userDetails:pn(),selectedCapacity:Cl()}),Ed=Object(u.c)(fd,(function(e){return{showNetworkAlert:function(){return e(or())}}}))((function(e){return e.selectedCapacity?s.a.createElement(Xu,Object.assign({},e,{module:"manage/ManageMyCapacity"})):null})),hd=function(e){return function(e){switch(e){case"My Profile":return s.a.createElement(_l,null);case"Carrier Profile":return s.a.createElement(Vl,null);case"Manage Users":return s.a.createElement(Ou,null);case"Manage My Capacity":return s.a.createElement(ld,null);default:return s.a.createElement(_l,null)}}(e.section)},gd=function(e){var t=e.manageCards.map((function(e){return e.profileHeading})),a=Object(i.useState)({name:"Profile",data:{}}),r=Object(Fe.a)(a,2),n=r[0],o=r[1];return s.a.createElement(d.B,{className:"desktop-page my-load-desktop-page manage-card-content"},s.a.createElement(Sc,{title:"Manage",getSegment:function(e){o({name:e.detail.value,data:{}})},segments:t,activeSegment:n.name,imageCapture:e}),s.a.createElement(hd,{onRedirectToTab:function(e){o({name:e,data:{}})},section:n.name}))},vd=function(e){var t=e.history.push,a=e.userDetails,r=e.isTransferRequest,n=e.transferDetails,o=e.transferRequestReset,c=Object(i.useState)([]),l=Object(Fe.a)(c,2),u=l[0],m=l[1],f=Object(i.useState)(null),E=Object(Fe.a)(f,2),h=E[0],g=E[1],v=Object(hs.a)().t;Object(i.useEffect)((function(){yt("screen_manage"),St(ot.SV_MANAGE_PROFILE,{screen:ct.MANAGE_PROFILE,carrierId:e&&e.userDetails&&e.userDetails.carrierId})}),[]),Object(i.useEffect)((function(){var t=e.manageCard.filter((function(e){return!(!Ua.details.auth||!Ua.details.auth.user.roles.includes(X.carrierGuest))||ja("manage",y(e.profileHeading))}));m(t)}),[a,e.manageCard]);var b=function(t){var r=n.roles&&[new at.EnumType(n.roles)]||[],i={userId:a.userPrincipalName,carrierId:n.carrierId,confirm:t,roles:r};e.handleTransfer(i)},S={isOpen:!1,title:v("MANAGE_USER_CONFIRM_TRANSFER_TITLE"),message:v("MANAGE_USER_CONFIRM_TRANSFER_MESSAGE"),buttons:[{label:"Not Now",callback:function(){g(null),o(),b(!1),St(Ua.details.auth.user.roles.includes(X.carrierGuest)?ot.UE_GUEST_CARRIERREQ_NOTNOW:ot.UE_CARRIERREQ_NOTNOW,{screen:ct.NEWCARRIERREQUEST})}},{label:"Agree",callback:function(){g(null),b(!0)}}]};function y(e){for(var t=e.split(" "),a="",r=0,n=t.length;r<n;r++){var i=t[r].toLowerCase();0!==r&&(i=i.substr(0,1).toUpperCase()+i.substr(1)),a+=i}return a}return Object(i.useEffect)((function(){r?(g(Object(p.a)(Object(p.a)({},S),{},{isOpen:!0,message:S.message.replace("COMPANY",n.carrierName)})),St(Ua.details.auth.user.roles.includes(X.carrierGuest)?ot.UE_GUEST_CARRIERREQ_PRESENTED:ot.UE_CARRIERREQ_PRESENTED,{screen:ct.NEWCARRIERREQUEST})):g(null)}),[r]),Object(d.V)("desktop")?s.a.createElement(gd,Object.assign({},e,{manageCards:u})):s.a.createElement(d.B,{className:"manage-header "},s.a.createElement(d.l,{className:"manage-card-content"},s.a.createElement(pc,e),s.a.createElement("div",{className:"manage_options"},s.a.createElement(d.y,{mode:"ios",className:"manage-list"},u&&u.map((function(a,r){return s.a.createElement(d.v,{key:r,"data-test":"manage-link",onClick:function(){!function(e){var a=e.profileHeading,r=e.profileRouting;if(ja("manage",y(a)))switch(a){case"My Profile":t(r);break;case"Manage Users":case"Manage My Capacity":case"Carrier Profile":Qa.details.getR2FeatureEnable()?Dr.show():t(r)}else Dr.show(v("NO_ACCESS_MSG"))}(a)},class:"manage_list_item",lines:r===e.manageCard.length-1?"none":"inset"},v(a.profileHeading),s.a.createElement("img",{slot:"end",alt:"logo",src:"/assets/icon/more-arrow.svg",className:"moresideimg"}))}))))),h?s.a.createElement(yo,h):null)},bd=Object(xe.b)({loading:ln(),manageCard:Object(xe.a)([Tl],(function(e){return e.manageCardData||Al.manageCardData})),userDetails:pn(),isTransferRequest:Object(xe.a)([Tl],(function(e){return e.users.transfer.isRequested||Al.users.transfer.isRequested})),transferDetails:Object(xe.a)([Tl],(function(e){return e.users.transfer.details||Al.users.transfer.details}))}),Sd=Object(u.c)(bd,(function(e){return{manageData:function(){return e({type:"MANAGE_CARD_DATA"})},transferRequest:function(t){return e(gl(t))},showPermissionAlert:function(t){return e(ft(t))},profileImg:function(t){return e(function(e){return{type:"PROFILE_IMAGE_SET",payload:e}}(t))},transferRequestReset:function(){return e({type:"MANAGE_USER_TRANSFER_REQUEST_RESET"})},confirmTransfer:function(t){return e(function(e){return{type:"MANAGE_USER_TRANSFER_COFIRM_REQUEST",payload:e}}(t))},logout:function(){return e(pt())}}})),yd=fs({key:"manage",reducer:Dl}),Od=ps({key:"manage",saga:gu}),_d=Object(m.compose)(Od,yd,Sd)((function(e){var t=e.history,a=Hr(),r=Object(hs.a)().t;function n(){return o.apply(this,arguments)}function o(){return(o=Object(He.a)(Ge.a.mark((function t(){return Ge.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Object(d.V)("capacitor")&&Za.details.stopGPS(),t.next=3,Ka();case 3:return t.next=5,a.logout();case 5:return t.next=7,e.logout();case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(i.useEffect)((function(){0===e.manageCard.length&&e.manageData()}),[]),Object(i.useEffect)((function(){var a=t&&t.location&&t.location.state&&t.location.state.transfer||!1;a&&e.transferRequest({transfer:a})}),[t]);return s.a.createElement(vd,Object.assign({},e,{handleTransfer:function(t){var a=(new mr).confirmTransfer(t),i=function(){var a=Object(He.a)(Ge.a.mark((function a(){var i,s=arguments;return Ge.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if((i=s.length>0&&void 0!==s[0]&&s[0])||(Dr.show(r("OOPS_MESSAGE")),St(Ua.details.auth.user.roles.includes(X.carrierGuest)?ot.UE_GUEST_CARRIERREQ_FAILURE:ot.UE_CARRIERREQ_FAILURE,{screen:ct.NEWCARRIERREQUEST})),!i||!t.confirm){a.next=7;break}return a.next=5,n();case 5:return St(Ua.details.auth.user.roles.includes(X.carrierGuest)?ot.UE_GUEST_CARRIERREQ_AGREED:ot.UE_CARRIERREQ_AGREED,{screen:ct.NEWCARRIERREQUEST}),a.abrupt("return",!0);case 7:e.transferRequestReset();case 8:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();e.confirmTransfer({query:a,callback:i})}}))}));a(591);var Ad=function(e){Object(Ke.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(Ze.a)(e);if(t()){var n=Object(Ze.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(Xe.a)(this,a)}}(a);function a(e){var r;return Object(qe.a)(this,a),(r=t.call(this,e)).onTileClick=function(e,t,a){a.preventDefault(),!r.props.isInPullToRefresh&&(r.props.myLoadCount[t]>0||r.props.isNetworkAvailable,1)?""!==e.myLoadRouting?r.props.history.push(e.myLoadRouting):Dr.show():r.props.isNetworkAvailable||r.props.showAlert()},r.state={isShowFinanceAlert:!1},r}return Object(ze.a)(a,[{key:"componentDidMount",value:function(){yt("my_loads_menu_page"),St(ot.SV_VIEW_MYLOADS,{screen:ct.MYLOADS,carrierId:this.props&&this.props.userDetails&&this.props.userDetails.carrierId||""})}},{key:"render",value:function(){var e=this,t=this.props,a=t.myLoadCard,r=t.myLoadCount;return s.a.createElement(d.B,{className:"desktop-page myLoad-landing-page"},s.a.createElement(Sc,{title:"My Loads"}),s.a.createElement(d.l,{className:"myload-content"},s.a.createElement(d.l,{class:"myload-page-content"},s.a.createElement(io,{onPullToRefresh:this.props.getUserLoads,status:this.props.isInPullToRefresh,networkStatus:this.props.isNetworkAvailable,showAlert:this.props.showAlert}),s.a.createElement(d.o,{class:"myload-mobile-grid"},a.map((function(t,a){return s.a.createElement(d.g,{class:"myload-tab-card ".concat(a%2===0&&4!==a?"myload-tab-right-card":""),key:a,onClick:function(r){e.onTileClick(t,a,r)}},s.a.createElement(d.o,{className:"item-dev ".concat(t.className)},s.a.createElement("div",{className:"icon-wrapper"},s.a.createElement("img",{className:"thumbnail-img",alt:"assign",src:t.cardImg}),s.a.createElement("div",{className:"itemlabel"},Sr.t(t.title))),s.a.createElement("div",{className:r[t.count]?"circle-div":""},r[t.count]&&r[t.count]>99?"99+":r[t.count]||"")))}))),s.a.createElement("div",{className:"myLoads_div_desktop"},s.a.createElement(d.H,{className:"myLoads_row_desktop"},a.map((function(t,a){return s.a.createElement(d.k,{size:"2.4",className:"thumbnail-item-col ".concat(t.class),key:a},s.a.createElement(d.g,{class:"myload-tab-card",onClick:function(r){e.onTileClick(t,a,r)}},s.a.createElement(d.o,{className:"item-dev ".concat(t.className)},s.a.createElement("div",{className:"icon-wrapper"},s.a.createElement("div",{className:e.props.myLoadCount[t.count]?"circle-div":""},e.props.myLoadCount[t.count]&&e.props.myLoadCount[t.count]>99?99:e.props.myLoadCount[t.count]||""),s.a.createElement("img",{className:"thumbnail-img",alt:"assign",src:t.cardImg}),s.a.createElement("div",{className:"itemlabel"},t.title)))))})))))))}}]),a}(i.Component),Dd=function(){function e(){var t=this;Object(qe.a)(this,e),this.userDetails={},this.args=function(){return t.userDetails.driverId?{carrierId:t.userDetails.carrierId,driverId:t.userDetails.driverId,filter:t.userDetails.filter}:{carrierId:t.userDetails.carrierId,filter:t.userDetails.filter}},this.loadDetails={shipmentId:!0,lineOfBusiness:!0,transportMode:!0,totalWeight:!0,weightUOM:!0,totalDistance:!0,distanceUOM:!0,numberOfStops:!0,sourceTMS:!0,driverAssignmentStatus:!0,assignedCarrierId:!0,assignedTMSCarrierId:!0,isAppointmentConfirmed:!0,isHazardous:!0,isHighValue:!0,isTemperatureControlled:!0,isFreezeProtected:!0,equipmentType:!0,executionStatus:!0,masterBillOfLoading:!0,startState:!0,startCity:!0,startCountry:!0,startDateTime:!0,shipmentServices:{serviceDescription:!0},loadStop:{stopType:!0,sequenceNo:!0,locationName:!0,addressLine1:!0,addressLine2:!0,city:!0,state:!0,country:!0,estimatedArrivalDateTime:!0,plannedArrivalDateTime:!0,actualArrivalDateTime:!0,estimatedStopDuration:!0,plannedDepartureDateTime:!0,actualDepartureDateTime:!0,appointmentEarlyDateTime:!0,appointmentLateDateTime:!0,actualETADateTime:!0,plannedEtaDateTime:!0},shipmentInvolvedParties:{id:!0,partyId:!0,partyType:!0,partyName:!0,partyEmail:!0,partyPhone:!0},assignmentTransaction:{transactionId:!0,driverId:!0,driverName:!0},managedEquipment:!0}}return Object(ze.a)(e,[{key:"getRequestPayload",value:function(){return{query:{getShipments:{__args:this.args(),inTransitCount:!0,driverAssignedCount:!0,carrierAssignedCount:!0,driverAssignedPendingCount:!0,deliveredCount:!0,inTransitShipments:this.loadDetails,driverAssignedShipments:this.loadDetails,carrierAssginedShipments:this.loadDetails,driverAssignmentPendingShipments:this.loadDetails,deliveredShipments:this.loadDetails}}}}},{key:"carrierId",get:function(){return this.userDetails.carrierId},set:function(e){e&&(this.userDetails.carrierId=e)}},{key:"driverId",get:function(){return this.userDetails.driverId},set:function(e){e&&(this.userDetails.driverId=e)}},{key:"filter",get:function(){return this.userDetails.filter},set:function(e){e&&(this.userDetails.filter=e)}}]),e}();var Td=function(e){Object(Ke.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(Ze.a)(e);if(t()){var n=Object(Ze.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(Xe.a)(this,a)}}(a);function a(){var e;Object(qe.a)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).getUserLoads=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e.props.isNetworkAvailable)try{var a=e.props&&e.props.userDetails&&e.props.userDetails.carrierId||"",r=e.props&&e.props.userDetails&&e.props.userDetails.userPrincipalName||"",n=new Dd,i=!ja("myLoad","carrierAssigned");n.carrierId=a,n.filter={carrierAssigned:!i,driverAssigned:!0,inTransit:!0,driverAssignmentPending:!0,delivered:!0},i&&(n.driverId=r),e.props.fetchShipments(n.getRequestPayload(),t)}catch(s){console.log("ERROR:",s)}},e}return Object(ze.a)(a,[{key:"componentDidMount",value:function(){this.props.myLoadData(),this.props&&this.props.userDetails&&this.props.userDetails.carrierId&&this.getUserLoads(!1)}},{key:"componentDidUpdate",value:function(e){var t=e&&e.userDetails||{},a=this.props&&this.props.userDetails||{};a&&a.carrierId!==t.carrierId&&!this.props.loading&&this.getUserLoads(!1)}},{key:"render",value:function(){return s.a.createElement(Ad,Object.assign({},this.props,{getUserLoads:this.getUserLoads}))}}]),a}(i.PureComponent),Rd=Object(xe.b)({loading:ln(),myLoadCount:ci(),myLoadCard:oi(),userDetails:pn(),isInPullToRefresh:mn(),isNetworkAvailable:fn()}),Nd=Object(u.c)(Rd,(function(e){return{myLoadData:function(){return e({type:"MYLOAD_CARD_DATA"})},showPermissionAlert:function(t){return e(ft(t))},fetchShipments:function(t,a){return e(Qn(t,a))},showAlert:function(){return e(or())}}})),Id=fs({key:"myload",reducer:Ae}),Cd=ps({key:"myload",saga:Xi}),kd=Object(m.compose)(Cd,Id,Nd)(s.a.memo(Td)),jd=function(e){return e.carrier},Ld=function(e){return e.search},wd=function(){return Object(xe.a)([jd],(function(e){return e.recommended.data||ye.recommended.data}))},Md=function(){return Object(xe.a)([jd],(function(e){return e.watched.data||ye.watched.data}))},Pd=function(e,t){return t&&t.match&&t.match.params&&t.match.params.id||""},Ud=function(e,t){return t&&t.match&&t.match.params&&t.match.params[0]||""},xd=function(){return Object(xe.a)([jd],(function(e){return e.apiErrorMessage||ye.apiErrorMessage}))},Fd=(a(592),function(e){var t=Object(i.useState)(!1),a=Object(Fe.a)(t,2),r=a[0],n=a[1],o=Object(hs.a)().t;return Object(i.useEffect)((function(){e.setTermsAndConState()}),[]),s.a.createElement(d.g,{class:"ion-card"},s.a.createElement(d.i,{class:"accordion-header ".concat(r?"":"changeColor"),onClick:function(){St("ue_load_terms_view",{page:"Load Details"}),n(!r)}},s.a.createElement("span",null,o("Terms & Conditions")," "),r?s.a.createElement(d.q,{className:"loadDetails-plusIcon",src:me.minus}):s.a.createElement(d.q,{className:"loadDetails-plusIcon",src:me.plus})),s.a.createElement(d.h,{class:"term-class ".concat(r?"fadein":"fadeout")},s.a.createElement("p",{className:"terms_conditions_p"},e.termsAndConditions)))});var Vd,Gd,Hd,Bd,qd=function(e){Object(Ke.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(Ze.a)(e);if(t()){var n=Object(Ze.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(Xe.a)(this,a)}}(a);function a(e){var r;return Object(qe.a)(this,a),(r=t.call(this,e)).markerLocations=[],r.renderObjects=[],r.mapContainer=s.a.createRef(),r.createMarker=function(e){var t=new google.maps.Marker({position:e.latlng,map:e.map,icon:e.icon}),a=new google.maps.InfoWindow({content:e.address});return google.maps.event.addDomListener(t,"click",(function(){a.open(e.map,t)})),t},r.getIconName=function(e){switch(e){case"P":return"origin";case"D":return"destination";case"NFR":return"stops-green";default:return"stops"}},r.renderChildren=function(){var e=r.props,t=(e.defaultCenter,e.bounds),a=e.waypoints,n=(e.zoom,e.mapTypeId,e.disableDefaultUI),i=e.mapTypeControl,s=e.scaleControl,o=e.streetViewControl,c=e.zoomControl,l=e.fullscreenControl,u=e.isMyload;if(r.mapContainer&&r.mapContainer.current){var d=new google.maps.Map(r.mapContainer.current,{mapTypeId:google.maps.MapTypeId.ROADMAP,zoom:14,disableDefaultUI:n,mapTypeControl:i,scaleControl:s,streetViewControl:o,zoomControl:c,fullscreenControl:l}),m=new google.maps.LatLngBounds;t.map(function(){var e=Object(He.a)(Ge.a.mark((function e(t){var n,i,s,o,c,l,f,E,h;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.map((function(e){return e.location})),r.markerLocations=[t.origin].concat(Object(Se.a)(n),[t.destination]),i="".concat(t.origin.city,", ").concat(t.origin.state),!t.origin||!t.origin.latLng){e.next=7;break}e.t0=t.origin.latLng,e.next=10;break;case 7:return e.next=9,Ra(i);case 9:e.t0=e.sent;case 10:if(s=e.t0,o="".concat(t.destination.city,", ").concat(t.destination.state),!t.destination||!t.destination.latLng){e.next=16;break}e.t1=t.destination.latLng,e.next=19;break;case 16:return e.next=18,Ra(o);case 18:e.t1=e.sent;case 19:c=e.t1,l=[],a&&(l=a.map((function(e,t){var a=e.location&&e.location.latLng&&e.location.latLng.lat||0,r=e.location&&e.location.latLng&&e.location.latLng.lng||0;return a&&r?{location:new google.maps.LatLng(a,r),stopover:e.stopover}:u?void 0:{location:"".concat(e.location.city,", ").concat(e.location.state),stopover:e.stopover}}))),f={origin:new google.maps.LatLng(s.lat,+s.lng),destination:new google.maps.LatLng(+c.lat,+c.lng),waypoints:l,travelMode:google.maps.TravelMode.DRIVING},E=[{address:i,latlng:s,icon:"assets/images/".concat(r.getIconName(t.origin.locationType),".svg")},{address:o,latlng:c,icon:"assets/images/".concat(r.getIconName(t.destination.locationType),".svg")}],h=E.map((function(e){return r.createMarker(Object(p.a)(Object(p.a)({},e),{},{map:d}))})),r.clearRenderObjects(),(new google.maps.DirectionsService).route(f,(function(e,t){var a=new google.maps.DirectionsRenderer({map:d,directions:e,suppressMarkers:!0,preserveViewport:!0}),n=e.routes[0].legs,i=[];n.length>1&&n.forEach((function(e,t){if(0!==t&&t<r.markerLocations.length){var a=r.markerLocations[t],n="".concat(a.city,", ").concat(a.state),s=a.locationType;i.push(r.createMarker({address:n,latlng:e.start_location,map:d,icon:"assets/images/".concat(r.getIconName(s),".svg")}))}}));for(var s=[].concat(Object(Se.a)(h),i),o=0;o<s.length;o++)s[o].getVisible()&&m.extend(s[o].getPosition());d.fitBounds(m),a.setMap(d),a.setDirections(e),google.maps.event.addListenerOnce(d,"bounds_changed",(function(){var e=d.getCenter();google.maps.event.trigger(d,"resize"),d.setCenter(e)})),r.renderObjects.push(a)}));case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},r.addMarkerToTheLocation=function(e){var t={locationType:"",index:-1,city:"",state:""};if(r.markerLocations){var a=e.split(","),n=!1;r.markerLocations.forEach((function(e,i){if(n)return!1;var s=e.locationName;s=s.toUpperCase();var o=0;a.forEach((function(e){s.includes(e.toUpperCase())&&o++})),1<=o&&!r.markerLocations[i].isMarkerAdded&&(r.markerLocations[i].isMarkerAdded=!0,t={locationType:r.markerLocations[i].locationType,index:i,city:r.markerLocations[i].city,state:r.markerLocations[i].state},n=!0)}))}return t},r.state={isMapReady:!1,map:null,google:null,directionsService:null,directionsRenderer:null},r}return Object(ze.a)(a,[{key:"clearRenderObjects",value:function(){for(var e in this.renderObjects)this.renderObjects[e].setMap(null),this.renderObjects[e].setDirections({routes:[]})}},{key:"render",value:function(){var e=this.props.className;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{style:{height:"100%",width:"100%",translate:"translate3d(0)",opacity:1,position:"relative"},ref:this.mapContainer,className:e}),this.renderChildren())}}]),a}(i.Component);!function(e){e.roadmap="roadmap",e.satellite="satellite",e.hybrid="hybrid",e.terrain="terrain"}(Vd||(Vd={})),function(e){e.DRIVING="DRIVING",e.BICYCLING="BICYCLING",e.TRANSIT="TRANSIT",e.WALKING="WALKING"}(Gd||(Gd={})),function(e){e.METRIC="METRIC",e.IMPERIAL="IMPERIAL"}(Hd||(Hd={})),function(e){e.TOP_CENTER="TOP_CENTER",e.TOP_LEFT="TOP_LEFT",e.TOP_RIGHT="TOP_RIGHT",e.LEFT_TOP="LEFT_TOP",e.RIGHT_TOP="RIGHT_TOP",e.LEFT_CENTER="LEFT_CENTER",e.RIGHT_CENTER="RIGHT_CENTER",e.LEFT_BOTTOM="LEFT_BOTTOM",e.RIGHT_BOTTOM="RIGHT_BOTTOM",e.BOTTOM_CENTER="BOTTOM_CENTER",e.BOTTOM_LEFT="BOTTOM_LEFT",e.BOTTOM_RIGHT="BOTTOM_RIGHT"}(Bd||(Bd={}));a(185);var zd=function(e){Object(Ke.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(Ze.a)(e);if(t()){var n=Object(Ze.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(Xe.a)(this,a)}}(a);function a(e){var r;return Object(qe.a)(this,a),(r=t.call(this,e)).getLocationName=function(e){var t=e.locationName&&"".concat(e.locationName,", ")||"",a=e.city&&"".concat(e.city,", ")||"",r=e.state&&"".concat(e.state,", ")||"",n=e.addressLine1&&"".concat(e.addressLine1,", ")||"";return"".concat(n).concat(t).concat(a).concat(r)},r.getLatLng=function(e){return e.longitude&&e.longitude&&{lat:parseFloat(e.latitude)||"",lng:parseFloat(e.longitude)||""}||void 0},r.getLocations=function(e){var t=e.loadStop,a=void 0===t?[]:t,n={locationName:"",locationType:"",index:-1,isMarkerAdded:!1,latLng:{lat:0,lng:0},postalCode:"",city:"",state:"",shipmentID:""},i={locationName:"",locationType:"",index:-1,isMarkerAdded:!1,latLng:{lat:0,lng:0},postalCode:"",city:"",state:"",shipmentID:""},s=[],o=a.length;return(a=a.slice().sort((function(e,t){return e.sequenceNo&&t.sequenceNo?e.sequenceNo-t.sequenceNo:e.stopSequence&&t.stopSequence?e.stopSequence-t.stopSequence:0}))).forEach((function(t,a){0===a?n={locationName:r.getLocationName(t),locationType:t.stopType||"",latLng:r.getLatLng(t),index:a,isMarkerAdded:!1,postalCode:t.postalCode,city:t.city,state:t.state,shipmentID:e.shipmentID}:a+1===o?i={locationName:r.getLocationName(t),locationType:t.stopType||"",index:a,isMarkerAdded:!1,latLng:r.getLatLng(t),postalCode:t.postalCode,city:t.city,state:t.state,shipmentID:e.shipmentID}:s.push({location:{locationName:r.getLocationName(t),locationType:t.stopType||"",index:a,isMarkerAdded:!1,latLng:r.getLatLng(t),postalCode:t.postalCode,city:t.city,state:t.state,shipmentID:e.shipmentID},stopover:!0})})),{origin:n,destination:i,waypoints:s}},r.state={isShowMap:!1,origin:{locationName:"",locationType:"",index:-1,isMarkerAdded:!1,latLng:{lat:0,lng:0},postalCode:"",city:"",state:"",shipmentID:""},destination:{locationName:"",locationType:"",index:-1,isMarkerAdded:!1,latLng:{lat:0,lng:0},postalCode:"",city:"",state:"",shipmentID:""},waypoints:[],isMapVisible:!1,isShowAddrInfoWindow:!0},r}return Object(ze.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.getLocations(this.props);this.setState({waypoints:t.waypoints||[],isShowMap:!0,isMapVisible:!1,origin:t.origin,destination:t.destination},(function(){setTimeout((function(){e.setState({isMapVisible:!0})}),500)}))}},{key:"componentDidUpdate",value:function(e){var t=this,a=this.getLocations(this.props),r=this.getLocations(e);JSON.stringify(a)!==JSON.stringify(r)&&this.setState({waypoints:a.waypoints||[],isShowMap:!0,isMapVisible:!1,origin:a.origin,destination:a.destination},(function(){setTimeout((function(){t.setState({isMapVisible:!0})}),500)}))}},{key:"render",value:function(){var e=this.state,t=e.origin,a=e.destination,r=e.waypoints,n=e.isMapVisible,i=(e.isShowAddrInfoWindow,Object(d.V)("desktop")),o=[{origin:t,destination:a}];return s.a.createElement(s.a.Fragment,null,s.a.createElement(d.z,{isOpen:!n,spinner:null,message:'<img src= "assets/images/Schneider_Spinner-transparent.gif" className="loader-image" />',"show-backdrop":!1,cssClass:"loader-message"}),s.a.createElement("div",{className:"load-map",style:{display:"".concat(n?"block":"none"),position:"relative"}},s.a.createElement(d.o,{class:"map-grid",style:{height:"250px",overflow:"hidden",position:"absolute",top:0,left:0,width:"100%"}},this.state.isShowMap&&this.props.loadStop&&this.props.loadStop.length>0&&s.a.createElement(qd,{zoom:10,mapTypeControl:!1,streetViewControl:!1,mapTypeId:Vd.roadmap,zoomControl:i,fullscreenControl:!0,bounds:o,waypoints:r,isMyload:this.props.isCarrierLoad}))))}}]),a}(s.a.PureComponent);var Yd,Wd=function(e){Object(Ke.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(Ze.a)(e);if(t()){var n=Object(Ze.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(Xe.a)(this,a)}}(a);function a(e){var r;return Object(qe.a)(this,a),(r=t.call(this,e)).container=s.a.createRef(),r.map=void 0,r.service=void 0,r.infowindow=void 0,r.initMap=function(){r.props.showSatelliteMap&&(r.infowindow=new google.maps.InfoWindow,r.container.current&&(r.map=new google.maps.Map(r.container.current,{center:r.props.position,zoom:18,mapTypeId:"hybrid",mapTypeControl:!1,streetViewControl:!0,zoomControl:!0,fullscreenControl:!1})),r.createMarker(r.props.position))},r.createMarker=function(e){var t=new google.maps.Marker({map:r.map,position:e,icon:"assets/images/destination.svg"});google.maps.event.addListener(t,"click",(function(){r.infowindow&&(r.infowindow.setContent(r.props.locationName),r.infowindow.open(r.map,t))}))},r.timeOutFunc=function(){setTimeout((function(){r.initMap()}),1e3)},r}return Object(ze.a)(a,[{key:"componentDidMount",value:function(){this.timeOutFunc()}},{key:"componentDidUpdate",value:function(e){this.timeOutFunc()}},{key:"render",value:function(){var e=Object(d.V)("desktop"),t=this.props,a=t.shipmentId,r=t.showSatelliteMap,n=t.onDismissSatelliteMap;return s.a.createElement(s.a.Fragment,null,s.a.createElement(d.A,{isOpen:r,onDidDismiss:function(){return n()},animated:!1,cssClass:"".concat(e?"satellite-view-desktop":"satellite-view-mobile")},s.a.createElement(d.l,{fullscreen:e},s.a.createElement(d.S,{className:"satellite-toolbar"},s.a.createElement(d.f,{slot:"end",onClick:function(){n()}},s.a.createElement(d.q,{className:"satellite-close",icon:"close"})),s.a.createElement(d.P,{className:"satellite-title"},"".concat(e?"Satellite view":a))),s.a.createElement("div",{className:"satellite-map",ref:this.container}))))}}]),a}(s.a.Component),Kd=function(){function e(){Object(qe.a)(this,e),this.driverListState={}}return Object(ze.a)(e,[{key:"getRequestPayload",value:function(){return{query:{getMembers:{__args:{input:{carrierId:this.driverListState.carrierId,role:this.driverListState.role}},userPrincipalName:!0,firstName:!0,lastName:!0,companyName:!0,email:!0,liablePartyId:!0,liablePartyName:!0,lastSelectedCustomer:!0,lastSelectedCarrier:!0,carrier:!0,carrierId:!0,tractorNumber:!0,internalUser:!0,customer:!0,registered:!0,mobileNumber:!0,address:{addressLine1:!0,addressLine2:!0,addressType:!0,city:!0,state:!0,postalCode:!0},phone:{number:!0,type:!0}}}}}},{key:"carrierId",get:function(){return this.driverListState.carrierId},set:function(e){e&&(this.driverListState.carrierId=e)}},{key:"role",get:function(){return this.driverListState.role},set:function(e){e&&(this.driverListState.role=e)}}]),e}();!function(e){e.USD="USD",e.CAD="CAD"}(Yd||(Yd={}));var Xd=function(e,t){var a={iconSrc:"",iconClass:"",buttonText:""};if(e===C.CARRIER_ASSIGNED_MODULE)a.iconSrc="assets/icon/add-user-icon.svg",a.iconClass="user-icon",a.buttonText="Assign Driver";else if(e===C.DRIVER_ASSIGNED_MODULE)a.iconSrc="assets/icon/start-trip.svg",a.iconClass="trip-icon",a.buttonText="Start Trip";else{var r=t.rate&&t.rate.totalCharge&&t.buyAllowed;a.iconSrc="",a.iconClass="",a.buttonText=r?"Book Now":"Contact for price"}return a},Zd=function(e,t,a,r,n){e||St("ue_load_view_call",{page:"Load Details"});var i=Qd(n),s=Ua.details.keys&&Ua.details.keys.configuration,o=s&&s["OTMASSET"===t?"loadContactOTM":"loadContactMG"]||("OTMASSET"===t?h.OTM:h.MG);Wu.a.callNumber(o,!0).then((function(e){St(ot.UE_VIEW_LOAD_CALL_US,{screen:ct.LOAD_DETAILS,loadId:a,carrierId:r,lead:i})})).catch((function(e){}))},Qd=function(e){var t="";switch(e){case k.RECOMMENDED_MODULE:t=x.RECOMMENDED;break;case k.WATCHED_MODULE:t=x.WATCHED;break;case C.SEARCH_RESULTS:t=x.SEARCHED;break;case C.CARRIER_ASSIGNED_MODULE:t=x.CARRIER_ASSIGNED;break;case C.DRIVER_ASSIGNED_MODULE:t=x.DRIVER_ASSIGNED;break;default:t=x.WATCHED}return t};var Jd=function(e){Object(Ke.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(Ze.a)(e);if(t()){var n=Object(Ze.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(Xe.a)(this,a)}}(a);function a(e){var r;return Object(qe.a)(this,a),(r=t.call(this,e)).gpsActivatedShipmentID="",r.model=void 0,r.lead="",r.onButtonClick=Object(He.a)(Ge.a.mark((function e(){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.props.isNetworkAvailable?(St(ot.UE_START_TRIP,{screen:ct.ML_START_TRIP,shipmentId:r.props.loadId}),r.props.onButtonClick()):r.props.showAlert();case 1:case"end":return e.stop()}}),e)}))),r.callusClick=function(){r.props.isNetworkAvailable,Zd(r.props.isCarrierLoad,r.props.loadDetails.sourceSystem,r.props.loadId,r.props.userDetails.carrierId,r.props.module)},r.setTermsAndConState=function(){r.setState({isTermsAndConditionExpanded:!r.state.isTermsAndConditionExpanded})},r.model=new Kd,r.state={isGetShipmentErr:!1,tab:!1,showSatelliteMap:!1,satelliteLocation:"",isBookLoadModal:!1,shipmentID:null,isBookloadConfirm:!1,isTermsAndConditionExpanded:!1,getButtonText:{iconSrc:"",iconClass:"",buttonText:""}},r}return Object(ze.a)(a,[{key:"componentDidMount",value:function(){yt("screen_load_details"),this.props.isCarrierLoad||St("ue_load_view",{page:"Load Details"}),this.props.loadDetails&&this.props.loadDetails.rate&&St(ot.SV_LOAD_DETAILS_RATE,{screen:ct.LOAD_DETAILS_RATE,lead:this.lead});var e=Xd(this.props.module,this.props.loadDetails);this.setState({getButtonText:e})}},{key:"componentDidUpdate",value:function(e,t){if(Ua.details.getValue.shipmentId!==this.props.loadId&&(function(e,t,a){var r,n,i="",s="",o="";switch(St(ot.SV_VIEW_SHIPMENT,{screen:ct.SHIPMENT_DETAILS,shipmentId:t}),e){case k.RECOMMENDED_MODULE:r=ot.SV_LOAD_DETAILS,n=ct.LOAD_DETAILS,o=lt.RECOMMENDED;break;case k.WATCHED_MODULE:r=ot.SV_LOAD_DETAILS,n=ct.LOAD_DETAILS,o=lt.WATCHED;break;case C.SEARCH_RESULTS:r=ot.UE_LOAD_RATE_ACCEPT,i=ot.SV_LOAD_DETAILS,n=ct.LOAD_DETAILS_RATE,s=ct.LOAD_DETAILS,o=lt.SEARCHED;break;case C.CARRIER_ASSIGNED_MODULE:r=ot.SV_VIEW_CARRIER_ASSIGNED,n=ct.LOAD_DETAILS,o=lt.CARRIER_ASSIGNED;break;case C.DRIVER_ASSIGNED_MODULE:r=ot.SV_ASSIGN_DRIVER,n=ct.LOAD_DETAILS,o=lt.DRIVER_ASSIGNED;break;default:r=ot.UE_WATCH_LOAD,n=ct.LOAD_DETAILS,o=lt.WATCHED}St(r,{screen:n,shipmentId:t,loadId:t,lead:o,carrierId:a}),""!==i&&St(i,{screen:s,shipmentId:t,loadId:t,lead:o,carrierId:a})}(this.props.module,this.props.loadId,this.props.userDetails.carrierId),this.state.isTermsAndConditionExpanded&&function(e,t){var a=ot.UE_VIEW_LOAD_TERMS,r=ct.LOAD_DETAILS,n=lt.RECOMMENDED;St(a,{screen:r,shipmentId:e,loadId:e,lead:n,carrierId:t})}(this.props.loadId,this.props.userDetails.carrierId),St(ot.SV_VIEW_LOAD,{screen:ct.LOAD_DETAILS,shipmentId:this.props.loadId,loadId:this.props.loadId,lead:this.lead,carrierId:this.props.userDetails.carrierId}),function(e,t,a){var r;e===k.RECOMMENDED_MODULE?r=x.RECOMMENDED:e===k.WATCHED_MODULE?r=x.WATCHED:e===C.SEARCH_RESULTS&&(r=x.SEARCHED),r&&St(ot.UE_VIEW_LOAD,{screen:ct.LOAD_DETAILS,loadId:t,lead:r,carrierId:a})}(this.props.module,this.props.loadId,this.props.userDetails.carrierId),this.props.module!==e.module||this.props.loadDetails!==e.loadDetails)){var a=Xd(this.props.module,this.props.loadDetails);this.setState({getButtonText:a})}}},{key:"render",value:function(){var e=this,t=this.props,a=t.loadDetails,r=t.bookloadStatus,n=t.prevModule,i=this.props.loadId;return s.a.createElement(s.a.Fragment,null,a?s.a.createElement(d.B,{className:"desktop-page loadDetails-page"},s.a.createElement(Sc,{title:i,backUrl:"/app/".concat(r?n:this.props.module),tab:this.props.module,History:this.props.history,isLoadDetails:!0,isStar:!this.props.isCarrierLoad,isWatched:this.props.isWatched,toggleWatchLoad:this.props.toggleWatchLoad}),s.a.createElement(d.l,{className:"load-details-content"},s.a.createElement(d.l,{class:"load-page-content"},this.props.isNetworkAvailable?s.a.createElement(d.o,{class:"map-grid"},s.a.createElement(zd,{loadStop:a&&a.loadStop||[],isCarrierLoad:this.props.isCarrierLoad,shipmentID:this.props.loadId}),s.a.createElement(Wd,{showSatelliteMap:this.state.showSatelliteMap,locationName:this.state.satelliteLocation,onDismissSatelliteMap:function(){e.setState({showSatelliteMap:!1})},shipmentId:""})):s.a.createElement(d.o,{class:"map-grid"},s.a.createElement("img",{src:me.defult_map,style:{height:"250px"},alt:"You are offline, facing issue in loading image"})),s.a.createElement("div",{className:"mobile-view"},s.a.createElement(ac,Object.assign({},a,this.props,{isLoadDetails:!0,showExpandView:this.props.showExpandView,isCarrierLoad:this.props.isCarrierLoad,showLoadNo:!1})),s.a.createElement(d.H,{class:"btn-row"},s.a.createElement(d.k,null,s.a.createElement(d.e,{"data-test":"callusClick-IonButton",class:"load-btn",onClick:this.callusClick},s.a.createElement(d.q,{src:me.callus})," ",Sr.t("CALL_US_TEXT"))))),this.props.isCarrierLoad?null:s.a.createElement(Fd,{setTermsAndConState:this.setTermsAndConState,termsAndConditions:this.props.loadDetails.termsAndConditions})),s.a.createElement(d.o,{class:"loadPageFooter"},s.a.createElement(d.e,{"data-test":"StartTripButton",expand:"full",onClick:this.onButtonClick},this.state.getButtonText.iconSrc?s.a.createElement(s.a.Fragment,null,s.a.createElement(d.q,{src:this.state.getButtonText.iconSrc,class:this.state.getButtonText.iconClass})):null,Sr.t(this.state.getButtonText.buttonText))))):"")}}]),a}(i.Component),$d=(a(283),function(e){var t=e.isBookLoadModal,a=e.closeBookLoadModal,r=e.bookedDetails,n=e.buyLoad,i=e.declineBookLoad,o=e.carrierId,c=e.lead,l=(Math.round(100*r.totalCharge)/100).toFixed(2),u=Object(hs.a)().t;return s.a.createElement(s.a.Fragment,null,s.a.createElement(d.A,{isOpen:t,cssClass:"dropdown-modal",backdropDismiss:!1,onDidDismiss:function(){return a()}},s.a.createElement("div",{className:"modal-div",onClick:function(){return a()}},s.a.createElement(d.g,{className:"BookLoadCard"},s.a.createElement(d.i,{className:"start-trip-cardContent",onClick:function(){return a()}},u("VIEW_RATE_DETAILS")),s.a.createElement(d.h,{className:"book-card-content"},s.a.createElement("div",{className:"book-load-cardContent"},s.a.createElement(d.H,null,s.a.createElement(d.k,{className:"reference-type-header book-header",size:"4"},u("CHARGE_DESCRIPTION")),s.a.createElement(d.k,{className:"reference-type-header book-load-col2 book-header",size:"8"},s.a.createElement(d.H,null,s.a.createElement(d.k,{size:"4.5",className:"book-load-col3 "},u("RATE_QUALIFIER")),s.a.createElement(d.k,{size:"3",className:"book-load-col3 "},u("BOOLOAD_QTY")),s.a.createElement(d.k,{size:"4.5",className:"book-load-col"},u("Total"))))),s.a.createElement(d.h,{className:"rate-card-scroll"},s.a.createElement(ep,{bookloadName:r.lineHaulCharge.chargeDescription,rateQualifier:r.lineHaulCharge.rateQualifier,quantity:r.lineHaulCharge.quantity,charge:r.lineHaulCharge.charge,unitCharge:r.lineHaulCharge.unitCharge}),s.a.createElement(ep,{bookloadName:r.fuelCharge.chargeDescription,rateQualifier:r.fuelCharge.rateQualifier,quantity:r.fuelCharge.quantity,charge:r.fuelCharge.charge,unitCharge:r.fuelCharge.unitCharge}),r.accessorials.map((function(e,t){return s.a.createElement(ep,{key:t,bookloadName:e.accessorialDescription,rateQualifier:e.accessorialCharge&&e.accessorialCharge.rateQualifier,quantity:e.accessorialCharge&&e.accessorialCharge.quantity,charge:e.accessorialCharge&&e.accessorialCharge.charge,unitCharge:e.accessorialCharge&&r.accessorialCharge.unitCharge})}))),s.a.createElement(d.H,{className:"book-load-row"},s.a.createElement(d.k,null,u("Total")),s.a.createElement(d.k,{className:"Total-count"},"$",l)))),s.a.createElement("p",{className:"book-load-p"},u("BOOK_LOAD_MODAL_ACCEPT")),s.a.createElement(d.H,{class:"accept-btn-row"},s.a.createElement(d.k,{size:Object(d.V)("mobile")?"":"5"},s.a.createElement(d.e,{"data-test":"ToastMessage-IonButton1",class:"load-btn ",onClick:function(){return i()}},u("BOOKLOAD_DECLINE_CTA_TEXT"))),s.a.createElement(d.k,{size:Object(d.V)("mobile")?"0":"0.8"}),s.a.createElement(d.k,{size:Object(d.V)("mobile")?"":"5"},s.a.createElement(d.e,{"data-test":"acceptBuyLoad",class:"load-btn",onClick:function(){return n(),void St(ot.UE_LOAD_RATE_ACCEPT,{screen:ct.LOAD_DETAILS_RATE,carrierId:o,lead:c})}},u("BOOKLOAD_ACCEPT_CTA_TEXT"))))))))}),ep=function(e){var t=(Math.round(100*e.charge)/100).toFixed(2);return s.a.createElement(s.a.Fragment,null,s.a.createElement(d.H,{className:"book-header-border"},s.a.createElement(d.k,{className:"reference-val ",size:"4.5"},e.bookloadName),s.a.createElement(d.k,{size:"7.5"},s.a.createElement(d.H,null,s.a.createElement(d.k,{className:"reference-val bookload-OK book-load-col3",size:"4.5"},"".concat(e.unitCharge,"/").concat(e.rateQualifier)),s.a.createElement(d.k,{className:"reference-val book-load-col3  bookload-OK",size:"3"},e.quantity),s.a.createElement(d.k,{className:"reference-val book-load-col ",size:"4.5"},"$",t)))))},tp=function(e){var t=Object(i.useState)(!1),a=Object(Fe.a)(t,2),r=a[0],n=a[1];Object(i.useEffect)((function(){n(e.confirmModal)}),[e.confirmModal]);var o=Object(hs.a)().t;return s.a.createElement(d.A,{isOpen:r,cssClass:"dropdown-modal",backdropDismiss:!1,onDidDismiss:function(){n(!1)}},s.a.createElement(d.g,{className:"bookLoad-thankyou"},s.a.createElement(d.i,{className:"start-trip-cardContent"},"OK"===e.bookLoadResponse.status?o("BOOKLOAD_THANKYOU_HEADER"):"REJECTED"===e.bookLoadResponse.status?o("BOOKLOAD_REQUEST_REJECTED_HEADER"):"ON_HOLD"===e.bookLoadResponse.status?o("BOOKLOAD_ON_HOLD"):"CANCELLED"===e.bookLoadResponse.status?o("BOOKLOAD_CANCELLED_MESSAGE"):"TIMEOUT"===e.bookLoadResponse.status?o("BOOKLOAD_THANKYOU_HEADER"):null),s.a.createElement(d.h,null,s.a.createElement("p",{className:"bookload-thanku-p"},"OK"===e.bookLoadResponse.status?o("BOOKLOAD_THANK_YOU_MESSAGE").replace("LOAD_ID",e.loadId):"REJECTED"===e.bookLoadResponse.status||"ON_HOLD"===e.bookLoadResponse.status||"CANCELLED"===e.bookLoadResponse.status||"TIMEOUT"===e.bookLoadResponse.status?e.bookLoadResponse.message:null),s.a.createElement(d.H,{className:"book-load-thankyou-row","data-test-id":"buyload-validation"},s.a.createElement(d.k,{size:"3"}),s.a.createElement(d.k,{className:"bookload-OK",size:"6"},s.a.createElement(d.e,{class:"load-btn",onClick:function(){n(!1),e.confirmBookLoad()},"data-test":"confirm-bookload"},o("Ok_TEXT")))))))},ap=function(e){var t=Object(i.useState)(e.isGetShipmentModal),a=Object(Fe.a)(t,2),r=a[0],n=a[1];Object(i.useEffect)((function(){n(e.isGetShipmentModal)}),[e.isGetShipmentModal]);var o=Object(hs.a)().t;return s.a.createElement(d.A,{isOpen:r,cssClass:"dropdown-modal",backdropDismiss:!1,onDidDismiss:function(){return e.closeBookLoadModal()}},s.a.createElement(d.g,{className:"bookLoad-thankyou"},s.a.createElement(d.i,{className:"start-trip-cardContent"},o("BOOKLOAD_THANKYOU_HEADER")),s.a.createElement(d.h,null,s.a.createElement("p",{className:"bookload-thanku-p"},o("BOOKLOAD_THANK_YOU_ERROR_MESSAGE")),s.a.createElement(d.H,{className:"book-load-thankyou-row"},s.a.createElement(d.k,{size:"3"}),s.a.createElement(d.k,{className:"bookload-OK",size:"6"},s.a.createElement(d.e,{class:"load-btn",onClick:function(){n(!1),e.declineBookLoad()},"data-test":"getShipment"},o("Ok_TEXT")))))))},rp=function(){function e(){Object(qe.a)(this,e),this.bookLoadState={}}return Object(ze.a)(e,[{key:"getRequestPayload",value:function(){return{bookLoad:{__variables:{input:"BuyRequest"},buy:{__args:{input:new at.VariableType("input")},status:!0,message:!0}}}}},{key:"userId",get:function(){return this.bookLoadState.userId},set:function(e){this.bookLoadState.userId=e}},{key:"carrierId",get:function(){return this.bookLoadState.carrierId},set:function(e){this.bookLoadState.carrierId=e}},{key:"sourceSystem",set:function(e){this.bookLoadState.sourceSystem=e},get:function(){return this.bookLoadState.sourceSystem}},{key:"loadId",set:function(e){this.bookLoadState.loadId=e},get:function(){return this.bookLoadState.loadId}},{key:"binRateId",set:function(e){this.bookLoadState.binRateId=e},get:function(){return this.bookLoadState.binRateId}},{key:"amount",set:function(e){this.bookLoadState.amount=e},get:function(){return this.bookLoadState.amount}},{key:"currency",set:function(e){this.bookLoadState.currency=e},get:function(){return this.bookLoadState.currency}},{key:"lhlCharges",set:function(e){this.bookLoadState.lhlCharges=e},get:function(){return this.bookLoadState.lhlCharges}},{key:"fsrCharges",set:function(e){this.bookLoadState.fsrCharges=e},get:function(){return this.bookLoadState.fsrCharges}}]),e}(),np=function(e){var t,a,r=new rp;if(e.isNetworkAvailable){var n=(t=e.loadDetails,a=e.userDetails,{lhlCharges:t&&t.rate&&t.rate.lineHaulCharge.charge||0,fsrCharges:t&&t.rate&&t.rate.fuelCharge.charge||0,carrierId:a&&a.carrierId||"",userId:a&&a.userPrincipalName||"",sourceSystem:t&&t.sourceSystem||"",loadId:t.loadId,amount:t&&t.rate&&t.rate.totalCharge||0,binRateId:t&&t.rate&&t.rate.binRateIdentifier&&t.rate.binRateIdentifier||"",currency:Yd.USD||Yd.CAD});e.buyLoadRequest({query:r.getRequestPayload(),data:n})}else e.showAlert();St(ot.UE_LOAD_RATE_ACCEPT,{screen:ct.LOAD_DETAILS_RATE,carrierId:e.userDetails.carrierId,lead:Qd(e.match.params[0])})},ip=function(){var e=Object(He.a)(Ge.a.mark((function e(t,a){var r,n,i;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.match.params[0],(n=new Jo).shipmentIds=a,i={},t.buyLoadShipmentRequest({query:n.getRequestShipmentPayload(),shipmentId:a,module:"",isPullToRefresh:!1},(function(){var e=t.getShipmentDetails;if(e&&e.shipments&&e.shipments.length>0){Ua.details.setValue={shipmentId:a},t.history.push("/app/MyLoad/CarrierAssigned/".concat(a),{isBookLoad:!0,shipments:e.shipments,module:r});var n=t&&t.userDetails&&t.userDetails.carrierId||"",s=new Dd;s.carrierId=n,s.filter={carrierAssigned:!0,driverAssigned:!0,inTransit:!0,driverAssignmentPending:!0,delivered:!0},t.fetchShipments(s.getRequestPayload(),(function(){var a=e.shipments[0],r=t.carrierLoads.concat(Object(p.a)({},a));t.loadCarrierData(r,r.length),sp(t,t.loadDetails.loadId?t.loadDetails.loadId:null)}))}else i={isGetShipmentErr:!0}})),e.abrupt("return",i||{});case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),sp=function(e,t){e.removeSearchResults(t),e.removeRecommendedResults({loadId:t}),e.removewatchedResults({loadId:t})},op=function(){function e(){Object(qe.a)(this,e),this.watchState={userId:"",carrierId:"",page:0,size:10,sortColumn:"pickupDate",sortDirection:"asc",managedEquipmentCapability:"",nonManagedEquipmentCapability:"",userRole:""}}return Object(ze.a)(e,[{key:"setofflineWatchedLoads",value:function(e){return xa("Carrier-offline-Watched-Loads",e)}},{key:"getofflineWatchedLoads",value:function(){return Va("Carrier-offline-Watched-Loads")}},{key:"setWeight",value:function(){this.validLoad()}},{key:"validLoad",value:function(){}},{key:"addWatchLoad",value:function(e){return{mutation:{newUserWatchedLoads:{__args:{input:e},id:!0}}}}},{key:"removeWatchLoad",value:function(e){return{mutation:{deleteUserWatchedLoads:{__args:{input:e}}}}}},{key:"getRequestPayload",value:function(){return{query:{getUserWatchedLoads:{__args:{input:this.watchState},totalRecords:!0,loadPostings:Object(p.a)({},ks)}}}}},{key:"sortColumn",get:function(){return this.watchState.sortColumn},set:function(e){e&&(this.watchState.sortColumn=e)}},{key:"userId",get:function(){return this.watchState.userId},set:function(e){e&&(this.watchState.userId=e)}},{key:"carrierId",get:function(){return this.watchState.carrierId},set:function(e){e&&(this.watchState.carrierId=e)}},{key:"sortDirection",get:function(){return this.watchState.sortDirection},set:function(e){e&&(this.watchState.sortDirection=e)}},{key:"page",get:function(){return this.watchState.page},set:function(e){e&&(this.watchState.page=e)}},{key:"size",get:function(){return this.watchState.size},set:function(e){e&&(this.watchState.size=e)}},{key:"userRole",get:function(){return this.watchState.userRole},set:function(e){e&&(this.watchState.userRole=e)}},{key:"managedEquipmentCapability",get:function(){return this.watchState.managedEquipmentCapability},set:function(e){e&&(this.watchState.managedEquipmentCapability=e)}},{key:"nonManagedEquipmentCapability",get:function(){return this.watchState.nonManagedEquipmentCapability},set:function(e){e&&(this.watchState.nonManagedEquipmentCapability=e)}}]),e}(),cp=new op,lp=function(e,t){return e.addWatchLoad({query:cp.addWatchLoad(t),loadDetails:e.loadDetails})},up=function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(r)return Dr.show(Sr.t("watchedErrorText")),!0;Dr.open({message:Sr.t("WATCHED_LOAD_REMOVE"),showUndo:!0,callback:function(){return lp(e,a)}}),t&&t.includes("watched")&&e.history.push("/app/home/watched"),t&&t.includes("recommended")&&e.history.push("/app/home/recommended")};var dp=function(e){Object(Ke.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(Ze.a)(e);if(t()){var n=Object(Ze.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(Xe.a)(this,a)}}(a);function a(e){var r;return Object(qe.a)(this,a),(r=t.call(this,e)).module=r.props.match.params[0],r.toggleWatchLoad=function(e){!function(e,t){var a=e.loadDetails,r=e.history,n=(r.push,r.location.pathname),i=e.isNetworkAvailable,s=e.showAlert,o=e.userDetails,c=o.carrierId,l=o.userPrincipalName,u=a.loadId;if(!i)return s(),!0;var d={carrierId:c,userId:l,origin:"",loadId:u,watchDate:(new Date).toISOString()};t?e.addWatchLoad({query:cp.addWatchLoad(d),loadDetails:a}):e.removeWatchLoad({query:cp.removeWatchLoad(d),loadId:u,callback:function(t){return up(e,n,d,t)}})}(r.props,e)},r.onButtonClick=function(){var e=function(e){var t=e.match.params[0],a=e.match.params.id,r={};return St("ue_load_buy_request",{page:"Load Details"}),null===e.loadDetails.rate||e.loadDetails.rate&&0===e.loadDetails.rate.totalCharge||!e.loadDetails.buyAllowed?(Zd(e.isCarrierLoad,e.loadDetails.sourceSystem,e.loadId,e.userDetails.carrierId,t),St(ot.UE_CONTACT_FOR_PRICE,{screen:ct.LOAD_DETAILS,loadId:a,carrierId:e.userDetails.carrierId,lead:Qd(t)})):(r={isBookLoadModal:!0},St(ot.UE_BOOK_LOAD_NOW,{screen:ct.LOAD_DETAILS,loadId:a,carrierId:e.userDetails.carrierId,lead:Qd(t)})),r||{}}(r.props);r.setState(e)},r.closeBookLoadModal=function(){r.setState({isBookLoadModal:!1}),St(ot.UE_LOAD_RATE_DENY,{screen:ct.LOAD_DETAILS_RATE,carrierId:r.props.userDetails.carrierId,lead:Qd(r.module)})},r.confirmBookLoad=function(){var e=function(e){var t=e.match.params[0],a={};return e.isNetworkAvailable,"OK"===e.bookLoadStatus.status&&((new Jo).shipmentIds=e.loadDetails.loadId,ip(e,e.loadDetails.loadId)),e.bookLoadStatus.status,a={isBookloadConfirm:!1},St(ot.UE_CONCURRENT_BUY,{screen:ct.BUY_CONCURRENT}),"CANCELLED"===e.bookLoadStatus.status&&(St(ot.UE_LOAD_ON_HOLD,{screen:ct.BUY_LOAD_ON_HOLD}),sp(e,e.loadDetails.loadId?e.loadDetails.loadId:null),e.history.push("/app/".concat(t))),"TIMEOUT"===e.bookLoadStatus.status&&(St(ot.UE_BUY_IN_PROGRESS,{screen:ct.BUY_IN_PROGRESS}),e.history.push("/app/".concat(t))),e.buyLoadStatusRemove(),St(ot.UE_BOOK_SUCCESS,{screen:ct.LOAD_DETAILS_RATE,loadId:e.loadId,carrierId:e.userDetails.carrierId,lead:Qd(t)}),a||{}}(r.props);r.setState(e)},r.declineBookLoad=function(){var e=function(e){var t=e.match.params[0];e.history.push("/app/".concat(t)),sp(e,e.loadDetails.loadId?e.loadDetails.loadId:null);return St(ot.UE_BOOK_FAILED,{screen:ct.LOAD_DETAILS_RATE,loadId:e.loadId,carrierId:e.userDetails.carrierId,lead:Qd(t)}),{isGetShipmentErr:!1}||{}}(r.props);r.setState(e)},r.state={isBookLoadModal:!1,isGetShipmentErr:!1,isBookloadConfirm:!1},r}return Object(ze.a)(a,[{key:"ionViewWillEnter",value:function(){Ua.details.getValue.shipmentId&&(this.props.history.push("/app/".concat(this.props.match.params[0])),Ua.details.setValue={shipmentId:""})}},{key:"render",value:function(){var e,t=this,a=this.props.loadDetails;return e=this.props.watchedLoadList.length>0&&(!!this.props.watchedLoadList&&this.props.watchedLoadList.find((function(e){return e.loadId===a.loadId}))),s.a.createElement(s.a.Fragment,null,s.a.createElement(tp,{confirmModal:!!this.props.bookLoadStatus.status,bookLoadResponse:this.props.bookLoadStatus,confirmBookLoad:this.confirmBookLoad,loadId:this.props.loadDetails.loadId}),s.a.createElement(ap,{isGetShipmentModal:this.state.isGetShipmentErr,declineBookLoad:this.declineBookLoad,closeBookLoadModal:this.closeBookLoadModal}),this.state.isBookLoadModal?s.a.createElement($d,{isBookLoadModal:this.state.isBookLoadModal,closeBookLoadModal:this.closeBookLoadModal,bookedDetails:a.rate,buyLoad:function(){return np(t.props)},declineBookLoad:this.closeBookLoadModal,carrierId:this.props.userDetails.carrierId,lead:Qd(this.module)}):null,s.a.createElement(Jd,Object.assign({},this.props,{loadDetails:a,module:this.module,loadId:this.props.match.params.id,isWatched:e,toggleWatchLoad:this.toggleWatchLoad,buyLoadRequest:this.props.buyLoadRequest,onButtonClick:this.onButtonClick})))}}]),a}(i.Component),pp=Object(xe.b)({loadDetails:Object(xe.a)(jd,Ld,Pd,Ud,(function(e,t,a,r){return"search/results"===r&&t?t.loads&&t.loads.searchLoads&&t.loads.searchLoads.find((function(e){return e.loadId===a}))||{}:"home/watched"===r&&e?(console.log(e,"load"),e.watched&&e.watched.data&&e.watched.data.find((function(e){return e.loadId===a}))||{}):"home/recommended"===r&&e?e.recommended&&e.recommended.data&&e.recommended.data.find((function(e){return e.loadId===a}))||{}:void 0})),userDetails:pn(),networkStatus:fn(),isNetworkAvailable:fn(),watchedLoadList:Md(),recommendedLoadList:wd(),bookLoadStatus:Object(xe.a)(ni,(function(e){return e.buy||{}})),getShipmentDetails:Object(xe.a)(ni,(function(e){var t={};return e.shipment.length>0&&(t={shipments:e.shipment,hasShipment:!0}),t})),carrierLoads:ui(),buyloadShipmentStatus:Object(xe.a)(ni,(function(e){return e.buyLoadResponseStatus})),buyLoadApiError:Object(xe.a)(Hs,(function(e){return e.showBuyLoadAPIError||De.showBuyLoadAPIError}))}),mp=Object(u.c)(pp,(function(e){return{showAlert:function(){return e(or())},addWatchLoad:function(t){return e(na(t))},removeWatchLoad:function(t){return e(ia(t))},buyLoadRequest:function(t){return e(function(e){return{type:"BUYLOAD_DATA_REQUEST",payload:e}}(t))},buyLoadShipmentRequest:function(t,a){return e(qn(t,a))},buyLoadStatusRemove:function(){return e({type:"BUYLOAD_REMOVE_STATUS"})},loadCarrierData:function(t){e(zn(t,t.length))},removeSearchResults:function(t){return e({type:"REMOVE_SEARCH_RESULTS",payload:t})},removeRecommendedResults:function(t){return e({type:"REMOVE_RECOMMENDEDRESULTS",payload:t})},removewatchedResults:function(t){return e(sa(t))},clearBuyLoadShipmentStatus:function(){return e({type:"CLEARBUYLOAD_RESPONSE",payload:""})},fetchShipments:function(t,a){return e(Qn(t,!1,a))},setBuyLoadError:function(){return e(pa(!1))}}})),fp=fs({key:"myload",reducer:Ae}),Ep=ps({key:"myload",saga:Xi}),hp=Object(m.compose)(Ep,fp,mp)(Object(Me.h)(Object(d.X)(dp))),gp=(a(284),a(151)),vp=(a(593),a(594),function(e){var t=Object(hs.a)().t,a=Object(i.useState)(e.showLogoutModal),r=Object(Fe.a)(a,2),n=r[0],o=r[1];return Object(i.useEffect)((function(){o(e.showLogoutModal)}),[e.showLogoutModal]),s.a.createElement(d.A,{isOpen:n,cssClass:"dropdown-modal"},s.a.createElement("div",{className:"logout_modalPopUp"},s.a.createElement(d.o,{class:"popup-header"}," ",t("Logout")," "),s.a.createElement(d.o,{class:"popup-body"},s.a.createElement("p",{className:"modalPopUp_text"},e.isRegistrationPage?t("REGISTRATION_ALERT_MESSAGE"):t("ALERT_MESSAGE")),s.a.createElement("div",{className:"button-div"},s.a.createElement(d.e,{className:"logoutModalButtons",onClick:e.closeShowModal,"data-test":"logout-close"},t("Cancel")),s.a.createElement(d.e,{className:"logoutModalButtons","data-test":"logout-click",onClick:e.logOut},t("Logout"))))))}),bp=function(e){var t=Hr(),a=Object(i.useState)(!1),r=Object(Fe.a)(a,2),n=r[0],o=r[1];function c(){return l.apply(this,arguments)}function l(){return(l=Object(He.a)(Ge.a.mark((function a(){return Ge.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return St(e.isRegistrationPage?ot.UE_REGISTRATION_LOGOUT:ot.UE_LOGOUT,{screen:e.isRegistrationPage?ct.REGISTRATION_LEAKAGE:ct.MR_LOGOUT}),Object(d.V)("capacitor")&&Za.details.stopGPS(),o(!1),a.next=5,Ka();case 5:return a.next=7,t.logout();case 7:return a.next=9,e.logout();case 9:case"end":return a.stop()}}),a)})))).apply(this,arguments)}var u=function(){e.isNetworkAvailable?o(!0):e.showAlert()},p=Object(hs.a)().t;return s.a.createElement(s.a.Fragment,null,e.isRegistrationPage?Object(d.V)("mobile")?s.a.createElement(d.q,{className:"page-close",icon:"close",onClick:function(){return u()}}):s.a.createElement(d.e,{expand:"full",className:"cancel-button",onClick:function(){return u()}},p("Cancel")):s.a.createElement(d.g,{onClick:function(){return u()},class:"menu_list_card_logout"},s.a.createElement(d.v,{lines:"none",class:"Logout_item"},p("Log Out"),s.a.createElement("img",{slot:"end",alt:"logo",src:"/assets/icon/Logout-Icon.svg",className:"logoutImg"}))),s.a.createElement(vp,{showLogoutModal:n,closeShowModal:function(){o(!1)},logOut:Object(He.a)(Ge.a.mark((function e(){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c());case 1:case"end":return e.stop()}}),e)}))),isRegistrationPage:e.isRegistrationPage}))},Sp=function(){function e(){Object(qe.a)(this,e)}return Object(ze.a)(e,[{key:"setAccessToken",value:function(e){return xa("Access_Token",e)}},{key:"getAccessToken",value:function(){return Va("Access_Token")}},{key:"clearToken",value:function(){return Ka()}}]),e}();var yp=function(e){Object(Ke.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(Ze.a)(e);if(t()){var n=Object(Ze.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(Xe.a)(this,a)}}(a);function a(){var e;Object(qe.a)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n)))._clear=new Sp,e.logout=function(){e._clear.clearToken(),e.props.logout()},e}return Object(ze.a)(a,[{key:"render",value:function(){return s.a.createElement(bp,Object.assign({logout:this.logout},this.props))}}]),a}(i.Component),Op=Object(u.c)(null,(function(e){return{logout:function(){return e(pt())}}}))(yp);var _p=function(e){var t=e&&e.headings&&e.headings.title,a=e&&e.headings&&e.headings.group;return s.a.createElement(s.a.Fragment,null,s.a.createElement(d.w,{class:"menu_list_heading"},t),s.a.createElement(d.g,{mode:"md",class:"menu_list_card2","data-test":"ion-card"},s.a.createElement(d.y,{mode:"ios"},a&&a.map((function(t,r){return s.a.createElement(d.v,{"data-test":"ion-item",class:"menu_list_item",key:r,onClick:function(a){return function(t,a,r){t.preventDefault();var n=a.replace(/ /g,"");e.isNetworkAvailable,Object.values(e.menuData.data.getUserHelpContent.menuEntries).forEach((function(t){t.uid===r&&e.history.push("/app/more/".concat(n),{heading:a,contextData:t})}))}(a,t.menuItem,t.uid)},lines:r===a.length-1?"none":"inset"},t.menuItem,s.a.createElement("img",{slot:"end",alt:"logo",src:"/assets/icon/more-arrow.svg",className:"rightArrow"}))})))))},Ap=function(e){Object(Ke.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(Ze.a)(e);if(t()){var n=Object(Ze.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(Xe.a)(this,a)}}(a);function a(e){var r;return Object(qe.a)(this,a),(r=t.call(this,e)).state={tab:!1,toggleBtn:!1},r}return Object(ze.a)(a,[{key:"componentDidMount",value:function(){yt("screen_menu"),St(ot.SV_MORE_MENU,{screen:ct.MORE_MENU,carrierId:this.props&&this.props.userDetails&&this.props.userDetails.carrierId})}},{key:"render",value:function(){var e=this,t=this.props&&this.props.menuData&&this.props.menuData.data&&this.props.menuData.data.getUserHelpContent&&this.props.menuData.data.getUserHelpContent.menuItems;return s.a.createElement(d.B,{className:" menu_page"},s.a.createElement(Sc,{title:"Menu",isDeviceInfo:!0,viewDeviceInfo:Object(He.a)(Ge.a.mark((function t(){var a,r;return Ge.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,an();case 2:return a=t.sent,t.next=5,gp.a.getVersionNumber();case 5:r=t.sent,e.props.history.push("/app/more/deviceInfo",{deviceInfo:a,appVersion:r});case 7:case"end":return t.stop()}}),t)})))}),s.a.createElement(d.l,{class:"menu_page_content","data-test":"IonPage-menu-page"},s.a.createElement("div",{className:"menu_page_div"},s.a.createElement(Op,Object.assign({},this.props,{isRegistrationPage:!1})),t&&t.map((function(t,a){return s.a.createElement(_p,Object.assign({key:a,headings:t},e.props,{submitFeedback:e.props.submitFeedback}))})))))}}]),a}(i.Component),Dp={submitFeedback:[]},Tp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dp,t=arguments.length>1?arguments[1]:void 0;return Object(E.a)(e,(function(e){"GET_SUBMIT_FEEDBACK"===t.type&&(e.submitFeedback=t.payload)}))},Rp=Ge.a.mark(Ip),Np=Ge.a.mark(Cp);function Ip(e){var t,a,r;return Ge.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload.callback,n.prev=1,n.next=4,Object(_n.c)(ut());case 4:return a=ka.domainToData(e.payload.data),n.next=7,Object(_n.b)(An,["SUBMITFEEDBACK","SUBMITFEEDBACK",null,"",a,"application/json"]);case 7:return r=n.sent,n.next=10,Object(_n.c)({type:"GET_SUBMIT_FEEDBACK",payload:r});case 10:return n.next=12,Object(_n.c)(dt());case 12:r&&r.data&&!0===r.data.feedback&&t(),n.next=19;break;case 15:return n.prev=15,n.t0=n.catch(1),n.next=19,Object(_n.c)(dt());case 19:case"end":return n.stop()}}),Rp,null,[[1,15]])}function Cp(){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_n.a)([Object(_n.f)("SUBMIT_FEEDBACK",Ip)]);case 2:case"end":return e.stop()}}),Np)}var kp=function(e){Object(Ke.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(Ze.a)(e);if(t()){var n=Object(Ze.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(Xe.a)(this,a)}}(a);function a(){return Object(qe.a)(this,a),t.apply(this,arguments)}return Object(ze.a)(a,[{key:"render",value:function(){return s.a.createElement(Ap,this.props)}}]),a}(i.Component),jp=Object(xe.b)({isNetworkAvailable:fn(),userDetails:pn(),menuData:En()}),Lp=Object(u.c)(jp,(function(e){return{showAlert:function(){return e(or())}}})),wp=fs({key:"Menu",reducer:Tp}),Mp=ps({key:"Menu",saga:Cp}),Pp=Object(m.compose)(wp,Mp,Lp)(s.a.memo(kp)),Up=Object(xe.b)({loading:ln(),userDetails:pn(),isNetworkAvailable:fn()}),xp=Object(u.c)(Up,(function(e){return{showNetworkAlert:function(){return e(or())},updateUserAction:function(t){return e(bl(t))},delinkUserAction:function(t){return e(Sl(t))}}}))((function(e){var t=Ua.details.auth.user.roles&&Ua.details.auth.user.roles.map((function(e){return U[e]})),a=Object(p.a)(Object(p.a)({},e.userDetails),{},{roles:t}),r=Object(p.a)(Object(p.a)({},a),{},{defaultMobileNumber:a.defaultMobileNumber?a.defaultMobileNumber:a.mobileNumber}),n=Hr();return s.a.createElement(fl,Object.assign({},e,{selectedUser:r,isEditable:!1,module:"manage/ProfileDetails",handleSubmit:ll(e,!1,!1,!0),handleDelink:cl(Object(p.a)(Object(p.a)({},e),{},{authService:n}),!0),isSelf:!0}))})),Fp=a(330),Vp=a.n(Fp);function Gp(e,t){var a="text";return e&&t&&e.forEach((function(e){e.fieldName===t&&(a=e.schema||e.fieldType)})),a}var Hp=Object(xe.b)({isNetworkAvailable:fn()}),Bp=Object(u.c)(Hp),qp=Object(m.compose)(Bp)((function(e){var t=e.groupData,a=e.dataType,r=e.isNetworkAvailable,n=Object(i.useState)(!1),o=Object(Fe.a)(n,2),c=o[0],l=o[1],u=function(e){return a&&a.length?Gp(a,e):"text"};return s.a.createElement(s.a.Fragment,null,s.a.createElement(d.H,{"data-test":"IonRow-Menu",class:"list_row"},s.a.createElement(d.k,{size:"12",class:"list_column"},s.a.createElement(d.H,null,s.a.createElement(d.k,{class:"list_row_heading"},s.a.createElement(vc,{text:t.title,dataType:u("title")}))),s.a.createElement(d.H,null,s.a.createElement(d.k,{class:"list_row_description"},t.richTextDescription?s.a.createElement(vc,{text:t.richTextDescription,dataType:u("richTextDescription")}):s.a.createElement(vc,{text:t.description,dataType:u("description")})))),t.video?s.a.createElement(d.k,null,t.video.href&&r?s.a.createElement(d.g,{className:"react-player-card",onClick:function(){l(!c)}},s.a.createElement(Vp.a,{width:"100%",height:"300px",className:"react-player",url:t.video.href,playing:c,controls:!0,volume:.5})):t.video.href&&!r?s.a.createElement("a",{href:t.video.href},t.video.href):null):null))})),zp=a(331),Yp=a.n(zp),Wp=(a(612),function(e){return e.Menu||Dp}),Kp=function(){function e(){Object(qe.a)(this,e),this.submitFeedback={upn:"",rating:0}}return Object(ze.a)(e,[{key:"getRequestPayload",value:function(){return{mutation:{feedback:{__args:{input:this.submitFeedback}}}}}},{key:"upn",get:function(){return this.submitFeedback.upn},set:function(e){e&&(this.submitFeedback.upn=e)}},{key:"carrierId",get:function(){return this.submitFeedback.carrierId},set:function(e){e&&(this.submitFeedback.carrierId=e)}},{key:"carrierName",get:function(){return this.submitFeedback.carrierName},set:function(e){e&&(this.submitFeedback.carrierName=e)}},{key:"rating",get:function(){return this.submitFeedback.rating},set:function(e){e&&(this.submitFeedback.rating=e)}},{key:"feedback",get:function(){return this.submitFeedback.feedback},set:function(e){e&&(this.submitFeedback.feedback=e)}},{key:"firstName",get:function(){return this.submitFeedback.firstName},set:function(e){e&&(this.submitFeedback.firstName=e)}},{key:"lastName",get:function(){return this.submitFeedback.lastName},set:function(e){e&&(this.submitFeedback.lastName=e)}},{key:"appVersion",get:function(){return this.submitFeedback.appVersion},set:function(e){e&&(this.submitFeedback.appVersion=e)}},{key:"devicePlatform",get:function(){return this.submitFeedback.devicePlatform},set:function(e){e&&(this.submitFeedback.devicePlatform=e)}},{key:"deviceOSVersion",get:function(){return this.submitFeedback.deviceOSVersion},set:function(e){e&&(this.submitFeedback.deviceOSVersion=e)}},{key:"deviceManufacturer",get:function(){return this.submitFeedback.deviceManufacturer},set:function(e){e&&(this.submitFeedback.deviceManufacturer=e)}},{key:"deviceModel",get:function(){return this.submitFeedback.deviceModel},set:function(e){e&&(this.submitFeedback.deviceModel=e)}},{key:"deviceUUID",get:function(){return this.submitFeedback.deviceUUID},set:function(e){e&&(this.submitFeedback.deviceUUID=e)}}]),e}(),Xp=a(724);var Zp=function(e){Object(Ke.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(Ze.a)(e);if(t()){var n=Object(Ze.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(Xe.a)(this,a)}}(a);function a(e){var r;return Object(qe.a)(this,a),(r=t.call(this,e)).onSubmitFeedbackClick=Object(He.a)(Ge.a.mark((function e(){var t,a;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(d.V)("capacitor")){e.next=6;break}return e.next=3,gp.a.getVersionNumber();case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0="";case 7:if(t=e.t0,(a=new Kp).appVersion=Object(d.V)("capacitor")?t:"",a.upn=r.props.userDetails.userPrincipalName,!Object(d.V)("capacitor")){e.next=20;break}return e.next=14,an();case 14:if(e.t2=e.sent.uuid,e.t2){e.next=17;break}e.t2="";case 17:e.t1=e.t2,e.next=21;break;case 20:e.t1="";case 21:a.deviceUUID=e.t1,a.carrierId=r.props.userDetails.carrierId,a.carrierName=r.props.userDetails.companyName,a.rating=r.state.rating,a.feedback=r.state.feedback,a.firstName=r.props.userDetails.firstName,a.lastName=r.props.userDetails.lastName,a.devicePlatform=Object(d.V)("capacitor")?Gu():"",a.deviceManufacturer=Object(d.V)("capacitor")?xu.a.manufacturer:"",a.deviceOSVersion=Object(d.V)("capacitor")?"".concat(Gu()," ").concat(Hu()):"",a.deviceModel=Object(d.V)("capacitor")?Vu():"",r.props.submitFeedback(a.getRequestPayload(),r.feedBackCallback);case 33:case"end":return e.stop()}}),e)}))),r.feedBackCallback=function(){r.props&&r.props.submitFeedbackCall&&r.props.submitFeedbackCall.data&&!0===r.props.submitFeedbackCall.data.feedback&&r.state.isShowPopup?r.setState({isShowModal:!1,rating:0}):r.setState({isShowModal:!0})},r.feedbackHandler=function(e){r.setState(Object(Es.a)({},e.target.name,e.target.value)),"feedback"===e.target.name&&r.setState({feedback:e.target.value})},r.notNowButtonClick=function(){St(ot.UE_FEEDBACK_MISSED,{screen:ct.MR_STORE_FEEDBACK_MISSED}),r.props.notNowClick(),r.setState({isShowPopup:!0}),r.onSubmitFeedbackClick()},r.onSureClick=Object(He.a)(Ge.a.mark((function e(){var t;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.props.isNetworkAvailable){e.next=3;break}return r.props.showAlert(),e.abrupt("return");case 3:St(ot.UE_FEEDBACK_SUCCESS,{screen:ct.MR_STORE_FEEDBACK_SUCCESS}),"object"===typeof window&&(t=null,Object(d.V)("ios")?t=Ua.details.keys&&Ua.details.keys.configuration.appstoreURL:Object(d.V)("android")&&(t=Ua.details.keys&&Ua.details.keys.configuration.playstoreURL),t&&(window.location.href=t));case 5:case"end":return e.stop()}}),e)}))),r.state={rating:0,feedback:"",isShowModal:!1,isShowPopup:!1},r.onStarClick=r.onStarClick.bind(Object(Ye.a)(r)),r}return Object(ze.a)(a,[{key:"onStarClick",value:function(e,t,a){this.setState({rating:e})}},{key:"render",value:function(){var e=this,t=this.state.rating,a=this.props.t;return s.a.createElement("div",{className:"feedbackDiv","data-test":"Feedback-div"},s.a.createElement(d.b,{isOpen:this.state.isShowModal,message:a("FEEDBACK_MESSAGE"),backdropDismiss:!0,mode:"ios",header:a("FEEDBACK_HEADER"),onDidPresent:function(){return setTimeout((function(){e.setState({rating:0,isShowModal:!1,feedback:""}),e.props.notNowClick()}),2e3)}}),s.a.createElement(d.o,{className:"feedback-grid"},s.a.createElement("p",{className:"feedback-p notLikely"},a("NOT_LIKELY")),s.a.createElement("p",{className:"feedback-p likely"},a("VERY_LIKELY")),s.a.createElement(d.H,{className:"feedback-row"},s.a.createElement(d.k,{className:"feedback-column"},s.a.createElement(Yp.a,{name:"rate1",starCount:5,value:t,onStarClick:this.onStarClick,starColor:"#FF6114",className:"starRating",renderStarIcon:function(e,t){return s.a.createElement(d.r,{className:5===e?"starRatingIcon4":"starRatingIcon",alt:"Star",src:e<=t?"assets/icon/star-color.svg ":"assets/icon/load-star.svg"})}})))),0===t?null:s.a.createElement(s.a.Fragment,null,Object(d.V)("mobile")?t<=3&&t>=1?s.a.createElement(d.o,{className:"starRating-grid"},s.a.createElement("p",{className:"feedbackImprove"},a("IMPROVING_SERVICE")),s.a.createElement(d.o,{className:"text-div"},s.a.createElement(d.O,{maxlength:2e3,placeholder:"Start typing here",onIonChange:function(t){return e.feedbackHandler(t)},name:"feedback",value:this.state.feedback})),s.a.createElement(d.H,{className:"submitBtn-row"},s.a.createElement(d.k,{className:"feedback-cancel"},s.a.createElement(d.e,{"data-test":"cancel-button-mobile","data-kind":"primary",expand:"block",type:"submit",class:"submit_btn",onClick:function(){e.setState({rating:0})}},a("Cancel"))),s.a.createElement(d.k,null,s.a.createElement(d.e,{"data-test":"submit-button-mobile","data-kind":"primary",expand:"block",type:"submit",class:"submit_btn",onClick:function(){e.setState({isShowPopup:!1}),e.onSubmitFeedbackClick()}},a("Submit"))))):s.a.createElement(d.o,{className:"review-grid"},s.a.createElement("p",{className:"starRating-p review-p"},a("GOOD_RATING")),s.a.createElement("p",{className:"starRating-p appStore-p"},a("APPSTORE_REVIEW")),s.a.createElement(d.H,{className:"starRating-row"},s.a.createElement(d.k,{className:"starRating-col"},s.a.createElement(d.e,{"data-kind":"primary","data-test":"notNow-button",onClick:function(){return e.notNowButtonClick()},type:"submit",class:"call_btn"},a("Not now"))),s.a.createElement(d.k,null,s.a.createElement(d.e,{"data-test":"sureOnClick","data-kind":"primary",type:"submit",class:"call_btn",onClick:function(){return e.onSureClick()}},a("Sure"))))):s.a.createElement(d.o,{className:"starRating-grid"},t<=3&&t>=1?s.a.createElement("p",{className:"feedbackImprove"},a("IMPROVING_SERVICE")):s.a.createElement("p",{className:"feedbackImprove"},a("MORE_FEEDBACK")),s.a.createElement(d.o,{className:"text-div"},s.a.createElement(d.O,{maxlength:2e3,placeholder:"Start typing here",onIonChange:function(t){return e.feedbackHandler(t)},name:"feedback",value:this.state.feedback})),s.a.createElement(d.H,{className:"submitBtn-row"},s.a.createElement(d.k,{className:"feedback-cancel"},s.a.createElement(d.e,{"data-test":"cancel-button","data-kind":"primary",expand:"block",type:"submit",class:"submit_btn",onClick:function(){e.setState({rating:0})}},a("Cancel"))),s.a.createElement(d.k,null,s.a.createElement(d.e,{"data-test":"submit-button","data-kind":"primary",expand:"block",type:"submit",class:"submit_btn",onClick:function(){return e.onSubmitFeedbackClick()}},a("Submit")))))))}}]),a}(s.a.Component),Qp=Object(xe.b)({submitFeedbackCall:Object(xe.a)([Wp],(function(e){return e.submitFeedback||Dp.submitFeedback})),userDetails:pn(),isLoading:ln(),isNetworkAvailable:fn()}),Jp=Object(u.c)(Qp,(function(e){return{submitFeedback:function(t,a){return e(function(e,t){return{type:"SUBMIT_FEEDBACK",payload:{data:e,callback:t}}}(t,a))},showAlert:function(){return e(or())}}})),$p=fs({key:"Menu",reducer:Tp}),em=ps({key:"Menu",saga:Cp}),tm=Object(m.compose)(Jp,$p,em)(Object(Xp.a)()(s.a.memo(Zp))),am=function(e){var t=e.contextData,a=e.dataType,r=Object(i.useState)(!0),n=Object(Fe.a)(r,2),o=n[0],c=n[1],l=function(){c(!o)},u=function(e){return a&&a.length?Gp(a,e):"text"};return s.a.createElement(s.a.Fragment,null,s.a.createElement(d.i,{"data-test":"IonCardHeader-Menu",class:"accordion_header",onClick:l},s.a.createElement(d.H,null,s.a.createElement(d.k,{className:"title-col",size:"10"},s.a.createElement(vc,{text:t.title,dataType:u("title")})),s.a.createElement(d.k,{size:"2"}," ",o?s.a.createElement(d.r,{src:"assets/icon/plus.svg",className:"plus-icon"}):s.a.createElement(d.r,{src:"assets/icon/minus-icon.svg",className:"plus-icon"})))),s.a.createElement(d.h,{class:o?"fadeout":"fadein"},t&&t.richTextDescription?s.a.createElement("div",{className:"description-div"},s.a.createElement(vc,{text:t.richTextDescription,dataType:u("richTextDescription")}),t.title.includes("Feedback for the App")?s.a.createElement(tm,{notNowClick:l}):null," "):t&&t.group&&t.group.map((function(e,t){return s.a.createElement(qp,{"data-test":"card-content",key:t,groupData:e,dataType:u("group")})}))))};var rm=function(e){Object(Ke.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(Ze.a)(e);if(t()){var n=Object(Ze.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(Xe.a)(this,a)}}(a);function a(e){var r;return Object(qe.a)(this,a),(r=t.call(this,e)).state={isRichText:!0},r}return Object(ze.a)(a,[{key:"render",value:function(){var e,t,a=this.props&&this.props.history&&this.props.history.location&&this.props.history.location.state&&this.props.history.location.state.contextData&&this.props.history.location.state.contextData;a&&a.sections?(e=a.sections,t=Gp(a.dataTypes,"sections")):a&&a.group&&(e=a.group,t=Gp(a.dataTypes,"group"));var r=this.props.match.url,n=this.props.match.params[0],i=this.props&&this.props.history&&this.props.history.location&&this.props.history.location.state&&this.props.history.location.state.heading,o=ot.SV_MORE_FAQ,c=ct.MORE_FAQ;switch(i){case"Video Walkthroughs":o=ot.SV_MORE_VIDEO,c=ct.MORE_VIDEO_WALKTHROUGH;break;case"Contact Options":o=ot.SV_MORE_CONTACT,c=ct.MORE_CONTACT_OPTION;break;case"About Schneider":case"Becoming a Carrier":case"Schneider Offering":o=ot.SV_MORE_LEARN,c=ct.MR_LEARN_ABOUT_SNI;break;case"Privacy Policy":case"Terms of Use":o=ot.SV_MORE_LEGAL,c=ct.MORE_LEGAL}return St(o,{screen:c}),yt(c),s.a.createElement(d.B,{"data-test":"IonPage-Menu",className:"/app/more/FrequentlyAskedQuestions"===r?"desktop-page-faq":"desktop-page-menu"},s.a.createElement(Sc,{title:i,backUrl:"/app/"+n,isSearch:!0,tab:n,History:this.props.history}),s.a.createElement(d.l,{class:"ion-padding menu_list_page_content"},a&&a.richText?s.a.createElement(hc,{richText:a.richText,isRichText:this.state.isRichText}):e&&e.map((function(e,a){return s.a.createElement(d.g,{key:a,class:"ion-card"},s.a.createElement(am,{contextData:e,dataType:t}))}))))}}]),a}(i.Component),nm=(a(613),function(e){var t=e.match.params[0],a=e&&e.history&&e.history.location&&e.history.location.state&&e.history.location.state.appVersion;return s.a.createElement(s.a.Fragment,null,s.a.createElement(d.B,{"data-test":"IonPage-deviceInfo",className:"desktop-page-faq"},s.a.createElement(Sc,{title:"Device Info",backUrl:"/app/"+t,History:e.history}),s.a.createElement(d.l,{class:"ion-padding menu_page_content"},s.a.createElement(d.y,null,s.a.createElement(d.v,{className:"deviceInfo-item"},s.a.createElement(d.H,{className:"deviceInfo-row"},s.a.createElement(d.k,{size:"8",className:"deviceInfo-col"},s.a.createElement("p",{className:"deviceInfo-p"},"Application Version Number")),s.a.createElement(d.k,{size:"4",className:"deviceInfo-col"},s.a.createElement("p",{className:"deviceInfo-p deviceInfo-version"},a)))),s.a.createElement(d.v,{className:"deviceInfo-item"},s.a.createElement(d.H,{className:"deviceInfo-row"},s.a.createElement(d.k,{size:"8",className:"deviceInfo-col"},s.a.createElement("p",{className:"deviceInfo-p"},"Device Version")),s.a.createElement(d.k,{size:"4",className:"deviceInfo-col"},s.a.createElement("p",{className:"deviceInfo-p deviceInfo-version"},Gu()," ",Hu())))),s.a.createElement(d.v,{className:"deviceInfo-item"},s.a.createElement(d.H,{className:"deviceInfo-row"},s.a.createElement(d.k,{size:"8",className:"deviceInfo-col"},s.a.createElement("p",{className:"deviceInfo-p"},"Model Number")),s.a.createElement(d.k,{size:"4",className:"deviceInfo-col"},s.a.createElement("p",{className:"deviceInfo-p deviceInfo-version"},Object(d.V)("android")?xu.a.manufacturer:""," ",Vu()))))))))}),im=function(e){var t=e.selectedUser,a=e.history,r=e.isSelf,n=void 0!==r&&r;Object(i.useEffect)((function(){St(ot.SV_VIEW_MY_PROFILE,{screen:ct.MY_PROFILE,carrierId:t.carrierId})}),[]);var o=Zc(t,n)||"Guest",c=t?[{label:"First Name",value:t.firstName},{label:"Last Name",value:t.lastName},{label:"Email Address",value:t.email},{label:"Mobile Number",value:t.mobileNumber},{label:"Role(s)",value:o},{label:"Carrier ID",value:t.carrierId}]:[];return s.a.createElement(d.B,{className:"desktop-page my-load-desktop-page manage-card-content manage-user-profile-desktop"},s.a.createElement(Sc,{title:"Manage"}),s.a.createElement(d.l,{class:"custom-padding"},s.a.createElement("h1",null,"User Details"),!n&&t?s.a.createElement(d.o,null,s.a.createElement(d.H,null,s.a.createElement(d.k,{size:"12"},s.a.createElement("div",{className:"manage-user-profile-header"},s.a.createElement(dc,{firstName:t.firstName,lastName:t.lastName,big:!0}),s.a.createElement("h4",null,t.firstName," ",t.lastName))))):null,s.a.createElement("div",{className:"manage-users-wrapper"},s.a.createElement(d.y,null,c.map((function(e){return s.a.createElement(d.v,{className:"profile-item",key:e.label},s.a.createElement(d.w,{className:"profile-label",position:"floating",mode:"ios"},e.label),s.a.createElement(d.u,{value:e.value,readonly:!0,type:"text",class:"profile-input"}))})))),s.a.createElement("div",{className:"manage-user-buttons"},s.a.createElement(d.o,{class:"btn-row-grid"},s.a.createElement(d.H,{className:"btn-row"},s.a.createElement(d.k,null,s.a.createElement(d.e,{class:"load-btn","data-test":"back-btn",onClick:function(){return a.push("/app/manage")}},"Back")),s.a.createElement(d.k,null,s.a.createElement(d.e,{class:"load-btn","data-test":"edit-btn",onClick:function(){return a.push("/app/manage/ManageUser/Profile/edit")}},"Edit")))))))},sm=Object(xe.b)({userDetails:pn(),selectedUser:Rl(),isNetworkAvailable:fn()}),om=Object(u.c)(sm,(function(e){return{showNetworkAlert:function(){return e(or())}}}))((function(e){return Object(d.V)("desktop")?s.a.createElement(im,Object.assign({},e,{module:"manage/ManageUser"})):s.a.createElement(el,Object.assign({},e,{module:"manage/ManageUser"}))})),cm=Object(xe.b)({userDetails:pn(),isNetworkAvailable:fn(),isUserValid:Nl(),validateUserDetails:Il()}),lm=Object(u.c)(cm,(function(e){return{showNetworkAlert:function(){return e(or())},validateUserAction:function(t){return e(El(t))},addUserAction:function(t){return e(vl(t))},resetValidateUser:function(){return e({type:"MANAGE_USER_VALIDATE_RESET"})},transferUserAction:function(t){return e(hl(t))}}}))((function(e){return s.a.createElement(fl,Object.assign({},e,{selectedUser:null,module:tl,handleSubmit:nl(e),handleTransfer:il(e)}))})),um=Object(xe.b)({userDetails:pn(),selectedUser:Rl(),isNetworkAvailable:fn()}),dm=Object(u.c)(um,(function(e){return{showNetworkAlert:function(){return e(or())},updateUserAction:function(t){return e(bl(t))},delinkUserAction:function(t){return e(Sl(t))}}}))((function(e){return s.a.createElement(fl,Object.assign({},e,{handleSubmit:ll(e,!0),handleDelink:cl(Object(p.a)({},e)),module:"manage/ManageUser/Profile"}))})),pm=a(332);a(614),a(615);var mm=function(e){Object(Ke.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(Ze.a)(e);if(t()){var n=Object(Ze.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(Xe.a)(this,a)}}(a);function a(e){var r;return Object(qe.a)(this,a),(r=t.call(this,e)).onConfrim=function(e){var t=r.props.redirect;r.setState({isDropdown:!1},(function(){""===e.myLoadRouting||"/app/MyLoad/LocationTracker"===e.myLoadRouting?Dr.show():t(e.myLoadRouting)}))},r.dropdownClick=function(){r.setState({isDropdown:!0})},r.state={isDropdown:!1,asc:!0,slectedValue:r.props.options.filter((function(e){return e.myLoadRouting.indexOf(r.props.page)>0}))[0]},r}return Object(ze.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.options,r=t.loadsCount,n=this.state,i=n.slectedValue,o=n.isDropdown;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",null,s.a.createElement("div",{className:"carrier_select"},s.a.createElement("div",{onClick:this.dropdownClick,className:"navigation_dropDown","data-test":"dropdown"},s.a.createElement("p",{className:"page-title-p"},Sr.t(i.title))),s.a.createElement("i",{onClick:this.dropdownClick,className:"down"})),s.a.createElement(d.A,{isOpen:o,cssClass:"dropdown-modal",backdropDismiss:!1,onDidDismiss:function(){e.setState({isDropdown:!1})}},s.a.createElement("div",{className:"modal-div",onClick:function(){return e.setState({isDropdown:!1})}},s.a.createElement("div",{className:"search_options_carrier"},a.map((function(t,a){return s.a.createElement(d.H,{className:"carrier-dropdown",key:a,onClick:function(){e.onConfrim(t)}},s.a.createElement(d.k,{size:"10"},Sr.t(t.title)),s.a.createElement(d.k,{size:"2"},"Manage Financial"===t.title?" ":s.a.createElement("div",{className:r[t.count]?"count-div circle-div2":""},r[t.count]&&r[t.count]>99?"99+":r[t.count]||"")))})))))))}}]),a}(i.Component),fm=(a(616),function(e){var t=Object(i.useState)(!1),a=Object(Fe.a)(t,2),r=a[0],n=a[1],o=Object(i.useState)("All Drivers"),c=Object(Fe.a)(o,2),l=c[0],u=c[1],p=Object(i.useState)("All Driver"),m=Object(Fe.a)(p,2),f=m[0],E=m[1],h=Object(i.useState)("All Driver"),g=Object(Fe.a)(h,2),v=g[0],b=g[1],S=Object(i.useState)(e.data?e.data.length:0),y=Object(Fe.a)(S,2),O=y[0],_=y[1],A=Object(i.useState)([{moduleName:C.DRIVER_ASSIGNED_MODULE,option:"All Driver"},{moduleName:C.INTRANSIT_MODULE,option:"All Driver"},{moduleName:C.RECENTLY_DELIVERED_MODULE,option:"All Driver"}]),D=Object(Fe.a)(A,2),T=D[0],R=D[1],N=e.data,I=Object(hs.a)().t,k=function(t){var a="";n(!1),"All Driver"===t?(a="All Drivers",u(I("All Drivers"))):"Unknown"===t?(a="Unknown",u("".concat(I("Assigned to")," ","Unknown")),N=e.data.filter((function(t){if(e.module!==C.DRIVER_ASSIGNED_MODULE||e.module===C.DRIVER_ASSIGNED_MODULE&&!0===t.driverAssignmentStatus){if(!(t.shipmentInvolvedParties.length>0))return!0;var a=t.shipmentInvolvedParties.find((function(e){return"PRIMARY DRIVER"===e.partyType}));if(!a)return!0;if(null===a.partyName||""===a.partyName)return!0}if(e.module===C.DRIVER_ASSIGNED_MODULE&&!1===t.driverAssignmentStatus){var r=t.assignmentTransaction&&t.assignmentTransaction[0]&&t.assignmentTransaction[0].driverName;return null===r||""===r}}))):(a=t.slice(0,t.indexOf(" ")),u("".concat(I("Assigned to")," ").concat(a)),N=e.data.filter((function(a){return e.module!==C.DRIVER_ASSIGNED_MODULE||e.module===C.DRIVER_ASSIGNED_MODULE&&!0===a.driverAssignmentStatus?a.shipmentInvolvedParties.find((function(e){return e.partyName===t&&"PRIMARY DRIVER"===e.partyType})):e.module===C.DRIVER_ASSIGNED_MODULE&&!1===a.driverAssignmentStatus?(a.assignmentTransaction&&a.assignmentTransaction[0]&&a.assignmentTransaction[0].driverName)===t:void 0}))),e.onSelect(N,a),_(N.length)};Object(i.useEffect)((function(){if(St(ot.UE_FILTER_USAGE,{screen:ct.DA_DRIVER_FILTER}),e.data){var t=T.find((function(t){return t.moduleName===e.module})),a=t?t.option:"All Driver";k(a)}}),[JSON.stringify(e.data),e.module]);return s.a.createElement(s.a.Fragment,null,s.a.createElement(d.o,{class:"display-text-grid"},l," (",O,")",s.a.createElement(d.q,{src:me.filter,onClick:function(){return n(!0)}})),s.a.createElement(d.A,{isOpen:r,cssClass:"dropdown-modal",onDidDismiss:function(){return n(!1)}},s.a.createElement("div",{className:"search_options"},s.a.createElement(d.H,{class:"dropdown-heading"},s.a.createElement(d.k,null,s.a.createElement("p",{className:"sortBy_text"},I("Filter by")))),s.a.createElement(d.o,{class:"filter-values"},e.driverNameList.map((function(e,t){return s.a.createElement(d.H,{className:"dropdown-row",key:t,onClick:function(){return b(e)}},s.a.createElement(d.k,{class:e===v?"checked":""},I(e)," ",s.a.createElement("i",{className:"check"})))}))),s.a.createElement(d.H,{class:"dropdown-handler"},s.a.createElement(d.k,{size:"1"}),s.a.createElement(d.k,{size:"5",className:"dropdown_cancel",onClick:function(){n(!1),b(f)}},s.a.createElement("span",null,I("Cancel"))),s.a.createElement(d.k,{size:"5",className:"dropdown_cancel",onClick:function(){E(v),k(v);var t=Object(Se.a)(T);t.forEach((function(t){t.moduleName===e.module&&(t.option=v)})),R(t)}},s.a.createElement("span",null,I("Ok_TEXT"))),s.a.createElement(d.k,{size:"1"})))))});function Em(e){var t=(e=e.slice()).filter((function(e){return e.loadStop&&0===e.loadStop.length})),a=e.filter((function(e){return!e.loadStop})),r=e.filter((function(e){return e.loadStop&&e.loadStop.length>0}));return r.sort((function(e,t){var a=hm(e.loadStop),r=hm(t.loadStop),n=gm(a[0]),i=gm(r[0]),s=e.shipmentId,o=t.shipmentId,c=0;if(s<o&&(c=-1),s>o&&(c=1),n&&i){return n>i?1:n<i?-1:c}return n&&!i?-1:1})),t.length>0&&(r=r.concat(t)),a.length>0&&(r=r.concat(a)),r}var hm=function(e){return e.slice().sort((function(e,t){return e.sequenceNo&&t.sequenceNo?e.sequenceNo-t.sequenceNo:e.stopSequence&&t.stopSequence?e.stopSequence-t.stopSequence:0}))},gm=function(e){var t="";return e.appointmentEarlyDateTime?t=e.appointmentEarlyDateTime:e.actualETADateTime?t=e.actualETADateTime:e.plannedEtaDateTime&&(t=e.plannedEtaDateTime),t},vm=function(e){var t=e.loadDetails&&e.loadDetails.shipmentId,a=ec(e.module,e.loadDetails);return s.a.createElement(d.b,{isOpen:e.showAlert,message:Sr.t(he.message).replace("{name}",a).replace("{loadId}",t),header:Sr.t(he.title),backdropDismiss:!1,mode:"ios",cssClass:"unAssign-alert",buttons:[{text:Sr.t("No"),role:pe.cancel,handler:function(){e.handleAlert()}},{text:Sr.t("Yes"),role:pe.ok,handler:function(){e.handleAlert()}}]})};var bm=function(e){Object(Ke.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(Ze.a)(e);if(t()){var n=Object(Ze.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(Xe.a)(this,a)}}(a);function a(e){var r;return Object(qe.a)(this,a),(r=t.call(this,e)).selectDriver=function(e,t){if(e.preventDefault(),r.props.isInPullToRefresh)return 0;r.props.subModule===C.CARRIER_ASSIGNED_MODULE?r.props.AssignDriverbtn(t):r.setState({showAlert:!0,loadDetails:t})},r.filterByDriver=function(e){ja("myLoad","carrierAssigned")&&r.setState({filteredData:e})},r.redirect=function(e){e&&r.props.history.push(e)},r.state={isMyLoad:!0,actualData:[],filteredData:[],showAlert:!1,loadDetails:{}},r}return Object(ze.a)(a,[{key:"componentDidMount",value:function(){yt(ct.ML_LOAD_ASSIGNMENT);var e=Em(this.props.loads);this.setState({filteredData:e,actualData:e}),function(e,t){var a,r,n="",i="";switch(e){case C.CARRIER_ASSIGNED_MODULE:a=ot.SV_VIEW_CARRIER_ASSIGNED,r=ct.MYLOADS_CARRIER_ASSIGNED;break;case C.DRIVER_ASSIGNED_MODULE:a=ot.SV_ASSIGN_DRIVER,r=ct.MYLOADS_DRIVER_ASSIGNMENT,n=ot.SV_VIEW_DRIVER_ASSIGNED,i=ct.MYLOADS_DRIVER_ASSIGNED;break;case C.INTRANSIT_MODULE:a=ot.SV_VIEW_IN_TRANSIT,r=ct.MYLOADS_IN_TRANSIT;break;case C.RECENTLY_DELIVERED_MODULE:a=ot.SV_VIEW_RECENTLY_DEL,r=ct.MYLOADS_RECENTLY_DEL;break;default:return}St(a,{screen:r,carrierId:t}),""!==n&&St(n,{screen:i,carrierId:t})}(this.props.subModule,this.props.userDetails.carrierId),St(ot.SV_LOAD_ASSIGNMENT,{screen:ct.ML_LOAD_ASSIGNMENT})}},{key:"componentDidUpdate",value:function(e,t){if(JSON.stringify(this.props.loads)!==JSON.stringify(e.loads)||JSON.stringify(t.filteredData)!==JSON.stringify(this.state.filteredData)){this.state.filteredData;var a=Em(this.props.subModule!==C.CARRIER_ASSIGNED_MODULE&&ja("myLoad","carrierAssigned")?this.state.filteredData:this.props.loads);this.setState({filteredData:a,actualData:this.props.loads})}}},{key:"render",value:function(){var e,t,a=this,r=Object(pm.a)(this.props.myLoadCard).slice(0);return s.a.createElement(s.a.Fragment,null,s.a.createElement(d.B,{className:"desktop-page carrier-assign-page"},s.a.createElement(Sc,{title:"My Loads",isMyLoad:this.state.isMyLoad,backUrl:"/app/".concat(this.props.module),History:this.props.history}),s.a.createElement(d.l,{className:"carrierAssignedContent"},s.a.createElement(io,{onPullToRefresh:this.props.getLoads,status:this.props.isInPullToRefresh,networkStatus:this.props.isNetworkAvailable,showAlert:this.props.showAlert}),s.a.createElement(d.o,{class:"sub-header-grid"},s.a.createElement(d.H,{class:"sub-header-row"},s.a.createElement(d.k,{class:"count-col"},this.props.showFilter?s.a.createElement(fm,{data:this.state.actualData,driverNameList:this.props.driverNameList,onSelect:this.filterByDriver,module:this.props.subModule}):(e=this.state.actualData,t=this.props.subModule,s.a.createElement(s.a.Fragment,null,e&&e.length,ja("myLoad","driverLoads")?s.a.createElement(s.a.Fragment,null,"MyLoad/DriverAssigned"===t?s.a.createElement(s.a.Fragment,null," ",Sr.t("Assigned")):s.a.createElement(s.a.Fragment,null,"MyLoad/InTransit"===t?s.a.createElement(s.a.Fragment,null," ",Sr.t("In-Transit")):s.a.createElement(s.a.Fragment,null," ",e&&e.length<=1?s.a.createElement(s.a.Fragment,null,Sr.t("Load")):s.a.createElement(s.a.Fragment,null,Sr.t("Loads"))))):s.a.createElement(s.a.Fragment,null," ",Sr.t("Assigned"))))),s.a.createElement(d.k,{class:"dropdown-col"},s.a.createElement(mm,{options:r,page:this.props.subModule,redirect:this.redirect,loadsCount:this.props.myLoadCount})))),s.a.createElement(d.y,{className:"loadTilePad"},this.state.filteredData&&this.state.filteredData.map((function(e,t){return s.a.createElement(ac,Object.assign({key:t},e,{module:a.props.subModule,onButtonClick:function(t){return a.selectDriver(t,e)},isCarrier:!0,buttonIcon:a.props.buttonIcon,buttonName:Sr.t(a.props.buttonName),showInitial:a.props.showInitial,isCarrierLoad:!0,shipmentLoad:e,showAlert:a.props.showAlert,isNetworkAvailable:a.props.isNetworkAvailable,onRowCallback:function(e){!function(e,t){var a=e&&e.shipmentId||"",r=new Jo,n=t.subModule;r.shipmentIds=a,t.buyLoadShipmentRequest({query:r.getRequestShipmentPayload(),shipmentId:a,module:n,isPullToRefresh:!1}),t.subModule===C.INTRANSIT_MODULE||e&&e.executionStatus===L.STARTED&&t.subModule===C.DRIVER_ASSIGNED_MODULE||t.subModule===C.RECENTLY_DELIVERED_MODULE?$o(e,t):t.history.push("/app/".concat(t.subModule,"/").concat(a)),t.clearUpdateStopInfo()}(e,a.props)},showLoadNo:!0,"data-test":"LoadTile"}))}))),s.a.createElement("div",{className:"end-of-list"},Sr.t("End of list")))),s.a.createElement(vm,{showAlert:this.state.showAlert,loadDetails:this.state.loadDetails,handleAlert:function(){return a.setState({showAlert:!1})},module:this.props.subModule}),s.a.createElement(d.Q,{isOpen:this.props.getToasterValue,color:"dark",duration:300,message:Sr.t("Driver Assigned."),mode:"md",cssClass:"driver-assign-confrim",onDidDismiss:function(){return a.props.changeValue()}}))}}]),a}(i.Component),Sm=Object(xe.b)({myLoadCard:oi(),myLoadCount:ci(),isInPullToRefresh:mn(),isNetworkAvailable:fn()}),ym=Object(u.c)(Sm,(function(e){return{setShipmentForStartTrip:function(t){e($n(t)),e(ei((new Date).getTime().toString()))},buyLoadShipmentRequest:function(t){return e(qn(t))},clearUpdateStopInfo:function(){return e(Fn())}}})),Om=Object(m.compose)(ym)(bm),_m={showToaster:!1,DriverList:[],assignShipmentDriverResponse:void 0,shipmentForStartTrip:{},timestamp:"",loads:{},loadForAssignDriver:{}},Am=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_m,t=arguments.length>1?arguments[1]:void 0;return Object(E.a)(e,(function(e){switch(t.type){case"SHOW_TOASTER_VALUE":e.showToaster=!e.showToaster;break;case"LOAD_DATA":e.loads=t.payload;break;case"ASSIGN_DRIVER_LIST":e.DriverList=t.payload;break;case"ADD_DRIVER_SUCCESS":e.DriverList=[t.payload.member].concat(Object(Se.a)(e.DriverList));break;case g.ASSIGN_DRIVER_TO_SHIPMENT_RESPONSE:e.assignShipmentDriverResponse=t.payload;break;case g.CLEAR_ASSIGN_DRIVER_TO_SHIPMENT_RESPONSE:e.assignShipmentDriverResponse=void 0;break;case g.SHIPMENT_FOR_STARTTRIP:e.shipmentForStartTrip=t.payload;break;case g.SHIPMENT_FOR_STARTTRIP_TIMESTAMP:e.timestamp=t.payload?t.payload.toString():"";break;case"SET_LOAD_FOR_ASSIGN_DRIVER":e.loadForAssignDriver=t.payload}}))},Dm=function(e){return e.carrierAssigned},Tm=function(e){return e&&e.myload&&e.myload.carrierAssigned||_e.carrierAssigned},Rm=function(e){return e&&e.myload&&e.myload.driverAssigned||_e.driverAssigned},Nm=function(e){return e&&e.myload&&e.myload.inTransit||_e.inTransit},Im=function(e){return e&&e.myload&&e.myload.delivered||_e.delivered},Cm=function(){return Object(xe.a)(Tm,(function(e){return e||_e.carrierAssigned}))},km=function(){return Object(xe.a)([Dm],(function(e){return e&&e.DriverList||_m.DriverList}))},jm=function(e){return{type:"SET_LOAD_FOR_ASSIGN_DRIVER",payload:e}};var Lm=function(e){Object(Ke.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(Ze.a)(e);if(t()){var n=Object(Ze.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(Xe.a)(this,a)}}(a);function a(){var e;Object(qe.a)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).changeValue=function(){e.props.changeToasterValue()},e.assignDriverButton=function(t){var a=t.shipmentId;if(St(ot.UE_ASSIGN_DRIVER,{screen:ct.CA_ASSIGN_DRIVER}),e.props.userDetails&&e.props.userDetails.carrierId){var r=new Kd;r.carrierId=e.props.userDetails.carrierId,r.role="carrierDriver",e.props.AssignDriver(r.getRequestPayload()),e.props.sendLoadForAssignDriver&&e.props.sendLoadForAssignDriver(t),e.props.history.push("/app/MyLoad/driverAssign/".concat(a),{loadDetails:JSON.stringify(t),pathname:e.props.location.pathname})}},e.getCarrierAssignLoads=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];try{var a=e.props&&e.props.userDetails&&e.props.userDetails.carrierId||"",r=new Dd;r.carrierId=a,r.filter={carrierAssigned:!0},e.props.fetchShipments(r.getRequestPayload(),t)}catch(n){console.log("ERROR:",n)}},e}return Object(ze.a)(a,[{key:"componentDidMount",value:function(){this.props.data&&0===this.props.data.length&&!this.props.loading&&this.props.updateData()}},{key:"render",value:function(){var e=this,t=this.props.loads&&this.props.loads.length>99?this.props.loads.slice(0,99):this.props.loads;return s.a.createElement(s.a.Fragment,null,s.a.createElement(Om,Object.assign({},this.props,{getLoads:this.getCarrierAssignLoads,changeValue:this.changeValue,AssignDriverbtn:function(t){return e.assignDriverButton(t)},module:"MyLoad",loads:t,showFilter:!1,buttonIcon:me.assign_driver,buttonName:"Assign Driver",showInitial:!1,subModule:this.props.match.params[0]})))}}]),a}(i.PureComponent),wm=Object(xe.b)({loading:ln(),getToasterValue:Object(xe.a)([Dm],(function(e){return e.showToaster||_m.showToaster})),loads:Cm(),userDetails:pn(),isNetworkAvailable:fn()}),Mm=Object(u.c)(wm,(function(e){return{changeToasterValue:function(){return e({type:"SHOW_TOASTER_VALUE"})},AssignDriver:function(t){return e(Yn(t))},fetchShipments:function(t,a){return e(Qn(t,a))},showAlert:function(){return e(or())},sendLoadForAssignDriver:function(t){e(jm(t))}}})),Pm=fs({key:"carrierAssigned",reducer:Am}),Um=ps({key:"carrierAssigned",saga:ts}),xm=Object(m.compose)(Um,Pm,Mm)(Lm),Fm=Object(xe.b)({userDetails:pn(),isNetworkAvailable:fn(),isUserValid:Nl(),validateUserDetails:Il()}),Vm=Object(u.c)(Fm,(function(e){return{showNetworkAlert:function(){return e(or())},validateUserAction:function(t){return e(El(t))},addUserAction:function(t){return e(vl(t))},resetValidateUser:function(){return e({type:"MANAGE_USER_VALIDATE_RESET"})},transferUserAction:function(t){return e(hl(t))}}})),Gm=fs({key:"manage",reducer:Dl}),Hm=ps({key:"manage",saga:gu}),Bm=Object(m.compose)(Hm,Gm,Vm)((function(e){var t=e.history.location,a=e.match,r=a&&a.params&&a.params.id||"",n=t&&t.state&&t.state.loadModule||function(){var t=e&&e.match&&e.match.params&&e.match.params.id||"";return t?"MyLoad/driverAssign/"+t:""}();return s.a.createElement(fl,Object.assign({},e,{title:r,module:n,handleSubmit:nl(Object(p.a)(Object(p.a)({},e),{},{isAssignDriver:!0,module:n})),handleTransfer:il(Object(p.a)(Object(p.a)({},e),{},{isAssignDriver:!0,module:n})),isAssignDriver:!0}))})),qm={showToaster:!1,DriverList:[],shipmentForStartTrip:{},timestamp:"",loads:{},loadForAssignDriver:{}},zm=(a(617),function(){function e(){Object(qe.a)(this,e),this.carrierLoadsState={}}return Object(ze.a)(e,[{key:"assignShipmentToDriver",value:function(e){return{mutation:{assignDriverToShipment:{__args:{input:e},status:!0,message:!0,shipment:{shipmentId:!0,lineOfBusiness:!0,transportMode:!0,totalWeight:!0,weightUOM:!0,totalDistance:!0,distanceUOM:!0,numberOfStops:!0,sourceTMS:!0,assignedCarrierId:!0,assignedTMSCarrierId:!0,isAppointmentConfirmed:!0,isHazardous:!0,isHighValue:!0,isTemperatureControlled:!0,isFreezeProtected:!0,readyDateTime:!0,readyDateTimeZone:!0,equipmentType:!0,predecessorShipmentId:!0,successorShipmentId:!0,assignmentStatus:!0,executionStatus:!0,masterBillOfLoading:!0,driverAssignmentStatus:!0,shipmentServices:{serviceDescription:!0},startState:!0,startCity:!0,startCountry:!0,startDateTime:!0,loadStop:{stopId:!0,locationId:!0,stopType:!0,sequenceNo:!0,locationName:!0,addressLine1:!0,addressLine2:!0,city:!0,state:!0,country:!0,postalCode:!0,timeZone:!0,longitude:!0,latitude:!0,estimatedArrivalDateTime:!0,plannedArrivalDateTime:!0,actualArrivalDateTime:!0,estimatedStopDuration:!0,plannedDepartureDateTime:!0,actualDepartureDateTime:!0,appointmentEarlyDateTime:!0,appointmentLateDateTime:!0,estimatedStopDurationUom:!0,plannedEtaDateTime:!0,stopActivity:zo,stopReference:{id:!0,type:!0,value:!0,stopId:!0,shipmentId:!0}},shipmentInvolvedParties:{id:!0,partyId:!0,partyType:!0,partyName:!0,partyEmail:!0,partyPhone:!0},assignmentTransaction:{transactionId:!0,shipmentId:!0,transactionType:!0,driverId:!0,driverPhone:!0,driverEmail:!0,status:!0,driverName:!0},managedEquipment:!0}}}}}},{key:"carrierLoads",value:function(e){return xa("Carrier-Loads",e)}},{key:"getCarrierLoads",value:function(){return Va("Carrier-Loads")}},{key:"carrierId",get:function(){return this.carrierLoadsState.carrierId},set:function(e){e&&(this.carrierLoadsState.carrierId=e)}}]),e}()),Ym=new zm;Object.freeze(Ym);var Wm=function(e){var t=e.stopDetails;return s.a.createElement(d.H,{"data-test":"stop-details-dialog",class:"stop-details-row"},s.a.createElement(d.k,{class:"stop-icon-col"},e.index<e.length-1?s.a.createElement(s.a.Fragment,null,s.a.createElement(d.r,{className:"ellipse_icon",src:"assets/icon/origin-pointer.svg"}),s.a.createElement("div",{className:"stops_border"})):s.a.createElement(d.r,{className:"path_icon",src:"assets/icon/dst-pointer.svg"})),s.a.createElement(d.k,{class:"stop-details-col"},s.a.createElement("p",{className:"origin_city"},t.city,", ",t.state),s.a.createElement("p",{className:"origin_dateTime load_header_elements"},e.appointment)))},Km=Object(xe.b)({assignShipmentDriverResponse:Object(xe.a)([Dm],(function(e){return e.assignShipmentDriverResponse||_m.assignShipmentDriverResponse})),userDetails:pn(),loadData:Object(xe.a)([ni],(function(e){return{carrierLoad:e.carrierAssigned||[],driverLoad:e.driverAssigned||[]}}))}),Xm=Object(u.c)(Km,(function(e){return{assignDriverToShipment:function(t){return e((a=t,{type:g.ASSIGN_DRIVER_TO_SHIPMENT,payload:a}));var a},clearAssignShipmentDriverResponse:function(){return e({type:g.CLEAR_ASSIGN_DRIVER_TO_SHIPMENT_RESPONSE})},fetchCarrierAssigned:function(t){return e({type:"FETCH_CARRIER_ASSIGNED_LOADS",payload:t})},loadAssignedrData:function(t){e(Xn(t,t.length))},loadCarrierData:function(t){e(zn(t,t.length))}}})),Zm=fs({key:"carrierAssigned",reducer:Am}),Qm=ps({key:"carrierAssigned",saga:ts}),Jm=Object(m.compose)(Qm,Zm,Xm)((function(e){var t=e.isOpen,a=e.onDismiss,r=e.loadDetails,n=e.driverDetails,o=e.loadStopsOriginDestination,c=e.assignShipmentDriverResponse,l=e.clearAssignShipmentDriverResponse,u=e.userDetails,m=e.loadData,f=e.loadCarrierData,E=e.loadAssignedrData,h=Object(Me.g)(),g=n&&"".concat(n.firstName||""," ").concat(n.lastName||"")||"",v=r&&r.shipmentId||"",b=Ua.details.auth.user,S=function(){a&&a()},y=Object(i.useState)(!1),O=Object(Fe.a)(y,2),_=O[0],A=O[1],D=Object(i.useState)(!1),T=Object(Fe.a)(D,2),R=T[0],N=T[1],I=Object(i.useState)(!1),C=Object(Fe.a)(I,2),k=C[0],j=C[1];Object(i.useEffect)((function(){N(t)}),[t]),Object(i.useEffect)((function(){if(c&&c.assignDriverToShipment){A(!0);var e=[],t=c.assignDriverToShipment.shipment;t&&(e=m.driverLoad.concat(Object(p.a)({},t)),E(e)),l&&l()}else c&&c.errors&&j(!0)}),[c]);return s.a.createElement(s.a.Fragment,null,function(e,t){return s.a.createElement(d.Q,{isOpen:e,onDidDismiss:t,color:"danger",duration:5e3,"data-test":"ion-toast",message:Sr.t("LOAD_ASSIGN_FAIL")})}(k,(function(){j(!1),l&&l()})),function(e,t,a,r){return s.a.createElement(d.Q,{isOpen:e,onDidDismiss:t,color:"dark",duration:2e3,"data-test":"success-ion-toast",message:Sr.t("LOAD_ASSIGN_SUCCESS").replace("LOAD_ID",a).replace("DRIVER_NAME",r)})}(_,(function(){if(A(!1),S(),m&&m.carrierLoad){var e=m.carrierLoad.filter((function(e){return e.shipmentId!==r.shipmentId}));f(e)}h.push("/app/MyLoad/CarrierAssigned")}),v,g),function(e,t,a,r,n,i){return s.a.createElement(d.A,{isOpen:e,cssClass:"assignmodal",backdropDismiss:!1},s.a.createElement("header",null,s.a.createElement(d.w,{color:"dark"},Sr.t("ASSIGN_DRIVER_POPUP_TITLE").replace("LOAD_ID",t&&t.shipmentId).replace("DRIVER_NAME",a))),s.a.createElement("section",null,s.a.createElement(d.g,{className:"ion-card-updated"},s.a.createElement(d.h,{className:"card-content"},s.a.createElement(d.o,{class:"load-grid"},s.a.createElement(d.H,{className:"ion-card-row"},s.a.createElement(d.k,{className:"card-price-col",size:"4"},s.a.createElement(Xo,t)),s.a.createElement(d.k,{className:"card-city-col"},r&&r.map((function(e,t){return s.a.createElement(Wm,{key:t,stopDetails:e,appointment:As(e),length:r.length,index:t})})))))))),s.a.createElement("footer",null,s.a.createElement(d.k,null,s.a.createElement(d.e,{"data-test":"ion-button-cancel",class:"btn load-btn",onClick:function(){return n()}},Sr.t("NO"))),s.a.createElement(d.k,null,s.a.createElement(d.e,{"data-test":"ion-button-carrier",class:"btn load-btn",onClick:i},Sr.t("YES")))))}(R,r,g,o,S,(function(){St(ot.UE_CONFIRM_ASSIGNMENT,{screen:ct.CA_CONFIRM_ASSIGNMENT});var t=new zm,a={carrierId:n&&n.carrierId,dispatcherEmail:b["signInNames.emailAddress"],dispatcherId:b.upn,dispatcherName:"".concat(u.firstName||""," ").concat(u.lastName||""),dispatcherPhone:u&&u.mobileNumber,driverEmail:n&&n.email,driverId:n&&n.userPrincipalName,driverName:g,driverPhone:n&&n.mobileNumber,shipmentId:r&&r.shipmentId,sourceSystem:r&&r.sourceTMS,tractorNumber:n&&n.tractorNumber};e.assignDriverToShipment(t.assignShipmentToDriver(a)),N(!1),S(),St(ot.UE_ASSIGN_DRIVER_SUCCESS,{screen:ct.MYLOADS_DRIVER_ASSIGNMENT,carrierId:n&&n.carrierId})})))})),$m=(a(618),function(e){var t=e.DriverList,a=e.showAssignDriverDialog,r=Object(hs.a)().t;return s.a.createElement("div",null,t&&t.map((function(e,t){return s.a.createElement(d.g,{className:"driver-card",key:t,onClick:function(){a&&a(!0,e)}},s.a.createElement(d.h,{className:"driver-card-content"},s.a.createElement(d.H,null,s.a.createElement(d.k,{className:"card-price-col DriverImageCol driverCol",size:"4"},e.DriverImg?s.a.createElement("img",{src:e.DriverImg,alt:"",className:"DriverImage"}):s.a.createElement("div",{className:"driver-img-div"},s.a.createElement("span",{className:"child-img"},"".concat(e.firstName?e.firstName[0].toUpperCase():"")),s.a.createElement("span",{className:"child-img"},"".concat(e.lastName?e.lastName[0].toUpperCase():"")))),s.a.createElement(d.k,{className:"card-city-col",size:"8"},e.firstName&&e.firstName.length&&e.lastName&&e.lastName.length>0?s.a.createElement("p",{className:"driver-name"},"".concat(e.firstName,"  ").concat(e.lastName)):s.a.createElement("p",null,"\xa0"),s.a.createElement(d.H,null,s.a.createElement(d.k,{className:"tractorno",size:"5"},r("Tractor No")),s.a.createElement(d.k,{className:"tractor-number",size:"7"},e&&e.tractorNumber)),s.a.createElement(d.H,null,s.a.createElement(d.k,{className:"tractorno2",size:"5"},r("Mobile No")),s.a.createElement(d.k,{className:"tractor-number",size:"7"},e&&e.mobileNumber))),s.a.createElement(d.k,{size:"2.5",className:"Assign-btn-view"},s.a.createElement(d.e,{class:"load-btn assign-btn",onClick:function(){a&&a(!0,e)}},s.a.createElement(d.r,{className:"addUser_img",src:me.driver}),"Assign")))))})),s.a.createElement("p",{className:"end_of_list"},r("End of list")))});var ef=function(e){Object(Ke.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(Ze.a)(e);if(t()){var n=Object(Ze.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(Xe.a)(this,a)}}(a);function a(e){var r;return Object(qe.a)(this,a),(r=t.call(this,e)).state={showModal:!1,selectedLoad:[],openAssignDriverDialog:!1,driverDetails:{}},r}return Object(ze.a)(a,[{key:"componentDidMount",value:function(){this.setState({selectedLoad:this.props.location.state.response}),yt(ct.MYLOADS_DRIVER_ASSIGNMENT),St(ot.UE_ASSIGN_DRIVER_SUCCESS,{screen:ct.MYLOADS_DRIVER_ASSIGNMENT,carrierId:this.state.driverDetails.carrierId})}},{key:"render",value:function(){var e=this,t=this.props&&this.props.match&&this.props.match.params&&this.props.match.params.id,a=ja("myLoad","addUser")&&(Ua.details.auth.user.roles.includes(X.carrierDispatcher)&&Ua.details.auth.user.roles.includes(X.carrierAdmin)||Ua.details.auth.user.roles.includes(X.carrierDispatcher))&&!Ua.details.auth.user.roles.includes(X.carrierDriver),r=this.props.loadDetails&&this.props.loadDetails.loadStop||[],n=[];if((r=r.slice().sort((function(e,t){return e.sequenceNo&&t.sequenceNo?e.sequenceNo-t.sequenceNo:e.stopSequence&&t.stopSequence?e.stopSequence-t.stopSequence:0}))).length>2){var i=r.length;n=[Object(p.a)({},r[0]),Object(p.a)({},r[i-1])]}else n=r;return s.a.createElement(s.a.Fragment,null,s.a.createElement(Jm,{isOpen:this.state.openAssignDriverDialog,onDismiss:function(){e.setState({openAssignDriverDialog:!1})},loadDetails:this.props.loadDetails,driverDetails:this.state.driverDetails,loadStopsOriginDestination:n}),s.a.createElement(d.B,{className:"desktop-page driverList-page"},s.a.createElement(Sc,{title:this.props.loadDetails?t:"",backUrl:"/app/MyLoad/CarrierAssigned/".concat(t),isAddDriver:a&&function(){e.props.history.push("/app/MyLoad/driverAssign/addDriver/".concat(t),{loadModule:"MyLoad/driverAssign/".concat(t)})},History:this.props.history}),s.a.createElement(d.l,{className:"driverContent"},s.a.createElement($m,{isPopup:this.props.popupHeader,DriverList:this.props.driverList,loadDetails:this.props.loadDetails,module:this.props.module,showAssignDriverDialog:function(t,a){e.setState({openAssignDriverDialog:t,driverDetails:a})}}))))}}]),a}(i.Component);var tf=function(e){Object(Ke.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(Ze.a)(e);if(t()){var n=Object(Ze.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(Xe.a)(this,a)}}(a);function a(){var e;Object(qe.a)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).getShowToasterValue=function(){e.props.showToasterValue()},e.getloadDetails=function(){return e.props.loadForAssignDriver||{}},e.getPathname=function(){return e.props.history&&e.props.history.location&&e.props.history.location.state&&e.props.history.location.state.pathname},e}return Object(ze.a)(a,[{key:"render",value:function(){return s.a.createElement(ef,Object.assign({},this.props,{getShowToasterValue:this.getShowToasterValue,driverList:this.props.getDriverList,module:this.getPathname(),loadDetails:this.getloadDetails()}))}}]),a}(i.PureComponent),af=Object(xe.b)({loading:ln(),getDriverList:km(),loadForAssignDriver:Object(xe.a)(Dm,(function(e){return e.loadForAssignDriver||{}})),loads:Cm()}),rf=Object(u.c)(af,(function(e){return{showToasterValue:function(){return e({type:"SHOW_TOASTER_VALUE"})}}})),nf=fs({key:"carrierAssigned",reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qm,t=arguments.length>1?arguments[1]:void 0;return Object(E.a)(e,(function(e){switch(t.type){case"SHOW_TOASTER_VALUE":e.showToaster=!e.showToaster;break;case"LOAD_DATA":e.loads=t.payload;break;case"SET_LOAD_FOR_ASSIGN_DRIVER":e.loadForAssignDriver=t.payload;break;case"ASSIGN_DRIVER_LIST":e.DriverList=t.payload}}))}}),sf=ps({key:"carrierAssigned",saga:ts}),of=Object(m.compose)(sf,nf,rf)(tf),cf=Ge.a.mark(mf),lf=Ge.a.mark(ff),uf=Ge.a.mark(Ef),df=Ge.a.mark(hf),pf=Ge.a.mark(gf);function mf(e){var t,a,r,n;return Ge.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Object(_n.c)(ut());case 3:return t=ka.domainToData(e.payload.data),i.next=6,Object(_n.b)(An,["MYLOAD","CARRIER",null,"",t,"application/json"]);case 6:return a=i.sent,i.next=9,Object(_n.c)(ai(a&&a.data));case 9:if(r=a&&a.data&&a.data.completeTrip||{},n=a&&a.errors){i.next=26;break}return i.next=14,Object(_n.c)($n(r.shipment));case 14:return i.next=16,Object(_n.c)(ei((new Date).getTime().toString()));case 16:if(!0!==r.status||r.message){i.next=21;break}return i.next=19,Object(_n.c)(Un({status:!1,message:!0===r.status?"Great, that marks the end of your trip for load ".concat(e.payload.shipmentId):r.message}));case 19:i.next=24;break;case 21:if(!r||!r.message){i.next=24;break}return i.next=24,Object(_n.c)(Un({status:!1,message:r.message}));case 24:i.next=29;break;case 26:if(!(n&&n.length>0&&n[0].message)){i.next=29;break}return i.next=29,Object(_n.c)(Un({status:!1,message:n[0].message}));case 29:return i.next=31,Object(_n.c)(dt());case 31:i.next=37;break;case 33:return i.prev=33,i.t0=i.catch(0),i.next=37,Object(_n.c)(dt());case 37:case"end":return i.stop()}}),cf,null,[[0,33]])}function ff(e){var t,a,r,n;return Ge.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Object(_n.c)(ut());case 3:return t=ka.domainToData(e.payload.data),i.next=6,Object(_n.b)(An,["MYLOAD","CARRIER",null,"",t,"application/json"]);case 6:if(a=i.sent,r=a&&a.data&&a.data.updateStop||{},n=a&&a.errors){i.next=25;break}return i.next=12,Object(_n.c)($n(r.shipment));case 12:return i.next=14,Object(_n.c)(ei((new Date).getTime().toString()));case 14:if(!r||!r.message||!0!==r.status){i.next=19;break}return i.next=17,Object(_n.c)((s=r.message,{type:g.SHOW_WARNING_DIALOG,payload:{message:s}}));case 17:i.next=22;break;case 19:if(!r||!r.message){i.next=22;break}return i.next=22,Object(_n.c)(Un({status:!1,message:r.message}));case 22:e.payload.callBack&&e.payload.callBack(r.shipment),i.next=28;break;case 25:if(!(n&&n.length>0&&n[0].message)){i.next=28;break}return i.next=28,Object(_n.c)(Un({status:!1,message:n[0].message}));case 28:return i.next=30,Object(_n.c)(dt());case 30:i.next=36;break;case 32:return i.prev=32,i.t0=i.catch(0),i.next=36,Object(_n.c)(dt());case 36:case"end":return i.stop()}var s}),lf,null,[[0,32]])}function Ef(e){var t,a,r,n;return Ge.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Object(_n.c)(ut());case 3:return t=ka.domainToData(e.payload),i.next=6,Object(_n.b)(An,["MYLOAD","CARRIER",null,"",t,"application/json"]);case 6:if(a=i.sent,r=a&&a.data&&a.data.startTrip||{},n=a&&a.errors){i.next=20;break}return i.next=12,Object(_n.c)($n(r.shipment));case 12:return i.next=14,Object(_n.c)(ei((new Date).getTime().toString()));case 14:if(!r||!r.message){i.next=17;break}return i.next=17,Object(_n.c)(Un({status:!1,message:r.message}));case 17:e.payload.callBack&&e.payload.callBack(r.shipment),i.next=23;break;case 20:if(!(n&&n.length>0&&n[0].message)){i.next=23;break}return i.next=23,Object(_n.c)(Un({status:!1,message:n[0].message}));case 23:return i.next=25,Object(_n.c)(ti(a.data.startTrip));case 25:return i.next=27,Object(_n.c)(dt());case 27:i.next=33;break;case 29:return i.prev=29,i.t0=i.catch(0),i.next=33,Object(_n.c)(dt());case 33:case"end":return i.stop()}}),uf,null,[[0,29]])}function hf(e){var t,a,r,n;return Ge.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Object(_n.c)(ut());case 3:return t=ka.domainToData(e.payload.data),i.next=6,Object(_n.b)(An,["MYLOAD","CARRIER",null,"",t,"application/json"]);case 6:if(a=i.sent,r=a&&a.data&&a.data.confirmStart||{},n=a&&a.errors){i.next=20;break}return i.next=12,Object(_n.c)($n(r.shipment));case 12:return i.next=14,Object(_n.c)(ei((new Date).getTime().toString()));case 14:if(!r||!r.message){i.next=17;break}return i.next=17,Object(_n.c)(Un({status:!1,message:r.message}));case 17:e.payload.callback&&e.payload.callback(r.shipment),i.next=23;break;case 20:if(!(n&&n.length>0&&n[0].message)){i.next=23;break}return i.next=23,Object(_n.c)(Un({status:!1,message:n[0].message}));case 23:return i.next=25,Object(_n.c)(Pn(r.shipment));case 25:return i.next=27,Object(_n.c)(dt());case 27:i.next=33;break;case 29:return i.prev=29,i.t0=i.catch(0),i.next=33,Object(_n.c)(dt());case 33:case"end":return i.stop()}}),df,null,[[0,29]])}function gf(){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_n.a)([Object(_n.e)(g.CONFIRM_START_INFORMATION,hf),Object(_n.e)(g.UPDATE_STOP_INFORMATION,ff),Object(_n.e)(g.START_TRIP,Ef),Object(_n.e)(g.COMPLETE_TRIP_API_REQUEST,mf)]);case 2:case"end":return e.stop()}}),pf)}var vf=function(){function e(){Object(qe.a)(this,e),this.shipmentDetails={userId:"",shipmentId:""}}return Object(ze.a)(e,[{key:"startTrip",value:function(){return{mutation:{startTrip:{__args:{userId:this.shipmentDetails.userId,shipmentId:this.shipmentDetails.shipmentId},status:!0,message:!0,shipment:{shipmentId:!0,lineOfBusiness:!0,transportMode:!0,totalWeight:!0,weightUOM:!0,totalDistance:!0,distanceUOM:!0,numberOfStops:!0,sourceTMS:!0,assignedCarrierId:!0,assignedTMSCarrierId:!0,isAppointmentConfirmed:!0,isHazardous:!0,isHighValue:!0,isTemperatureControlled:!0,isFreezeProtected:!0,readyDateTime:!0,readyDateTimeZone:!0,equipmentType:!0,predecessorShipmentId:!0,successorShipmentId:!0,assignmentStatus:!0,executionStatus:!0,masterBillOfLoading:!0,shipmentServices:{serviceDescription:!0},startCity:!0,startCountry:!0,startState:!0,startDateTime:!0,loadStop:{stopId:!0,locationId:!0,stopType:!0,sequenceNo:!0,locationName:!0,addressLine1:!0,addressLine2:!0,city:!0,state:!0,country:!0,postalCode:!0,timeZone:!0,longitude:!0,latitude:!0,estimatedArrivalDateTime:!0,actualETADateTime:!0,plannedArrivalDateTime:!0,actualArrivalDateTime:!0,estimatedStopDuration:!0,plannedDepartureDateTime:!0,actualDepartureDateTime:!0,appointmentEarlyDateTime:!0,appointmentLateDateTime:!0,estimatedStopDurationUom:!0,plannedEtaDateTime:!0,shipmentId:!0,stopReference:{id:!0,type:!0,value:!0,stopId:!0,shipmentId:!0},locationNotes:{id:!0,type:!0,value:!0,shipmentId:!0,stopId:!0},stopActivity:zo},shipmentReferences:{id:!0,type:!0,value:!0,stopId:!0,shipmentId:!0},shipmentNotes:{id:!0,type:!0,value:!0,shipmentId:!0,stopId:!0},shipmentInvolvedParties:{id:!0,partyId:!0,partyType:!0,partyName:!0,partyEmail:!0,partyPhone:!0},driverAssignmentStatus:!0,assignmentTransaction:{transactionId:!0,driverId:!0,driverName:!0},managedEquipment:!0}}}}}},{key:"userId",get:function(){return this.shipmentDetails.userId},set:function(e){e&&(this.shipmentDetails.userId=e)}},{key:"shipmentId",get:function(){return this.shipmentDetails.shipmentId},set:function(e){e&&(this.shipmentDetails.shipmentId=e)}}]),e}(),bf=function(){var e=Object(He.a)(Ge.a.mark((function e(t){var a,r,n,i,s,o;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=t.match.params[0])!==C.CARRIER_ASSIGNED_MODULE){e.next=6;break}r=t.loadDetails.shipmentId,t.userDetails&&t.userDetails.carrierId&&((n=new Kd).carrierId=t.userDetails.carrierId,n.role="carrierDriver",t.AssignDriver(n.getRequestPayload()),t.sendLoadForAssignDriver&&t.sendLoadForAssignDriver(t.loadDetails),t.history.push("/app/MyLoad/driverAssign/".concat(r),{loadDetails:JSON.stringify(t.loadDetails),pathname:t.location.pathname})),e.next=15;break;case 6:if(a!==C.DRIVER_ASSIGNED_MODULE){e.next=15;break}if(!t.isCapacitor){e.next=14;break}return e.next=10,qa("DB_GPS_ACTIVATED_SHIPMENT");case 10:(i=e.sent.value)?(s=JSON.parse(i),o=s.shipmentID,alert(A.ERROR_MESSAGE_1+o+A.ERROR_MESSAGE_2)):Sf(t),e.next=15;break;case 14:Sf(t);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Sf=function(e,t){if(e.loadDetails&&!e.loadDetails.driverAssignmentStatus)return Dr.open({duration:5e3,message:"The Driver assignment for the load is not confirmed yet. Kindly refresh the page or try after some time."}),!0;yf(e);var a=e.match.params[0];e.setShipmentForStartTrip(e.loadDetails),e.history.push({pathname:"/app/MyLoad/shipmentUpdateScreen/".concat(e.loadDetails.shipmentId),state:{isCurrentLocationOn:t||!0,isLocation:!0,module:a,withGPS:!1,startTripShipment:e.loadDetails,moduleName:"DRIVERLIST",soure:ct.LOAD_DETAILS}}),e.isCapacitor&&e.loadDetails&&e.loadDetails.shipmentInvolvedParties&&e.loadDetails.shipmentInvolvedParties.map((function(t,a){t.partyId&&t.partyId.toUpperCase()===e.userDetails.email.toUpperCase()&&t.partyType.toUpperCase()===K.PRIMARY_DRIVER&&Of(e.loadDetails,e.userDetails)}))},yf=function(e){var t=new vf;t.userId=e.userDetails.userPrincipalName,t.shipmentId=e.loadDetails.shipmentId,e.startTrip(t.startTrip())},Of=function(){var e=Object(He.a)(Ge.a.mark((function e(t,a){var r,n;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={activity:"",shipmentID:t.shipmentId,carrierScac:"",userId:a.email,sourceTMS:t.sourceTMS,carrierId:a.carrierId,loadStops:t.loadStop},Za.details.startGPStracking(r),e.next=4,Ha("DB_GPS_ACTIVATED_SHIPMENT",JSON.stringify(r));case 4:I.RELEASE===W.UNT&&((n=new Audio).src=N.START_TRIP,n.play());case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();var _f=function(e){Object(Ke.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(Ze.a)(e);if(t()){var n=Object(Ze.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(Xe.a)(this,a)}}(a);function a(e){var r;return Object(qe.a)(this,a),(r=t.call(this,e)).model=void 0,r.module=r.props.match.params[0],r.getValue=function(e){return r.props&&r.props.history&&r.props.history.location&&r.props.history.location.state&&r.props.history.location.state[e]},r.onButtonClick=Object(He.a)(Ge.a.mark((function e(){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:bf(r.props);case 1:case"end":return e.stop()}}),e)}))),r.getConfirmStartStatus=function(){var e=r.props.startTripShipmentStatusMessage||{};return!1===e.status&&St(ot.UE_START_TRIP_FAIL,{screen:ct.DA_START_TRIP_FAILURE}),!1===e.status},r.getConfirmStartMessage=function(){return(r.props.startTripShipmentStatusMessage||{}).message},r.state={isLocation:!1},r.model=new Kd,r}return Object(ze.a)(a,[{key:"componentDidUpdate",value:function(e){e.match.params[0]!==this.props.match.params[0]&&(this.module=this.props.match.params[0])}},{key:"render",value:function(){var e=this,t=this.props,a=t.loadDetails,r=t.match,n=t.desktopDriverList,i=t.isNetworkAvailable,o=this.getValue("shipments"),c=this.getValue("isBookLoad"),l=this.getValue("module"),u=a;return 0===Object.keys(a).length&&c&&o&&(u=o[0]),s.a.createElement(s.a.Fragment,null,s.a.createElement(d.Q,{isOpen:this.getConfirmStartStatus(),message:this.getConfirmStartMessage(),duration:5e3,color:"dark",onDidDismiss:function(){e.props.clearConfirmReasponse()}}),s.a.createElement(Jd,Object.assign({},this.props,{driverList:n,onButtonClick:this.onButtonClick,loadDetails:u,module:r.params[0],loadId:r.params.id,showExpandView:!0,isCarrierLoad:!0,networkStatus:i,bookloadStatus:c,prevModule:l})))}}]),a}(i.Component),Af=Object(xe.b)({loadDetails:Object(xe.a)(ni,ii,si,(function(e,t,a){if("MyLoad/CarrierAssigned"===a)return e&&e.carrierAssigned.find((function(e){return e.shipmentId===t}))||{};if("MyLoad/DriverAssigned"===a)return e&&e.driverAssigned.find((function(e){return e.shipmentId===t}))||{};if("MyLoad/InTransit"===a)return e&&e.inTransit.find((function(e){return e.shipmentId===t}))||{};if("MyLoad/Delivered"===a)return e&&e.delivered.find((function(e){return e.shipmentId===t}))||{};if("MyLoad/shipmentUpdateScreen"===a){var r=[].concat(Object(Se.a)(e.driverAssigned),Object(Se.a)(e.inTransit),Object(Se.a)(e.delivered));return r&&r.find((function(e){return e.shipmentId===t}))||{}}})),getPlatform:Object(xe.a)([on],(function(e){return e.deviceInfo.platform||ve.deviceInfo})),desktopDriverList:km(),userDetails:pn(),isNetworkAvailable:fn(),startTripShipmentStatusMessage:pi(),isCapacitor:bn()}),Df=Object(u.c)(Af,(function(e){return{setShipmentForStartTrip:function(t){e($n(t)),e(ei((new Date).getTime().toString()))},AssignDriver:function(t){return e(Yn(t))},showAlert:function(){return e(or())},sendLoadForAssignDriver:function(t){e(jm(t))},clearConfirmResponse:function(){e(xn())},startTrip:function(t){return e((a=t,{type:g.START_TRIP,payload:a}));var a}}})),Tf=fs({key:"carrierAssigned",reducer:Am}),Rf=ps({key:"carrierAssigned",saga:ts}),Nf=ps({key:"shipment",saga:gf}),If=Object(m.compose)(Rf,Nf,Tf,Df)(_f);function Cf(e,t){var a=e&&e.map((function(e){var a=[];return(t!==C.DRIVER_ASSIGNED_MODULE||t===C.DRIVER_ASSIGNED_MODULE&&!0===e.driverAssignmentStatus)&&(a=e.shipmentInvolvedParties&&e.shipmentInvolvedParties.find((function(e){return"PRIMARY DRIVER"===e.partyType}))),t===C.DRIVER_ASSIGNED_MODULE&&!1===e.driverAssignmentStatus&&(a=e.assignmentTransaction&&e.assignmentTransaction[0]),a&&null!==a.partyName&&a.partyName||a&&null!==a.driverName&&a.driverName||null}))||[];return[].concat(Object(Se.a)(a.filter((function(e,t){return a.indexOf(e)===t&&null!=e}))),["All Driver","Unknown"])}var kf=function(e){Object(Ke.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(Ze.a)(e);if(t()){var n=Object(Ze.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(Xe.a)(this,a)}}(a);function a(e){var r;return Object(qe.a)(this,a),(r=t.call(this,e)).model=void 0,r.changeValue=function(){r.props.changeToasterValue()},r.assignDriverButton=function(){r.props.AssignDriver(r.model.getRequestPayload()),r.props.history.push("/app/MyLoad/driverAssign")},r.getDriverLoads=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];try{var t=r.props&&r.props.userDetails&&r.props.userDetails.carrierId||"",a=r.props&&r.props.userDetails&&r.props.userDetails.userPrincipalName||"",n=new Dd;n.carrierId=t,n.filter={driverAssigned:!0,driverAssignmentPending:!0},ja("myLoad","carrierAssigned")||(n.driverId=a),r.props.fetchShipments(n.getRequestPayload(),e)}catch(i){console.log("ERROR:",i)}},r.model=new Kd,r.state={showFilter:ja("myLoad","filter"),buttonName:"",showInitial:ja("myLoad","filter")},r}return Object(ze.a)(a,[{key:"componentDidMount",value:function(){this.props.data&&0===this.props.data.length&&!this.props.loading&&this.props.updateData()}},{key:"render",value:function(){var e=this,t=this.props.loads&&this.props.loads.length>99?this.props.loads.slice(0,99):this.props.loads,a=Cf(t,C.DRIVER_ASSIGNED_MODULE);return s.a.createElement(s.a.Fragment,null,s.a.createElement(Om,Object.assign({},this.props,{changeValue:this.changeValue,getLoads:this.getDriverLoads,AssignDriverbtn:function(){return e.assignDriverButton()},module:"MyLoad",loads:t,showFilter:this.state.showFilter,driverNameList:a,buttonIcon:me.unAssign_driver,buttonName:this.state.buttonName,showInitial:this.state.showInitial,subModule:this.props.match.params[0],isNetworkAvailable:this.props.isNetworkAvailable,showAlert:this.props.showAlert})))}}]),a}(i.PureComponent),jf=Object(xe.b)({loading:ln(),loads:Object(xe.a)(Rm,(function(e){return e})),userDetails:pn(),isNetworkAvailable:fn()}),Lf=Object(u.c)(jf,(function(e){return{AssignDriver:function(t){return e(Yn(t))},fetchShipments:function(t,a){return e(Qn(t,a))},showAlert:function(){return e(or())}}})),wf=fs({key:"carrierAssigned",reducer:Am}),Mf=ps({key:"carrierAssigned",saga:ts}),Pf=Object(m.compose)(Mf,wf,Lf)(kf);var Uf=function(e){Object(Ke.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(Ze.a)(e);if(t()){var n=Object(Ze.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(Xe.a)(this,a)}}(a);function a(e){var r;return Object(qe.a)(this,a),(r=t.call(this,e)).model=void 0,r.complete=function(){},r.changeValue=function(){r.props.changeToasterValue()},r.assignDriverButton=function(){r.props.AssignDriver(r.model.getRequestPayload()),r.props.history.push("/app/MyLoad/driverAssign")},r.getDriverLoads=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];try{var t=r.props&&r.props.userDetails&&r.props.userDetails.carrierId||"",a=r.props&&r.props.userDetails&&r.props.userDetails.userPrincipalName||"",n=new Dd;n.carrierId=t,n.filter={inTransit:!0},ja("myLoad","carrierAssigned")||(n.driverId=a),r.props.fetchShipments(n.getRequestPayload(),e)}catch(i){console.log("ERROR:",i)}},r.model=new Kd,r.state={showFilter:ja("myLoad","filter"),buttonName:"",showInitial:ja("myLoad","filter")},r}return Object(ze.a)(a,[{key:"componentDidMount",value:function(){this.props.data&&0===this.props.data.length&&!this.props.loading&&this.props.updateData(),yt("screen_inTransit")}},{key:"render",value:function(){var e=this,t=this.props.loads&&this.props.loads.length>99?this.props.loads.slice(0,99):this.props.loads,a=Cf(t,C.INTRANSIT_MODULE);return s.a.createElement(s.a.Fragment,null,s.a.createElement(Om,Object.assign({"data-test":"CarrierAssignedPage"},this.props,{changeValue:this.changeValue,getLoads:this.getDriverLoads,AssignDriverbtn:function(){return e.assignDriverButton()},module:"MyLoad",loads:t,showFilter:this.state.showFilter,driverNameList:a,buttonIcon:me.unAssign_driver,buttonName:this.state.buttonName,showInitial:this.state.showInitial,subModule:this.props.match.params[0],isNetworkAvailable:this.props.isNetworkAvailable,showAlert:this.props.showAlert})))}}]),a}(i.PureComponent),xf=Object(xe.b)({loading:ln(),loads:Object(xe.a)(Nm,(function(e){return e||_e.inTransit})),userDetails:pn(),isNetworkAvailable:fn()}),Ff=Object(u.c)(xf,(function(e){return{fetchShipments:function(t,a){return e(Qn(t,a))},showAlert:function(){return e(or())}}})),Vf=fs({key:"carrierAssigned",reducer:Am}),Gf=ps({key:"carrierAssigned",saga:ts}),Hf=Object(m.compose)(Gf,Vf,Ff)(Uf);var Bf=function(e){Object(Ke.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(Ze.a)(e);if(t()){var n=Object(Ze.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(Xe.a)(this,a)}}(a);function a(e){var r;return Object(qe.a)(this,a),(r=t.call(this,e)).model=void 0,r.changeValue=function(){r.props.changeToasterValue()},r.getDriverLoads=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];try{var t=r.props&&r.props.userDetails&&r.props.userDetails.carrierId||"",a=r.props&&r.props.userDetails&&r.props.userDetails.userPrincipalName||"",n=new Dd;n.carrierId=t,n.filter={delivered:!0},ja("myLoad","carrierAssigned")||(n.driverId=a),r.props.fetchShipments(n.getRequestPayload(),e)}catch(i){console.log("ERROR:",i)}},r.model=new Kd,r.state={showFilter:ja("myLoad","filter"),buttonName:"",showInitial:ja("myLoad","filter")},r}return Object(ze.a)(a,[{key:"render",value:function(){var e=this.props.loads&&this.props.loads.length>99?this.props.loads.slice(0,99):this.props.loads,t=Cf(e,C.RECENTLY_DELIVERED_MODULE);return s.a.createElement(s.a.Fragment,null,s.a.createElement(Om,Object.assign({"data-test":"CarrierAssignedPage"},this.props,{changeValue:this.changeValue,getLoads:this.getDriverLoads,AssignDriverbtn:function(){},module:"MyLoad",loads:e,showFilter:this.state.showFilter,driverNameList:t,buttonIcon:"",buttonName:this.state.buttonName,showInitial:this.state.showInitial,subModule:this.props.match.params[0],isNetworkAvailable:this.props.isNetworkAvailable,showAlert:this.props.showAlert})))}}]),a}(i.PureComponent),qf=Object(xe.b)({loads:Object(xe.a)([Im],(function(e){return e||_e.delivered})),userDetails:pn(),isNetworkAvailable:fn()}),zf=Object(u.c)(qf,(function(e){return{fetchShipments:function(t,a){return e(Qn(t,a))},showAlert:function(){return e(or())}}})),Yf=fs({key:"carrierAssigned",reducer:Am}),Wf=ps({key:"carrierAssigned",saga:ts}),Kf=Object(m.compose)(Wf,Yf,zf)(Bf),Xf=Ge.a.mark(tE),Zf=Ge.a.mark(aE),Qf=Ge.a.mark(rE),Jf=Ge.a.mark(nE),$f=Ge.a.mark(iE),eE=Ge.a.mark(sE);function tE(){var e;return Ge.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(_n.c)(ut());case 3:return t.next=5,Object(_n.b)(An,["HOME","RECOMMENDED_LOADS"]);case 5:return e=t.sent,t.next=8,Object(_n.c)({type:"LOAD_DATA",payload:e});case 8:return t.next=10,Object(_n.c)(dt());case 10:t.next=16;break;case 12:return t.prev=12,t.t0=t.catch(0),t.next=16,Object(_n.c)(dt());case 16:case"end":return t.stop()}}),Xf,null,[[0,12]])}function aE(e){var t,a,r;return Ge.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(_n.c)(e.payload.refreshStatus?{type:"PULL_TO_REFRESH_LOADING",status:!0}:ut());case 3:return t=ka.domainToData(e.payload.query),n.next=6,Object(_n.b)(An,["RECENT","RECENT",null,"",t,"application/json"]);case 6:return a=n.sent,n.next=9,Object(_n.c)({type:"WATCHED_DATA_SUCCESS",payload:{watchedResults:a,refreshStatus:e.payload.refreshStatus}});case 9:return n.next=11,Object(_n.c)(e.payload.refreshStatus?{type:"PULL_TO_REFRESH_LOADING",status:!1}:dt());case 11:e.payload.callback&&(r=a&&a.data&&a.data.getUserWatchedLoads&&a.data.getUserWatchedLoads.loadPostings||[],e.payload.callback(r.length)),n.next=18;break;case 14:return n.prev=14,n.t0=n.catch(0),n.next=18,Object(_n.c)(e.payload.refreshStatus?{type:"PULL_TO_REFRESH_LOADING",status:!1}:dt());case 18:case"end":return n.stop()}}),Zf,null,[[0,14]])}function rE(e){var t,a,r;return Ge.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(_n.c)(e.payload.refreshStatus?{type:"PULL_TO_REFRESH_LOADING",status:!0}:ut());case 3:return t=ka.domainToData(e.payload.query),n.next=6,Object(_n.b)(An,["HOME","RECOMMENDED_LOADS",null,"",t,"application/json"]);case 6:return a=n.sent,n.next=9,Object(_n.c)({type:"RECOMMENDED_LOADS_SUCESS",payload:{recommendedResults:a,refreshStatus:e.payload.refreshStatus||e.payload.sorRefresh}});case 9:return n.next=11,Object(_n.c)(e.payload.refreshStatus?{type:"PULL_TO_REFRESH_LOADING",status:!1}:dt());case 11:e.payload.callback&&(r=a&&a.data&&a.data&&a.data.recommendedLoads&&a.data.recommendedLoads.loadPostings&&a.data.recommendedLoads.loadPostings||[],e.payload.callback(r.length)),n.next=18;break;case 14:return n.prev=14,n.t0=n.catch(0),n.next=18,Object(_n.c)(e.payload.refreshStatus?{type:"PULL_TO_REFRESH_LOADING",status:!1}:dt());case 18:case"end":return n.stop()}}),Qf,null,[[0,14]])}function nE(e){var t,a,r,n;return Ge.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload,a=t.query,r=t.loadDetails,i.prev=1,i.next=4,Object(_n.c)(ut());case 4:return n=ka.domainToData(a),i.next=7,Object(_n.b)(An,["RECENT","RECENT",null,"",n,"application/json"]);case 7:return i.sent,i.next=10,Object(_n.c)({type:"ADD_WATCH_LOAD_SUCCESS",payload:r});case 10:return i.next=12,Object(_n.c)(dt());case 12:i.next=18;break;case 14:return i.prev=14,i.t0=i.catch(1),i.next=18,Object(_n.c)(dt());case 18:case"end":return i.stop()}}),Jf,null,[[1,14]])}function iE(e){var t,a,r,n,i,s;return Ge.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,a=t.query,r=t.loadId,n=t.callback,o.prev=1,o.next=4,Object(_n.c)(ut());case 4:return i=ka.domainToData(a),o.next=7,Object(_n.b)(An,["RECENT","RECENT",null,"",i,"application/json"]);case 7:return s=o.sent,o.next=10,Object(_n.c)(sa({loadId:r}));case 10:return o.next=12,Object(_n.c)(dt());case 12:n(!!s.errors),o.next=20;break;case 15:return o.prev=15,o.t0=o.catch(1),n(!0),o.next=20,Object(_n.c)(dt());case 20:case"end":return o.stop()}}),$f,null,[[1,15]])}function sE(){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_n.a)([Object(_n.f)("UPDATE_DATA",tE),Object(_n.f)("RECOMMENDED_LOADS_REQUEST",rE),Object(_n.f)("WATCHEDLOAD_DATA_REQUEST",aE),Object(_n.f)("ADD_WATCH_LOAD",nE),Object(_n.f)("REMOVE_WATCH_LOAD",iE)]);case 2:case"end":return e.stop()}}),eE)}a(619);var oE=function(e){var t=e.type,a=e.recommendedloads,r=(e.setView,e.watchedLoad),n=(e.load,e.isloaded),i=e.history,o=e.isNetworkAvailable,c=e.showAlert,l=e.toggleWatchLoad,u=e.isWatchLoadEnd,p=void 0!==u&&u,m=e.isRecommendedLoadEnd,f=void 0!==m&&m,E=Object(hs.a)().t,h=function(){i&&i.push(fe.search)},g=function(e){if(o){if("watched"===t){var a="".concat(fe.watched).concat(e.loadId);i.push(a)}if("recommended"===t){var r="".concat(fe.watched).concat(e.loadId);i.push(r)}}else c()},v=[{name:"Origin",selector:"origin_city",sortable:!0,style:{fontWeight:600,fontSize:14,colorName:"#000000"}},{name:"Origin Date",selector:"origin_from_date",sortable:!0,minWidth:"123px"},{name:"DH-O",selector:"origin_deadhead",sortable:!0},{name:"Origin Load Type",selector:"origin_load_type",sortable:!0},{name:"Destination",selector:"destination_city",sortable:!0,style:{fontWeight:600,fontSize:14,colorName:"#000000"}},{name:"Destination Date",selector:"destination_from_date",minWidth:"123px",sortable:!0},{name:"DH-D",selector:"destination_deadhead",sortable:!0},{name:"Destination Load Type",selector:"destination_load_type",sortable:!0},{name:"Trailer Type",selector:"trailer",sortable:!0},{name:"Rate ($)",selector:"price",sortable:!0,style:{fontWeight:600,fontSize:14,colorName:"#000000"}},{name:"",selector:"",sortable:!1,width:"50px",cell:function(e){return s.a.createElement(d.r,{className:"star_icon",src:"assets/icon/star-color.svg"})}},{name:"",selector:"",sortable:!1,width:"50px",cell:function(e){return s.a.createElement("img",{slot:"end",alt:"logo",src:"/assets/icon/more-arrow.svg",className:"moresideimg"})}}],b=[{name:"Origin",selector:"origin_city",sortable:!0,style:{fontWeight:600,fontSize:14,colorName:"#000000"}},{name:"Origin Date",selector:"origin_from_date",sortable:!0,minWidth:"123px"},{name:"DH-O",selector:"origin_deadhead",sortable:!0},{name:"Origin Load Type",selector:"origin_load_type",sortable:!0},{name:"Destination",selector:"destination_city",sortable:!0,style:{fontWeight:600,fontSize:14,colorName:"#000000"}},{name:"Destination Date",selector:"destination_from_date",minWidth:"123px",sortable:!0},{name:"DH-D",selector:"destination_deadhead",sortable:!0},{name:"Destination Load Type",selector:"destination_load_type",sortable:!0},{name:"Trailer Type",selector:"trailer",sortable:!0},{name:"Rate ($)",selector:"price",sortable:!0,style:{fontWeight:600,fontSize:14,colorName:"#000000"}},{name:"",selector:"",sortable:!1,width:"50px",cell:function(e){return s.a.createElement("img",{slot:"end",alt:"logo",src:"/assets/icon/more-arrow.svg",className:"moresideimg"})}}];return s.a.createElement(s.a.Fragment,null,"recommended"===t&&s.a.createElement(s.a.Fragment,null,a&&a.length?s.a.createElement(s.a.Fragment,null,s.a.createElement(d.y,{className:"loadTilePad","data-test":"watched-tile"},a&&a.map((function(e,t){return s.a.createElement(ac,Object.assign({key:t},e,{module:k.RECOMMENDED_MODULE,isRecommended:!0}))}))),Object(d.V)("mobile")&&f?s.a.createElement("div",{className:"end-of-list"},E("End of list")):null,Object(d.V)("desktop")?s.a.createElement(zu,{columns:b,data:Ts(a,"appointmentFrom","appointmentTo","loadId","transportMode",!1),showEndofList:!0,showHeader:!0,titleText:"recommended"===t&&a.length>1?s.a.createElement(s.a.Fragment,null,a.length," ",E("RECOMMENDATION_COUNTS")):s.a.createElement(s.a.Fragment,null,a.length," ",E("RECOMMENDATION_COUNT")),pagination:!0,redirect:g}):null):n?"":s.a.createElement(yc,{constantText:E("recommendedErrorText"),constantButton:E("recommendedErrorButton"),loads:h,addCapacity:function(){i&&i.push(fe.manage_capacity)},constCapacityButton:E("Add capacity"),orText:E("OR")})),"watched"===t&&s.a.createElement(s.a.Fragment,null,r.length?s.a.createElement(s.a.Fragment,null,s.a.createElement(d.y,{className:"loadTilePad","data-test":"watched-tile"},r.map((function(e,t){return s.a.createElement(ac,Object.assign({key:t},e,{module:k.WATCHED_MODULE,isWatch:!0,toggleWatchLoad:l}))}))),Object(d.V)("mobile")&&p?s.a.createElement("div",{className:"end-of-list"},E("End of list")):null,Object(d.V)("desktop")?s.a.createElement(zu,{columns:v,data:Ts(r,"appointmentFrom","appointmentTo","loadId","transportMode",!1),showEndofList:!0,showHeader:!0,titleText:r&&"".concat(r.length," ").concat(t),pagination:!0,redirect:g}):null):n?"":s.a.createElement(yc,{constantText:E("watchedEmptyText"),constantButton:E("recommendedErrorButton"),loads:h,redirectTo:fe.search,constCapacityButton:E("Add capacity"),orText:E("OR")})))},cE=(s.a.memo(oE),a(620),function(e){var t=e.dropdown,a=t.options,r=t.setFilter,n=e.direction,o=void 0===n?"asc":n,c=e.storeOptions,l=void 0===c?[]:c,u=l.length>0?l:a.map((function(e,t){return Object(p.a)(Object(p.a)({},e),{},{selected:0===t})})),m=Object(i.useState)(!1),f=Object(Fe.a)(m,2),E=f[0],h=f[1],g=Object(i.useState)(u),v=Object(Fe.a)(g,2),b=v[0],S=v[1],y=Object(i.useState)(u),O=Object(Fe.a)(y,2),_=O[0],A=O[1],D=Object(i.useState)(o),T=Object(Fe.a)(D,2),R=T[0],N=T[1],I=b.filter((function(e){return e.selected})).map((function(e){return e.name})).join(" + "),C=Object(hs.a)().t;Object(i.useEffect)((function(){var e=l.length>0?l:a.map((function(e,t){return Object(p.a)(Object(p.a)({},e),{},{selected:0===t})}));S(e),A(e)}),[e.dropdown,l]),Object(i.useEffect)((function(){N(o)}),[o]);var k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R;r({filter:{selected:_,direction:e}})};return s.a.createElement(d.H,{class:"list-items-header sort-only-wrapper"},s.a.createElement(d.k,null,s.a.createElement("div",{className:"list-items-filter"},s.a.createElement(d.N,{"item-left":!0,class:"filter-dropdown",onClick:function(){A(b),h(!0)}},C(I),s.a.createElement("i",{className:"down"})),s.a.createElement(d.N,{class:"filter-sort",onClick:function(){var e="asc"===R?"desc":"asc";N(e),k(e)}},s.a.createElement(d.q,{src:"assets/icon/sort icon".concat("desc"!==R?" downward":"",".svg")}))),s.a.createElement(d.A,{"show-backdrop":!0,"backdrop-dismiss":!1,isOpen:E,cssClass:"dropdown-modal",onDidDismiss:function(){h(!1)}},s.a.createElement("div",{className:"search_options"},s.a.createElement(d.H,{class:"dropdown-row dropdown-heading"},s.a.createElement(d.k,null,s.a.createElement("p",{className:"sortBy_text"},C("Sort By")))),_.map((function(e,t){return s.a.createElement(d.H,{className:"dropdown-row filter-option",key:t,onClick:function(){return function(e){var t=_.map((function(t){return Object(p.a)(Object(p.a)({},t),{},{selected:t.name===e.name&&!t.selected})}));t.find((function(e){return e.selected}))&&A(t)}(e)}},s.a.createElement(d.k,{className:e.selected?"checked":""},C(e.name)," ",s.a.createElement("i",{className:"check"})))})),s.a.createElement(d.H,{class:"dropdown-handler"},s.a.createElement(d.k,{size:"1"}),s.a.createElement(d.k,{size:"5",className:"dropdown_cancel",onClick:function(){return h(!1)}},s.a.createElement("span",null,C("Cancel"))),s.a.createElement(d.k,{size:"5",className:"dropdown_cancel dropdown_ok",onClick:function(){k(),S(_),h(!1)}},s.a.createElement("span",null,C("Ok_TEXT"))),s.a.createElement(d.k,{size:"1"}))))))}),lE=function(e){var t=Object(hs.a)().t,a={options:H,setFilter:e.setWatchedFilter,direction:e.filter.direction},r={options:B,setFilter:e.setRecommendedFilter,direction:e.recommendedfilter.direction},n="watched"===e.segment.name?{dropdown:a,direction:e.filter.direction,storeOptions:e.filter.selected}:{dropdown:r,direction:e.recommendedfilter.direction,storeOptions:e.recommendedfilter.selected};return e.watchedLoad&&e.watchedLoad.length>0&&"watched"===e.segment.name||e.recommendedloadData&&e.recommendedloadData.length>0&&"recommended"===e.segment.name?s.a.createElement("div",{className:"short-div "+(e.hasNotification?"has-notification":"")},("recommended"===e.segment.name||"watched"===e.segment.name)&&s.a.createElement(d.H,{class:"short-row"},s.a.createElement(d.k,{size:"5",class:"rec_text"},"recommended"===e.segment.name?s.a.createElement("span",{className:"recommendations_num"},e.totalRecommendedRecords," "):s.a.createElement("span",{className:"recommendations_num"},e.totalWatchedRecords," "),"recommended"===e.segment.name&&e.recommendedloadData.length>1?t("RECOMMENDATION_COUNTS"):"recommended"===e.segment.name&&1===e.recommendedloadData.length?t("RECOMMENDATION_COUNT"):"watched"===e.segment.name&&e.watchedLoad.length>1?t("WATCHED_COUNTS"):"watched"===e.segment.name&&1===e.watchedLoad.length?t("WATCHED_COUNT"):null),s.a.createElement(d.k,{size:"7",class:"sort_select"},s.a.createElement("div",{className:"select_div"},s.a.createElement(cE,n))))):null},uE=function(e){var t=Object(hs.a)().t,a=Object(i.useState)(!1),r=Object(Fe.a)(a,2),n=r[0],o=r[1],c=function(){var t=Object(He.a)(Ge.a.mark((function t(a){var r,n,i,s;return Ge.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"watched"!==e.segment.name||Object(d.V)("desktop")||e.pullToRefreshStatus||e.loading||(r=Math.floor(e.totalWatchedRecords/e.pageSize),n=e.totalWatchedRecords%e.pageSize===0?r-1:r,!e.isWatchLoadEnd&&e.currentPage<n?(i=e.currentPage+1,s=function(t){0!==t&&t%e.pageSize===0||e.setWatchedLoadEnd(!0)},e.setCurrentPage(i),e.getWatchedLoads(!1,i,s),e.onAnalyticsLoadPosting(e.segment.name)):e.setWatchedLoadEnd(!0)),"recommended"!==e.segment.name||Object(d.V)("desktop")||e.pullToRefreshStatus||e.loading||l(),a.target.complete();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){if(e.recommendedloadData.length===e.totalRecommendedRecords)return e.setRecommendedLoadEnd(!0),!0;var t=Math.floor(e.totalRecommendedRecords/e.pageSize),a=e.totalRecommendedRecords%e.pageSize===0?t-1:t;if(!e.isRecommendedEnd&&e.recommendedCurrentpage<a){var r=e.recommendedCurrentpage+1;e.setRecommendedcurrentPage(r),e.getRecommendedLoads(!1,r,(function(t){0!==t&&t%e.pageSize===0||e.setRecommendedLoadEnd(!0)})),e.onAnalyticsLoadPosting(e.segment.name)}else e.setRecommendedLoadEnd(!0)};return s.a.createElement(d.B,{className:"desktop-page"},s.a.createElement(d.Q,{"data-test":"ion-toast",isOpen:!!e.apiError,message:t(e.apiError),duration:5e3,color:"dark",onDidDismiss:function(){e.clearApiResponseError()}}),s.a.createElement(Sc,{title:"Loads",getSegment:function(t){e.setSegment({name:t.detail.value,data:{}})},segments:e.sections,activeSegment:e.segment.name,isHome:!0,notification:Object(p.a)(Object(p.a)({},e),{},{setHasNotification:o})}),s.a.createElement(d.l,{className:"ion-padding custom-padding load-page-content home-page",class:"background"},s.a.createElement(no,{"data-test":"pull-to-refresh",onPullToRefresh:"watched"===e.segment.name?e.getWatchedLoads:e.getRecommendedLoads,status:e.pullToRefreshStatus,networkStatus:e.isNetworkAvailable,showAlert:e.showAlert}),s.a.createElement(lE,Object.assign({},e,{hasNotification:n})),s.a.createElement(oE,{"data-test":"Segment-Content",history:e.history,type:e.segment.name,isloaded:e.loading,recommendedloads:e.recommendedloadData,watchedLoad:e.watchedLoad,isWatchLoadEnd:e.isWatchLoadEnd,isRecommendedLoadEnd:e.isRecommendedEnd,load:e.segment.data,setView:function(t){e.setSegment({name:"View",data:t})},showAlert:e.showAlert,isNetworkAvailable:e.isNetworkAvailable,toggleWatchLoad:e.toggleWatchLoad(e)}),s.a.createElement(d.s,{onIonInfinite:c},s.a.createElement(d.t,{loadingSpinner:null,loadingText:""}))))},dE=function(e){St("watched"===e?ot.UE_VIEW_WATCHED_TAB:ot.UE_SCROLL_RECOMMENDATIONS,{screen:ct.HOME,tab:"watched"===e?x.WATCHED:x.RECOMMENDED})},pE=function(e){var t=e.selected,a="asc"===e.direction,r=B[0].value;return t.length>0&&(r=t.filter((function(e){return e.selected})).map((function(e){return e.value})).join("")),{filterBy:r,isAsc:a}},mE=function(e,t,a){if("origin_from_date"===a)return e&&Object(Se.a)(e).sort((function(e,a){var r=e.loadStop.filter((function(e,t){return"P"===e.stopType})),n=a.loadStop.filter((function(e,t){return"P"===e.stopType}));return e&&e.loadStop&&e.loadStop.length>0&&r&&r.length>0&&r[0].appointmentFrom&&a&&a.loadStop&&a.loadStop.length>0&&n&&n.length>0&&n[0].appointmentFrom?new Date(r[0].appointmentFrom).getTime()>new Date(n[0].appointmentFrom).getTime()?t?1:-1:t?-1:1:e.loadStop.length>0&&r&&r.length>0&&r[0].appointmentFrom&&!(a&&a.loadStop&&a.loadStop.length>0&&n&&n.length>0&&n[0].appointmentFrom)?t?-1:1:(!(e&&e.loadStop.length>0&&r&&r.length>0&&r[0].appointmentFrom)&&a&&a.loadStop&&a.loadStop.length>0&&n&&n.length>0&&n[0].appointmentFrom,t?1:-1)}));if("totalDistance"===a)return St(ot.UE_SORT_DISTANCE,{screen:ct.HOME_SORT_DISTANCE}),e&&Object(Se.a)(e).sort((function(e,a){return e&&e.totalDistance&&a&&a.totalDistance?e.totalDistance>a.totalDistance?t?1:-1:t?-1:1:(e&&e.totalDistance||!a||a.totalDistance,t?1:-1)}));St(ot.UE_SORT_PRICE,{screen:ct.HOME_SORT_PRICE});var r=e&&e.filter((function(e,t){return e&&e.rate&&null!==e.rate&&e.rate.totalCharge&&0!==e.rate.totalCharge&&null!==e.rate.totalCharge})),n=e&&e.filter((function(e,t){return!(e&&e.rate&&null!==e.rate&&e.rate.totalCharge&&0!==e.rate.totalCharge&&null!==e.rate.totalCharge)}));return(r&&Object(Se.a)(r).sort((function(e,a){return e&&e[G]&&e[G].totalCharge&&a&&a[G]&&a[G].totalCharge?e[G].totalCharge>a[G].totalCharge?t?1:-1:t?-1:1:e&&e[G]&&e[G].totalCharge&&!(a&&a[G]&&a[G].totalCharge)?t?-1:1:(!(e&&e[G]&&e[G].totalCharge)&&a&&a[G]&&a[G].totalCharge,t?1:-1)}))).concat(n)},fE=function(e){return function(t){var a=e.userDetails,r=a.carrierId,n=a.userPrincipalName;if(!e.isNetworkAvailable)return e.showAlert(),!0;var i=(new Date).toISOString(),s={carrierId:r,userId:n,origin:"",loadId:t,watchDate:i},o=e.watchedLoad.find((function(e){return e.loadId===t})),c=new op,l=function(){return e.addWatchLoad({query:c.addWatchLoad(s),loadDetails:o})};e.removeWatchLoad({query:c.removeWatchLoad(s),loadId:t,callback:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e)return Dr.show(Sr.t("watchedErrorText")),!0;Dr.open({message:Sr.t("WATCHED_LOAD_REMOVE"),showUndo:!0,callback:l})}})}},EE=Object(xe.b)({deepLinkURI:dn(),userDetails:pn(),getWatchedLoadsData:Md(),pullToRefreshStatus:mn(),filter:Object(xe.a)([jd],(function(e){return e.watched.filter||ye.watched})),recommendedfilter:Object(xe.a)([jd],(function(e){return e.recommended.filter||ye.recommended})),isNetworkAvailable:fn(),apiError:xd(),getRecommendedLoadsData:wd(),isRecommenedLoaded:Object(xe.a)([jd],(function(e){return e.recommended.loaded||ye.recommended.loaded})),isWatchedLoaded:Object(xe.a)([jd],(function(e){return e.watched.loaded||ye.watched.loaded})),totalWatchedRecords:Object(xe.a)([jd],(function(e){return e.watched.totalRecords||ye.watched.totalRecords})),totalRecommendedRecords:Object(xe.a)([jd],(function(e){return e.recommended.totalRecords||ye.recommended.totalRecords})),moreContent:En(),isNotificationClosed:Object(xe.a)([cn],(function(e){return e.isNotificationClosed||sn.isNotificationClosed}))}),hE=Object(u.c)(EE,(function(e){return{watchedData:function(t){return e({type:"WATCHEDLOAD_DATA_REQUEST",payload:t})},showAlert:function(){return e(or())},addWatchLoad:function(t){return e(na(t))},removeWatchLoad:function(t){return e(ia(t))},setWatchedFilter:function(t){return e(function(e){return{type:"WATCHED_LOAD_FILTER",payload:e}}(t))},setRecommendedFilter:function(t){return e(function(e){return{type:"RECOMMENDED_LOAD_FILTER",payload:e}}(t))},clearApiResponseError:function(){return e({type:"CLEAR_API_RESPONSE_ERROR"})},recommendedData:function(t){return e(function(e){return{type:"RECOMMENDED_LOADS_REQUEST",payload:e}}(t))},setShowNotification:function(t){return e(dr(t))}}})),gE=fs({key:"carrier",reducer:Oe}),vE=ps({key:"carrier",saga:sE}),bE=Object(m.compose)(vE,gE,hE)(s.a.memo((function(e){var t=e.history,a=e.userDetails,r=e.recommendedfilter,n=e.filter,o=e.getWatchedLoadsData,c=e.isWatchedLoaded,l=e.isRecommenedLoaded,u=e.getRecommendedLoadsData,d=[],p=t.location.pathname;ja("home","recommended")&&d.push("recommended"),ja("home","watched")&&d.push("watched");var m=Object(i.useState)({name:"/app/home/watched"===p?d[1]:d[0],data:{}}),f=Object(Fe.a)(m,2),E=f[0],h=f[1],g=Object(i.useState)([]),v=Object(Fe.a)(g,2),b=v[0],S=v[1],y=Object(i.useState)([]),O=Object(Fe.a)(y,2),_=O[0],A=O[1],D=Object(i.useState)(0),T=Object(Fe.a)(D,2),R=T[0],N=T[1],I=Object(i.useState)(0),C=Object(Fe.a)(I,2),k=C[0],j=C[1],L=Object(i.useState)(!1),w=Object(Fe.a)(L,2),M=w[0],P=w[1],U=Object(i.useState)(!1),x=Object(Fe.a)(U,2),F=x[0],V=x[1],G=_s(),B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];N(e),P(t)},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];j(e),V(t)},z=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"load_id",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"asc",c=arguments.length>5&&void 0!==arguments[5]&&arguments[5];t&&q();var l=pE(r),u=l.isAsc,d=l.filterBy;if(a.carrierId&&null!==a.carrierId&&""!==a.carrierId){var p=u?"asc":"desc",m=new js;return m.carrierId=a&&a.carrierId||"",m.carrierScac=a&&a.carrierScac||"",m.carrierTier=a&&a.carrierTier||"",m.page=n,m.size=5,m.sortColumn=s||d,m.sortDirection=o||p,m.userRole=G.join(",")||"",m.managedEquipmentCapability=a&&a.managedEquipmentCapability||null,m.nonManagedEquipmentCapability=a&&a.nonManagedEquipmentCapability||null,e.recommendedData({query:m.getRequestPayload(),refreshStatus:t,sorRefresh:c,callback:i})}},Y=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"load_id",s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"asc";if(t&&B(),a.carrierId&&null!==a.carrierId&&""!==a.carrierId){var o=new op;return o.carrierId=a&&a.carrierId,o.page=r,o.userId=a&&a.userPrincipalName||"",o.size=5,o.sortDirection=s,o.sortColumn=i,o.userRole=G.join(",")||"",o.managedEquipmentCapability=a&&a.managedEquipmentCapability,o.nonManagedEquipmentCapability=a&&a.nonManagedEquipmentCapability,e.watchedData({query:o.getRequestPayload(),refreshStatus:t,callback:n})}},W=function(){var e=n.selected,t="asc"===n.direction,a=H[0].value;e.length>0&&(a=e.filter((function(e){return e.selected})).map((function(e){return e.value})).join(""));var r=mE(o,t,a);A(r)},K=function(){var t=pE(r),a=t.isAsc,n=t.filterBy,i=mE(e.getRecommendedLoadsData,a,n);S(i)};return Object(i.useEffect)((function(){W(),c&&o.length<5&&B(0,!0)}),[o]),Object(i.useEffect)((function(){K(),l&&u.length<5&&q(0,!0)}),[u]),Object(i.useEffect)((function(){W()}),[n]),Object(i.useEffect)((function(){K()}),[r]),Object(i.useEffect)((function(){a&&0===o.length&&!c&&Y()}),[a,o]),Object(i.useEffect)((function(){a&&0===u.length&&!l&&z()}),[a,u]),Object(i.useEffect)((function(){St(ot.SV_HOME,{screen:ct.HOME,tab:lt.RECOMMENDED}),dE(E.name),yt("recommended"===E.name?"screen_recommended":"screen_watched"),St(ot.UE_VIEW_RECOMMENDED_TAB,{screen:ct.HOME,tab:lt.RECOMMENDED})}),[]),s.a.createElement(uE,Object.assign({},e,{recommendedloadData:b,getWatchedLoads:Y,getRecommendedLoads:z,segment:E,setSegment:h,sections:d,watchedLoad:_,currentPage:R,recommendedCurrentpage:k,isWatchLoadEnd:M,isRecommendedEnd:F,doSorting:mE,setRecommendedcurrentPage:j,setCurrentPage:N,setRecommendedLoadEnd:V,setWatchedLoadEnd:P,toggleWatchLoad:fE,pageSize:5,onAnalyticsLoadPosting:dE}))}))),SE=(a(288),function(){function e(){Object(qe.a)(this,e)}return Object(ze.a)(e,[{key:"getTimeWithTimezone",value:function(e){return this.getTimeForIOS(_u.tz(e).format())}},{key:"isIOSPlatform",value:function(){return Object(d.V)("ios")||Object(d.V)("ipad")||Object(d.V)("iphone")}},{key:"getTimeForIOS",value:function(e){var t=_u.tz.guess();return _u.tz(e.substring(0,16),t).format()}},{key:"yearsValue",value:function(){return(new Date).getFullYear()}},{key:"isConfirmStartButtonDisabled",value:function(e){var t=e||{},a=t.startCity,r=t.startState,n=t.startDateTime;return(a||r)&&n}},{key:"getCurrentOpenStop",value:function(e){var t=-1;if(this.isConfirmStartButtonDisabled(e)&&(t=0),this.isOTMTypeShipment(e),e&&e.loadStop){var a=e.loadStop||[];(a=a.slice().sort((function(e,t){return e.sequenceNo&&t.sequenceNo?e.sequenceNo-t.sequenceNo:e.stopSequence&&t.stopSequence?e.stopSequence-t.stopSequence:0}))).forEach((function(e,a){e.actualDepartureDateTime&&(t=a+1)}))}return t}},{key:"isOTMTypeShipment",value:function(e){var t=!1;return e&&!0===e.managedEquipment&&(t=!0),t}},{key:"isOTypeStop",value:function(e){var t=!1;return e&&"O"===e.stopType&&(t=!0),t}},{key:"getStartingLocation",value:function(e){var t=e||{},a=t.startCity,r=t.startState;return"".concat(a).concat(r?", ":"").concat(r).trim()}},{key:"getStartingDateTime",value:function(e){return(e||{}).startDateTime}},{key:"getTimeZone",value:function(e){return e.timeZone}},{key:"getCurrentTimeInISO",value:function(){var e=6e4*(new Date).getTimezoneOffset();return new Date(Date.now()-e).toISOString().slice(0,-1)}},{key:"isShipmentTripCompleted",value:function(e){var t=!1;return e&&e.executionStatus===L.COMPLETED&&(t=!0),t}},{key:"showTrailerInError",value:function(e,t,a,r,n){return!(!this.isOTMTypeShipment(t)||e||r||n&&n.actualDepartureDateTime||!a)}},{key:"showTrailerOutError",value:function(e,t,a,r,n){return!(!this.isOTMTypeShipment(t)||e||r||n&&n.actualDepartureDateTime||!a)}},{key:"getTrailerIn",value:function(e,t,a){var r,n="",i=this.isOTMTypeShipment(t);if(this.isOTypeStop(e))n="";else if(e&&e.stopActivity&&e.stopActivity.length>0){if((r=e.stopActivity.find((function(e){return e.equipmentFlow===Go.TRAILER_IN}))||{})&&(n="".concat(r.equipmentId||"")),(a&&a.sequenceNo)===(e&&e.sequenceNo-1)&&i){var s=(t&&t.loadStop||[]).filter((function(t){return t.sequenceNo===e.sequenceNo-1}));if(s.length>0)n=(s[0].stopActivity&&s[0].stopActivity.find((function(e){return e.equipmentFlow===Go.TRAILER_OUT}))||{}).equipmentId}}return n=n&&n.toUpperCase(),i?n&&!ne.test(n)&&(n=""):n&&"UNKNOWN"===n&&(n=""),{trailerIn:n,activity:r}}},{key:"getTrailerOut",value:function(e,t){var a,r="";e&&e.stopActivity&&e.stopActivity.length>0&&(a=e.stopActivity.find((function(e){return e.equipmentFlow===Go.TRAILER_OUT}))||{})&&(r="".concat(a.equipmentId||""));var n=this.isOTMTypeShipment(t);return r=r&&r.toUpperCase(),n?r&&!ne.test(r)&&(r=""):r&&"UNKNOWN"===r&&(r=""),{trailerOut:r,activity:a}}}]),e}()),yE=function(){function e(){Object(qe.a)(this,e),this.startTripModel=new SE}return Object(ze.a)(e,[{key:"isAllStopCompleted",value:function(e){var t=!1;if(e&&e.loadStop){var a=e.loadStop||[];t=!((a=a.slice().sort((function(e,t){return e.sequenceNo&&t.sequenceNo?e.sequenceNo-t.sequenceNo:e.stopSequence&&t.stopSequence?e.stopSequence-t.stopSequence:0}))).length>0)||!!a[a.length-1].actualDepartureDateTime}return t}},{key:"isTripCompleted",value:function(e){return e&&e.executionStatus===L.COMPLETED||!1}},{key:"getETA",value:function(e){var t=e.estimatedArrivalDateTime,a=e.actualETADateTime,r=e.appointmentEarlyDateTime,n=e.plannedEtaDateTime,i="";return a?i=a:n?i=n:r?i=r:t&&(i=t),i&&(i=this.startTripModel.getTimeForIOS(i)),i||""}},{key:"getArrival",value:function(e,t){var a=e.actualArrivalDateTime;return a&&(a=this.startTripModel.getTimeForIOS(a)),a}},{key:"getArrivalLabelName",value:function(e,t){return e.actualArrivalDateTime&&!t?"Arrived":"Arrival"}},{key:"getDeparture",value:function(e,t){var a=e.actualDepartureDateTime;return a&&(a=this.startTripModel.getTimeForIOS(a)),a}},{key:"getDepartureLabelName",value:function(e){return e.actualDepartureDateTime?"Departed":"Departure"}},{key:"isETAReadonly",value:function(e){var t=e.actualArrivalDateTime,a=e.actualDepartureDateTime,r=!1;return(t||a)&&(r=!0),r}},{key:"isArrivalReadonly",value:function(e){var t=e.actualDepartureDateTime,a=e.actualArrivalDateTime,r=!1;return(t||a)&&(r=!0),r}},{key:"isDepartureReadonly",value:function(e,t){var a=e.actualDepartureDateTime,r=!1;return e.actualArrivalDateTime||(r=!0),t&&(r=!1),a&&(r=!0),r}},{key:"areStopActivitiesMissing",value:function(e){var t=e&&e.stopActivity||[],a=[];return t.forEach((function(e){"bobtail"!==(e.tmsActivity||"").toUpperCase().trim()&&a.push(e)})),0===a.length||!1}}]),e}(),OE=new yE,_E=function(e){var t=OE.getETA(e.loadStop),a=Rs();return Object(i.useEffect)((function(){e.onChange(t)}),[t,e.shipmentId,e.timestamp]),s.a.createElement(s.a.Fragment,null,s.a.createElement(d.w,{className:"ETA-label"},"ETA"),s.a.createElement(d.m,{displayFormat:"MMM DD hh:mm A",pickerFormat:"YYYY MMM DD hh:mm A",className:"ETA-picker ".concat(OE.isETAReadonly(e.loadStop)?"hide-border":""," execution-field"),value:e.value,onIonChange:function(t){t.detail.value&&e.onChange(t.detail.value)},yearValues:a,minuteValues:"00,05,10,15,20,25,30,35,40,45,50,55",mode:"ios",readonly:OE.isETAReadonly(e.loadStop)||e.isNextStop,disabled:OE.isETAReadonly(e.loadStop)||e.isNextStop}))},AE=new yE,DE=function(e){var t=AE.getArrival(e.loadStop,e.isNextStop),a=Rs(),r=Object(hs.a)().t;return Object(i.useEffect)((function(){e.onChange(t)}),[t,e.shipmentId,e.timestamp]),s.a.createElement(s.a.Fragment,null,s.a.createElement(d.w,{className:"arrival-label "},r(AE.getArrivalLabelName(e.loadStop,e.isNextStop))),s.a.createElement(d.m,{readonly:AE.isArrivalReadonly(e.loadStop)||e.isNextStop,disabled:AE.isArrivalReadonly(e.loadStop)||e.isNextStop,displayFormat:"MMM DD hh:mm A",pickerFormat:"YYYY MMM DD hh:mm A",value:e.value,minuteValues:"00,05,10,15,20,25,30,35,40,45,50,55",onIonChange:function(t){t.detail.value&&e.onChange(t.detail.value)},yearValues:a,"display-timezone":e.timeZone,className:"start-trip-location4 execution-field arrival-width2 ".concat(AE.isArrivalReadonly(e.loadStop)?"hide-border":""," ").concat(e.isError?"execution-validation-error":""),mode:"ios"}))},TE=new yE,RE=function(e){var t=TE.getDeparture(e.loadStop,e.isNextStop),a=Rs(),r=Object(hs.a)().t;Object(i.useEffect)((function(){e.onChange(t)}),[t,e.shipmentId,e.timestamp]);var n=TE.isDepartureReadonly(e.loadStop,e.arrivalVal);return s.a.createElement(s.a.Fragment,null,s.a.createElement(d.w,{className:"arrival-label "},r(TE.getDepartureLabelName(e.loadStop))),s.a.createElement(d.m,{readonly:n||e.isNextStop,disabled:n||e.isNextStop,displayFormat:"MMM DD hh:mm A",pickerFormat:"YYYY MMM DD hh:mm A",value:e.value,onIonChange:function(t){t.detail.value&&e.onChange(t.detail.value)},yearValues:a,"display-timezone":e.timeZone,minuteValues:"00,05,10,15,20,25,30,35,40,45,50,55",className:"start-trip-location4 arrival-width2 execution-field ".concat(n&&e.value?"hide-border":""," ").concat(e.isError?"execution-validation-error":""),mode:"ios"}))},NE=function(e){var t=Object(i.useState)(!1),a=Object(Fe.a)(t,2),r=a[0],n=a[1],o=Object(i.useState)(""),c=Object(Fe.a)(o,2),l=c[0],u=c[1],p=/^[a-zA-Z0-9, ]*$/,m=Object(i.useState)(re),f=Object(Fe.a)(m,2),E=f[0],h=f[1],g=Object(i.useRef)(),v=Object(hs.a)().t;Object(i.useEffect)((function(){u(e.value),""===e.value&&h(re)}),[e.value]);return s.a.createElement(s.a.Fragment,null,s.a.createElement(d.u,{class:"tariler-feild",value:l,onClick:function(){!E.length||l?n(!1):n(!0)},onIonChange:function(t){return function(t){var a=t&&t.target&&t.target.value;t.target.value=a&&t.target.value.toUpperCase()||"";var r=l&&l.trim()||"";p.test(t.target.value)||(t.target.value=a&&t.target.value.replace(/[^a-zA-Z0-9 ]*/g,"")||"");if((a&&-1!==t.target.value.indexOf("BOBTAIL")&&/^BOBTAIL./.test(t.target.value)?t.target.value="BOBTAIL":(a&&-1!==t.target.value.indexOf("SNLU")&&t.target.value.length>10||a&&-1!==t.target.value.indexOf("TA")&&t.target.value.length>8||a&&t.target.value.length>10)&&(t.target.value=r),u(t.target.value),l!==t.target.value)&&r!==(a&&t.target.value.trim()||"")){var i=re.filter((function(e){return-1!==e.indexOf(t.target.value)}));n(!!i.length),h(i)}"BOBTAIL"===l&&n(!1),!a||"SNLU"!==t.target.value&&"TA"!==t.target.value||g.current.setFocus(),e.onChange(a&&t.target.value||"")}(t)},disabled:e.disabled,onIonBlur:function(){return n(!1)},onIonFocus:e.onFocus,ref:g}),r&&!e.disabled&&s.a.createElement(d.o,{class:"option-grid"},E&&E.map((function(e,t){return s.a.createElement(d.H,{onMouseDown:function(){u(e),n(!1)},key:t},e)}))),e.showError&&s.a.createElement("div",{className:"pickupdate-error error-message",style:{textAlign:"left"}},s.a.createElement("p",null,v("RequiredField"))))},IE=function(e){var t=(new SE).getTrailerIn(e.loadStop,e.shipment,e.updateStopInfo),a=Object(hs.a)().t;return Object(i.useEffect)((function(){e.onChange(t.trailerIn),t&&t.activity&&e.changeActivity(t.activity)}),[t.trailerIn,JSON.stringify(t.activity),e.shipmentId,e.timestamp]),s.a.createElement(s.a.Fragment,null,s.a.createElement(d.w,{className:"ETA-label "},a("Trailer In")),s.a.createElement(NE,{value:e.value,onChange:function(t){return e.onChange(t)},showError:e.showError,disabled:e.readonly||e.isNextStop,onFocus:function(){e.expandCurrentStopForcefully()}}))},CE=function(e){var t=(new SE).getTrailerOut(e.loadStop,e.shipment),a=Object(hs.a)().t;return Object(i.useEffect)((function(){e.onChange(t.trailerOut),t&&t.activity&&e.changeActivity(t.activity)}),[JSON.stringify(t),e.shipmentId,e.timestamp]),s.a.createElement(s.a.Fragment,null,s.a.createElement(d.w,{className:"ETA-label"},a("Trailer Out")),s.a.createElement(NE,{value:e.value,onChange:function(t){return e.onChange(t)},showError:e.showError,disabled:e.readonly||e.isNextStop,onFocus:function(){e.expandCurrentStopForcefully()}}))},kE=function(e){var t=s.a.useState(!1),a=Object(Fe.a)(t,2),r=a[0],n=a[1],o=s.a.useState(!1),c=Object(Fe.a)(o,2),l=c[0],u=c[1],p=e.stopDetail,m=e.shipment,f=p&&p.stopReference&&p.stopReference.length?p.stopReference:[],E=m&&m.shipmentReferences&&m.shipmentReferences.length?m.shipmentReferences:[],h=[].concat(Object(Se.a)(f),Object(Se.a)(E)),g=Object(hs.a)().t,v=function(){n(!1)};return Object(i.useEffect)((function(){St(ot.SV_VIEW_REFERENCE,{screen:ct.MYLOADS_NEEDS_PPWK,carrierId:e.carrierId,shipmentId:e.stopDetail.shipmentId,stopId:e.stopDetail.stopId})}),[]),s.a.createElement(s.a.Fragment,null,r&&s.a.createElement(s.a.Fragment,null,s.a.createElement(d.A,{isOpen:r,cssClass:"dropdown-modal",backdropDismiss:!1,onDidDismiss:function(){return v()}},s.a.createElement("div",{className:"modal-div",onClick:function(){return v()},"data-test":"modal-div"},s.a.createElement(d.g,{className:"referencemodal-card"},s.a.createElement(d.i,{className:"start-trip-cardContent",onClick:v},g("REFERENCE")),s.a.createElement(d.h,{className:"reference-card-content"},s.a.createElement(d.H,{className:"reference-header"},s.a.createElement(d.k,{className:"reference-type-header",size:"6"},g("REFERENCE_TYPE_TEXT")),s.a.createElement(d.k,{className:"reference-type-header",size:"6"},g("REFERENCE_VALUE_TEXT"))),h&&h.map((function(e,t){return s.a.createElement(d.H,{key:t,className:"Reference-table-row"},s.a.createElement(d.k,{className:"reference-val",size:"6"},e.type),s.a.createElement(d.k,{className:"reference-val",size:"6"},e.value))}))))))),s.a.createElement(d.Q,{isOpen:l,message:g("NO_REFERENCE_MSG"),duration:5e3,color:"dark",onDidDismiss:function(){u(!1)},mode:"md"}),s.a.createElement(d.e,{className:"load-btn reference-btn",onClick:function(){h&&h.length?n(!0):u(!0)}},g("REFERENCE")))},jE=new SE,LE=new yE,wE=new ha,ME=wE.set_depMinTime(),PE=wE.set_depMaxTime(),UE=function(e){var t=e&&e.loadStop||[];return t=t.slice().sort((function(e,t){return e.sequenceNo&&t.sequenceNo?e.sequenceNo-t.sequenceNo:e.stopSequence&&t.stopSequence?e.stopSequence-t.stopSequence:0}))},xE=function(e,t){return e?t&&t.location.state&&t.location.state[e]:null},FE=new SE,VE=new yE,GE=new ha,HE=GE.set_depMinTime(),BE=GE.set_depMaxTime(),qE=function(e,t,a){return t?{equipmentFlow:Go.TRAILER_IN,equipmentId:a,equipmentOwner:t.equipmentOwner,equipmentType:t.equipmentType,id:t.id,name:t.name,stopId:t.stopId,execActivity:t.execActivity,seqNo:t.seqNo,tmsActivity:t.tmsActivity}:Object(p.a)(Object(p.a)({},qo),{},{stopId:e.stopId})},zE=function(e,t,a){return t?{equipmentFlow:Go.TRAILER_OUT,equipmentId:a,equipmentOwner:t.equipmentType,id:t.id,name:t.name,stopId:t.stopId,equipmentType:t.equipmentType,execActivity:t.execActivity,seqNo:t.seqNo,tmsActivity:t.tmsActivity}:Object(p.a)(Object(p.a)({},qo),{},{stopId:e.stopId})},YE=function(e){return s.a.createElement(d.A,{isOpen:!!e.warningDialogMessage,cssClass:"shipment-dialog",backdropDismiss:!1},s.a.createElement("section",null,e.warningDialogMessage),s.a.createElement("footer",null,s.a.createElement(d.k,null,s.a.createElement(d.e,{class:"btn btn-Yes",onClick:function(){return e.clearWarningDialogMessage()}},Sr.t("YES"))),s.a.createElement(d.k,null,s.a.createElement(d.e,{class:"btn btn-No",onClick:function(){return e.clearWarningDialogMessage()}},Sr.t("NO")))))},WE=function(e){var t=e.stopDetails,a=e.executionProgress,r=new SE,n=new yE,o=Object(i.useState)(!1),c=Object(Fe.a)(o,2),l=c[0],u=c[1],p=Object(i.useState)(""),m=Object(Fe.a)(p,2),f=m[0],E=m[1],h=Object(i.useState)(""),g=Object(Fe.a)(h,2),v=g[0],b=g[1],S=Object(i.useState)(""),y=Object(Fe.a)(S,2),O=y[0],_=y[1],A=s.a.useState(""),D=Object(Fe.a)(A,2),T=D[0],R=D[1],N=s.a.useState(""),I=Object(Fe.a)(N,2),C=I[0],k=I[1],j=s.a.useState(null),L=Object(Fe.a)(j,2),w=L[0],M=L[1],P=s.a.useState(null),U=Object(Fe.a)(P,2),x=U[0],F=U[1],V=Object(i.useState)(!1),G=Object(Fe.a)(V,2),H=G[0],B=G[1],q=Object(i.useState)(!1),z=Object(Fe.a)(q,2),Y=z[0],W=z[1],K=Object(i.useState)("0px"),X=Object(Fe.a)(K,2),Z=X[0],Q=X[1],J=Object(i.useState)(!1),$=Object(Fe.a)(J,2),ee=$[0],te=$[1],ae=Object(i.useState)(!1),re=Object(Fe.a)(ae,2),ie=re[0],se=re[1];Object(i.useEffect)((function(){u(e.index===e.expandedStop)}),[e.index,e.expandedStop,JSON.stringify(t)]),Object(i.useEffect)((function(){var t=a&&a[e.index]&&a[e.index].progress;t?3===t?(W(!0),B(!1)):(W(!1),B(!0),setTimeout((function(){return Q(oe(e.index,t))}),0)):(W(!1),B(!1))}),[e.index,e.expandedStop,l,JSON.stringify(t),v,a]),Object(i.useEffect)((function(){te(function(e,t){var a=new Date(jE.getTimeWithTimezone(t));return a.setMinutes(a.getMinutes()+60),!!(e&&new Date(e)>a)}(v,t.timeZone))}),[v]),Object(i.useEffect)((function(){se(function(e,t,a){var r=new Date(jE.getTimeWithTimezone(a));if(r.setMinutes(r.getMinutes()+PE),e){var n=t?new Date(t):r,i=new Date(e),s=!1;return i>r&&(s=!0),n.setMinutes(n.getMinutes()+ME),!s&&n>i&&(s=!0),!!s}return!1}(O,v,t.timeZone))}),[O]);var oe=function(e,t){var a=document.getElementById('"'.concat(e,'"')),r=a&&a.offsetHeight;return(r&&r*(t/3))+"px"};return s.a.createElement(s.a.Fragment,null,s.a.createElement(YE,e),s.a.createElement(d.o,{className:"stop-data-grid ".concat(Y?"dotted-border":""),id:'"'.concat(e.index,'"')},function(e,t){return e.index<e.totalStops-1?s.a.createElement(s.a.Fragment,null,0===e.index?s.a.createElement(d.r,{className:"stop-icon ".concat(t?"change_origin_icon":""),src:me.origin_pointer}):s.a.createElement(d.r,{className:"stop-icon",src:me.stop_pointer})):s.a.createElement(d.r,{className:"path_icon ".concat(LE.isAllStopCompleted(e.loadDetails)?"change_dst_icon":""),src:me.destination_pointer})}(e,Y),s.a.createElement(d.o,{className:"stop-address-grid"},H&&e.index<e.totalStops-1?s.a.createElement(d.o,{className:" ".concat(H?"progressDiv":"hide-line"),style:{height:"".concat(Z)}}):null,s.a.createElement(d.H,{className:"stop-address-gridspace"},s.a.createElement(d.k,{size:"7",className:"address-details2"},s.a.createElement(d.o,{className:"origin_city_shipment_p"},s.a.createElement("p",{className:"origin_city_shipment"},t.city,", ",t.state),s.a.createElement(d.q,{class:"plus-icon",src:l?me.minus:me.plus,onClick:function(){u(!l)}})),l?function(e,t,a){return s.a.createElement(d.o,{class:"complete-address2  ".concat(e?"fadein":"fadeout")},s.a.createElement(d.H,null,s.a.createElement(d.k,null,t.locationName&&s.a.createElement("p",null,t.locationName),t.addressLine1&&s.a.createElement("p",null," ",t.addressLine1),t.addressLine2&&s.a.createElement("p",null," ",t.addressLine2)),s.a.createElement(d.k,{size:"4"},s.a.createElement("span",{onClick:function(){a.openSatelliteMap(t.locationName,{lat:t.latitude,lng:t.longitude})},"data-test":"map-icon"},s.a.createElement(d.r,{src:"/assets/icon/shipment-map-icon.svg",className:"shipment-map-icon"})))))}(l,t,e):null),l?s.a.createElement(d.k,{size:"5",className:"address-details"},s.a.createElement(kE,{stopDetail:t,carrierId:e.carrierId,shipment:e.loadDetails})):null),l||e.index>e.expandedStop?s.a.createElement(d.H,null,function(e,t){return s.a.createElement(d.k,{size:"7",className:"address-details2"},s.a.createElement("p",{className:"origin_milehead load_header_elements"},0!==e.index&&e.index!==e.totalStops-1?s.a.createElement(s.a.Fragment,null,"Stop off "," ",e.index," :"," "):"",Yo(t&&t.stopActivity||[])),s.a.createElement("p",{className:"origin_dateTime origin-deadheadShipment2 ".concat(e.expandedStop?"":"origin-deadheadShipment2 ")},t&&As(t)))}(e,t),l?s.a.createElement(d.k,{size:"5",className:"address-details"},s.a.createElement(_E,{timestamp:e.timestamp,loadStop:e.stopDetails,onChange:function(e){E(e)},value:f,isNextStop:e.index>e.expandedStop,isExpanded:l,timeZone:e.stopDetails.timeZone,shipmentId:e.shipmentId})):null):null,l&&e.index>e.expandedStop||e.index<=e.expandedStop?s.a.createElement(d.o,{className:"address-details2"},s.a.createElement(d.H,{class:"arrival-row"},s.a.createElement(d.k,{size:"7",className:"address-details"},s.a.createElement(DE,{timestamp:e.timestamp,isError:ee,loadStop:e.stopDetails,etaValue:f,onChange:function(e){b(e)},value:v,isNextStop:e.index>e.expandedStop,valueEntered:function(){e.arivalEntered(e.index)},isExpanded:l,timeZone:e.stopDetails.timeZone,shipmentId:e.shipmentId})),s.a.createElement(d.k,{size:"5",className:"address-details"},s.a.createElement(IE,{shipment:e.loadDetails,timestamp:e.timestamp,expandCurrentStopForcefully:function(){return u(!0)},loadStop:e.stopDetails,onChange:function(e){R(e)},value:T,isNextStop:e.index>e.expandedStop,isExpanded:l,shipmentId:e.shipmentId,readonly:r.isOTypeStop(e.stopDetails)||r.isShipmentTripCompleted(e.loadDetails)||n.areStopActivitiesMissing(e.stopDetails),changeActivity:function(e){M(e)},showError:r.showTrailerInError(T,e.loadDetails,O,e.index>e.expandedStop,e.stopDetails),updateStopInfo:e.updateStopInfo}))),s.a.createElement(d.H,{class:"arrival-row"},s.a.createElement(d.k,{size:"7",className:"address-details"},s.a.createElement(RE,{timestamp:e.timestamp,isError:ie,loadStop:e.stopDetails,onChange:function(e){_(e)},value:O,isNextStop:e.index>e.expandedStop,arrivalVal:v,isExpanded:l,shipmentId:e.shipmentId,timeZone:e.stopDetails.timeZone})),s.a.createElement(d.k,{size:"5",className:"address-details"},s.a.createElement(CE,{shipment:e.loadDetails,timestamp:e.timestamp,expandCurrentStopForcefully:function(){return u(!0)},loadStop:e.stopDetails,onChange:function(e){k(e)},value:C,isNextStop:e.index>e.expandedStop,isExpanded:l,readonly:r.isShipmentTripCompleted(e.loadDetails)||r.isOTypeStop(e.stopDetails)||n.areStopActivitiesMissing(e.stopDetails),shipmentId:e.shipmentId,changeActivity:function(e){F(e)},showError:r.showTrailerOutError(C,e.loadDetails,O,e.index>e.expandedStop,e.stopDetails)}))),l&&!r.isShipmentTripCompleted(e.loadDetails)?s.a.createElement(d.H,null,s.a.createElement(d.e,{class:"load-btn load-btn3",id:"btn-update",onClick:function(){!function(e,t,a,r,n,i,s,o,c){var l=new Date(FE.getTimeWithTimezone(t.timeZone));l.setMinutes(l.getMinutes()+BE);var u=VE.isDepartureReadonly(t,n),d=VE.isArrivalReadonly(t);if(n&&new Date(n)>l&&!d)return e.onShowError(Sr.t("ARRIVAL_ERROR")),void St(ot.UE_STOP_UPDATE_FAILURE,{carrierId:e.carrierId,shipmentId:t.shipmentId,stopID:t.stopId});if(s){var p=n?new Date(n):l,m=new Date(s);if(m>l&&!u)return void e.onShowError(Sr.t("DEPARTURE_ERROR"));if(p.setMinutes(p.getMinutes()+HE),p>m&&!u)return void e.onShowError(Sr.t("DEPARTURE_ARRIVAL_ERROR"));if(FE.isOTMTypeShipment(e.loadDetails)&&!FE.isOTypeStop(e.stopDetails)&&!o)return void e.onShowError(Sr.t("TRAILER_IN_ERROR"));if(FE.isOTMTypeShipment(e.loadDetails)&&!FE.isOTypeStop(e.stopDetails)&&!c)return void e.onShowError(Sr.t("TRAILER_OUT_ERROR"))}if(FE.isOTMTypeShipment(e.loadDetails)&&c&&!ne.test(c))e.onShowError(Sr.t("VALID_TRAILER_OUT"));else if(FE.isOTMTypeShipment(e.loadDetails)&&o&&!ne.test(o))e.onShowError(Sr.t("VALID_TRAILER_IN"));else{var f,E,h=[];f=qE(t,a||null,o),E=zE(t,r||null,c),f.equipmentFlow===Go.TRAILER_IN&&h.push(f),E.equipmentFlow===Go.TRAILER_OUT&&h.push(E);var g={carrierPro:"",carrierScac:"",stopId:t.stopId,sequenceNo:t.sequenceNo,stopNumber:t.sequenceNo,locationId:t.locationId,city:t.city,state:t.state,country:t.country,latitude:t.latitude&&parseFloat(t.latitude),longitude:t.longitude&&parseFloat(t.longitude),timeZone:t.timeZone,positionDateTime:(new Date).toISOString(),actualArrivalDateTime:n,actualETADateTime:i,actualDepartureDateTime:s,stopTrailerActivity:h,carrierId:"",shipmentId:t.shipmentId,sourceSystem:t.sourceSystem,userId:""};e.changeExpandStop(g),e.GPSEnabledEvent(),St(ot.UE_STOP_UPDATE_SUCCESS,{carrierId:e.carrierId,shipmentId:t.shipmentId,stopID:t.stopId})}}(e,t,w,x,v,f,O,T,C)},"data-test":"update-stop",disabled:e.index>e.expandedStop||!e.isNetworkAvailable},Sr.t("UPDATE_STOP_CTA_TEXT"))):null):null)))},KE=function(e){var t=Object(i.useState)(e.isConfirmStartButton),a=Object(Fe.a)(t,2),r=(a[0],a[1]),n=Object(hs.a)().t,o=new SE,c=Object(i.useState)(""),l=Object(Fe.a)(c,2),u=l[0],p=l[1],m=Object(i.useState)(""),f=Object(Fe.a)(m,2),E=f[0],h=f[1],g=Object(i.useState)(""),v=Object(Fe.a)(g,2),b=(v[0],v[1]),S=Object(i.useState)(""),O=Object(Fe.a)(S,2),_=O[0],A=O[1],D=Object(i.useState)(""),T=Object(Fe.a)(D,2),R=T[0],N=T[1],I=Object(i.useState)(""),C=Object(Fe.a)(I,2),k=(C[0],C[1]),j=Object(i.useState)(""),L=Object(Fe.a)(j,2),w=(L[0],L[1]),M=Object(i.useState)(""),P=Object(Fe.a)(M,2),U=(P[0],P[1]),x=Object(i.useState)(""),F=Object(Fe.a)(x,2),V=(F[0],F[1]),G=Object(i.useState)(""),H=Object(Fe.a)(G,2),B=(H[0],H[1]),q=Object(i.useState)(!1),z=Object(Fe.a)(q,2),Y=z[0],W=z[1],K=Object(i.useState)(o.getCurrentTimeInISO()),X=Object(Fe.a)(K,2),Z=X[0],Q=X[1],J=Object(i.useState)(!1),$=Object(Fe.a)(J,2),ee=($[0],$[1]),te=Object(i.useState)(!1),ae=Object(Fe.a)(te,2),re=ae[0],ne=ae[1],ie=Object(i.useState)(""),se=Object(Fe.a)(ie,2),oe=se[0],ce=se[1],le=Object(i.useState)(!1),ue=Object(Fe.a)(le,2),de=ue[0],pe=ue[1],me=n(y),fe=Rs();Object(i.useEffect)((function(){Q(o.getCurrentTimeInISO()),p(""),A(""),N(""),ce(""),h("")}),[e.shipmentId]);var Ee=e.hideConfirmStart,he=Ee?e.ActualStart:Z;return he=o.getTimeForIOS(he),s.a.createElement(s.a.Fragment,null,s.a.createElement(d.H,null,s.a.createElement(d.k,{className:"origin-input"},Ee&&s.a.createElement(d.u,{value:e.locationOriginValue,className:"start-trip-date readonly-origin execution-field",readonly:!0,disabled:!0})||s.a.createElement(vs,{onTimeZoneChange:function(e){Y||(B(e),W(!0)),h(e)},Error:!1,labelValue:"",InputValue:u,InputName:"locationName",handleChange:function(e){"locationName"===e.target.name&&e.target.value.length>0&&b(""),de?(p(e.target.value),A(e.target.lat),N(e.target.lng),ce(e.target.country)):(k(e.target.value),w(e.target.country),U(e.target.lat),V(e.target.lng),p(e.target.value),A(e.target.lat),N(e.target.lng),ce(e.target.country),pe(!0))},isDestination:!1,deFaultValue:u,useHandler:!1,setErrorValue:function(e,t){ne(e),"locationName"===t&&!0===e?b(me):"locationName"===t&&!1===e&&b("")},locationValue:e.locationValue}))),s.a.createElement(d.H,null,s.a.createElement(d.k,null,s.a.createElement(d.w,{className:"actual-start"},n("ACTUAL_START_LABEL_TEXT")),s.a.createElement(d.m,{displayFormat:"MMM DD hh:mm A",pickerFormat:"YYYY MMM DD hh:mm A",className:"actual-start-time start-trip-date execution-field",minuteValues:"00,05,10,15,20,25,30,35,40,45,50,55",value:he,onIonChange:function(e){e.detail.value&&Q(e.detail.value)},yearValues:fe,readonly:Ee,disabled:Ee,mode:"ios"}))),Ee?null:s.a.createElement(d.H,null,s.a.createElement(d.e,{class:"load-btn load-btn2",onClick:function(){e.confirmStartInformation(u,Z,_,R,oe||"US",E),ee(!0),r(!1),Object(d.V)("mobile")&&e.GPSEnabledEvent(u)},disabled:""===u||""!==u&&re||""===Z||!e.networkStatus},n("CONFRIM_START_CTA_TEXT"))))},XE=function(){function e(){Object(qe.a)(this,e)}return Object(ze.a)(e,[{key:"confirmStart",value:function(e){return{mutation:{confirmStart:{__args:{input:e},status:!0,message:!0,shipment:{shipmentId:!0,lineOfBusiness:!0,transportMode:!0,totalWeight:!0,weightUOM:!0,totalDistance:!0,distanceUOM:!0,numberOfStops:!0,sourceTMS:!0,assignedCarrierId:!0,assignedTMSCarrierId:!0,isAppointmentConfirmed:!0,isHazardous:!0,isHighValue:!0,isTemperatureControlled:!0,isFreezeProtected:!0,readyDateTime:!0,readyDateTimeZone:!0,equipmentType:!0,predecessorShipmentId:!0,successorShipmentId:!0,assignmentStatus:!0,executionStatus:!0,masterBillOfLoading:!0,driverAssignmentStatus:!0,shipmentServices:{serviceDescription:!0},startCity:!0,startCountry:!0,startState:!0,startDateTime:!0,loadStop:{stopId:!0,locationId:!0,stopType:!0,sequenceNo:!0,locationName:!0,addressLine1:!0,addressLine2:!0,city:!0,state:!0,country:!0,postalCode:!0,timeZone:!0,longitude:!0,latitude:!0,estimatedArrivalDateTime:!0,plannedArrivalDateTime:!0,actualArrivalDateTime:!0,estimatedStopDuration:!0,plannedDepartureDateTime:!0,actualDepartureDateTime:!0,appointmentEarlyDateTime:!0,appointmentLateDateTime:!0,estimatedStopDurationUom:!0,plannedEtaDateTime:!0,stopReference:{id:!0,type:!0,value:!0},locationNotes:{id:!0,type:!0,value:!0},stopActivity:zo},shipmentInvolvedParties:{id:!0,partyId:!0,partyType:!0,partyName:!0,partyEmail:!0,partyPhone:!0},shipmentReferences:{id:!0,type:!0,value:!0,stopId:!0,shipmentId:!0,display:!0},assignmentTransaction:{transactionId:!0,driverId:!0,driverName:!0},managedEquipment:!0}}}}}}]),e}(),ZE=new SE,QE=new yE,JE=function(e,t,a,r,n){var i={},s=QE.isAllStopCompleted(e),o=$E(r),c=ZE.getStartingLocation(e);!function(e,t){var a=e&&new Date(e)||t,r=a.toLocaleString("default",{month:"short"}),n=a.getDate(),i=a.toLocaleString("default",{hour:"numeric",minute:"numeric",hour12:!0});"".concat(r," ").concat(n," ").concat(i)}(ZE.getStartingDateTime(e),a);var l=0,u=ZE.isConfirmStartButtonDisabled(e);return s||0===n||o[0]&&o[0].actualArrivalDateTime||t>0?l=3:(c&&(l=1),u&&(l=2)),i.startTrip={progress:l},o&&o.map((function(e,a){var r=0;s||a<t-1?r=3:a!==t&&a!==t-1||a===o.length-1||(n===a&&(r=.5),e.actualArrivalDateTime&&(r+=1),e.actualArrivalDateTime&&e.actualDepartureDateTime&&(r+=1),(n&&n-1===a||o[a+1]&&o[a+1].actualArrivalDateTime)&&(r=3)),i[a]={progress:r}})),i},$E=function(e){return e=e&&e.slice().sort((function(e,t){return e.sequenceNo&&t.sequenceNo?e.sequenceNo-t.sequenceNo:e.stopSequence&&t.stopSequence?e.stopSequence-t.stopSequence:0}))||[]},eh=function(e,t){return{isLoadRefreshed:!1,showExpandView:!1,isConfirmStartButton:!0,expandedStop:ZE.getCurrentOpenStop(e.loadDetails),locationName:t.currentLocationName,originError:"",isLocationExpand:e.locationValue,progressBarHeight:"0px",executionProgress:[]}},th=function(){function e(){Object(qe.a)(this,e)}return Object(ze.a)(e,[{key:"completeTrip",value:function(e){return{mutation:{completeTrip:{__args:{input:e},status:!0,message:!0,shipment:{shipmentId:!0,lineOfBusiness:!0,transportMode:!0,totalWeight:!0,weightUOM:!0,driverAssignmentStatus:!0,totalDistance:!0,distanceUOM:!0,numberOfStops:!0,sourceTMS:!0,assignedCarrierId:!0,assignedTMSCarrierId:!0,isAppointmentConfirmed:!0,isHazardous:!0,isHighValue:!0,isTemperatureControlled:!0,isFreezeProtected:!0,readyDateTime:!0,readyDateTimeZone:!0,equipmentType:!0,predecessorShipmentId:!0,successorShipmentId:!0,assignmentStatus:!0,executionStatus:!0,masterBillOfLoading:!0,shipmentServices:{serviceDescription:!0},startCity:!0,startCountry:!0,startState:!0,startDateTime:!0,loadStop:{stopId:!0,locationId:!0,stopType:!0,sequenceNo:!0,locationName:!0,addressLine1:!0,addressLine2:!0,city:!0,state:!0,country:!0,postalCode:!0,timeZone:!0,longitude:!0,latitude:!0,estimatedArrivalDateTime:!0,actualETADateTime:!0,plannedArrivalDateTime:!0,actualArrivalDateTime:!0,estimatedStopDuration:!0,plannedDepartureDateTime:!0,actualDepartureDateTime:!0,appointmentEarlyDateTime:!0,appointmentLateDateTime:!0,estimatedStopDurationUom:!0,plannedEtaDateTime:!0,stopReference:{id:!0,type:!0,value:!0},locationNotes:{id:!0,type:!0,value:!0},stopActivity:zo},shipmentInvolvedParties:{id:!0,partyId:!0,partyType:!0,partyName:!0,partyEmail:!0,partyPhone:!0},shipmentReferences:{id:!0,type:!0,value:!0,stopId:!0,shipmentId:!0,display:!0},assignmentTransaction:{transactionId:!0,driverId:!0,driverName:!0},managedEquipment:!0}}}}}}]),e}(),ah=function(){function e(){Object(qe.a)(this,e)}return Object(ze.a)(e,[{key:"updateStop",value:function(e){return{mutation:{updateStop:{__args:{input:e},status:!0,message:!0,shipment:{shipmentId:!0,lineOfBusiness:!0,transportMode:!0,totalWeight:!0,weightUOM:!0,totalDistance:!0,distanceUOM:!0,numberOfStops:!0,sourceTMS:!0,driverAssignmentStatus:!0,assignedCarrierId:!0,assignedTMSCarrierId:!0,isAppointmentConfirmed:!0,isHazardous:!0,isHighValue:!0,isTemperatureControlled:!0,isFreezeProtected:!0,readyDateTime:!0,readyDateTimeZone:!0,equipmentType:!0,predecessorShipmentId:!0,successorShipmentId:!0,assignmentStatus:!0,executionStatus:!0,masterBillOfLoading:!0,shipmentServices:{serviceDescription:!0},startCity:!0,startCountry:!0,startState:!0,startDateTime:!0,loadStop:{stopId:!0,locationId:!0,stopType:!0,sequenceNo:!0,locationName:!0,addressLine1:!0,addressLine2:!0,city:!0,state:!0,country:!0,postalCode:!0,timeZone:!0,longitude:!0,latitude:!0,plannedArrivalDateTime:!0,actualETADateTime:!0,actualArrivalDateTime:!0,estimatedStopDuration:!0,plannedDepartureDateTime:!0,actualDepartureDateTime:!0,appointmentEarlyDateTime:!0,appointmentLateDateTime:!0,estimatedStopDurationUom:!0,plannedEtaDateTime:!0,stopReference:{id:!0,type:!0,value:!0},locationNotes:{id:!0,type:!0,value:!0},stopActivity:zo},shipmentInvolvedParties:{id:!0,partyId:!0,partyType:!0,partyName:!0,partyEmail:!0,partyPhone:!0},shipmentReferences:{id:!0,type:!0,value:!0,stopId:!0,shipmentId:!0,display:!0},assignmentTransaction:{transactionId:!0,driverId:!0,driverName:!0},managedEquipment:!0}}}}}}]),e}(),rh=function(e,t){var a=e&&e.shipmentId;if(a){var r=t.driverLoads.filter((function(e){return e.shipmentId!==a}));if(t.driverLoads.filter((function(e){return e.shipmentId===a})).length>0){var n=t.inTransitLoads||[];e&&(n=n.concat(Object(p.a)({},e))),t.refreshDriverLoads(r),t.refreshInTransitLoad(n)}}},nh=function(e,t){var a=e&&e.shipmentId;if(a){var r=t.inTransitLoads.filter((function(e){return e.shipmentId!==a}));if(t.inTransitLoads.filter((function(e){return e.shipmentId===a})).length>0){var n=t.recentDelivered||[];e&&(n=n.concat(Object(p.a)({},e))),t.refereshRecentDelivered(n),t.refreshInTransitLoad(r)}}},ih=function(e){return e||{}},sh=function(e){return(e||{}).message},oh=function(e,t,a){var r=a.userDetails,n=void 0===r?{}:r,i=new th;a.shipmentCompleteTrip(i.completeTrip({carrierId:n.carrierId,shipmentId:t,sourceSystem:e,userId:n.userPrincipalName}),t),St(ot.UE_COMPLETE_TRIP,{screen:ct.SHIPMENT_DETAILS,carrierId:n.carrierId,shipmentId:t})},ch=function(){var e=h.OTM;Wu.a.callNumber(e,!0).then((function(e){})).catch((function(e){}))},lh=function(e,t){return e?_u.tz(e.substring(0,19),t).format():e};var uh=function(e){Object(Ke.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(Ze.a)(e);if(t()){var n=Object(Ze.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(Xe.a)(this,a)}}(a);function a(e){var r;return Object(qe.a)(this,a),(r=t.call(this,e)).startTripModel=void 0,r.startTrip=void 0,r.confirmStartInformation=function(e,t,a,n,i,s){var o=function(e,t,a,r,n,i,s){var o=s.userDetails,c=void 0===o?{}:o,l=s.loadDetails,u=void 0===l?{}:l,d=new XE,p=e?e.split(","):[];1===p.length&&p.push("");var m=t?_u.tz(t.substring(0,19),i).format():t;return s.confirmStartLoadInformation(d.confirmStart({carrierId:c.carrierId,carrierPro:"",carrierScac:"",city:p[0],country:n,latitude:a?a.toString():"",longitude:r?r.toString():"",positionDateTime:m,shipmentId:u.shipmentId,sourceSystem:u.sourceTMS,startDateTime:m,state:p[1],timeZone:i,userId:c.userPrincipalName}),(function(e){s.refreshShipmentInDriverLoads(e)})),{showExpandView:!0,expandedStop:ZE.getCurrentOpenStop(s.loadDetails),isConfirmStartButton:!1,isLoadRefreshed:!0,progressBarHeight:"70px"}}(e,t,a,n,i,s,r.props);r.setState(o)},r.updateExecutionProgress=function(e){var t=JE(r.props.loadDetails,r.state.expandedStop,r.state.actualStartDateTime,r.props.shipmentloadStop,e);r.setState({executionProgress:t},(function(){setTimeout((function(){r.getProgress()}),0)}))},r.getProgress=function(){if(r.state.executionProgress&&r.state.executionProgress.startTrip&&r.state.executionProgress.startTrip.progress){var e=r.state.executionProgress.startTrip.progress;if(3===e)r.setState({showDottedBorder:!0});else{r.setState({showDottedBorder:!1});var t=r.startTrip,a=t&&t.offsetHeight,n=a&&a*(e/3);r.setState({progressBarHeight:"".concat(n,"px")})}}},r.startTripModel=new SE,r.startTrip=null,r.state={showExpandView:!1,isConfirmStartButton:!0,expandedStop:r.startTripModel.getCurrentOpenStop(e.loadDetails),locationName:"",originError:"",isLocationExpand:e.locationValue,ActualStart:(new Date).toISOString(),isLoadRefreshed:!1,actualStartDateTime:new Date,currentLocationName:"",lat:"",lng:"",timezone:"",progressBarHeight:"20px",executionProgress:[],showDottedBorder:!1},r}return Object(ze.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState(eh(this.props,this.state)),setTimeout((function(){e.updateExecutionProgress()}),0)}},{key:"componentDidUpdate",value:function(e){var t=this;JSON.stringify(e.loadDetails)!==JSON.stringify(this.props.loadDetails)&&(this.setState(eh(this.props,this.state)),setTimeout((function(){t.updateExecutionProgress()}),0))}},{key:"render",value:function(){var e=this,t=$E(this.props.shipmentloadStop),a=this.startTripModel.isConfirmStartButtonDisabled(this.props.loadDetails);return s.a.createElement(s.a.Fragment,null,s.a.createElement(d.g,{className:"shipment-card"},s.a.createElement(d.o,{className:"stop-grid  ".concat(this.state.showDottedBorder?"dotted-border":""),style:{paddingBottom:"0px"},ref:function(t){return e.startTrip=t,!0},id:"start-trip"},s.a.createElement(d.o,{className:"".concat(this.state.showDottedBorder?"hide-line":"progressDiv"),style:{height:"".concat(this.state.progressBarHeight)}}),s.a.createElement(d.r,{src:me.start_trip_pointer,className:"stop-icon location-start ".concat(a?"change_icon":"")}),s.a.createElement(KE,{confirmStartInformation:this.confirmStartInformation,locationValue:this.props.locationValue,networkStatus:this.props.networkStatus,isConfirmStartButton:this.state.isConfirmStartButton,ActualStart:this.startTripModel.getStartingDateTime(this.props.loadDetails),shipmentId:this.props.shipmentId,hideConfirmStart:a,locationOriginValue:this.startTripModel.getStartingLocation(this.props.loadDetails),isNetworkAvailable:this.props.isNetworkAvailable,GPSEnabledEvent:this.props.GPSEnabledEvent})),s.a.createElement(d.o,{className:"stop-details-grid"},t&&t.length>0?t.map((function(a,r){return s.a.createElement(WE,{clearWarningDialogMessage:e.props.clearWarningDialogMessage,warningDialogMessage:e.props.warningDialogMessage,timestamp:e.props.timestamp,key:r,stopDetails:a,totalStops:t.length,index:r,showExpandView:e.state.showExpandView,expandedStop:e.state.expandedStop,changeExpandStop:function(t){return function(e,t,a){e.shipmentId=t.shipmentId,e.sourceSystem=t.loadDetails.sourceTMS;var r=new ah,n=t.userDetails,i=void 0===n?{}:n;a+1===e.sequenceNo?t.updateStopInformationResponse({shipmentId:e.shipmentId,sequenceNo:e.sequenceNo}):t.clearUpdateStopInformationResponse(),t.updateStopInformation(r.updateStop({sourceSystem:e.sourceSystem,carrierPro:e.carrierPro,carrierScac:e.carrierScac,shipmentId:e.shipmentId,stopId:e.stopId,sequenceNo:e.sequenceNo,stopNumber:e.stopNumber,locationId:e.locationId,carrierId:i.carrierId,userId:i.userPrincipalName,city:e.city,state:e.state,country:e.country,latitude:e.latitude,longitude:e.longitude,timeZone:e.timeZone,positionDateTime:e.positionDateTime,actualArrivalDateTime:lh(e.actualArrivalDateTime,e.timeZone),actualETADateTime:lh(e.actualETADateTime,e.timeZone),actualDepartureDateTime:lh(e.actualDepartureDateTime,e.timeZone),stopTrailerActivity:e.stopTrailerActivity}),(function(e){t.refreshShipmentsLoads(e)}))}(t,e.props,e.state.expandedStop)},shipmentId:e.props.shipmentId,carrierId:e.props.carrierId,isConfirmStartButton:e.state.isConfirmStartButton,loadDetails:e.props.loadDetails,isNetworkAvailable:e.props.isNetworkAvailable,executionProgress:e.state.executionProgress,arivalEntered:function(t){e.updateExecutionProgress(t)},onShowError:function(t){e.props.showErrorMessage(t)},GPSEnabledEvent:e.props.GPSEnabledEvent,openSatelliteMap:e.props.openSatelliteMap,updateStopInfo:e.props.updateStopInfo})})):null)))}}]),a}(i.Component),dh=function(e){var t=Object(d.V)("desktop"),a=e.showSatelliteMap,r=e.onDismissSatelliteMap,n=e.loadStop,i=e.shipmentId;return s.a.createElement(s.a.Fragment,null,s.a.createElement(d.A,{isOpen:a,onDidDismiss:function(){return r()},animated:!1,cssClass:"".concat(t?"satellite-view-desktop":"satellite-view-mobile")},s.a.createElement(d.l,{fullscreen:t},s.a.createElement(d.S,{className:"satellite-toolbar"},s.a.createElement(d.f,{slot:"end",onClick:function(){r()}},s.a.createElement(d.q,{className:"satellite-close",icon:"close"})),s.a.createElement(d.P,{className:"satellite-title"},"".concat(t?"Satellite view":i))),s.a.createElement("div",{className:"startTrip-map"},s.a.createElement(zd,{loadStop:n,isCarrierLoad:!0})))))},ph=function(){var e=Object(He.a)(Ge.a.mark((function e(t,a){var r,n,i,s;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.loadDetails,n=a.userDetails,!a.isCapacitor){e.next=8;break}return e.next=5,qa("DB_GPS_ACTIVATED_SHIPMENT");case 5:i=e.sent.value,s=i&&JSON.parse(i).shipmentID,r.shipmentInvolvedParties.map(function(){var e=Object(He.a)(Ge.a.mark((function e(t,i){var o;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s&&s===r.shipmentId&&t.partyId&&t.partyId.ignoreCase===n.email.ignoreCase&&t.partyType.toUpperCase()===K.PRIMARY_DRIVER&&n&&a&&(o={userId:n.email,carrierId:n.carrierId,activity:"",carrierScac:"",shipmentID:r.shipmentId,sourceTMS:r.sourceTMS,loadStops:r.loadStop},Za.details.sendGeoStartTripLocation(o));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}());case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),mh=function(){var e=Object(He.a)(Ge.a.mark((function e(t,a){var r,n,i;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=10;break}return e.next=3,qa("DB_GPS_ACTIVATED_SHIPMENT");case 3:if(r=e.sent.value,!(n=r&&JSON.parse(r).shipmentID)||!t.executionStatus||n!==t.shipmentId||t.executionStatus.toUpperCase()!==L.DELIVERED&&t.executionStatus.toUpperCase()!==L.COMPLETED){e.next=10;break}return e.next=8,Ya("DB_GPS_ACTIVATED_SHIPMENT");case 8:Za.details.stopGPS(),I.RELEASE===W.UNT&&((i=new Audio).src=N.STOP_TRIP,i.play());case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),fh=function(){var e=Object(He.a)(Ge.a.mark((function e(t,a,r){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Eh(t.loadDetails,a.userDetails,a.isCapacitor);case 2:if(!r){e.next=5;break}return e.next=5,ph(t.loadDetails,a.userDetails);case 5:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}(),Eh=function(){var e=Object(He.a)(Ge.a.mark((function e(t,a,r){var n,i;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=6;break}return e.next=3,qa("DB_GPS_ACTIVATED_SHIPMENT");case 3:n=e.sent.value,i=n&&JSON.parse(n).shipmentID,t.shipmentInvolvedParties.map(function(){var e=Object(He.a)(Ge.a.mark((function e(r,n){var s,o;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i||!t.executionStatus||!r.partyId||r.partyId.toUpperCase()!==a.email.toUpperCase()||r.partyType.toUpperCase()!==K.PRIMARY_DRIVER||t.executionStatus.toUpperCase()!==L.STARTED&&t.executionStatus!==L.IN_TRANSIT){e.next=7;break}return s={userId:a.email,carrierId:a.carrierId,activity:"",carrierScac:"",shipmentID:t.shipmentId,sourceTMS:t.sourceTMS,loadStops:t.loadStop},Za.details.startGPStracking(s),e.next=5,Ha("DB_GPS_ACTIVATED_SHIPMENT",JSON.stringify(s));case 5:hh(ot.UE_START_TRIP,ct.SHIPMENT_DETAILS,a.carrierId,t.shipmentId),I.RELEASE===W.UNT&&((o=new Audio).src=N.START_TRIP,o.play());case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}());case 6:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}(),hh=function(e,t,a,r){St(e,{screen:t,carrierId:a,shipmentId:r})};var gh=function(e){Object(Ke.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(Ze.a)(e);if(t()){var n=Object(Ze.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(Xe.a)(this,a)}}(a);function a(e){var r;return Object(qe.a)(this,a),(r=t.call(this,e)).state={loadDetails:{},showSatelliteMap:!1,satelliteLocation:"",showHybridSatelliteMap:!1,hybridSatelliteLocation:"",satelliteLatLng:{lng:"",lat:""},loadStop:[]},r}return Object(ze.a)(a,[{key:"render",value:function(){var e,t=this,a=xE("isCurrentLocationOn",this.props&&this.props.history),r=xE("module",this.props&&this.props.history),n=new yE;return s.a.createElement(d.B,null,s.a.createElement(Wd,{locationName:this.state.hybridSatelliteLocation,position:{lat:this.state.satelliteLatLng.lat?parseFloat(this.state.satelliteLatLng.lat):"",lng:this.state.satelliteLatLng.lng?parseFloat(this.state.satelliteLatLng.lng):""},shipmentId:this.state.loadDetails&&this.state.loadDetails.shipmentId,showSatelliteMap:this.state.showHybridSatelliteMap,onDismissSatelliteMap:function(){t.setState({showHybridSatelliteMap:!1})}}),s.a.createElement(d.Q,{isOpen:(e=this.props.startTripShipmentStatusMessage,!1===(e||{}).status),message:sh(this.props.startTripShipmentStatusMessage),duration:5e3,color:"dark",onDidDismiss:function(){t.props.clearConfirmReasponse()}}),s.a.createElement(dh,{showSatelliteMap:this.state.showSatelliteMap,locationName:this.state.satelliteLocation,loadStop:this.state.loadDetails&&this.state.loadDetails.loadStop||[],onDismissSatelliteMap:function(){t.setState({showSatelliteMap:!1})},shipmentId:this.state.loadDetails&&this.state.loadDetails.shipmentId||""}),s.a.createElement(Sc,{title:this.state.loadDetails&&this.state.loadDetails.shipmentId||"",backUrl:"/app/".concat(r),isMap:!0,History:this.props.history,viewMap:function(){St(ot.UE_MAP_VIEW,{screen:ct.EX_MAP_VIEW,shipmentId:t.state.loadDetails&&t.state.loadDetails.shipmentId||""}),t.setState({showSatelliteMap:!0})}}),s.a.createElement(d.l,{className:"shipment-content"},s.a.createElement(d.l,{class:"shipment-page-content"},s.a.createElement(io,{onPullToRefresh:function(){return function(e,t){var a=t&&t.shipmentId||"",r=new Jo;r.shipmentIds=a,e.buyLoadShipmentRequest({query:r.getRequestShipmentPayload(),shipmentId:a,module:xE("module",e&&e.history),isPullToRefresh:!0}),e.clearUpdateStopInfo()}(t.props,t.state.loadDetails)},status:this.props.isInPullToRefresh,networkStatus:this.props.isNetworkAvailable,showAlert:this.props.showAlert}),s.a.createElement(uh,{timestamp:this.props.timestamp,currentLocation:a,locationValue:!0,GPSEnabledEvent:Object(He.a)(Ge.a.mark((function e(){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fh(t.state,t.props);case 1:case"end":return e.stop()}}),e)}))),shipmentloadStop:UE(this.state.loadDetails),networkStatus:this.props.networkStatus,shipmentId:this.state.loadDetails&&this.state.loadDetails.shipmentId||"",carrierId:this.props.userDetails.carrierId,userDetails:this.props.userDetails,loadDetails:this.state.loadDetails,moduleName:this.props.moduleName,refreshShipmentsLoads:function(e){return function(e,t){e.executionStatus===L.IN_TRANSIT?rh(e,t):e.executionStatus===L.DELIVERED&&nh(e,t)}(e,t.props)},refreshShipmentInDriverLoads:function(e){return function(e,t){var a=e&&e.shipmentId;if(a){var r=t.driverLoads.filter((function(e){return e.shipmentId!==a}));r=r.concat(Object(p.a)({},e)),t.refreshDriverLoads(r)}}(e,t.props)},openSatelliteMap:function(e,a){t.setState({hybridSatelliteLocation:e,showHybridSatelliteMap:!0,satelliteLatLng:{lng:a.lng,lat:a.lat}})},isNetworkAvailable:this.props.networkStatus,warningDialogMessage:this.props.warningDialogMessage,updateStopInfo:this.props.updateStopInfo,updateStopInformation:this.props.updateStopInformation,clearWarningDialogMessage:this.props.clearWarningDialogMessage,showErrorMessage:this.props.showErrorMessage,updateStopInformationResponse:this.props.updateStopInformationResponse,clearUpdateStopInformationResponse:this.props.clearUpdateStopInformationResponse,confirmStartLoadInformation:this.props.confirmStartLoadInformation}),s.a.createElement(d.H,{class:"btn-call-chat"},s.a.createElement(d.k,null,s.a.createElement(d.e,{class:"load-btn","data-test":"callUs",onClick:ch},s.a.createElement(d.q,{src:me.callus}),Sr.t("CALL_US_TEXT"))))),s.a.createElement(d.n,{class:"loadPageFooter"},n.isAllStopCompleted(ih(this.props.shipmentToStartTrip))&&!n.isTripCompleted(ih(this.props.shipmentToStartTrip))&&s.a.createElement(d.e,{expand:"full",class:"complete-load-btn","data-test":"complete-load-btn",onClick:function(){return e=t.state.loadDetails,void((a=t.props).networkStatus?oh(e.sourceTMS,e.shipmentId,a):a.showAlert());var e,a}},s.a.createElement("img",{src:me.complete_trip,className:"complete-icon",alt:""}),Sr.t("COMPLETE_TRIP_CTA_TEXT"))||null)))}},{key:"componentDidMount",value:function(){var e=Object(He.a)(Ge.a.mark((function e(){var t;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=ih(this.props.shipmentToStartTrip),this.setState({loadDetails:t});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(He.a)(Ge.a.mark((function e(t){var a,r,n,i;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=ih(this.props.shipmentToStartTrip),r=!1,JSON.stringify(t.confirmStartInfo)!==JSON.stringify(this.props.confirmStartInfo)&&(a=this.props.confirmStartInfo,r=!0),(JSON.stringify(a)!==JSON.stringify(this.state.loadDetails)||r)&&this.setState({loadDetails:a}),!this.props.isCapacitor){e.next=12;break}return e.next=7,qa("DB_GPS_ACTIVATED_SHIPMENT");case 7:return n=e.sent.value,(!(i=n&&JSON.parse(n).shipmentID)||i&&i===this.state.loadDetails.shipmentId)&&Za.details.setLoadDetailsTrackedShipment(this.state.loadDetails.loadStop),e.next=12,mh(a,this.props.isCapacitor);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(i.Component);var vh=function(e){Object(Ke.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(Ze.a)(e);if(t()){var n=Object(Ze.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(Xe.a)(this,a)}}(a);function a(){return Object(qe.a)(this,a),t.apply(this,arguments)}return Object(ze.a)(a,[{key:"render",value:function(){return s.a.createElement(gh,this.props)}}]),a}(i.Component),bh=Object(xe.b)({driverLoads:li(),inTransitLoads:di(),recentDelivered:Object(xe.a)([ni],(function(e){return e.delivered||[]})),userDetails:pn(),confirmStartInfo:Object(xe.a)([ni],(function(e){return e&&e.confirmStart||{}})),networkStatus:fn(),shipmentToStartTrip:Object(xe.a)(Dm,(function(e){return e&&e.shipmentForStartTrip})),timestamp:Object(xe.a)(Dm,(function(e){return e&&e.timestamp})),startTripShipmentStatusMessage:pi(),isInPullToRefresh:mn(),isCapacitor:bn(),warningDialogMessage:Object(xe.a)([ni],(function(e){return e.warningDialogMessage||_e.warningDialogMessage})),updateStopInfo:Object(xe.a)(ni,(function(e){return e&&e.updateStop||{}}))}),Sh=Object(u.c)(bh,(function(e){return{refreshDriverLoads:function(t){e(Xn(t,t.length))},refreshInTransitLoad:function(t){e(Jn(t,t.length))},refereshRecentDelivered:function(t){e(ri(t,t.length))},clearConfirmReasponse:function(){e(xn())},shipmentCompleteTrip:function(t,a){e(function(e,t){return{type:g.COMPLETE_TRIP_API_REQUEST,payload:{data:e,shipmentId:t}}}(t,a))},showAlert:function(){return e(or())},buyLoadShipmentRequest:function(t){return e(qn(t))},clearUpdateStopInfo:function(){return e(Fn())},updateStopInformation:function(t,a){e(function(e,t){return{type:g.UPDATE_STOP_INFORMATION,payload:{data:e,callBack:t}}}(t,a))},clearWarningDialogMessage:function(){return e({type:g.CLEAR_WARNING_DIALOG})},showErrorMessage:function(t){e(Un({status:!1,message:t}))},updateStopInformationResponse:function(t){e(function(e){return{type:g.UPDATE_STOP_INFORMATION_RESPONSE,payload:e}}({data:t}))},clearUpdateStopInformationResponse:function(){return e(Fn())},confirmStartLoadInformation:function(t,a){e(function(e,t){return{type:g.CONFIRM_START_INFORMATION,payload:{data:e,callback:t}}}(t,a))}}})),yh=fs({key:"carrierAssigned",reducer:Am}),Oh=ps({key:"carrierAssigned",saga:ts}),_h=ps({key:"shipment",saga:gf}),Ah=Object(m.compose)(Oh,_h,yh,Sh)(vh),Dh=[{label:"Home",path:"/carrier/home",slug:"home",icon:me.nav_home,icon_class:"home_icon"},{label:"Search",path:"/carrier/search",slug:"search",icon:me.nav_search,icon_class:"search_icon"},{label:"My Loads",path:"/carrier/MyLoad",slug:"myLoad",icon:me.nav_myLoad,icon_class:"my_load_icon"},{label:"Manage",path:"/carrier/manage",slug:"manage",icon:me.nav_manage,icon_class:"manage_icon"},{label:"More",path:"/carrier/more",slug:"more",icon:me.nav_more,icon_class:"more_icon"}],Th=function(e){return ja(e.slug,"screen")?e.path:"/app/noAccess"},Rh=s.a.memo((function(e){var t=e.Component,a=e.props,r=Object(i.useState)(!1),n=Object(Fe.a)(r,2),o=n[0],c=n[1];return Object(i.useEffect)((function(){c(!0)}),[]),Hr().hasSession(o,c),s.a.createElement(t,a)})),Nh=s.a.memo((function(){var e=Object(hs.a)().t;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"tab-bar-div"},s.a.createElement("div",{className:"tab-bar-logoDiv"},s.a.createElement("img",{src:"assets/icon/SFP.svg",className:"tab-bar-logo",alt:""})),s.a.createElement("div",{className:"carrier-content"},s.a.createElement(d.M,null,s.a.createElement(d.G,{class:"desktop-page-container"},s.a.createElement(Me.c,{path:"/carrier/search",render:function(e){return s.a.createElement(Rh,{Component:jc,props:e})},exact:!0}),s.a.createElement(Me.c,{path:"/carrier/search/results",render:function(e){return s.a.createElement(Nc,e)},exact:!0}),ja("home","recommended")||ja("home","watched")?s.a.createElement(Me.c,{path:"/carrier/home",render:function(e){return s.a.createElement(Rh,{Component:bE,props:e})},exact:!0}):s.a.createElement(Me.c,null),s.a.createElement(Me.c,{path:"/carrier/(home/recommended|home/watched|search/results)/:id",render:function(e){return s.a.createElement(Rh,{Component:hp,props:e})}}),s.a.createElement(Me.c,{path:"/carrier/home/watched",render:function(e){return s.a.createElement(Rh,{Component:bE,props:e})},exact:!0}),s.a.createElement(Me.c,{path:"/carrier/home/recommended",render:function(e){return s.a.createElement(Rh,{Component:bE,props:e})},exact:!0}),s.a.createElement(Me.c,{path:"/carrier/menu/faq",component:Pp}),s.a.createElement(Me.c,{path:"/carrier/menu/contact",component:Pp}),s.a.createElement(Me.c,{path:"/carrier/manage/ProfileDetails/Edit",component:xp}),s.a.createElement(Me.c,{path:"/carrier/manage/ProfileDetails",component:_l}),s.a.createElement(Me.c,{path:"/carrier/manage/CarrierProfileDetails",component:Vl,exact:!0}),s.a.createElement(Me.c,{path:"/carrier/manage/ManageMyCapacity/Edit",component:md,exact:!0}),s.a.createElement(Me.c,{path:"/carrier/manage/ManageMyCapacity/Add",component:dd,exact:!0}),s.a.createElement(Me.c,{path:"/carrier/manage/ManageMyCapacity/View",component:Ed,exact:!0}),s.a.createElement(Me.c,{path:"/carrier/manage/ManageMyCapacity",component:ld}),s.a.createElement(Me.c,{path:"/carrier/manage/ManageUser/Profile/Edit",component:dm,exact:!0}),s.a.createElement(Me.c,{path:"/carrier/manage/ManageUser/Profile",component:om,exact:!0}),s.a.createElement(Me.c,{path:"/carrier/manage/ManageUser/Add",component:lm,exact:!0}),s.a.createElement(Me.c,{path:"/carrier/manage/ManageUser",component:Ou}),s.a.createElement(Me.c,{path:"/carrier/execute",component:kd,sexact:!0}),s.a.createElement(Me.c,{path:"/carrier/(MyLoad/CarrierAssigned)",render:function(e){return s.a.createElement(xm,e)},exact:!0}),s.a.createElement(Me.c,{path:"/carrier/(MyLoad/DriverAssigned)",render:function(e){return s.a.createElement(Pf,e)},exact:!0}),s.a.createElement(Me.c,{path:"/carrier/MyLoad/driverAssign/addDriver/:id",render:function(e){return s.a.createElement(Bm,e)},exact:!0}),s.a.createElement(Me.c,{path:"/carrier/MyLoad/driverAssign/:id",render:function(e){return s.a.createElement(of,e)},exact:!0}),s.a.createElement(Me.c,{path:"/carrier/(MyLoad/InTransit)",render:function(e){return s.a.createElement(Hf,e)},exact:!0}),s.a.createElement(Me.c,{path:"/carrier/(MyLoad/Delivered)",render:function(e){return s.a.createElement(Kf,e)},exact:!0}),s.a.createElement(Me.c,{path:"/carrier/MyLoad",render:function(e){return s.a.createElement(kd,e)},exact:!0}),ja("myLoad","driverAssigned")?s.a.createElement(Me.c,{path:"/carrier/(MyLoad/shipmentUpdateScreen)/:id",render:function(e){return s.a.createElement(Ah,e)},exact:!0}):s.a.createElement(Me.c,null),s.a.createElement(Me.c,{path:"/carrier/manage",render:function(e){return s.a.createElement(Rh,{Component:_d,props:e})},exact:!0}),s.a.createElement(Me.c,{path:"/carrier/more",render:function(e){return s.a.createElement(Rh,{Component:Pp,props:e})},exact:!0}),s.a.createElement(Me.c,{path:"/carrier/(MyLoad/CarrierAssigned|MyLoad/DriverAssigned|MyLoad/InTransit|MyLoad/Delivered)/:id",render:function(e){return s.a.createElement(If,e)}}),s.a.createElement(Me.c,{path:"/",render:function(){return s.a.createElement(Me.b,{to:"/carrier/"+Ma()})},exact:!0}),s.a.createElement(Me.c,{path:"/carrier/(more)/deviceInfo",exact:!0,render:function(e){return s.a.createElement(nm,e)}}),s.a.createElement(Me.c,{path:"/carrier/(more)/*",render:function(e){return s.a.createElement(rm,e)}})),s.a.createElement(d.K,{slot:"bottom"},Dh&&Dh.map((function(t,a){return ja(t.slug)&&s.a.createElement(d.L,{key:"".concat(a),tab:"myLoad"===t.slug?"execute":t.slug,href:Th(t),onClick:function(a){ja(t.slug,"screen")||Dr.show(e("NO_ACCESS_MSG"))}},s.a.createElement(d.q,{src:t.icon,class:t.icon_class}),s.a.createElement(d.w,{class:"tab_footer_label tab_footer_label_".concat(t.slug)},t.label))})))))))}));rt.a.Geolocation,rt.a.GeolocationOptions;var Ih=function(e){var t=Object(hs.a)().t;return s.a.createElement(s.a.Fragment,null,s.a.createElement(d.b,{isOpen:e.isOpen,message:e.message,backdropDismiss:!1,header:e.title,buttons:[{text:t("Ok_TEXT"),role:pe.ok,cssClass:"secondary",handler:function(){e.close()}}]}))},Ch=(a(621),function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement(d.b,{isOpen:e.isOpen,message:e.message,backdropDismiss:!0,header:e.title,onDidDismiss:e.dismiss,buttons:e.buttons,mode:e.mode,cssClass:e.cssClass||""}))}),kh=(a(622),function(e){var t=Object(i.useState)(!1),a=Object(Fe.a)(t,2),r=a[0],n=a[1];return s.a.createElement(s.a.Fragment,null,s.a.createElement(d.l,{className:"registration-page"},s.a.createElement(d.q,{src:me.logo,class:"logo"}),s.a.createElement(Op,Object.assign({},e,{isRegistrationPage:!0})),s.a.createElement(d.o,{class:"titel-grid"}," ",Sr.t(de.register)),s.a.createElement(d.y,{class:"registration-form"},s.a.createElement(d.o,{class:"select-role-grid"},s.a.createElement(d.H,{class:"select-role-label"},Sr.t(de.role)),s.a.createElement(d.H,{onClick:function(){return n(!r)},"data-test":"roleDropdown"},s.a.createElement(d.k,{class:"role-name"},e.role.map((function(e,t){return s.a.createElement("span",{key:t},e.selected?"".concat(Sr.t(e.label)," "):"")}))),s.a.createElement(d.k,{class:"dropDown-icon"},s.a.createElement(d.q,{src:me.down_arrow}))),r?s.a.createElement(d.o,{class:"role-suggetion-grid"},e.role.map((function(t,a){return s.a.createElement(d.H,{key:a,class:"opt-row ".concat(e.role[a].selected?"selected":""),onClick:function(){e.optionClicked(t),n(!1)},"data-test":"roleOption"},s.a.createElement(d.k,{size:"1"},s.a.createElement("i",{className:"check"})),s.a.createElement(d.k,null,s.a.createElement(d.H,null," ",Sr.t(t.label)),s.a.createElement(d.H,{class:"role-desc"},Sr.t(t.desc))))}))):null),s.a.createElement(d.o,{class:"errorGrid ".concat(e.roleError?"showErrorGrid":"")},Sr.t(e.roleError)),s.a.createElement(d.v,{mode:"ios"},s.a.createElement(d.w,{mode:"ios",position:"floating"},Sr.t(de.firstName)),s.a.createElement(d.u,{type:"text",name:Z.firstName,pattern:"[A-Za-z]",placeholder:Sr.t(ue.firstName),value:e.firstName,onIonChange:function(t){return e.handleValueChange(t)},onBlur:function(t){return e.validateFeilds(t)},"data-test":"firstName"})),s.a.createElement(d.o,{class:"errorGrid ".concat(e.firstNameError?"showErrorGrid":"")},Sr.t(e.firstNameError)),s.a.createElement(d.v,{mode:"ios"},s.a.createElement(d.w,{mode:"ios",position:"floating"},Sr.t(de.lastName)),s.a.createElement(d.u,{type:"text",name:Z.lastName,placeholder:Sr.t(ue.lastName),onIonChange:function(t){return e.handleValueChange(t)},pattern:"[A-Za-z]",value:e.lastName,onBlur:function(t){return e.validateFeilds(t)},"data-test":"lastName"})),s.a.createElement(d.o,{class:"errorGrid ".concat(e.lastNameError?"showErrorGrid":"")},Sr.t(e.lastNameError)),s.a.createElement(d.v,{mode:"ios"},s.a.createElement(d.w,{mode:"ios",position:"floating"},Sr.t(de.phoneNumber)),s.a.createElement(d.u,{type:"text",name:Z.mobileNumber,placeholder:Sr.t(ue.mobileNumber),onIonChange:e.handleValueChange,value:e.mobileNumber,maxlength:12,"data-test":"mobileNumber",onBlur:e.validateFeilds})),s.a.createElement(d.o,{class:"errorGrid ".concat(e.mobileNumberError?"showErrorGrid":"")},Sr.t(e.mobileNumberError)),s.a.createElement(d.v,{mode:"ios"},s.a.createElement(d.w,{mode:"ios",position:"floating"},Sr.t(de.company)),s.a.createElement(d.u,{type:"text",name:Z.companyName,placeholder:Sr.t(ue.companyName),onIonChange:function(t){return e.handleValueChange(t)},value:e.companyName,onBlur:function(t){return e.validateFeilds(t)},"data-test":"companyName"})),s.a.createElement(d.o,{class:"errorGrid ".concat(e.companyNameError?"showErrorGrid":"")},Sr.t(e.companyNameError)),s.a.createElement(d.v,{mode:"ios"},s.a.createElement(d.w,{mode:"ios",position:"floating"},Sr.t(de.zipcode)),s.a.createElement(d.u,{type:"text",name:Z.corporateZipCode,placeholder:Sr.t(ue.zipcode),onIonChange:function(t){return e.handleValueChange(t)},pattern:"[A-Za-z]",value:e.corporateZipCode,onBlur:function(t){return e.validateFeilds(t)},"data-test":"corporateZipCode"})),s.a.createElement(d.o,{class:"errorGrid ".concat(e.zipcodeEror?"showErrorGrid":"")},Sr.t(e.zipcodeEror)),s.a.createElement(d.v,{mode:"ios"},s.a.createElement(d.w,{mode:"ios",position:"floating"},Sr.t(de.usdotOrMc)),s.a.createElement(d.D,{onIonChange:function(t){return e.handleValueChange(t)},name:"slectedNo",value:e.slectedNo},s.a.createElement(d.H,null,s.a.createElement(d.k,null,s.a.createElement(d.C,{value:"carrierUsDotNo",class:"radiobutton",mode:"md"})),s.a.createElement(d.k,{class:"radiobutton-label"}," ",Sr.t(de.USDOT)," "),s.a.createElement(d.k,null,s.a.createElement(d.C,{value:"carrierMcNo",class:"radiobutton",mode:"md"})),s.a.createElement(d.k,{class:"radiobutton-label"},Sr.t(de.MC)))),s.a.createElement(d.u,{type:"number",name:"USDOTNO",placeholder:Sr.t(e.placeHolderText),onIonChange:function(t){return e.handleValueChange(t)},maxlength:8,value:e.USDOTNO,onBlur:function(t){return e.validateFeilds(t)},"data-test":"USDOTNO"})),s.a.createElement(d.o,{class:"errorGrid ".concat(e.usDotError?"showErrorGrid":"")},Sr.t(e.usDotError)))),s.a.createElement("div",{className:"bottom-grid"},s.a.createElement(d.e,{expand:"full",disabled:!e.allowToSave,className:"".concat(e.allowToSave?"active-btn":"register-btn"),onClick:e.submitForm,"data-test":"registerButton"},Sr.t(de.register))))}),jh=function(e){var t=Object(i.useState)(!1),a=Object(Fe.a)(t,2),r=a[0],n=a[1];return s.a.createElement(s.a.Fragment,null,s.a.createElement(d.l,{className:"registration-page"},s.a.createElement(d.q,{src:"assets/icon/Logo.svg",class:"logo"}),s.a.createElement(d.o,{class:"titel-grid"}," ",Sr.t(de.register)),s.a.createElement(d.y,{class:"registration-form"},s.a.createElement(d.H,null,s.a.createElement(d.k,{className:"registration-form-col"},s.a.createElement(d.o,{class:"select-role-grid"},s.a.createElement(d.H,{class:"select-role-label"},Sr.t(de.role)),s.a.createElement(d.H,{onClick:function(){return n(!r)},"data-test":"roleDropdown"},s.a.createElement(d.k,{class:"role-name"},e.role.map((function(e,t){return s.a.createElement("span",{key:t},e.selected?"".concat(e.label," "):"")}))),s.a.createElement(d.k,{class:"dropDown-icon"},s.a.createElement(d.q,{src:"/assets/icon/grid-down-arrow.svg"}))),r?s.a.createElement(d.o,{class:"role-suggetion-grid","data-test":"capacity-type-list"},e.role.map((function(t,a){return s.a.createElement(d.H,{key:a,class:"opt-row ".concat(t.selected?"selected":""),onClick:function(){e.optionClicked(t),n(!1)},"data-test":"roleOption"},s.a.createElement(d.k,{size:"1",className:"opt-col-i"},s.a.createElement("i",{className:"check"})),s.a.createElement(d.k,null,s.a.createElement(d.H,null," ",Sr.t(t.label)),s.a.createElement(d.H,{class:"role-desc"},Sr.t(t.desc))))}))):null),s.a.createElement(d.o,{class:"errorGrid"},Sr.t(e.roleError)),s.a.createElement(d.v,{mode:"ios"},s.a.createElement(d.w,{mode:"ios",position:"floating"},Sr.t(de.lastName)),s.a.createElement(d.u,{type:"text",name:"lastName",placeholder:Sr.t(ue.lastName),onIonChange:function(t){return e.handleValueChange(t)},pattern:"[A-Za-z]",value:e.lastName,onBlur:function(t){return e.validateFeilds(t)},"data-test":"lastName"})),s.a.createElement(d.o,{class:"errorGrid"},Sr.t(e.lastNameError)),s.a.createElement(d.v,{mode:"ios"},s.a.createElement(d.w,{mode:"ios",position:"floating"},Sr.t(de.company)),s.a.createElement(d.u,{type:"text",name:"companyName",placeholder:Sr.t(ue.companyName),onIonChange:function(t){return e.handleValueChange(t)},value:e.companyName,onBlur:function(t){return e.validateFeilds(t)},"data-test":"companyName"})),s.a.createElement(d.o,{class:"errorGrid"},Sr.t(e.companyNameError)),s.a.createElement(d.v,{mode:"ios"},s.a.createElement(d.w,{mode:"ios",position:"floating"},Sr.t(de.usdotOrMc)),s.a.createElement(d.D,{onIonChange:function(t){return e.handleValueChange(t)},name:"slectedNo",value:e.slectedNo},s.a.createElement(d.H,null,s.a.createElement(d.k,null,s.a.createElement(d.C,{value:"carrierUsDotNo",class:"radiobutton",mode:"md"})),s.a.createElement(d.k,{class:"radiobutton-label"}," ",Sr.t(de.USDOT)," "),s.a.createElement(d.k,null,s.a.createElement(d.C,{value:"carrierMcNo",class:"radiobutton",mode:"md"})),s.a.createElement(d.k,{class:"radiobutton-label"},Sr.t(de.MC)))),s.a.createElement(d.u,{type:"number",name:"USDOTNO",placeholder:Sr.t(e.placeHolderText),onIonChange:function(t){return e.handleValueChange(t)},maxlength:8,value:e.USDOTNO,onBlur:function(t){return e.validateFeilds(t)},"data-test":"USDOTNO"})),s.a.createElement(d.o,{class:"errorGrid"},Sr.t(e.usDotError))),s.a.createElement(d.k,{className:"registration-col"},s.a.createElement(d.v,{mode:"ios"},s.a.createElement(d.w,{mode:"ios",position:"floating"},Sr.t(de.firstName)),s.a.createElement(d.u,{type:"text",name:"firstName",pattern:"[A-Za-z]",placeholder:Sr.t(ue.firstName),value:e.firstName,onIonChange:function(t){return e.handleValueChange(t)},onBlur:function(t){return e.validateFeilds(t)},"data-test":"firstName"})),s.a.createElement(d.o,{class:"errorGrid"},Sr.t(e.firstNameError)),s.a.createElement(d.v,{mode:"ios"},s.a.createElement(d.w,{mode:"ios",position:"floating"},Sr.t(de.phoneNumber)),s.a.createElement(d.u,{type:"text",name:"mobileNumber",placeholder:Sr.t(ue.mobileNumber),onIonChange:function(t){return e.handleValueChange(t)},value:e.mobileNumber,onBlur:function(t){return e.validateFeilds(t)},"data-test":"mobileNumber"})),s.a.createElement(d.o,{class:"errorGrid"},Sr.t(e.mobileNumberError)),s.a.createElement(d.v,{mode:"ios"},s.a.createElement(d.w,{mode:"ios",position:"floating"},Sr.t(de.zipcode)),s.a.createElement(d.u,{type:"text",name:"corporateZipCode",placeholder:Sr.t(ue.zipcode),onIonChange:function(t){return e.handleValueChange(t)},pattern:"[A-Za-z]",value:e.corporateZipCode,onBlur:function(t){return e.validateFeilds(t)},"data-test":"corporateZipCode"})),s.a.createElement(d.o,{class:"errorGrid"},Sr.t(e.zipcodeEror)))),s.a.createElement("div",{className:"bottom-grid"},s.a.createElement(d.H,{class:"bottom-grid-row"},s.a.createElement(d.k,null,s.a.createElement(Op,Object.assign({},e,{isRegistrationPage:!0}))),s.a.createElement(d.k,null,s.a.createElement(d.e,{expand:"full",disabled:!e.allowToSave,className:"".concat(e.allowToSave?"active-btn":"register-btn"),onClick:e.submitForm,"data-test":"registerButton"},Sr.t(de.register))))))))};var Lh=/^[a-zA-Z0-9 ]*$/,wh=/^[0-9]*$/,Mh=function(e){Object(Ke.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(Ze.a)(e);if(t()){var n=Object(Ze.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(Xe.a)(this,a)}}(a);function a(){var e;Object(qe.a)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={showOptions:!1,slectedNo:"carrierMcNo",firstName:"",lastName:"",mobileNumber:"",companyName:"",corporateZipCode:"",role:qc,allowToSave:!1,roleError:"",usDotError:"",mobileNumberError:"",zipcodeEror:"",firstNameError:"",lastNameError:"",companyNameError:"",USDOTNO:"",placeHolderText:ue.mc},e.handleValueChange=function(t){var a=t.target.value;if(t.target.name===Z.mobileNumber)return e.setState({mobileNumber:Jc(a)}),!0;Lh.test(t.target.value)||t.target.name!==Z.firstName&&t.target.name!==Z.lastName||(t.target.value=t.target.value.replace(/[^a-zA-Z0-9 ]*/g,"")),t.target.name===Z.slectedNo&&e.setState(e.state.usDotError?{placeHolderText:"carrierUsDotNo"===t.target.value?ue.usDot:ue.mc,usDotError:"carrierUsDotNo"===t.target.value?oe.usDotError:oe.mcError}:{placeHolderText:"carrierUsDotNo"===t.target.value?ue.usDot:ue.mc}),e.setState(Object(Es.a)({},t.target.name,a)),e.state.firstName.length>0&&e.state.lastName.length>0&&e.state.companyName.length>0&&e.state.mobileNumber.length>0&&e.state.corporateZipCode.length>0&&e.state.USDOTNO.length>0?e.setState({allowToSave:!0}):e.setState({allowToSave:!1})},e.optionClicked=function(t){e.state.role.forEach((function(e){e.label===t.label&&(e.selected=!e.selected)}));var a=[];e.state.role.forEach((function(e){!0===e.selected&&a.push(e.value)}));var r={target:{name:"role",value:Wc(e.state.role)}};e.validateFeilds(r)},e.validateFeilds=function(t){var a=t.target,r=a.name,n=a.value;switch(r){case Z.mobileNumber:var i=n.replace(/[^\d]/g,"");Fc(i)?e.setState({mobileNumberError:"",mobileNumber:n}):e.setState({mobileNumberError:oe.mobileNumberError});break;case Z.corporateZipCode:Lh.test(n)&&n.length<=10&&n.length>0?e.setState({zipcodeEror:""}):e.setState({zipcodeEror:oe.zipcodeEror});break;case"USDOTNO":wh.test(n)&&n.length>=6&&n.length<=8?e.setState({usDotError:""}):e.setState({usDotError:"carrierUsDotNo"===e.state.slectedNo?oe.usDotError:oe.mcError});break;case"role":n.length>0?e.setState({roleError:""}):e.setState({roleError:oe.roleError});break;case Z.firstName:n.length>0?e.setState({firstNameError:""}):e.setState({firstNameError:oe.firstNameError});break;case Z.lastName:n.length>0?e.setState({lastNameError:""}):e.setState({lastNameError:oe.lastNameError});break;case Z.companyName:n.length>0?e.setState({companyNameError:""}):e.setState({companyNameError:oe.companyNameError})}},e}return Object(ze.a)(a,[{key:"componentDidMount",value:function(){yt("screen_registration"),St(ot.SV_REGISTRATION,{screen:ct.REGISTRATION})}},{key:"render",value:function(){var e=this;return s.a.createElement(d.B,null,s.a.createElement(lc,null),Object(d.V)("mobile")?s.a.createElement(kh,Object.assign({},this.props,this.state,{optionClicked:this.optionClicked,handleValueChange:this.handleValueChange,validateFeilds:this.validateFeilds,submitForm:function(){return e.props.submitForm(Object(p.a)({},e.state))}})):s.a.createElement(jh,Object.assign({},this.props,this.state,{optionClicked:this.optionClicked,handleValueChange:this.handleValueChange,validateFeilds:this.validateFeilds,submitForm:function(){return e.props.submitForm(Object(p.a)({},e.state))}})))}}]),a}(i.PureComponent),Ph=function(){function e(){Object(qe.a)(this,e)}return Object(ze.a)(e,[{key:"getRequestPayload",value:function(e){return{query:{getUserHelpContent:{menuItems:{dataTypes:{fieldName:!0,fieldType:!0,schema:{fieldName:!0,fieldType:!0,schema:{fieldName:!0,fieldType:!0}}},title:!0,group:{menuItem:!0,menuSequence:!0,uid:!0}},menuEntries:{dataTypes:{fieldName:!0,fieldType:!0,schema:{fieldName:!0,fieldType:!0,schema:{fieldName:!0,fieldType:!0}}},uid:!0,sections:{title:!0,richTextDescription:!0,group:{title:!0,description:!0,richTextDescription:!0,video:{title:!0,href:!0}}},group:{title:!0,description:!0,richTextDescription:!0,video:{title:!0,href:!0}},tags:!0,richText:!0}}}}}}]),e}(),Uh="Mon, 01 Jan 2001 00:00:00 GMT",xh={configVer:"1.0",contentParams:{termsAndConditions:"0.0",eula:"0.0",privacy:"0.0",contactOptions:"0.0",videoWalkthroughs:"0.0",aboutSchneider:"0.0",becomingCarrier:"0.0",faq:"0.0",schneiderOfferings:"0.0"},UserId:{searchParams:{RecommendedLoads:Uh,RecommendedLoadsInterval:"5",WatchedLoads:Uh,WatchedLoadsInterval:"10",RecentSearch:Uh,RecentSearchInterval:"10",FavouriteSearch:Uh,FavouriteSearchInterval:"10"},shipmentParams:{shipment:Uh,shipmentInterval:"10"}}},Fh=function(){function e(){Object(qe.a)(this,e),this.deviceRegisterState={uuId:"",upn:"",carrierId:"",deviceToken:"",email:"",phone:""}}return Object(ze.a)(e,[{key:"getRequestPayload",value:function(){return{mutation:{registerDevice:{__args:{input:this.deviceRegisterState}}}}}},{key:"uuid",get:function(){return this.deviceRegisterState.uuId},set:function(e){this.deviceRegisterState.uuId=e}},{key:"upn",get:function(){return this.deviceRegisterState.upn},set:function(e){this.deviceRegisterState.upn=e}},{key:"carrierId",get:function(){return this.deviceRegisterState.carrierId},set:function(e){this.deviceRegisterState.carrierId=e}},{key:"deviceToken",get:function(){return this.deviceRegisterState.deviceToken},set:function(e){this.deviceRegisterState.deviceToken=e}},{key:"email",get:function(){return this.deviceRegisterState.email},set:function(e){this.deviceRegisterState.email=e}},{key:"phone",get:function(){return this.deviceRegisterState.phone},set:function(e){this.deviceRegisterState.phone=e}},{key:"deviceOs",get:function(){return this.deviceRegisterState.deviceOs},set:function(e){this.deviceRegisterState.deviceOs=e}},{key:"deviceOsVersion",get:function(){return this.deviceRegisterState.deviceOsVersion},set:function(e){this.deviceRegisterState.deviceOsVersion=e}}]),e}(),Vh=function(){var e,t=rt.a.PushNotifications,a=rt.a.Device,r=function(){var r=Object(He.a)(Ge.a.mark((function r(){return Ge.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t.removeAllListeners(),t.addListener("registration",function(){var t=Object(He.a)(Ge.a.mark((function t(r){var n,i,s,o;return Ge.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,qa("deviceToken");case 3:if(n=t.sent,i="",i=r.value,console.log("App Push Registration Done: device Token from Device",n.value),n.value===i){t.next=24;break}return console.log("App Push Registration Done.:First App Launch",i),t.next=11,a.getInfo();case 11:return s=t.sent,o=new Fh,t.next=15,Ha("deviceToken",i);case 15:o.uuid=s.uuid,o.upn=e&&e.userPrincipalName||"",o.carrierId=e&&e.carrierId||"",o.deviceOs=s.operatingSystem,o.deviceOsVersion=s.osVersion,o.email=e&&e.email,o.phone=e&&e.mobileNumber||"",o.deviceToken=i,we.dispatch({type:"REGISER DEVICE ACTION",payload:o.getRequestPayload()});case 24:return console.log("App Push Registration Done.:Sub Sequent App Launch"),t.next=27,qa("deviceToken");case 27:n=t.sent,t.next=33;break;case 30:t.prev=30,t.t0=t.catch(0),console.log("App Registration Catch Error.",t.t0);case 33:case"end":return t.stop()}}),t,null,[[0,30]])})));return function(e){return t.apply(this,arguments)}}()),t.addListener("registrationError",(function(e){})),t.addListener("pushNotificationReceived",(function(e){console.log("pushNotificationReceived, token:"+JSON.stringify(e)),n(e)})),t.addListener("pushNotificationActionPerformed",(function(e){console.log("pushNotificationActionPerformed, token: "+JSON.stringify(e.notification)),we.dispatch(Et(e.notification.data))}));case 5:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),n=function(e){var t=document.createElement("ion-alert");return t.header=e.title||"Driver Assigned",t.message="".concat(e.body),t.buttons=[{text:"View Now",role:"Ok",cssClass:"firstBtn",handler:function(){we.dispatch(Et(e.data))}},{text:"View Later",role:"Cancel",cssClass:"secondBtn",handler:function(){}}],document.body.appendChild(t),t.present()};return{registerPush:function(a){e=a,t.requestPermissions?t.register():t.requestPermission().then((function(){t.register()})),r()},unRegisterPush:function(){t.removeAllListeners()}}}().registerPush,Gh=function(e,t){try{if(e&&e.userDetails&&Object.keys(e.userDetails).length){n=e.userDetails.userPrincipalName,Object(d.V)("capacitor")&&ma.setUserId({userId:n}),St(Ua.details.auth.user.roles.includes(X.carrierGuest)?ot.UE_GUEST_LOGIN_SUCCESS:ot.UE_LOGIN_SUCCESS,{screen:ct.GET_STARTED});var a=new Ph;!e.isContentStackApiCalled&&t&&(e.getMoreTabContent(a.getRequestPayload(e.getOfflineData.contentParams)),e.setContentStackApiCalled(!0),function(e){if(e.getOfflineData[Ua.details.auth.user.upn]){var t=e.getOfflineData[Ua.details.auth.user.upn],a=t.searchParams,r=t.shipmentParams;e.findSearchData(e.userDetails.carrierId,a),e.findShipmentInfo(Ua.details.auth.user.upn,r)}}(e))}}catch(i){console.log("ERROR:",i),r="App UseEffect Error : ".concat(i),Object(d.V)("capacitor")&&ma.addLogMessage({message:r})}var r,n},Hh=function(e){return e.userDetails&&e.userDetails.userApplicationDetails&&e.userDetails.userApplicationDetails[0]&&e.userDetails.userApplicationDetails[0].roles&&e.userDetails.userApplicationDetails[0].roles[0]&&e.userDetails.userApplicationDetails[0].roles[0].roleName||""},Bh=function(e){var t=Object(i.useState)(!1),a=Object(Fe.a)(t,2),r=a[0],n=a[1],o=Object(i.useState)(""),c=Object(Fe.a)(o,2),l=c[0],u=c[1],p=Object(i.useState)(!1),m=Object(Fe.a)(p,2),f=m[0],E=m[1],h=Object(i.useState)(!1),g=Object(Fe.a)(h,2),v=g[0],b=g[1],S=Object(i.useState)(!1),y=Object(Fe.a)(S,2),O=y[0],_=y[1],A=function(t){_(t&&t.role&&1===t.role.length&&t.role[0].value===X.carrierDriver||!1);var a=new mr,r=e.userDetails,n=void 0===r?{}:r,i=Ua.details.auth&&Ua.details.auth.tokens.access_token||"",s={email:n&&n.userPrincipalName,firstName:t.firstName,lastName:t.lastName,mobileNumber:t.mobileNumber,companyName:t.companyName,corporateZipCode:t.corporateZipCode,carrierUsDotNo:t.carrierUsDotNo,carrierMcNo:t.carrierMcNo,roles:t.role};e.registerUser(i,a.registerMember(s))};Object(i.useEffect)((function(){if(e&&e.userDetails&&Object.keys(e.userDetails).length){var t=Hh(e),a=e.getRegisterUserStatus,r=a.status,i=a.message,s=e.userDetails&&e.userDetails.carrierId;r&&!s?O?e.setUserState(!0):(e.setUserState(!1),n(r),u(Sr.t("New_Carrier_Message"))):r&&(Ua.details.auth.user.roles.includes(t)?b(!1):(b(!0),e.setUserState(!1))),!r&&i&&(E(!r),u(i)),St(r?Ua.details.auth.user.roles.includes(X.carrierGuest)?ot.UE_GUEST_REGISTER_SUCCESS:ot.UE_REGISTER_SUCCESS:Ua.details.auth.user.roles.includes(X.carrierGuest)?ot.UE_GUEST_REGISTER_FAILURE:ot.UE_REGISTER_FAILURE,{screen:ct.REGISTRATION})}}),[e.userDetails,e.getRegisterUserStatus]);var D=Hr(),T=function(){var t=Object(He.a)(Ge.a.mark((function t(){return Ge.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setMemberApiError(),e.isCapacitor&&Za.details.stopGPS(),t.next=4,Ka();case 4:return t.next=6,D.logout();case 6:(new Sp).clearToken();case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return s.a.createElement(s.a.Fragment,null,s.a.createElement(Ch,{isOpen:v,message:le.message,mode:"ios",title:le.header,cssClass:"roleupdate-alert",buttons:[{text:le.ignore_btn,role:"cancel",handler:function(){b(!1),e.setUserState(!0)}},{text:le.logout_btn,role:"ok",handler:function(){var e=Object(He.a)(Ge.a.mark((function e(){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:T(),b(!1);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]}),s.a.createElement(Ch,{isOpen:r,message:l,title:"New Carrier",mode:"ios",cssClass:"carrier-alert",buttons:[{text:"No",role:"cancel",handler:function(){e.setUserState(!0),n(!1),e.clearRegisterUserStatus()}},{text:"Yes",role:"ok",handler:function(){tn(),n(!1),e.setUserState(!0),e.clearRegisterUserStatus()}}]}),s.a.createElement(d.Q,{isOpen:f,message:l,duration:5e3,color:"dark",onDidDismiss:function(){e.clearRegisterUserStatus(),E(!1)}}),s.a.createElement(Mh,{submitForm:function(e){St(ot.UE_REGISTER_NOW,{screen:ct.REGISTRATION});var t={firstName:e.firstName,lastName:e.lastName,mobileNumber:e.mobileNumber&&e.mobileNumber.replace(/[^\d]/g,""),companyName:e.companyName,corporateZipCode:e.corporateZipCode,carrierUsDotNo:"carrierUsDotNo"===e.slectedNo?e.USDOTNO:null,carrierMcNo:"carrierMcNo"===e.slectedNo?e.USDOTNO:null,role:Wc(e.role)};e.firstName.length>0&&e.lastName.length>0&&e.companyName.length>0&&e.mobileNumber.length>0&&e.corporateZipCode.length>0&&e.USDOTNO.length>0&&""===e.roleError&&""===e.mobileNumberError&&""===e.zipcodeEror&&""===e.usDotError&&(A(t),e.role.forEach((function(e){e.selected=e.value===X.carrierDriver})))},showAlert:e.showNetworkAlert,isNetworkAvailable:e.isNetworkAvailable}))},qh=function(e,t){t(!1),e.clearDeepLinkURI()},zh=function(e,t,a,r){var n=e.deepLinkURI.includes("DriverAssigned"),i=e.deepLinkURI.includes("CarrierAssigned"),s=e.deepLinkURI.includes("shipmentUpdateScreen"),o=e.deepLinkURI.substring(e.deepLinkURI.lastIndexOf("/")+1,e.deepLinkURI.length),c=n?e.driverAssignedLoads.find((function(e){return e.shipmentId===o})):i?e.carrierAssignedLoads.find((function(e){return e.shipmentId===o})):s?e.inTransitLoads.find((function(e){return e.shipmentId===o})):null;if(c||t)s&&e.shipmentForStartTrip(c),Wh(c,e,a,r);else if(e.userDetails&&e.userDetails.carrierId&&e.isNetworkAvailable&&!c){var l=new Dd,u=!ja("myLoad","carrierAssigned");l.carrierId=e.userDetails.carrierId,l.filter={carrierAssigned:i,driverAssigned:n,inTransit:s},u&&(l.driverId=e.userDetails.userPrincipalName||""),e.fetchDriverShipments(l.getRequestPayload(),!1,(function(){var t="";i?t=C.CARRIER_ASSIGNED_MODULE:n?t=C.DRIVER_ASSIGNED_MODULE:s&&(t=C.INTRANSIT_MODULE);var a=new Jo;a.shipmentIds=o,e.buyLoadShipmentRequest({query:a.getRequestShipmentPayload(),currentShipmentID:o,module:t,isPullToRefresh:!1})}))}},Yh=function(e,t,a){if(e.notificationData&&e.notificationData.type){if("MANAGE_USER_REQUEST"===e.notificationData.type){var r=e.notificationData,n=r.requestedCarrierId,i=r.carrierName,s=r.roles,o={isRequested:!0,details:{carrierId:n,carrierName:i||n,roles:void 0===s?"":s}};return e.transferRequest({transfer:o}),a(e.notificationData.deepLinkURI,{transfer:o}),!0}e.resetUsersLoaded()}a(e.deepLinkURI,{resetLoaded:!0}),qh(e,t)},Wh=function(e,t,a,r){e?a(t.deepLinkURI):Dr.show(Sr.t("ISSUE_WITH_ASSIGNED_LOAD"),"bottom",2e3),qh(t,r)},Kh=Object(xe.b)({loading:ln(),isShowPermissionAlert:Object(xe.a)([on],(function(e){return e.showPermissionAlert||ve.showPermissionAlert})),permissionAlertMessage:Object(xe.a)([on],(function(e){return e.permissionAlertMessage||ve.permissionAlertMessage})),permissionAlertTitle:Object(xe.a)([on],(function(e){return e.permissionAlertTitle||ve.permissionAlertTitle})),hiddenbarBottom:Object(xe.a)([on],(function(e){return e.Hidden||ve.Hidden})),deepLinkURI:dn(),data:wd(),userDetails:pn(),deviceResult:Object(xe.a)([cn],(function(e){return e&&e.deviceRegistration||sn.deviceRegistration})),alertTitle:Object(xe.a)([cn],(function(e){return e.alertTitle||sn.alertTitle})),alertMessage:Object(xe.a)([cn],(function(e){return e.alertMessage||sn.alertMessage})),isShowAlert:Object(xe.a)([cn],(function(e){return e.showAlert||sn.showAlert})),driverAssignedLoads:li(),carrierAssignedLoads:ui(),isNetworkAvailable:fn(),getOfflineData:Object(xe.a)([cn],(function(e){return e.offlineJSON||sn.offlineJSON})),getConfigParams:Object(xe.a)([cn],(function(e){return e.configParams||sn.configParams})),getSearchParams:hn(),getShipmentParams:gn(),notificationData:Object(xe.a)([on],(function(e){return e.notificationData||ve.notificationData})),inTransitLoads:di(),apiError:xd(),recentLoadsData:mo(),favoriteLoadsData:wo(),getRegisterUserStatus:Object(xe.a)(cn,(function(e){return e&&e.registerUserStatusMessage})),memberApiError:Object(xe.a)([jd],(function(e){return e.showMemberAPIError||ye.showMemberAPIError})),isCapacitor:bn(),isContentStackApiCalled:Object(xe.a)([cn],(function(e){return e.isContentStackApiCalled||sn.isContentStackApiCalled}))}),Xh=Object(u.c)(Kh,(function(e){return{updateGpsCoordinates:function(t){return e(function(e){return{type:"UPDATE_GPS_COORDS",payload:e}}(t))},closePermissionAlert:function(){return e({type:"CLOSE_PERMISSION_ALERT"})},showPermissionAlert:function(t){return e(ft(t))},clearDeepLinkURI:function(){return e({type:"CLEAR_DEEPLINK_URI"})},getUserDetails:function(t,a){return e(ar({token:t,body:a}))},initializeModule:function(t){return e({type:"OFFLINE_MODE_START",payload:t})},createOfflineJSON:function(t){return e({type:"CREATE_OFFLINE_JSON",payload:t})},updateOfflineContent:function(t){return e({type:"UPDATE_OFFLINE_CONTENT",payload:t})},findSearchData:function(t,a){return e({type:"FIND_SEARCH_DATA",payload:{carrierId:t,searchParams:a}})},findShipmentInfo:function(t,a){return e({type:"FIND_SHIPMENT_INFO",payload:{carrierId:t,searchParams:a}})},fetchDriverShipments:function(t){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0;return e(Zn({query:t,isHideLoader:a,callback:r}))},fetchShipments:function(t){return e(Qn(t,!1))},updateNetworkStatus:function(t){return e(function(e){return{type:"UPDATE_NETWORK_STATUS",data:e}}(t))},hideAlert:function(){return e({type:"HIDE_ALERT_MESSAGE"})},getMoreTabContent:function(t){return e(function(e){return{type:"GET_MORE_TAB_CONTENT",payload:e}}(t))},showAlert:function(t){return e(ir(t))},showNetworkAlert:function(){return e(or())},myLoadData:function(){return e({type:"MYLOAD_CARD_DATA"})},recentLoads:function(t,a){return e(vo(t,a))},favoriteLoads:function(t,a){return e(Dn(t,a))},storeAccessToken:function(t){return e({type:"STORE_ACCESS_TOKEN",payload:t})},registerUser:function(t,a){e({type:"REGISTER_USER",payload:{token:t,body:a}})},shipmentForStartTrip:function(t){e($n(t)),e(ei((new Date).getTime().toString()))},transferRequest:function(t){return e(gl(t))},resetUsersLoaded:function(){return e({type:"MANAGE_USER_LOADED_RESET"})},clearApiResponseError:function(){e({type:"CLEAR_API_RESPONSE_ERROR"})},setMemberApiError:function(){return e(ca(!1))},buyLoadShipmentRequest:function(t,a){return e(qn(t,a))},clearRegisterUserStatus:function(){return e({type:"CLEAR_REGISTER_USER_STATUS_MESSAGE"})},devicePlatform:function(t){return e(function(e){return{type:"DEVICE_PLATFORM",payload:e}}(t))},setContentStackApiCalled:function(t){return e(function(e){return{type:"API_CALLED",payload:e}}(t))}}})),Zh=fs({key:"App",reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sn,t=arguments.length>1?arguments[1]:void 0;return Object(E.a)(e,(function(e){switch(t.type){case"UPDATE_GPS_COORDS":e.GPSData=[].concat(Object(Se.a)(e.GPSData),[t.payload]);break;case"FETCH_USER_DETAILS_SUCCESS":e.UserDetails=t.payload;break;case b:e.UserDetails={},e.GPSData=[];break;case"REGISTER_DEVICE_RESPONSE_ACTION":e.deviceRegistration=t.payload.errors;break;case"SHOW_ALERT_MESSAGE":e.showAlert=t.payload.isShowAlert,e.alertMessage=t.payload.alertMessage,e.alertTitle=t.payload.alertTitle;break;case"HIDE_ALERT_MESSAGE":e.showAlert=!1,e.alertMessage="",e.alertTitle="";break;case"MORE_TAB_CONTENT_RESPONSE":e.moreContent=t.payload;break;case"MORE_TAB_CONTENT_RESPONSE_DUMMY":e.offlineJSON.contentParams=t.payload;break;case"CREATE_OFFLINE_JSON":e.offlineJSON=t.payload,console.log(e.offlineJSON);break;case"GET_CONFIG_PARAMS":e.configParams=t.payload;break;case"UPDATE_SEARCH_PARAMS_OFFLINE":e.offlineJSON[Ua.details.auth.user.upn].searchParams=Object(p.a)(Object(p.a)({},e.offlineJSON[Ua.details.auth.user.upn].searchParams),t.payload),e.searchParams=Object(p.a)(Object(p.a)({},e.searchParams),t.payload),console.log(e.searchParams);break;case"UPDATE_SHIPMENT_INFO_OFFLINE":e.offlineJSON[Ua.details.auth.user.upn].shipmentParams=t.payload,e.shipmentParams=t.payload;break;case"UPDATE_PULL_TO_REFRESH_STATE":e.pullToRefreshState=t.payload;break;case"STORE_ACCESS_TOKEN":e.access_token=t.payload;break;case"REGISTER_USER_STATUS_MESSAGE":e.registerUserStatusMessage=t.payload;break;case"CLEAR_REGISTER_USER_STATUS_MESSAGE":e.registerUserStatusMessage={};break;case"SESSION_INFO":e.session=t.payload.session;break;case"DEVICE_PLATFORM":e.isCapacitor=t.payload;break;case"SHOW_NOTIFICATION":e.isNotificationClosed=t.payload;break;case"API_CALLED":e.isContentStackApiCalled=t.payload}}))}}),Qh=fs({key:"Favorite",reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jo,t=arguments.length>1?arguments[1]:void 0;return Object(E.a)(e,(function(e){switch(t.type){case"GET_FAVORITE":console.log(t.payload),e.Favorite=t.payload;break;case"UPDATE_FAVORITE_LOADS_REDUCER":e.updatedId=t.payload}}))}}),Jh=fs({key:"recent",reducer:uo}),$h=ps({key:"App",saga:Fi}),eg=ps({key:"search",saga:wn}),tg=ps({key:"myload",saga:Xi}),ag=ps({key:"carrierAssigned",saga:ts}),rg=Object(m.compose)($h,eg,ag,tg,Zh,Qh,Jh,Xh)(s.a.memo((function(e){var t=e.loading,a=e.deepLinkURI,r=e.driverAssignedLoads,n=e.carrierAssignedLoads,o=e.isNetworkAvailable,c=e.inTransitLoads,l=e.notificationData,u=e.getShipmentParams,p=e.memberApiError,m=e.setMemberApiError,f=e.devicePlatform,E=e.isCapacitor,h=function(){var e=Object(i.useState)(),t=Object(Fe.a)(e,2),a=t[0],r=(t[1],Object(i.useState)({})),n=Object(Fe.a)(r,2),s=n[0];return n[1],{watchCurrentPosition:function(){},currentPosition:a,errorMessage:s}}(),g=h.currentPosition,v=h.errorMessage,b=Object(Me.g)().push,S=Object(i.useState)(!0),y=Object(Fe.a)(S,2),O=y[0],_=y[1],A=Object(i.useState)(!1),D=Object(Fe.a)(A,2),T=D[0],R=D[1];Object(i.useEffect)((function(){var t,a=Object(d.V)("capacitor");f(a),t=!0,Object(d.V)("capacitor")&&ma.setEnabled({enabled:t}),function(e){$r.addListener("appStateChange",(function(t){t.isActive&&en(e)})),Jr.addListener("networkStatusChange",(function(t){e.updateNetworkStatus(t)})),en(e)}(e)}),[]),Object(i.useEffect)((function(){Gh(e,O),e.getRegisterUserStatus.registerClicked?_(!1):function(e,t,a,r){if(e&&e.userDetails&&Object.keys(e.userDetails).length){var n=Hh(e);!n||n!==X.carrierGuest||e.userDetails&&e.userDetails.mobileNumber||e.userDetails&&e.userDetails.firstName||e.userDetails&&e.userDetails.lastName?(t(!0),!n||n===X.carrierGuest||e.userDetails&&e.userDetails.mobileNumber||a("/app/manage/ProfileDetails/edit")):t(!1),r&&Vh(e.userDetails)}}(e,_,b,E)}),[e.userDetails,e.getRegisterUserStatus]),Object(i.useEffect)((function(){g&&e.updateGpsCoordinates(g)}),[g]),Object(i.useEffect)((function(){""!==a&&R(!0)}),[r,n,c]),Object(i.useEffect)((function(){!function(e,t,a,r){if(""!==e.deepLinkURI&&e.notificationData&&""!==e.notificationData.deepLinkURI){if(e.notificationData.userId!==e.userDetails.userPrincipalName)return e.showAlert({isShowAlert:!0,alertMessage:"The invited user and logged in user credential doesn't match. Kindly contact the carrier.",alertTitle:"Warning"}),void qh(e,t);if(!e.isNetworkAvailable)return qh(e,t),void e.showNetworkAlert();e.deepLinkURI.includes("MyLoad")?zh(e,a,r,t):Yh(e,t,r)}}(e,R,T,b)}),[a,l,r,n,o,c]),Object(i.useEffect)((function(){v.errorMsg&&e.showPermissionAlert({isShowPermissionAlert:!0,permissionAlertMessage:v.errorMsg,permissionAlertTitle:v.title})}),[v]),Object(i.useEffect)((function(){!function(e){if(e.isNetworkAvailable){if(e.storeAccessToken(Ua.details.auth.tokens),null===e.getOfflineData)Object.keys(xh).forEach((function(e){var t;"UserId"===e&&(t=Ua.details.auth.user.upn,xh[t]=xh[e],delete xh[e])})),e.createOfflineJSON(xh);e.getOfflineData&&e.getOfflineData.configVer&&e.initializeModule(e.getOfflineData.configVer)}e.myLoadData()}(e)}),[o,e.getOfflineData]),Object(i.useEffect)((function(){O&&function(e){var t=Hh(e);if(e.getSearchParams&&!0===e.getSearchParams.RecentSearch&&(t===X.carrierDispatcher||t===X.carrierGuest)){var a=new bo;a.userID=e.userDetails&&e.userDetails.userPrincipalName||"",a.carrierId=e.userDetails&&e.userDetails.carrierId||"",a.page=0,a.size=10,e.recentLoads(a.getRequestPayload(),!1)}}(e)}),[e.getSearchParams&&e.getSearchParams.RecentSearch,O]),Object(i.useEffect)((function(){O&&function(e){var t=Hh(e);if(e.getSearchParams&&!0===e.getSearchParams.FavouriteSearch&&(t===X.carrierDispatcher||t===X.carrierGuest)){var a=new So;a.userID=e.userDetails&&e.userDetails.userPrincipalName||"",a.carrierId=e.userDetails&&e.userDetails.carrierId||"",a.page=0,a.size=10,e.favoriteLoads(a.getFavoritePayload(),!1)}}(e)}),[e.getSearchParams&&e.getSearchParams.FavouriteSearch,O]),Object(i.useEffect)((function(){O&&function(e){var t=Hh(e);if(e.getShipmentParams&&!0===e.getShipmentParams.shipment&&(t===X.carrierDriver||t===X.carrierDispatcher)){var a=!ja("myLoad","carrierAssigned"),r=new Dd;r.carrierId=e.userDetails.carrierId,a&&(r.driverId=e.userDetails.userPrincipalName),r.filter={carrierAssigned:ja("myLoad","carrierAssigned"),driverAssigned:!0,driverAssignmentPending:!0,inTransit:!0,delivered:!0},e.fetchShipments(r.getRequestPayload())}}(e)}),[u&&u.shipment,O]);var N=Hr(),I=function(){var e=Object(He.a)(Ge.a.mark((function e(){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(),E&&Za.details.stopGPS(),e.next=4,Ka();case 4:return e.next=6,N.logout();case 6:(new Sp).clearToken();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=[{text:Sr.t("Ok_TEXT"),role:pe.ok,cssClass:"firstBtn",handler:function(){e.hideAlert()}}];return s.a.createElement(s.a.Fragment,null,s.a.createElement(rn,{getOpenModal:function(e){}}),s.a.createElement(d.z,{isOpen:t,spinner:null,message:"<img src= 'assets/images/Schneider_Spinner-transparent.gif' className='loader-image' />","show-backdrop":!1,cssClass:"loader-message"}),s.a.createElement(Ch,{title:Sr.t(e.alertTitle),isOpen:e.isShowAlert,message:Sr.t(e.alertMessage),buttons:C,dismiss:function(){e.hideAlert()},mode:"md"}),e.isShowPermissionAlert?s.a.createElement(Ih,{title:e.permissionAlertTitle,isOpen:e.isShowPermissionAlert,message:e.permissionAlertMessage,close:e.closePermissionAlert}):null,s.a.createElement(d.Q,{isOpen:!!e.apiError,message:Sr.t(e.apiError),duration:5e3,color:"dark",onDidDismiss:function(){e.clearApiResponseError()}}),s.a.createElement(Ch,{title:Sr.t("Alert!"),isOpen:p,message:Sr.t("MEMBER_API_ERROR_MESSAGE"),cssClass:"register-alert",buttons:[{text:Sr.t("Ok_TEXT"),role:pe.ok,handler:function(){var e=Object(He.a)(Ge.a.mark((function e(){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}],mode:"ios"}),O?s.a.createElement(Nh,{isBarBottom:e.hiddenbarBottom}):s.a.createElement(Bh,Object.assign({setUserState:function(e){return _(e)}},e)))}))),ng=s.a.memo((function(e){var t=e.WrappedComponent,a=Object(i.useState)(!0),r=Object(Fe.a)(a,2),n=r[0],o=r[1];return Object(i.useEffect)((function(){if(Object(d.V)("capacitor")){var e=setTimeout((function(){o(!1)}),1e4);return function(){return clearTimeout(e)}}o(!1)}),[]),n?s.a.createElement("div",null,s.a.createElement("div",{className:"splash_screen"},s.a.createElement("img",{src:"assets/images/splash.gif",alt:""}))):t})),ig=s.a.memo(ng),sg=(a(623),a(47)),og=function(e){var t=Object(sg.a)(),a=Object(d.V)("desktop"),r=function(){var a=Object(He.a)(Ge.a.mark((function a(){return Ge.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.clearError();case 2:t.goBack(),setTimeout((function(){e.clearError()}),0);case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),n=function(){var a=Object(He.a)(Ge.a.mark((function a(){var r;return Ge.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=xr.getInstance(),a.next=3,e.clearError();case 3:t.push(r.tabName),setTimeout((function(){e.clearError()}),0);case 5:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return s.a.createElement(s.a.Fragment,null,s.a.createElement(d.B,null,s.a.createElement(d.l,{fullscreen:a,class:"pageNotFound_page"},s.a.createElement(d.q,{src:me.pageNotFound,class:"pageNotFound_icon"}),s.a.createElement(d.o,{class:"textGrid"},s.a.createElement(d.o,{class:"text1_grid"},Ee.PAGE_NOT_FOUND_MESSAGE1),s.a.createElement(d.o,{class:"text2_grid"},Ee.PAGE_NOT_FOUND_MESSAGE2),s.a.createElement(d.o,{class:"text3_grid"},Ee.PAGE_NOT_FOUND_MESSAGE3)),s.a.createElement(d.o,{class:"buttonGrid"},s.a.createElement(d.e,{onClick:r,class:"buttons backButton"},Ee.BACK_BTN),s.a.createElement(d.e,{onClick:n,class:"buttons homeButton"},Ee.HOME_BTN)))))},cg=a(153),lg=a.n(cg),ug=a(333),dg=a.n(ug),pg=function(){Object(d.V)("capacitor")&&Za.details.initiateGPSconfig();var e=function(){var e=function(e){return Ua.details.auth&&Ua.details.auth.user[e]};lg.a.start({apiKey:I.BUGSNAG_KEY,appVersion:"1.26.8",releaseStage:I.RELEASE,plugins:[new dg.a],onError:function(t){t.setUser(e(ge.CARRIERID),e(ge.UPN),window&&window.navigator.userAgent)}});var t=lg.a.getPlugin("react").createErrorBoundary(s.a);return{Bugsnag:lg.a,ErrorBoundary:t}}().ErrorBoundary;return s.a.createElement(ig,{WrappedComponent:s.a.createElement(e,{FallbackComponent:og},s.a.createElement(u.a,{store:we},s.a.createElement(d.c,null,s.a.createElement(On,{component:rg}))))})};c.a.render(s.a.createElement(i.Suspense,{fallback:"Loading..."},s.a.createElement(pg,null)),document.getElementById("root")),Object(l.a)(window)}},[[347,9,12]]]);