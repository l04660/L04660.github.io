(this["webpackJsonpSCHNEIDER-MVP"]=this["webpackJsonpSCHNEIDER-MVP"]||[]).push([[8],{112:function(e,t,a){},135:function(e,t,a){},142:function(e,t,a){e.exports=a.p+"static/media/ios-cross.05cab4f5.svg"},161:function(e,t,a){},162:function(e,t,a){},177:function(e,t,a){},252:function(e,t,a){},253:function(e,t,a){},260:function(e,t,a){},261:function(e,t,a){},262:function(e,t,a){},316:function(e,t,a){e.exports={ios:a(521),md:a(522)}},335:function(e,t,a){e.exports=a(609)},340:function(e,t,a){var r={"./pwa-action-sheet.entry.js":[615,98],"./pwa-camera-modal-instance.entry.js":[616,99],"./pwa-camera-modal.entry.js":[617,100],"./pwa-camera.entry.js":[618,101],"./pwa-toast.entry.js":[619,102]};function n(e){if(!a.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],n=t[0];return a.e(t[1]).then((function(){return a(n)}))}n.keys=function(){return Object.keys(r)},n.id=340,e.exports=n},346:function(e,t,a){var r={"./ion-action-sheet-controller_8.entry.js":[623,45],"./ion-action-sheet-ios.entry.js":[624,46],"./ion-action-sheet-md.entry.js":[625,47],"./ion-alert-ios.entry.js":[626,26],"./ion-alert-md.entry.js":[627,27],"./ion-app_8-ios.entry.js":[628,13],"./ion-app_8-md.entry.js":[629,14],"./ion-avatar_3-ios.entry.js":[630,48],"./ion-avatar_3-md.entry.js":[631,49],"./ion-back-button-ios.entry.js":[632,50],"./ion-back-button-md.entry.js":[633,51],"./ion-backdrop-ios.entry.js":[634,83],"./ion-backdrop-md.entry.js":[635,84],"./ion-button_2-ios.entry.js":[636,52],"./ion-button_2-md.entry.js":[637,53],"./ion-card_5-ios.entry.js":[638,54],"./ion-card_5-md.entry.js":[639,55],"./ion-checkbox-ios.entry.js":[640,56],"./ion-checkbox-md.entry.js":[641,57],"./ion-chip-ios.entry.js":[642,58],"./ion-chip-md.entry.js":[643,59],"./ion-col_3.entry.js":[644,85],"./ion-datetime_3-ios.entry.js":[645,22],"./ion-datetime_3-md.entry.js":[646,23],"./ion-fab_3-ios.entry.js":[647,60],"./ion-fab_3-md.entry.js":[648,61],"./ion-img.entry.js":[649,86],"./ion-infinite-scroll_2-ios.entry.js":[650,41],"./ion-infinite-scroll_2-md.entry.js":[651,42],"./ion-input-ios.entry.js":[652,62],"./ion-input-md.entry.js":[653,63],"./ion-item-option_3-ios.entry.js":[654,64],"./ion-item-option_3-md.entry.js":[655,65],"./ion-item_8-ios.entry.js":[656,66],"./ion-item_8-md.entry.js":[657,67],"./ion-loading-ios.entry.js":[658,28],"./ion-loading-md.entry.js":[659,29],"./ion-menu_4-ios.entry.js":[660,20],"./ion-menu_4-md.entry.js":[661,21],"./ion-modal-ios.entry.js":[662,16],"./ion-modal-md.entry.js":[663,17],"./ion-nav_5.entry.js":[664,15],"./ion-popover-ios.entry.js":[665,18],"./ion-popover-md.entry.js":[666,19],"./ion-progress-bar-ios.entry.js":[667,68],"./ion-progress-bar-md.entry.js":[668,69],"./ion-radio_2-ios.entry.js":[669,34],"./ion-radio_2-md.entry.js":[670,35],"./ion-range-ios.entry.js":[671,70],"./ion-range-md.entry.js":[672,71],"./ion-refresher_2-ios.entry.js":[673,43],"./ion-refresher_2-md.entry.js":[674,44],"./ion-reorder_2-ios.entry.js":[675,39],"./ion-reorder_2-md.entry.js":[676,40],"./ion-ripple-effect.entry.js":[677,87],"./ion-route_4.entry.js":[678,72],"./ion-searchbar-ios.entry.js":[679,30],"./ion-searchbar-md.entry.js":[680,31],"./ion-segment_2-ios.entry.js":[681,73],"./ion-segment_2-md.entry.js":[682,74],"./ion-select_3-ios.entry.js":[683,36],"./ion-select_3-md.entry.js":[684,37],"./ion-slide_2-ios.entry.js":[685,88],"./ion-slide_2-md.entry.js":[686,89],"./ion-spinner.entry.js":[687,75],"./ion-split-pane-ios.entry.js":[688,90],"./ion-split-pane-md.entry.js":[689,91],"./ion-tab-bar_2-ios.entry.js":[690,76],"./ion-tab-bar_2-md.entry.js":[691,77],"./ion-tab_2.entry.js":[692,38],"./ion-text.entry.js":[693,78],"./ion-textarea-ios.entry.js":[694,79],"./ion-textarea-md.entry.js":[695,80],"./ion-toast-ios.entry.js":[696,32],"./ion-toast-md.entry.js":[697,33],"./ion-toggle-ios.entry.js":[698,24],"./ion-toggle-md.entry.js":[699,25],"./ion-virtual-scroll.entry.js":[700,92]};function n(e){if(!a.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],n=t[0];return a.e(t[1]).then((function(){return a(n)}))}n.keys=function(){return Object.keys(r)},n.id=346,e.exports=n},348:function(e,t,a){var r={"./ion-icon.entry.js":[704,108]};function n(e){if(!a.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],n=t[0];return a.e(t[1]).then((function(){return a(n)}))}n.keys=function(){return Object.keys(r)},n.id=348,e.exports=n},359:function(e,t,a){},454:function(e,t,a){},456:function(e,t,a){},458:function(e,t,a){},515:function(e,t,a){},516:function(e,t,a){},517:function(e,t,a){},518:function(e,t,a){},519:function(e,t,a){},520:function(e,t,a){},521:function(e,t,a){e.exports=a.p+"static/media/ios-BackIcon.d2c0eae0.svg"},522:function(e,t,a){e.exports=a.p+"static/media/md-BackIcon.d2c0eae0.svg"},523:function(e,t,a){},524:function(e,t,a){},525:function(e,t,a){},526:function(e,t,a){},527:function(e,t,a){},528:function(e,t,a){},531:function(e,t,a){},532:function(e,t,a){},533:function(e,t,a){},534:function(e,t,a){},535:function(e,t,a){},536:function(e,t,a){},537:function(e,t,a){},538:function(e,t,a){},539:function(e,t,a){},581:function(e,t){},598:function(e,t,a){},599:function(e,t,a){},600:function(e,t,a){},601:function(e,t,a){},602:function(e,t,a){},603:function(e,t,a){},604:function(e,t,a){},605:function(e,t,a){},606:function(e,t,a){},607:function(e,t,a){},608:function(e,t,a){},609:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(39),s=a.n(i),o=a(323),c=a(15),l=a(1),u=(a(349),a(350),a(351),a(352),a(353),a(354),a(355),a(356),a(357),a(358),a(359),a(6)),d=a(16),p=a(325),m=a(33),f=a(5),h=a(2),E=a.n(h),g=a(11),b=a(7),v=a(8),y=a(122),S=a.n(y),O=function(){function e(){Object(b.a)(this,e)}return Object(v.a)(e,[{key:"__request",value:function(e,t,a,r,n,i,s,o){var c=e.toString();i[n]?i[n].cancel():i[n]=S.a.CancelToken.source();var l={method:a,url:c,headers:t,data:r,onDownloadProgress:o,onUploadProgress:o,timeout:s};return S()(l)}},{key:"__requestRestApi",value:function(e,t,a,r){var n={method:a,url:e.toString(),headers:t,data:r};return S()(n)}},{key:"__instance",value:function(){return S.a}}]),e}(),_={HOME:{RECOMMENDED_LOADS:"/recommended/v1/recommended/loads"},SEARCH:{SEARCH:"/load/v1/loadposting"},RECENT:{RECENT:"/usersearch/v1/history"},FAVORITE:{FAVORITE_LOADS:"/usersearch/v1/history"},DRIVERS_LIST:{DRIVERS_LIST:"/carriermember/v1/member"},FETCH_USER_DETAILS:{USER_DETAILS:"/carriermember/v1/member",GET_USER_DETAILS:"/carriermember/v1/member"},MYLOAD:{CARRIER:"/v1/shipment",BUY_LOAD:"/load/v1/loadposting"},MANAGE:{MY_CAPACITY:"/laneandtruck/v1/laneandtruck",CARRIER_PROFILE:"/masterdata/v1/carrierdata"},LOCATION_TRACKER:{LOCATION_TRACKER:"/devicelocation/v1/location"},REGISTER_DEVICE:{REGISTER_DEVICE:"/devicemanage/v1/manage"},MORETAB:{MORETAB:"/contentstack/v1/contentstack"},CONFIG:{APP_LEVEL:"/contentstack/v1/content-stack/config?env={configEnv}"},SUBMITFEEDBACK:{SUBMITFEEDBACK:"/devicemanage/v1/manage"},AZURE_MAPS:{ACCESS_TOKEN:"/zipcode/v1/oauth2/token"}};function D(e,t,a){return{get_Service_Url:function(){var r="",n=_[e][t];if(!n)throw new Error("key value of End point URL is not matching with provided key name.");return r="https://"+K.API_HOST+n,r=a?r.replace("{upn}",a).replace("{configEnv}",a):r}}}var A,k={ENVIROMENT_KEYS:function(){return{CLIENT_ID:"f045d15c-3dbe-41c8-a229-aafa5394318b",DISCOVERY_URL:"https://schneidercarexpdev.b2clogin.com/schneidercarexpdev.onmicrosoft.com/v2.0/.well-known/openid-configuration?p=B2C_1A_signup_signin",REDIRECT_URI:"https://www.jwt.ms",FIREBASE_TOKEN:"",RELEASE:"development",BUGSNAG_KEY:"8b19859bf35d89eb8ce3d0c6ca5f8277",AZURE_MAP_CLIENT_ID:"eaf9747e-2b9c-4f09-93e0-697caf0cad36",API_HOST:"dev-api.sndrio.com/external/005/carrier",SUBSCRIPTION_KEY:"96918226b93f451481b875e74d581ab0",AZURE_API_HOST:"https://schneidercarexpdev.onmicrosoft.com",AZURE_REDIRECT_URL:"https://sni-carrier-experience.dev-aks.sndrio.com/login",AZURE_RESET_URL:"https://schneidercarexpdev.b2clogin.com/schneidercarexpdev.onmicrosoft.com/v2.0/.well-known/openid-configuration?p=B2C_1A_PasswordReset"}}},T={ENVIROMENT_KEYS:function(){return{CLIENT_ID:"f045d15c-3dbe-41c8-a229-aafa5394318b",DISCOVERY_URL:"https://schneidercarexpdev.b2clogin.com/schneidercarexpdev.onmicrosoft.com/v2.0/.well-known/openid-configuration?p=B2C_1A_signup_signin",FIREBASE_TOKEN:"",RELEASE:"development",BUGSNAG_KEY:"8b19859bf35d89eb8ce3d0c6ca5f8277",AZURE_MAP_CLIENT_ID:"eaf9747e-2b9c-4f09-93e0-697caf0cad36",API_HOST:"api.unt.schneider.com/external/005/carrier",SUBSCRIPTION_KEY:"0393ee4ccd0d4e46a2c0e0e0f97be467",AZURE_API_HOST:"https://schneidercarexpdev.onmicrosoft.com",AZURE_REDIRECT_URL:"https://sni-carrier-experience-carrier-freight.apps.unt.schneider.com/login",AZURE_RESET_URL:"https://schneidercarexpdev.b2clogin.com/schneidercarexpdev.onmicrosoft.com/v2.0/.well-known/openid-configuration?p=B2C_1A_PasswordReset",GEO_PRE_ARRIVAL_RADIUS:1600,GOOGLE_MAPS_API_KEY:"AIzaSyAQeA7e4GAx_nR7Jgw_upi6pITh-x73Fyc"}}},N={ENVIROMENT_KEYS:function(){return{CLIENT_ID:"5028ac47-6697-4cf4-8a0d-fd8a9010390c",DISCOVERY_URL:"https://schneidercarrieruat.b2clogin.com/schneidercarrieruat.onmicrosoft.com/v2.0/.well-known/openid-configuration?p=B2C_1A_signup_signin",REDIRECT_URI:"https://www.jwt.ms",FIREBASE_TOKEN:"",RELEASE:"uat",BUGSNAG_KEY:"8b19859bf35d89eb8ce3d0c6ca5f8277",AZURE_MAP_CLIENT_ID:"eaf9747e-2b9c-4f09-93e0-697caf0cad36",API_HOST:"api.uat.schneider.com/external/005/carrier",SUBSCRIPTION_KEY:"eed85d63a6224e05a592fde1e7842134",AZURE_API_HOST:"https://schneidercarrieruat.onmicrosoft.com",AZURE_REDIRECT_URL:"https://sni-carrier-experience-carrier-freight.apps.uat.schneider.com/login",AZURE_RESET_URL:"https://schneidercarrieruat.b2clogin.com/schneidercarrieruat.onmicrosoft.com/v2.0/.well-known/openid-configuration?p=B2C_1A_PasswordReset",GEO_PRE_ARRIVAL_RADIUS:1600,GOOGLE_MAPS_API_KEY:"AIzaSyAQeA7e4GAx_nR7Jgw_upi6pITh-x73Fyc"}}},R={ENVIROMENT_KEYS:function(){return{CLIENT_ID:"19bdee4a-2166-40a9-bfa9-f9aaf19f2950",DISCOVERY_URL:"https://schneidercarrier.b2clogin.com/schneidercarrier.onmicrosoft.com/v2.0/.well-known/openid-configuration?p=B2C_1A_signup_signin",REDIRECT_URI:"https://www.jwt.ms",FIREBASE_TOKEN:"",RELEASE:"production",BUGSNAG_KEY:"8b19859bf35d89eb8ce3d0c6ca5f8277",AZURE_MAP_CLIENT_ID:"2dbbcf05-3325-4a60-b6cf-7d594264ec8e",API_HOST:"api.schneider.com/external/005/carrier",SUBSCRIPTION_KEY:"6569aea3d9e943e0b610c320ca62a92a",AZURE_API_HOST:"https://schneidercarrier.onmicrosoft.com",AZURE_REDIRECT_URL:"https://sni-carrier-experience-carrier-freight.apps.schneider.com/login",AZURE_RESET_URL:"https://schneidercarrier.b2clogin.com/schneidercarrier.onmicrosoft.com/v2.0/.well-known/openid-configuration?p=B2C_1A_PasswordReset",GEO_PRE_ARRIVAL_RADIUS:3300,GOOGLE_MAPS_API_KEY:"AIzaSyAQeA7e4GAx_nR7Jgw_upi6pITh-x73Fyc"}}};!function(e){e[e.prod=0]="prod",e[e.alpha=1]="alpha",e[e.uat=2]="uat",e[e.unt=3]="unt",e[e.dev=4]="dev"}(A||(A={}));var I,C,j=function(){function e(t){Object(b.a)(this,e),this.__environment=void 0,this.__environment=t}return Object(v.a)(e,[{key:"__fetchOfflineConfig",value:function(){var e=null;switch(this.__environment){case"dev":e=k;break;case"unt":e=T;break;case"uat":e=N;break;case"alpha":case"prod":e=R}return e.ENVIROMENT_KEYS()}},{key:"__fetchOnlineConfig",value:function(){var e=Object(g.a)(E.a.mark((function e(t,a,r){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new O).__requestRestApi(D("CONFIG","APP_LEVEL","default").get_Service_Url(),{"Content-Type":"application/json","Ocp-Apim-Subscription-Key":t,Authorization:"Bearer ".concat(a)},"get").then((function(e){return e.data[0]})).catch(function(){var e=Object(g.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(new O).__instance(),e.next=3,a.get("./online-mock.json").then((function(e){return e.data[0]}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){var e=Object(g.a)(E.a.mark((function e(t,a,r,n,i){var s,o,c,l,d;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=3;break}throw new Error("Store service is not provided to share Keys accross the Applciation");case 3:return s="config",e.next=6,a.getVault();case 6:return o=e.sent,e.next=9,o.getValue(s);case 9:if(e.sent){e.next=34;break}return e.prev=10,e.next=13,Promise.all([this.__fetchOnlineConfig(r,n,i)]);case 13:if(c=e.sent,l=Object(f.a)(c,1),d=l[0],!Object.keys(d).length){e.next=27;break}return o.storeValue(s,btoa(JSON.stringify(Object(u.a)({},d)))),e.t0=t,e.t1=JSON,e.t2=atob,e.next=23,o.getValue(s);case 23:e.t3=e.sent,e.t4=(0,e.t2)(e.t3),e.t5=e.t1.parse.call(e.t1,e.t4),e.t0.getKeys.call(e.t0,e.t5);case 27:e.next=32;break;case 29:throw e.prev=29,e.t6=e.catch(10),new Error(e.t6);case 32:e.next=43;break;case 34:return e.t7=t,e.t8=JSON,e.t9=atob,e.next=39,o.getValue(s);case 39:e.t10=e.sent,e.t11=(0,e.t9)(e.t10),e.t12=e.t8.parse.call(e.t8,e.t11),e.t7.getKeys.call(e.t7,e.t12);case 43:case"end":return e.stop()}}),e,this,[[10,29]])})));return function(t,a,r,n,i){return e.apply(this,arguments)}}()}]),e}(),w="@@saga-injector/daemon",L="LOGOUT",P="Anywhere",x="Dry Van",M="Please provide a correct pickup date.",U="Please provide correct delivery date",F="Kindly provide your correct city name",V="Please provide a correct pickup location.",H="Please provide a correct drop off location.",G="pickUpdate",B="origin";!function(e){e.OTM="833-391-8735",e.MG="855-476-4786"}(I||(I={})),function(e){e.ASSIGN_DRIVER_TO_SHIPMENT="ASSIGN_DRIVER_TO_SHIPMENT",e.ASSIGN_DRIVER_TO_SHIPMENT_RESPONSE="ASSIGN_DRIVER_TO_SHIPMENT_RESPONSE",e.CLEAR_ASSIGN_DRIVER_TO_SHIPMENT_RESPONSE="CLEAR_ASSIGN_DRIVER_TO_SHIPMENT_RESPONSE",e.SHOW_ASSIGN_DRIVER_TO_SHIPMENT_DIALOG="SHOW_ASSIGN_DRIVER_TO_SHIPMENT_DIALOG",e.HIDE_ASSIGN_DRIVER_TO_SHIPMENT_DIALOG="HIDE_ASSIGN_DRIVER_TO_SHIPMENT_DIALOG",e.CONFIRM_START_INFORMATION="CONFIRM_START_INFORMATION",e.CONFIRM_START_INFORMATION_SUCCESS="CONFIRM_START_INFORMATION_SUCCESS",e.CONFIRM_START_INFORMATION_STATUS_MESSAGE="CONFIRM_START_INFORMATION_STATUS_MESSAGE",e.CLEAR_CONFIRM_START_INFORMATION_STATUS_MESSAGE="CLEAR_CONFIRM_START_INFORMATION_STATUS_MESSAGE",e.SHIPMENT_FOR_STARTTRIP="SHIPMENT_FOR_STARTTRIP",e.SHIPMENT_FOR_STARTTRIP_TIMESTAMP="SHIPMENT_FOR_STARTTRIP_TIMESTAMP",e.UPDATE_STOP_INFORMATION="UPDATE_STOP_INFORMATION",e.UPDATE_STOP_INFORMATION_RESPONSE="UPDATE_STOP_INFORMATION_REPONSE",e.START_TRIP="START_TRIP",e.START_TRIP_INFORMATION_RESPONSE="START_TRIP_INFORMATION_RESPONSE",e.COMPLETE_TRIP_API_REQUEST="COMPLETE_TRIP_API_REQUEST",e.COMPLETE_TRIP_API_RESPONSE="COMPLETE_TRIP_API_RESPONSE",e.SHOW_WARNING_DIALOG="SHOW_WARNING_DIALOG",e.CLEAR_WARNING_DIALOG="CLEAR_WARNING_DIALOG",e.CLEAR_UPDATE_STOP_INFORMATION_RESPONSE="CLEAR_UPDATE_STOP_INFORMATION_REPONSE"}(C||(C={}));var q;!function(e){e.ERROR_MESSAGE_1="You have an active trip, Shipment #",e.ERROR_MESSAGE_2=". Please complete that trip, to start tracking a new shipment."}(q||(q={}));var z,Y,W,Z,K=new j("uat ".trim()||"uat").__fetchOfflineConfig(),J="It looks like your shipment details was updated from other sources. Please check & try again",Q="No network connection",X="Please check your network connectivity and try again.";!function(e){e.GEO_START_TRIP_LOCATION="Geo-Start-Trip-Location",e.GEO_POSITION="Geo-Position",e.GEOFENCE_PRE_ARRIVAL="Geo-Fence-Pre-Arrival-",e.GEOFENCE_ARRIVAL="Geo-Fence-",e.GEO_STOP_ARRIVAL="Geo-Stop-Arrival",e.GEO_TPOSITION="Geo-TPosition"}(z||(z={})),function(e){e.PRE_ARRIVAL="PRE_ARRIVAL",e.ARRIVAL="ARRIVAL"}(Y||(Y={})),function(e){e.ENTER="ENTER",e.EXIT="EXIT"}(W||(W={})),function(e){e.START_TRIP="assets/sound/location-services-on.mp3",e.STOP_TRIP="assets/sound/location-services-off.mp3",e.GEOFENCE_PRE_ARRIVAL_ENTRY="assets/sound/geofence-enter.mp3",e.GEOFENCE_PRE_ARRIVAL_EXIT="assets/sound/geofence-exit.mp3",e.GEOFENCE_ARRIVAL_ENTRY="assets/sound/tslocationmanager_beep_trip_dry.mp3",e.GEOFENCE_ARRIVAL_EXIT="assets/sound/tslocationmanager_beep_trip_up_dry.mp3"}(Z||(Z={}));var $,ee,te=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];!function(e){e.CARRIER_ASSIGNED_MODULE="MyLoad/CarrierAssigned",e.DRIVER_ASSIGNED_MODULE="MyLoad/DriverAssigned",e.INTRANSIT_MODULE="MyLoad/InTransit",e.RECENTLY_DELIVERED_MODULE="MyLoad/Delivered",e.SEARCH_RESULTS="search/results"}($||($={})),function(e){e.RECOMMENDED_MODULE="home/recommended",e.WATCHED_MODULE="home/watched"}(ee||(ee={}));var ae;!function(e){e.PENDING="PENDING",e.ACCEPTED="ACCEPTED",e.STARTED="STARTED",e.IN_TRANSIT="IN_TRANSIT",e.DELIVERED="DELIVERED",e.COMPLETED="COMPLETED"}(ae||(ae={}));var re,ne="{{EMAIL}} already exists.  Do you want to send a request to {{NAME}} to join your carrier account?",ie="Are you sure you want to navigate back?",se="You have not saved the new user information.",oe="Please enter valid email address",ce={firstName:"Please enter first name",lastName:"Please enter last name",mobileNumber:"Please enter valid mobile number",tractorNumber:"Please enter valid tractor number"},le={carrierGuest:"Guest",carrierDispatcher:"Dispatcher",carrierDriver:"Driver",carrierAdmin:"Admin"};!function(e){e.START_TRIP="Start Trip",e.STOP_TRACKING="Stop Tracking"}(re||(re={}));var ue,de,pe,me="assets/icon/star-color.svg",fe="assets/icon/star.svg",he="rate",Ee=[{value:"origin_from_date",name:"Pick-up date"},{value:"totalDistance",name:"Distance"}],ge=[{value:"origin_from_date",name:"Pick-up date"},{value:"totalDistance",name:"Distance"},{value:"Price",name:"Price"}],be="Oops something went wrong",ve=[{label:"MON",value:"MONDAY"},{label:"TUE",value:"TUESDAY"},{label:"WED",value:"WEDNESDAY"},{label:"THU",value:"THURSDAY"},{label:"FRI",value:"FRIDAY"},{label:"SAT",value:"SATURDAY"},{label:"SUN",value:"SUNDAY"}],ye={paginationSize:10,gpsTrackingRadiusInMiles:5,gpsTrackingIntervalInMinutes:15,geoFencePreArrivalRadiusInMiles:1,geoFenceEntryRadiusInMiles:1,roleConfigurations:{home:{recommended:{carrierGuest:!1,carrierDriver:!1,carrierDispatcher:!0,carrierAdmin:!1},watched:{carrierGuest:!1,carrierDriver:!1,carrierDispatcher:!0,carrierAdmin:!1}},search:{new:{carrierGuest:!0,carrierDriver:!1,carrierDispatcher:!0,carrierAdmin:!1},recent:{carrierGuest:!0,carrierDriver:!1,carrierDispatcher:!0,carrierAdmin:!1},favorite:{carrierGuest:!0,carrierDriver:!1,carrierDispatcher:!0,carrierAdmin:!1}},MyLoad:{carrierAssigned:{carrierGuest:!1,carrierDriver:!1,carrierDispatcher:!0,carrierAdmin:!0},driverAssigned:{carrierGuest:!1,carrierDriver:!0,carrierDispatcher:!0,carrierAdmin:!0},manageFinancial:{carrierGuest:!1,carrierDriver:!1,carrierDispatcher:!0,carrierAdmin:!0},driverLoads:{carrierGuest:!1,carrierDriver:!0,carrierDispatcher:!1,carrierAdmin:!0}},manage:{userProfile:{carrierGuest:!0,carrierDriver:!0,carrierDispatcher:!0,carrierAdmin:!0},myprofile:{carrierGuest:!0,carrierDriver:!0,carrierDispatcher:!0,carrierAdmin:!0},mypreferences:{carrierGuest:!0,carrierDriver:!0,carrierDispatcher:!0,carrierAdmin:!0},carrierprofile:{carrierGuest:!0,carrierDriver:!0,carrierDispatcher:!0,carrierAdmin:!0},manageusers:{carrierGuest:!1,carrierDriver:!1,carrierDispatcher:!0,carrierAdmin:!0},managemycapacity:{carrierGuest:!0,carrierDriver:!0,carrierDispatcher:!0,carrierAdmin:!0}},more:{more:{carrierGuest:!0,carrierDriver:!0,carrierDispatcher:!0,carrierAdmin:!0}}}};!function(e){e.SV_GET_STARTED="sv_get_started",e.SV_REGISTRATION="sv_registration",e.UE_REGISTER_NOW="ue_register_now",e.UE_REGISTER_SUCCESS="ue_register_success",e.UE_REGISTER_FAILED="ue_register_failed",e.UE_SIGN_IN="ue_sign_in",e.UE_LOGIN_SUCCESS="ue_login_success",e.UE_LOGIN_FAILED="ue_login_failed",e.SV_HOME="sv_home",e.UE_VIEW_RECOMMENDED_TAB="ue_view_recommended_tab",e.UE_SCROLL_RECOMMENDATIONS="ue_scroll_recommendations",e.UE_VIEW_WATCHED_TAB="ue_view_watched_tab",e.SV_SEARCH_FILTER="sv_search_filter",e.SV_SEARCH_RESULT="sv_search_result",e.SV_VIEW_LOAD="sv_view_load",e.UE_SEARCH_SEE_RESULTS="ue_search_see_results",e.UE_BOOK_LOAD_NOW="ue_book_load_now",e.SV_LOAD_DETAILS_RATE="sv_load_details_rate",e.UE_LOAD_RATE_ACCEPT="ue_load_rate_accept",e.UE_LOAD_RATE_DENY="ue_load_rate_deny",e.UE_BOOK_SUCCESS="ue_book_success",e.UE_BOOK_FAILED="ue_book_failed",e.UE_START_TRIP="ue_start_trip",e.UE_GEO_TRACKING="ue_geo_tracking",e.UE_GEOFENCE_ANNOUNCEMENT="ue_geofence_announcement",e.SV_VIEW_MYLOADS="sv_view_myloads",e.SV_VIEW_CARRIER_ASSIGNED="sv_view_carrier_assigned",e.SV_ASSIGN_DRIVER="sv_assign_driver",e.UE_ASSIGN_DRIVER_SUCCESS="ue_assign_driver_success",e.SV_VIEW_DRIVER_ASSIGNED="sv_view_driver_assigned",e.SV_VIEW_IN_TRANSIT="sv_view_in_transit",e.SV_VIEW_RECENTLY_DEL="sv_view_recently_del",e.SV_LOAD_DETAILS="sv_load_details",e.UE_VIEW_LOAD="ue_view_load",e.UE_WATCH_LOAD="ue_watch_load",e.UE_VIEW_LOAD_TERMS="ue_view_load_terms",e.UE_VIEW_LOAD_CALL_US="ue_view_load_call_us",e.UE_CONTACT_FOR_PRICE="ue_contact_for_price",e.SV_VIEW_SHIPMENT="sv_view_shipment",e.SV_MANAGE_PROFILE="sv_manage_profile",e.SV_VIEW_MY_PROFILE="sv_view_my_profile",e.SV_VIEW_CARRIER_PROFILE="sv_view_carrier_profile",e.SV_MANAGE_USERS="sv_manage_users",e.SV_MANAGE_CAPACITY="sv_manage_capacity",e.SV_MANAGE_CAPACITY_ADDEDIT="sv_manage_capacity_addedit",e.UE_MANAGE_CAPACITY_SUCCESS="ue_manage_capacity_success",e.UE_MANAGE_CAPACITY_FAILED="ue_manage_capacity_failed",e.SV_MORE_MENU="sv_more_menu",e.UE_STOP_UPDATE_SUCCESS="ue_stop_update_success",e.UE_STOP_UPDATE_FAILURE="ue_stop_update_failure",e.UE_COMPLETE_TRIP="ue_complete_trip",e.SV_LOAD_DETAILS_MAP="sv_load_details_map",e.SV_VIEW_REFERENCE="sv_view_reference"}(ue||(ue={})),function(e){e.REGISTRATION="registration",e.HOME="home",e.GET_STARTED="get-started",e.SHIPMENT_DETAILS="shipment_details",e.SEARCH_FILTER="search_filter",e.SEARCH_RESULT="search_result",e.LOAD_DETAILS="load_details",e.LOAD_DETAILS_RATE="load_details_rate",e.MYLOADS="myloads",e.MYLOADS_CARRIER_ASSIGNED="myloads_carrier_assigned",e.MYLOADS_DRIVER_ASSIGNMENT="myloads_driver_assignment",e.MYLOADS_IN_TRANSIT="myloads_in_transit",e.MYLOADS_RECENTLY_DEL="myloads_recently_del",e.MYLOADS_DRIVER_ASSIGNED="myloads_driver_assigned",e.MANAGE_PROFILE="manage_profile",e.MY_PROFILE="my_profile",e.CARRIER_PROFILE="carrier_profile",e.MANAGE_USERS="manage_users",e.MANAGE_CAPACITY="manage_capacity",e.MANAGE_CAPACITY_ADDEDIT="manage_capacity_addedit",e.MORE_MENU="more_menu",e.LOAD_DETAILS_MAP="load_details_map",e.MYLOADS_NEEDS_PPWK="myloads_needs_ppwk"}(de||(de={})),function(e){e.RECOMMENDED="recommended",e.WATCHED="watched",e.NEW="new",e.RECENT="recent",e.FAVORITE="favorite",e.SEARCHED="searched",e.CARRIER_ASSIGNED="CarrierAssigned",e.DRIVER_ASSIGNED="DriverAssigned"}(pe||(pe={}));var Se;!function(e){e.NO_NETWORK_TITLE="No Network",e.NO_NETWORK_TEXT="Please check your network connectivity and try again.",e.Ok_TEXT="Ok",e.GET_STARTED_TEXT="Get Started",e.SIGNUP_TEXT="Start with signing up or sign in"}(Se||(Se={}));var Oe,_e;!function(e){e.UNT="development",e.UAT="uat",e.PROD="production"}(Oe||(Oe={})),function(e){e.PRIMARY_DRIVER="PRIMARY DRIVER"}(_e||(_e={}));var De,Ae,ke;!function(e){e.carrierGuest="carrierGuest",e.carrierAdmin="carrierAdmin",e.carrierDispatcher="carrierDispatcher",e.carrierDriver="carrierDriver"}(De||(De={})),function(e){e.firstName="firstName",e.lastName="lastName",e.mobileNumber="mobileNumber",e.companyName="companyName",e.corporateZipCode="corporateZipCode"}(Ae||(Ae={})),function(e){e.ARRIVAL_ERROR="Arrival time can't be more than 60 mins in future",e.DEPARTURE_ERROR="Departure time can't be more than 60 mins in future",e.DEPARTURE_ARRIVAL_ERROR="Arrival time can't be greater than the departure time",e.TRAILER_IN_ERROR="Trailer in is mandatory!!!",e.TRAILER_OUT_ERROR="Trailer out is mandatory!!!",e.MISSING_ACTIVITY="Stop Activity Missing, Trailer Information can't be updated. Please contact Schneider.",e.NO_MAPPING_ACTIVITY="Stop Activity mapping not found, Trailer Information can't be updated. Please contact Schneider.",e.VALID_TRAILER_IN="Please enter valid Trailer IN value",e.VALID_TRAILER_OUT="Please enter valid Trailer OUT value"}(ke||(ke={}));var Te;!function(e){e.CONFIGURATION_TXT="Configuration",e.ENABLE_R2_FEATURE_TXT="Enable R2 feature",e.OKAY="Okay"}(Te||(Te={}));var Ne;!function(e){e.OK="Ok",e.CANCEL="Cancel",e.DELINK="Delink"}(Ne||(Ne={}));var Re,Ie=[{identifier:"iPhone5,1",generation:"iPhone 5"},{identifier:"iPhone5,2",generation:"iPhone 5"},{identifier:"iPhone5,3",generation:"iPhone 5c"},{identifier:"iPhone5,4",generation:"iPhone 5c"},{identifier:"iPhone6,1",generation:"iPhone 5s"},{identifier:"iPhone6,2",generation:"iPhone 5s"},{identifier:"iPhone7,2",generation:"iPhone 6"},{identifier:"iPhone7,1",generation:"iPhone 6 Plus"},{identifier:"iPhone8,1",generation:"iPhone 6s"},{identifier:"iPhone8,2",generation:"iPhone 6s Plus"},{identifier:"iPhone12,8",generation:"iPhone SE"},{identifier:"iPhone8,4",generation:"iPhone SE"},{identifier:"iPhone9,3",generation:"iPhone 7"},{identifier:"iPhone9,1",generation:"iPhone 7"},{identifier:"iPhone9,4",generation:"iPhone 7 Plus"},{identifier:"iPhone9,4",generation:"iPhone 7 Plus"},{identifier:"iPhone10,1",generation:"iPhone 8"},{identifier:"iPhone10,4",generation:"iPhone 8"},{identifier:"iPhone10,2",generation:"iPhone 8 Plus"},{identifier:"iPhone10,5",generation:"iPhone 8 Plus"},{identifier:"iPhone10,3",generation:"iPhone X"},{identifier:"iPhone10,6",generation:"iPhone X"},{identifier:"iPhone11,2",generation:"iPhone XS"},{identifier:"iPhone11,4",generation:"iPhone XS Max"},{identifier:"iPhone11,6",generation:"iPhone XS Max"},{identifier:"iPhone11,8",generation:"iPhone XR"},{identifier:"iPhone12,1",generation:"iPhone 11"},{identifier:"iPhone12,3",generation:"iPhone 11 Pro"},{identifier:"iPhone12,5",generation:"iPhone 11 Pro Max"},{identifier:"iPad6,7",generation:'iPad Pro (12.9")'},{identifier:"iPad6,8",generation:'iPad Pro (12.9")'},{identifier:"iPad6,3",generation:'iPad Pro (9.7")'},{identifier:"iPad6,4",generation:'iPad Pro (9.7")'},{identifier:"iPad7,1",generation:'iPad Pro (12.9")(2nd generation)'},{identifier:"iPad7,2",generation:'iPad Pro (12.9")(2nd generation)'},{identifier:"iPad7,3",generation:"iPad Pro (10.5-inch)"},{identifier:"iPad7,4",generation:"iPad Pro (10.5-inch)"},{identifier:"iPad8,1",generation:"iPad Pro (11-inch)"},{identifier:"iPad8,2",generation:"iPad Pro (11-inch)"},{identifier:"iPad8,3",generation:"iPad Pro (11-inch)"},{identifier:"iPad8,4",generation:"iPad Pro (11-inch)"},{identifier:"iPad8,5",generation:'iPad Pro (12.9") (3rd generation)'},{identifier:"iPad8,6",generation:'iPad Pro (12.9") (3rd generation)'},{identifier:"iPad8,7",generation:'iPad Pro (12.9") (3rd generation)'},{identifier:"iPad8,8",generation:'iPad Pro (12.9") (3rd generation)'},{identifier:"iPad8,11",generation:'iPad Pro (12.9") (4th generation)'},{identifier:"iPad8,11",generation:'iPad Pro (12.9") (4th generation)'},{identifier:"iPad8,9",generation:"iPad Pro (11-inch) (2nd generation)"},{identifier:"iPad8,10",generation:"iPad Pro (11-inch) (2nd generation)"},{identifier:"iPad4,1",generation:"iPad Air"},{identifier:"iPad4,2",generation:"iPad Air"},{identifier:"iPad4,3",generation:"iPad Air"},{identifier:"iPad5,3",generation:"iPad Air 2"},{identifier:"iPad5,3",generation:"iPad Air 2"},{identifier:"iPad11,3",generation:"iPad Air (3rd generation)"},{identifier:"iPad11,4",generation:"iPad Air (3rd generation)"}],Ce="We are having trouble signing you in. Please try again later.",je="Contact Schneider to get full access",we=["TA","SNLU","BOBTAIL"],Le=/^(SNLU[0-9]{6}$)|(TA[0-9]{6}$)|(BOBTAIL)$/,Pe='Contact Schneider at <a href="mailto:stmcarrier@schneider.com" className="email">stmcarrier@schneider.com</a> <span>if any of the fields need to be updated</span>';!function(e){e.ALERT_MESSAGE="Are you sure you want to logout?",e.Logout_TEXT="Logout",e.Cancel_TEXT="Cancel",e.REGISTRATION_ALERT_MESSAGE="Are you sure you want to log out without completing registration?"}(Re||(Re={}));var xe="Add Driver/Dispatcher",Me={lastUpdatedDate:"",loading:!1,loadCount:0,error:!1,currentUser:!1,hasSession:0,userData:null,showPermissionAlert:!1,permissionAlertMessage:"",permissionAlertTitle:"",alertError:!1,networkStatus:{connected:!1,connectionType:"none"},deviceInfo:{},Hidden:!0,loginToken:"",deepLinkURI:"",notificationData:{shipmentId:"",userId:"",carrierName:"",carrierId:"",Timestamp:"",deepLinkURI:""},showPullToRefresh:!1},Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;return Object(m.a)(e,(function(e){switch(t.type){case"LAST_UPDATED_DATE":e.lastUpdatedDate=t.date;break;case"TOGGLE_LOADING":var a=t.status?e.loadCount+1:e.loadCount-1;e.loadCount=a>=0?a:0,e.loading=a>0;break;case"PERMISSION_ALERT_MESSAGE":e.showPermissionAlert=t.payload.isShowPermissionAlert,e.permissionAlertMessage=t.payload.permissionAlertMessage,e.permissionAlertTitle=t.payload.permissionAlertTitle;break;case"CLOSE_PERMISSION_ALERT":e.showPermissionAlert=!1,e.permissionAlertMessage="",e.permissionAlertTitle="";break;case"LOGIN_INPROGRESS":e.error=!1;break;case"LOGIN_SUCCESS":e.currentUser=!0,e.userData=t.data;break;case"LOGIN_ERROR":e.error=!0;break;case"HIDE_TAB_BAR":e.Hidden=!1,console.log(e.Hidden,"draft.Hidden");break;case L:e=Me;break;case"SESSION":e.hasSession=t.session;break;case"UPDATE_NETWORK_STATUS":console.log("NETWORK RDUCR",t.data),e.networkStatus=t.data;break;case"UPDATE_DEVICE_INFO":console.log("DVC DATA",t.data),e.deviceInfo=t.data;break;case"TOKEN_DATA":e.loginToken=t.data.access_token;break;case"SAVE_DEEPLINK_URI":e.notificationData=t.data,e.deepLinkURI="".concat(t.data.deepLinkURI,"/").concat(t.data.shipmentId?t.data.shipmentId:"");break;case"CLEAR_DEEPLINK_URI":e.deepLinkURI="",e.notificationData={shipmentId:"",userId:"",carrierName:"",carrierId:"",Timestamp:"",deepLinkURI:""};break;case"PULL_TO_REFRESH_LOADING":e.showPullToRefresh=t.status}}))},Fe=a(17),Ve={watched:{data:[],totalRecords:0,loaded:!1,filter:{selected:[],direction:"asc"}},apiErrorMessage:"",showMemberAPIError:!1,recommended:{totalRecords:0,loaded:!1,data:[],filter:{selected:[],direction:"asc"}}},He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0;return Object(m.a)(e,(function(e){switch(t.type){case"WATCHEDLOAD_DATA_REQUEST":e.watched.loaded=!0;break;case"WATCHED_DATA_SUCCESS":var a=t.payload&&t.payload,r=a&&a.watchedResults&&a.watchedResults.data&&a.watchedResults.data.getUserWatchedLoads&&a.watchedResults.data.getUserWatchedLoads.loadPostings||[],n=a&&a.watchedResults&&a.watchedResults.data&&a.watchedResults.data.getUserWatchedLoads&&a.watchedResults.data.getUserWatchedLoads.totalRecords||0;r=(r=a.refreshStatus?r:[].concat(Object(Fe.a)(e.watched.data),Object(Fe.a)(r))).filter((function(e,t){return t===r.findIndex((function(t){return t.loadId===e.loadId}))})),e.watched.data=r,e.watched.loaded=!0,e.watched.totalRecords=n;break;case"ADD_WATCH_LOAD_SUCCESS":var i=[].concat(Object(Fe.a)(e.watched.data),[t.payload]);e.watched.data=i,e.watched.totalRecords=e.watched.totalRecords+1;break;case"REMOVE_WATCH_LOAD_SUCCESS":e.watched.data=e.watched.data.filter((function(e){return e.loadId!==t.payload.loadId})),e.watched.totalRecords=e.watched.totalRecords-1;break;case"WATCHED_LOAD_FILTER":e.watched.filter=t.payload.filter;break;case"RECOMMENDED_LOAD_FILTER":e.recommended.filter=t.payload.filter;break;case"SHOW_API_RESPONSE_ERROR":e.apiErrorMessage=t.payload.message;break;case"CLEAR_API_RESPONSE_ERROR":e.apiErrorMessage="";break;case"RECOMMENDED_LOADS_SUCESS":var s=t.payload&&t.payload,o=s&&s.recommendedResults&&s.recommendedResults.data&&s.recommendedResults.data.recommendedLoads&&s.recommendedResults.data.recommendedLoads.loadPostings&&s.recommendedResults.data.recommendedLoads.loadPostings||[],c=s&&s.recommendedResults&&s.recommendedResults.data&&s.recommendedResults.data.recommendedLoads&&s.recommendedResults.data.recommendedLoads.totalRecords||0;e.recommended.data=s.refreshStatus?o:[].concat(Object(Fe.a)(e.recommended.data),Object(Fe.a)(o)),e.recommended.totalRecords=c,e.recommended.loaded=!0;break;case"REMOVE_RECOMMENDEDRESULTS":var l=t.payload&&t.payload;e.recommended.data=e.recommended.data.filter((function(e){return e.loadId!==l.loadId})),e.recommended.totalRecords=e.recommended.totalRecords-1;break;case"SHOW_MEMBER_API_ERROR":e.showMemberAPIError=t.payload&&t.payload}}))},Ge={profileImg:[],myLoadCardData:[],carrierAssigned:[],driverAssigned:[],inTransit:[],myLoadCount:{carrierAssignedCount:0,driverAssignedCount:0,inTransitCount:0,deliveredCount:0},confirmStart:{},confirmStartStatusMessage:{},updateStop:{},startTrip:{},buy:{status:"",message:""},shipment:[],delivered:[],isGetShipment:!1,buyLoadResponseStatus:"",warningDialogMessage:""},Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,t=arguments.length>1?arguments[1]:void 0;return Object(m.a)(e,(function(e){switch(t.type){case"GET_MYLOAD_CARD_DATA":e.myLoadCardData=t.payload;break;case"LOAD_CARRIER_DATA":e.carrierAssigned=t.payload.data,e.myLoadCount.carrierAssignedCount=t.payload.count;break;case"DRIVER_ASSIGNED_DATA":e.driverAssigned=t.payload.data,e.myLoadCount.driverAssignedCount=t.payload.count;break;case"LOAD_INTRANSIT_DATA":e.inTransit=t.payload.data,e.myLoadCount.inTransitCount=t.payload.count;break;case C.CONFIRM_START_INFORMATION_SUCCESS:e.confirmStart=t.payload;break;case L:e.myLoadCardData=e.carrierAssigned=e.driverAssigned=e.inTransit=e.delivered=[],e.myLoadCount.carrierAssignedCount=e.myLoadCount.driverAssignedCount=e.myLoadCount.inTransitCount=e.myLoadCount.deliveredCount=0;break;case C.CONFIRM_START_INFORMATION_STATUS_MESSAGE:e.confirmStartStatusMessage=t.payload;break;case C.SHOW_WARNING_DIALOG:e.warningDialogMessage=t.payload&&t.payload.message||"";break;case C.CLEAR_WARNING_DIALOG:e.warningDialogMessage="";break;case C.CLEAR_CONFIRM_START_INFORMATION_STATUS_MESSAGE:e.confirmStartStatusMessage={};break;case C.UPDATE_STOP_INFORMATION_RESPONSE:e.updateStop=t.payload.data;break;case C.START_TRIP_INFORMATION_RESPONSE:e.startTrip=t.payload;break;case"BUYLOAD_DATA_SUCCESS":var a=t.payload&&t.payload;e.buy=a.data.buy;break;case"LOAD_DELIVERED_DATA":e.delivered=t.payload.data,e.myLoadCount.deliveredCount=t.payload.count;break;case"BUYLOAD_SHIPMENT_SUCCESS":var r=t.payload&&t.payload;e.shipment=r.data&&r.data.getShipment||{};break;case"BUYLOAD_REMOVE_STATUS":e.buy={status:"",message:""};break;case"isGetshipemntError":e.isGetShipment=t.payload;break;case"CLEARBUYLOAD_RESPONSE":e.buyLoadResponseStatus=t.payload;break;case C.CLEAR_UPDATE_STOP_INFORMATION_RESPONSE:e.updateStop={}}}))},qe={loads:{searchLoads:[],totalRecords:0},params:{},allLoads:[],showBuyLoadAPIError:!1},ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1?arguments[1]:void 0;return Object(m.a)(e,(function(e){switch(t.type){case"SEARCH_DATA":e.params=t.payload;break;case"loadSearchData":var a=t.payload&&t.payload,r=a.isPagination;e.loads={searchLoads:r?e.loads.searchLoads.concat(a&&a.data&&a.data.searchLoads||[]):a&&a.data&&a.data.searchLoads||[],totalRecords:a&&a.data&&a.data.totalRecords||0};break;case"SAVE_ALL_SEARCH_DATA":var n=t.payload&&t.payload,i={searchLoads:n&&n.data&&n.data.searchLoads||[],totalRecords:n&&n.data&&n.data.totalRecords||0};e.allLoads=[].concat(Object(Fe.a)(e.allLoads),[i]);break;case"CLEAR_SEARCH_RESULST":e.loads=t.payload;break;case"REMOVE_SEARCH_RESULTS":var s=t.payload&&t.payload;e.loads.searchLoads=e.loads.searchLoads.filter((function(e){return e.loadId!==s})),e.loads.totalRecords=e.loads.searchLoads.length;break;case"SHOW_BUYLOAD_API_ERROR":e.showBuyLoadAPIError=t.payload&&t.payload}}))};function Ye(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(d.combineReducers)(Object(u.a)({global:Ue,carrier:He,myload:Be,search:ze},e)),a=function(e,a){var r=a.type===L;return t(r?void 0:e,a)};return a}var We=a(300),Ze=a(179),Ke=a.n(Ze),Je=a(322),Qe=a(303),Xe=a.n(Qe);var $e,et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(We.createOffline)(Object(u.a)(Object(u.a)({},Ke.a),{},{persist:function(){return!1}})),a=t.middleware,r=t.enhanceReducer,n=t.enhanceStore,i={key:"root",storage:Xe.a},s=d.compose,o={},c=Object(p.a)(o),l=[c];l.push(a);var m=[n,d.applyMiddleware.apply(void 0,l)],f=Object(d.createStore)(Object(Je.a)(i,r(Ye())),e,s.apply(void 0,m));return f.runSaga=c.run,f.injectedReducers={},f.injectedSagas={},f}(),tt=a(22),at=a(304),rt=a(309),nt=a(9),it=a(46),st=a(21),ot=a(87),ct=a(12),lt=a(14),ut=a(10),dt=a(41),pt=(a(204),a(28)),mt=a(306),ft={clientID:K.CLIENT_ID,redirectUri:"com.schneider.fp.carriers://callback",scope:"openid offline_access "+K.AZURE_API_HOST+"/api/readscope "+K.AZURE_API_HOST+"/api/writescope",discoveryUrl:K.DISCOVERY_URL,audience:"",logoutUrl:"",platform:"capacitor",iosWebView:"private",authConfig:"azure",androidToolbarColor:"",logLevel:"DEBUG"},ht={clientID:K.CLIENT_ID,redirectUri:"https://l04660.github.io/login",scope:"openid offline_access "+K.AZURE_API_HOST+"/api/readscope "+K.AZURE_API_HOST+"/api/writescope",discoveryUrl:K.DISCOVERY_URL,audience:"https://graph.microsoft.com",logoutUrl:"https://l04660.github.io/login",platform:"web",authConfig:"azure",logLevel:"DEBUG",clientSecret:"Tvol14SMF_cK@AQNalVdbbxoZ1v4O@Q:"},Et=a(38),gt=a(23),bt=a(31),vt=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:e?"PULL_TO_REFRESH_LOADING":"TOGGLE_LOADING",status:!0}},yt=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:e?"PULL_TO_REFRESH_LOADING":"TOGGLE_LOADING",status:!1}},St=function(){return{type:L}},Ot=function(e){return{type:"SESSION",session:e}},_t=function(e){return{type:"PERMISSION_ALERT_MESSAGE",payload:e}},Dt=function(e){return{type:"SAVE_DEEPLINK_URI",data:e}},At=(a(453),a(36)),kt=a.n(At),Tt=gt.d.FirebaseAnalytics,Nt=gt.d.Device,Rt=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(Object(l.V)("desktop"))return!0;if(e){var r=et.getState(),n=r&&r.App&&r.App.session,i=t;n&&(i=Object(u.a)(Object(u.a)({},i),{},{sessionId:Ct(n.uuid)}),a.forEach((function(e){i[e]=n[e]||""}))),Tt.logEvent({name:e,params:i})}},It=function(e){if(Object(l.V)("desktop"))return!0;e&&Tt.setScreenName({screenName:e})},Ct=function(e){return e+kt()(new Date).format("MMDDYYYYHHmmss")},jt=function(){var e=Object(g.a)(E.a.mark((function e(){var t,a,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nt.getInfo();case 2:return t=e.sent,a=null,"web"===t.platform?a="web-app":"android"!==t.platform&&"ios"!==t.platform||(a="mobile-app"),r={os:t.operatingSystem,device_name:t.model,model:t.model,channel:a},e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),wt=a(25),Lt=a.n(wt),Pt=D("LOCATION_TRACKER","LOCATION_TRACKER",null).get_Service_Url(),xt="",Mt=null,Ut=new Audio,Ft="",Vt="",Ht="",Gt="",Bt="",qt="",zt=1,Yt="",Wt="",Zt=null,Kt=null;function Jt(){0,Kt=null,$e&&(clearInterval($e),$e=null)}function Qt(){return bt.a}function Xt(){return(Xt=Object(g.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:bt.a.getCurrentPosition({persist:!1},(function(e){t(e.coords.latitude,e.coords.longitude)}),(function(e){}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $t(e){var t=function(e,t){return{identifier:t?e.stopId+"_"+Y.PRE_ARRIVAL:e.stopId+"_"+Y.ARRIVAL,radius:t?K.GEO_PRE_ARRIVAL_RADIUS:400,latitude:e.latitude,longitude:e.longitude,notifyOnEntry:!0,notifyOnExit:!0,extras:{messageType:t?z.GEOFENCE_PRE_ARRIVAL:z.GEOFENCE_ARRIVAL,stopId:e.stopId,sequenceNo:e.sequenceNo,locationId:e.locationId}}},a=[];return e.map((function(e,r){if(e.sequenceNo==zt){var n=t(e,!0);a.push(n);var i=t(e,!1);a.push(i)}})),a}function ea(e){for(var t=0;t<Zt.length;t++)Zt[t].sequenceNo==e&&(Zt[t].actualArrivalDateTime=(new Date).toISOString())}function ta(e){for(var t=!1,a=0;a<Zt.length;a++)Zt[a].sequenceNo==e&&Zt[a].actualArrivalDateTime&&(Zt[a].actualDepartureDateTime=(new Date).toISOString(),"D"==Zt[a].stopType&&Zt.length==e&&(t=!0,bt.a.stop().then((function(){console.log("- stop success"),Ja("DB_GPS_ACTIVATED_SHIPMENT").then((function(){console.log("- data removed from DB")}))})),bt.a.removeGeofences()));t||aa()}function aa(){return ra.apply(this,arguments)}function ra(){return(ra=Object(g.a)(E.a.mark((function e(){var t,a,r,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=na(),e.next=3,bt.a.getGeofences();case 3:if(e.sent.forEach((function(e,t){a=e.extras.sequenceNo})),a!=t)Jt(),zt=t,bt.a.removeGeofences(),(r=$t(Zt)).length>0&&bt.a.addGeofences(r,(function(e){}),(function(e){}));else for(n=0;n<Zt.length;n++)Zt[n].sequenceNo==a&&Zt[n].actualArrivalDateTime&&Jt();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function na(){for(var e=99,t=0;t<Zt.length;t++)Zt[t].actualArrivalDateTime&&Zt[t].actualDepartureDateTime||e>Zt[t].sequenceNo&&(e=Zt[t].sequenceNo,Yt=Zt[t].stopId,Wt=Zt[t].locationId);return e}function ia(e){Mt=e}function sa(e){Lt.a.isEqual(e,Zt)||e.length>0&&e[0].stopId&&(Zt=e)&&aa()}function oa(e,t,a,r,n){if(e==a&&t==r)return 0;var i=Math.PI*e/180,s=Math.PI*a/180,o=t-r,c=Math.PI*o/180,l=Math.sin(i)*Math.sin(s)+Math.cos(i)*Math.cos(s)*Math.cos(c);return l>1&&(l=1),l=60*(l=180*(l=Math.acos(l))/Math.PI)*1.1515,"meters"==n&&(l=1.609344*l*1e3),l}var ca=function(){function e(){Object(b.a)(this,e),this.__token=void 0}return Object(v.a)(e,[{key:"getFreshToken",value:function(){var e=Object(g.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=xr.getInstance(),e.next=3,t.isAuthenticated();case 3:if(e.sent){e.next=7;break}return et.dispatch(Ot(Math.floor(100*Math.random()))),e.abrupt("return",null);case 7:return e.next=9,t.getAuthResponse();case 9:return this.__token=e.sent.id_token,e.abrupt("return",this.__token);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),la=function(e){return{type:"ADD_WATCH_LOAD",payload:e}},ua=function(e){return{type:"REMOVE_WATCH_LOAD",payload:e}},da=function(e){return{type:"REMOVE_WATCH_LOAD_SUCCESS",payload:e}},pa=function(e){return{type:"SHOW_API_RESPONSE_ERROR",payload:e}},ma=function(e){return{type:"SHOW_MEMBER_API_ERROR",payload:e}},fa=function(e){return{type:"SEARCH_DATA",payload:e}},ha=function(e,t){return{type:"loadSearchData",payload:{data:e,isPagination:t}}},Ea=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:"FETCH_SEARCH_RESULTS",payload:{searchParams:e,isPagination:t,isHideLoader:a}}},ga=function(e){return{type:"SHOW_BUYLOAD_API_ERROR",payload:e}},ba={},va=!0,ya=function(){function e(){Object(b.a)(this,e)}return Object(v.a)(e,[{key:"getErrorMessage",value:function(e){var t="";return e>=300&&e<400?t="Server is not working, please try again later":e>=400&&e<500?t="Not authorized, please logging out and try again later":e>=500&&e<600&&(t="Internal serve error, please try again later"),t}},{key:"get",value:function(e,t,a,r,n,i){var s=D(e,t,a),o=this;return new Promise((function(a,r){o.getHeaders(e,n).then((function(e){s?(new O).__request(s.get_Service_Url(),e,"get",null,t,ba,o.set_TimeOut(),(function(e){i&&i(e)})).then((function(e){if(e&&e.status>=200&&e.status<300)a(e.data);else{var t=o.getErrorMessage(e.status);r(new Error(t))}})).catch((function(e){var t=o.getErrorMessage(e&&e.response&&e.response.status);et.dispatch(pa({message:t})),r(e)})):r("No URL is provided for Service Request")}))}))}},{key:"post",value:function(e,t,a,r,n,i,s){var o=D(e,t,a),c=n,l=this;return new Promise((function(a,r){l.getHeaders(e,i).then((function(e){o&&e?(new O).__request(o.get_Service_Url(),e,"post",c,t,ba,l.set_TimeOut(),(function(e){s&&s(e)})).then((function(e){if(e&&e.status>=200&&e.status<300)a(e.data);else{var t=l.getErrorMessage(e.status);r(new Error(t))}})).catch((function(e){var a=l.getErrorMessage(e&&e.response&&e.response.status);if("GET_USER_DETAILS"===t)et.dispatch(ma(!0));else if(""===a&&"BUY_LOAD"===t){var n=e&&e.response&&e.response.status;n&&202!==n&&"error"!==n&&"UNKNOWN"!==n||et.dispatch(ga(!0))}else et.dispatch(pa({message:a}));r(e)})):r("No URL is provided for Service Request")}))}))}},{key:"getHeaders",value:function(){var e=Object(g.a)(E.a.mark((function e(t,a){var r,n,i,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=xr.getInstance(),!va){e.next=10;break}return va=!1,e.next=5,r.isAuthenticated();case 5:if(n=e.sent,va=!0,n){e.next=10;break}return et.dispatch(Ot(Math.floor(100*Math.random()))),e.abrupt("return",null);case 10:return e.next=12,r.getAuthResponse();case 12:if(i=e.sent.id_token,s={"Content-Type":"application/json","Cache-Control":"no-cache,no-store,max-age=0,must-revalidate",Pragma:"no-cache",Expires:"-1","X-XSS-Protection":"1; mode=block","X-Frame-Options":"SAMEORIGIN","Content-Security-Policy":"script-src 'self'","X-Content-Type-Options":"nosniff",Allow:"GET, POST, HEAD","Content-Encoding":"deflate, gzip","Transfer-Encoding":"compress","Ocp-Apim-Subscription-Key":K.SUBSCRIPTION_KEY},!i){e.next=18;break}s.Authorization="Bearer "+i,e.next=19;break;case 18:return e.abrupt("return",null);case 19:return e.abrupt("return",s);case 20:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"cancelRequest",value:function(e){JSON.parse(JSON.stringify(ba))[e].cancel(e+" Service Request has been cancelled by Agent")}},{key:"set_TimeOut",value:function(){return 1e3*(Ha.details.keys&&parseInt(Ha.details.keys.configuration.serviceTimeout)||40)}}]),e}();function Sa(e){return Oa.apply(this,arguments)}function Oa(){return(Oa=Object(g.a)(E.a.mark((function e(t){var a,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Ha.details.vault,!e.t0){e.next=5;break}return e.next=4,Ha.details.vault.getValue("AZURE_MAPS_ACCESS_TOKEN");case 4:e.t0=e.sent;case 5:if(!(a=e.t0)){e.next=17;break}if(r=JSON.parse(a),!((new Date).getTime()/1e3<r.expires_on)){e.next=13;break}t("Bearer "+r.access_token),e.next=15;break;case 13:return e.next=15,_a(t);case 15:e.next=19;break;case 17:return e.next=19,_a(t);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _a(e){return Da.apply(this,arguments)}function Da(){return(Da=Object(g.a)(E.a.mark((function e(t){var a,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new ya,e.next=3,a.get("AZURE_MAPS","ACCESS_TOKEN");case 3:if(r=e.sent,e.t0=Ha.details.vault,!e.t0){e.next=8;break}return e.next=8,Ha.details.vault.storeValue("AZURE_MAPS_ACCESS_TOKEN",JSON.stringify(r));case 8:t("Bearer "+r.access_token);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Aa(e,t){return ka.apply(this,arguments)}function ka(){return(ka=Object(g.a)(E.a.mark((function e(t,a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sa((function(e){(new O).__requestRestApi("https://atlas.microsoft.com/search/address/reverse/json?api-version=1.0&query=".concat(t),{"x-ms-client-id":K.AZURE_MAP_CLIENT_ID,Authorization:e},"get").then((function(e){a(e.data.addresses)})).catch(function(){var e=Object(g.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Ha.details.vault,!e.t0){e.next=4;break}return e.next=4,Ha.details.vault.removeValue("AZURE_MAPS_ACCESS_TOKEN");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ta(e,t){return Na.apply(this,arguments)}function Na(){return(Na=Object(g.a)(E.a.mark((function e(t,a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sa((function(e){(new O).__requestRestApi("https://atlas.microsoft.com/search/address/json?typeahead=true&api-version=1.0&language=en-US&countrySet=US,CA&view=Auto&query=".concat(t),{"x-ms-client-id":K.AZURE_MAP_CLIENT_ID,Authorization:e},"get").then((function(e){a(e.data.results)})).catch(function(){var e=Object(g.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Ha.details.vault,!e.t0){e.next=4;break}return e.next=4,Ha.details.vault.removeValue("AZURE_MAPS_ACCESS_TOKEN");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ra(e,t){return Ia.apply(this,arguments)}function Ia(){return(Ia=Object(g.a)(E.a.mark((function e(t,a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sa((function(e){(new O).__requestRestApi("https://atlas.microsoft.com/timezone/byCoordinates/json?api-version=1.0&language=en-US&countrySet=US,CA&view=Auto&query=".concat(t),{"x-ms-client-id":K.AZURE_MAP_CLIENT_ID,Authorization:e},"get").then((function(e){a(e.data.TimeZones)})).catch(function(){var e=Object(g.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Ha.details.vault,!e.t0){e.next=4;break}return e.next=4,Ha.details.vault.removeValue("AZURE_MAPS_ACCESS_TOKEN");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ca(e){return new Promise((function(t,a){(new O).__requestRestApi("https://maps.googleapis.com/maps/api/geocode/json?key=".concat(K.GOOGLE_MAPS_API_KEY,"&address=").concat(e),{},"get").then((function(e){console.log("response.data.results[0].geometry.location:::",e.data.results[0].geometry.location),t(e.data.results[0].geometry.location)})).catch((function(e){a(new Error(e))}))}))}var ja,wa,La=gt.d.Storage,Pa=function(){function e(){Object(b.a)(this,e)}return Object(v.a)(e,null,[{key:"dataToDomain",value:function(e,t){var a=Object.create(e.prototype);return a.__carrier_state=t,a}},{key:"domainToData",value:function(e){var t={query:"".concat(Object(Et.jsonToGraphQLQuery)(e))};return console.log(t),JSON.stringify(t)}},{key:"dataToMutation",value:function(e,t){var a={query:"mutation ".concat(Object(Et.jsonToGraphQLQuery)(e)),variables:{input:t}};return console.log(a),JSON.stringify(a)}}]),e}();function xa(e,t){return function(e,t){var a=Ha.details.keys&&Ha.details.keys.configuration.roleConfigurations;if(Ha.details.keys){if(1==wa.length&&wa.includes(De.carrierGuest))return!t||("screen"==t?Ma(e,wa[0],a):Ua(e,t,wa[0],a));for(var r=!1,n=0;n<=wa.length-1&&!(r="screen"!==t&&t?Ua(e,t,wa[n],a):Ma(e,wa[n],a));n++);return r}}(e,t)}function Ma(e,t,a){return Object.keys(a).filter((function(t){return t.includes(e)&&a[t]})).map((function(e){return a[e][Object.keys(a[e])[0]][t]})).some((function(e){return e}))}function Ua(e,t,a,r){return r[e+"."+(t&&t.charAt(0).toUpperCase()+t.slice(1))][t][a]}function Fa(e,t){return Va.apply(this,arguments)}function Va(){return(Va=Object(g.a)(E.a.mark((function e(t,a){var r,n,i,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r="",!1,function(e){e[e.home=0]="home",e[e.search=1]="search",e[e.myLoad=2]="myLoad",e[e.manage=3]="manage",e[e.more=4]="more"}(n||(n={})),i=Ha.details.keys.configuration.roleConfigurations){e.next=7;break}return e.abrupt("return");case 7:wa=a,t&&(ja=t),s=0;case 10:if(!(s<=Object.keys(n).length)){e.next=18;break}if(!Ma(n[s],ja,i)){e.next=15;break}return r=n[s],e.abrupt("break",18);case 15:s++,e.next=10;break;case 18:return e.abrupt("return",r);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ha=function(){function e(){Object(b.a)(this,e),this._appVault=void 0,this._appAuth=void 0,this._appKeys=void 0,this._getValue={}}return Object(v.a)(e,[{key:"getVault",value:function(e){this._appVault=e||{}}},{key:"getAuth",value:function(e){this._appAuth=e||{}}},{key:"getKeys",value:function(e){this._appKeys=e||{}}},{key:"auth",get:function(){return this._appAuth}},{key:"keys",get:function(){return this._appKeys}},{key:"getValue",get:function(){return this._getValue}},{key:"vault",get:function(){return this._appVault}},{key:"setValue",set:function(e){this._getValue=e||{}}}],[{key:"details",get:function(){return e.instance||(e.instance=new e),e.instance}}]),e}();function Ga(e,t){return Ba.apply(this,arguments)}function Ba(){return(Ba=Object(g.a)(E.a.mark((function e(t,a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,La.set({key:t,value:JSON.stringify(a)});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qa(e){return za.apply(this,arguments)}function za(){return(za=Object(g.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,La.get({key:t});case 2:return a=e.sent,e.abrupt("return",a.value&&JSON.parse(a.value));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ya(e,t){return Wa.apply(this,arguments)}function Wa(){return(Wa=Object(g.a)(E.a.mark((function e(t,a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,La.set({key:t,value:a});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Za(e){return Ka.apply(this,arguments)}function Ka(){return(Ka=Object(g.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,La.get({key:t});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ja(e){return Qa.apply(this,arguments)}function Qa(){return(Qa=Object(g.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,La.remove({key:t});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xa(){return $a.apply(this,arguments)}function $a(){return($a=Object(g.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,La.clear();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Ha.accessToken=void 0,Ha.instance=void 0;var er=function(){function e(){Object(b.a)(this,e)}return Object(v.a)(e,[{key:"initiateGPSconfig",value:function(){!function(){var e=new ca;bt.a.onLocation((function(e){}),(function(e){})),bt.a.onMotionChange((function(e){})),bt.a.onActivityChange((function(e){})),bt.a.onProviderChange((function(e){})),bt.a.onSchedule((function(e){e.enabled})),bt.a.onHttp((function(t){if(console.log("[event] http: ",t),200==t.status)Rt(ue.UE_GEO_TRACKING,{carrierId:Vt,shipmentId:Ht});else{var a=t.responseText&&""!=t.responseText?JSON.parse(t.responseText):{message:""};401==t.status&&401==a.statusCode&&"Unauthorized"==a.message&&e.getFreshToken().then((function(e){xt=e,bt.a.setConfig({headers:{"Ocp-Apim-Subscription-Key":K.SUBSCRIPTION_KEY,Authorization:"Bearer "+xt}})}))}})),bt.a.onGeofence(function(){var e=Object(g.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Rt(ue.UE_GEOFENCE_ANNOUNCEMENT,{carrierId:t.location.extras.carrierId,shipmentId:t.location.extras.shipmentId,msgType:t.extras.messageType+W.ENTER}),t.extras&&(t.identifier.includes(Y.PRE_ARRIVAL)?t.action==W.ENTER?Ut.src=Z.GEOFENCE_PRE_ARRIVAL_ENTRY:t.action==W.EXIT&&(Ut.src=Z.GEOFENCE_PRE_ARRIVAL_EXIT,ta(t.extras.sequenceNo),Jt()):t.identifier.includes(Y.ARRIVAL)&&(t.action==W.ENTER?(Ut.src=Z.GEOFENCE_ARRIVAL_ENTRY,Jt(),Kt=t.location,$e=setInterval((function(){bt.a.getCurrentPosition({timeout:30,maximumAge:5e3,desiredAccuracy:10,samples:1,extras:{messageType:z.GEO_TPOSITION,activity:t.location.extras.activity,shipmentId:t.location.extras.shipmentId,carrierScac:t.location.extras.carrierScac,userId:t.location.extras.userId,sourceSystem:t.location.extras.sourceSystem,carrierId:t.location.extras.carrierId,stopId:t.extras.stopId,sequenceNo:t.extras.sequenceNo,locationId:t.extras.locationId}},(function(e){oa(Kt.coords.latitude,Kt.coords.longitude,e.coords.latitude,e.coords.longitude,"meters")<200?(bt.a.getCurrentPosition({timeout:30,maximumAge:5e3,desiredAccuracy:10,samples:1,extras:{messageType:z.GEO_STOP_ARRIVAL,activity:t.location.extras.activity,shipmentId:t.location.extras.shipmentId,carrierScac:t.location.extras.carrierScac,userId:t.location.extras.userId,sourceSystem:t.location.extras.sourceSystem,carrierId:t.location.extras.carrierId,stopId:t.extras.stopId,sequenceNo:t.extras.sequenceNo,locationId:t.extras.locationId}}),Jt(),ea(t.extras.sequenceNo)):Kt=e}),(function(e){}))}),12e4)):t.action==W.EXIT&&(Ut.src=Z.GEOFENCE_ARRIVAL_EXIT,Jt())),K.RELEASE==Oe.UNT&&Ut.play());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Za("DB_GPS_ACTIVATED_SHIPMENT").then((function(t){var a=null;try{t.value&&(a=JSON.parse(t.value)),a&&(Bt="",Ht=a.shipmentID,qt=a.carrierScac,Ft=a.userId,Gt=a.sourceTMS,Vt=a.carrierId,Mt=a.shipmentID)}catch(r){}bt.a.ready({locationAuthorizationRequest:"Always",desiredAccuracy:bt.a.DESIRED_ACCURACY_MEDIUM,distanceFilter:800,disableElasticity:!0,useSignificantChangesOnly:!1,logLevel:bt.a.LOG_LEVEL_VERBOSE,stopOnTerminate:!1,startOnBoot:!0,debug:!1,allowIdenticalLocations:!0,autoSync:!0,url:Pt,headers:{"Ocp-Apim-Subscription-Key":K.SUBSCRIPTION_KEY,Authorization:"Bearer "+xt},extras:{messageType:z.GEO_POSITION,activity:Bt,shipmentId:Ht,carrierScac:qt,userId:Ft,sourceSystem:Gt,carrierId:Vt,stopId:Yt,sequenceNo:zt,locationId:Wt}},(function(t){e.getFreshToken().then((function(e){xt=e,bt.a.setConfig({headers:{"Ocp-Apim-Subscription-Key":K.SUBSCRIPTION_KEY,Authorization:"Bearer "+xt}}).then((function(e){console.log("[setConfig] success: ",e)}))}))}))}))}()}},{key:"getCurrentPosition",value:function(e){!function(e){Xt.apply(this,arguments)}(e)}},{key:"startGPStracking",value:function(e){!function(e){Mt=e.shipmentID,sa(e.loadStops),Zt&&aa(),(new ca).getFreshToken().then((function(t){xt=t,bt.a.setConfig({distanceFilter:800,disableElasticity:!0,url:Pt,headers:{"Ocp-Apim-Subscription-Key":K.SUBSCRIPTION_KEY,Authorization:"Bearer "+xt},extras:{messageType:z.GEO_POSITION,activity:e.activity,shipmentId:e.shipmentID,carrierScac:e.carrierScac,userId:e.userId,sourceSystem:e.sourceTMS,carrierId:e.carrierId,stopId:Yt,sequenceNo:zt,locationId:Wt}}).then((function(e){bt.a.start().then((function(){console.log("BackgroundGeolocation: started ",e)}))}))}))}(e)}},{key:"sendGeoStartTripLocation",value:function(e){!function(e){bt.a.getCurrentPosition({timeout:30,maximumAge:5e3,desiredAccuracy:10,samples:1,extras:{messageType:z.GEO_START_TRIP_LOCATION,activity:e.activity,shipmentId:e.shipmentID,carrierScac:e.carrierScac,userId:e.userId,sourceSystem:e.sourceTMS,carrierId:e.carrierId,stopId:Yt,sequenceNo:zt,locationId:Wt}})}(e)}},{key:"stopGPS",value:function(){Qt().stop(Object(g.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("- stop success"),ia(null),e.next=4,Ja("DB_GPS_ACTIVATED_SHIPMENT");case 4:case"end":return e.stop()}}),e)})))),Qt().removeGeofences(),Qt().destroyLocations()}},{key:"getGPStrackingShipmentID",value:function(){return Mt}},{key:"getLoadDetailsTrackedShipment",value:function(){return Zt}},{key:"getState",value:function(){var e=Object(g.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qt().getState();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"setGPStrackingShipmentID",value:function(e){ia(e)}},{key:"setLoadDetailsTrackedShipment",value:function(e){!function(e){sa(e)}(e)}},{key:"getGeofenceSequenceNo",value:function(){return zt}},{key:"setGeofenceSequenceNo",value:function(e){var t;(t=e)>zt&&(zt=t)}}],[{key:"details",get:function(){return e.instance||(e.instance=new e),e.instance}}]),e}();er.instance=void 0;var tr=function(){function e(){Object(b.a)(this,e)}return Object(v.a)(e,[{key:"setR2FeatureEnable",value:function(t){e.R2ConfigurationFlag=t}},{key:"getR2FeatureEnable",value:function(){return e.R2ConfigurationFlag}}],[{key:"details",get:function(){return e.instance||(e.instance=new e,e.R2ConfigurationFlag=K.RELEASE===Oe.UAT||K.RELEASE===Oe.PROD),e.instance}}]),e}();tr.instance=void 0,tr.R2ConfigurationFlag=!0;var ar=function(){function e(){Object(b.a)(this,e)}return Object(v.a)(e,[{key:"searchCurrentAddress",value:function(){var e=Object(g.a)(E.a.mark((function e(t,a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Aa(t,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"searchAddress",value:function(){var e=Object(g.a)(E.a.mark((function e(t,a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ta(t,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"searchTimezoneByCoordinates",value:function(){var e=Object(g.a)(E.a.mark((function e(t,a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ra(t,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}],[{key:"details",get:function(){return e.instance||(e.instance=new e),e.instance}}]),e}();ar.instance=void 0;var rr=function(){function e(){Object(b.a)(this,e)}return Object(v.a)(e,[{key:"getGeoCoderLatLong",value:function(){var e=Object(g.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ca(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"details",get:function(){return e.instance||(e.instance=new e),e.instance}}]),e}();rr.instance=void 0;var nr=function(e){return{type:"GET_RECENT",payload:e}};function ir(e){return{type:"FETCH_USER_DETAILS",payload:e}}function sr(e){return{type:"FETCH_USER_DETAILS_SUCCESS",payload:e}}function or(e){return{type:"REGISTER_DEVICE_RESPONSE_ACTION",payload:e}}var cr,lr=function(e){return{type:"SHOW_ALERT_MESSAGE",payload:e}},ur=function(e){return{type:"MORE_TAB_CONTENT_RESPONSE_DUMMY",payload:e}},dr=function(){return lr({isShowAlert:!0,alertMessage:X,alertTitle:Q})},pr=function(e){return{type:"UPDATE_SEARCH_PARAMS_OFFLINE",payload:e}},mr=function(e){return{type:"UPDATE_SHIPMENT_INFO_OFFLINE",payload:e}},fr=function(e){return{type:"REGISTER_USER_STATUS_MESSAGE",payload:e}},hr={userPrincipalName:!0,firstName:!0,lastName:!0,companyName:!0,email:!0,liablePartyId:!0,liablePartyName:!0,lastSelectedCustomer:!0,lastSelectedCarrier:!0,carrier:!0,carrierId:!0,tractorNumber:!0,internalUser:!0,customer:!0,carrierTier:!0,carrierScac:!0,registered:!0,image:!0,address:{addressLine1:!0,addressLine2:!0,addressType:!0,city:!0,state:!0,postalCode:!0},phone:{number:!0,type:!0},mobileNumber:!0,userApplicationDetails:{roles:{roleId:!0,roleName:!0}},updatedTimeStamp:!0},Er=function(){function e(){Object(b.a)(this,e)}return Object(v.a)(e,[{key:"getUsers",value:function(e,t){return{query:{getMembers:Object(u.a)({__args:{input:{carrierId:e,role:t}}},hr)}}}},{key:"getRequestPayload",value:function(e){return{query:{getUserDetails:Object(u.a)({__args:{userPrincipalName:e}},hr)}}}},{key:"validateUser",value:function(e){return{query:{validateUser:Object(u.a)({__args:{userPrincipalName:e}},hr)}}}},{key:"transferMember",value:function(e){return{mutation:{transferMember:{__args:{input:e},status:!0,message:!0}}}}},{key:"confirmTransfer",value:function(e){return{mutation:{confirmTransfer:{__args:{input:e},status:!0,message:!0}}}}},{key:"addUser",value:function(e){return{mutation:{addMember:{__args:{input:e},message:!0,status:!0,member:hr}}}}},{key:"updateMember",value:function(e){return{mutation:{updateMember:{__args:{input:e},message:!0,status:!0,member:hr}}}}},{key:"registerMember",value:function(e){return{mutation:{registerMember:{__args:{input:e},status:!0,message:!0,member:hr}}}}}]),e}(),gr=a(50),br=a(35);gt.d.Toast;!function(e){e.TOP="top",e.BOTTOM="bottom",e.CENTER="center"}(cr||(cr={}));var vr,yr,Sr,Or,_r=function e(){Object(b.a)(this,e)};_r.show=Object(g.a)(E.a.mark((function e(){var t,a,r,n=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"Functionality coming soon",n.length>1&&void 0!==n[1]?n[1]:cr.BOTTOM,a=n.length>2&&void 0!==n[2]?n[2]:3e3,e.next=5,br.i.create({color:"dark",duration:a,message:t,position:"bottom",mode:"ios",cssClass:"toaster-message"});case 5:return r=e.sent,e.next=8,r.present();case 8:case"end":return e.stop()}}),e)}))),_r.open=function(){var e=Object(g.a)(E.a.mark((function e(t){var a,r,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object.assign({},t),r={color:"dark",duration:a.duration||3e3,message:a.message,position:"bottom",mode:"ios",cssClass:"toaster-message"},a.showUndo&&(r=Object(u.a)(Object(u.a)({},r),{},{buttons:[{text:a.btnTitle||"Undo",cssClass:"toast-message-btn",handler:function(){return a.callback()}}]})),e.next=5,br.i.create(r);case 5:return n=e.sent,e.next=8,n.present();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var Dr,Ar,kr,Tr,Nr,Rr,Ir,Cr,jr,wr,Lr,Pr=(vr=function(e){Object(ct.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(ut.a)(e);if(t()){var n=Object(ut.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(lt.a)(this,a)}}(a);function a(e){var r;Object(b.a)(this,a);var n=Object(l.V)("capacitor")?ft:ht;return e.setAuthMode(gr.a.SecureStorage),n.tokenStorageProvider=e,(r=t.call(this,n)).vaultService=void 0,Object(it.a)(r,"isLoggedIn",yr,Object(st.a)(r)),Object(it.a)(r,"user",Sr,Object(st.a)(r)),Object(it.a)(r,"accessToken",Or,Object(st.a)(r)),r.tabName=void 0,r.isActive=void 0,r.onVaultLockChange=void 0,r.vaultService=e,r.isLoggedIn=!1,r.tabName="login",r.isActive=!1,r.onVaultLockChange=Object(pt.c)((function(){r.setLoginState(r.vaultService.isLocked)})),r}return Object(v.a)(a,[{key:"login",value:function(){var e=Object(g.a)(E.a.mark((function e(){var t,r=this;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.vaultService.logout();case 2:return e.prev=2,e.next=5,Object(ot.a)(Object(ut.a)(a.prototype),"login",this).call(this,K.DISCOVERY_URL);case 5:e.next=20;break;case 7:if(e.prev=7,e.t0=e.catch(2),void 0===(t=e.t0.message)||t.startsWith("AADB2C90118")){e.next=13;break}return e.next=13,_r.show(Ce);case 13:if(console.log("login error:",+e.t0),void 0===t||!t.startsWith("AADB2C90118")){e.next=18;break}Object(ot.a)(Object(ut.a)(a.prototype),"login",this).call(this,K.AZURE_RESET_URL).catch((function(e){void 0!==e.message&&e.message.startsWith("AADB2C90091")&&r.login()})),e.next=20;break;case 18:return e.next=20,_r.show(Ce);case 20:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"changePassword",value:function(){var e=Object(g.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(ot.a)(Object(ut.a)(a.prototype),"login",this).call(this,K.AZURE_RESET_URL).catch((function(e){}));case 3:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"getRole",value:function(e){var t;!function(e){e[e.carrierDispatcher=0]="carrierDispatcher",e[e.carrierDriver=1]="carrierDriver",e[e.carrierAdmin=2]="carrierAdmin"}(t||(t={}));var a="";if(1===e.length)return e[0];for(var r=0;r<=Object.keys(t).length;r++)if(e.includes(t[r])){a=t[r];break}return a}},{key:"hasSession",value:function(){var e=Object(g.a)(E.a.mark((function e(t,a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=8;break}if(a(!1),this.isActive){e.next=7;break}return e.next=5,this.isAuthenticated();case 5:e.sent||(this.isLoggedIn=!1);case 7:this.isActive=!1;case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"isAuthenticated",value:function(){var e=Object(g.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.vaultService.isLocked;case 2:if(t=e.sent,e.t0=!t,!e.t0){e.next=8;break}return e.next=7,Object(ot.a)(Object(ut.a)(a.prototype),"isAuthenticated",this).call(this);case 7:e.t0=e.sent;case 8:return e.abrupt("return",e.t0);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setLoginState",value:function(){var e=Object(g.a)(E.a.mark((function e(t){var a,r,n,i,s,o,c,l,u=this,d=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=d.length>1&&void 0!==d[1]?d[1]:{},!t){e.next=4;break}return this.isLoggedIn=!1,e.abrupt("return");case 4:return this.isActive=!0,r=a.accessToken,e.prev=6,e.next=9,Promise.all([this.vaultService.hasStoredSession(),this.getIdToken(),r?Promise.resolve(r):this.getAccessToken()]);case 9:return n=e.sent,i=Object(f.a)(n,3),s=i[0],o=i[1],c=i[2],e.t0=new j("uat ".trim()||"dev"),e.t1=Ha.details,e.t2=this.vaultService,e.t3=K.SUBSCRIPTION_KEY,e.next=20,this.getAuthResponse();case 20:return e.t4=e.sent.id_token,e.t5=K.API_HOST,e.next=24,e.t0.getConfig.call(e.t0,e.t1,e.t2,e.t3,e.t4,e.t5);case 24:if("login"!==this.tabName){e.next=31;break}return e.next=27,this.getIdToken();case 27:return l=e.sent,e.next=30,Fa(l.roles?this.getRole(l.roles):De.carrierGuest,l.roles);case 30:this.tabName=e.sent;case 31:return e.t6=Ha.details,e.next=34,this.vaultService.getVault();case 34:return e.t7=e.sent,e.t6.getVault.call(e.t6,e.t7),Ha.accessToken=c,e.t8=Ha.details,e.next=40,this.getAuthResponse();case 40:return e.t9=e.sent,e.next=43,this.getIdToken();case 43:e.t10=e.sent,e.t11={tokens:e.t9,user:e.t10},e.t8.getAuth.call(e.t8,e.t11),Object(pt.g)((function(){u.vaultService.hasSessionStored=s,u.user=u.getUserInfo(o),u.accessToken=c,u.isLoggedIn=!0})),this.getUserDetails(),e.next=52;break;case 50:e.prev=50,e.t12=e.catch(6);case 52:case"end":return e.stop()}}),e,this,[[6,50]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onLoginSuccess",value:function(){var e=Object(g.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setLoginState(!1,t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onLogout",value:function(){var e=Object(g.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isLoggedIn=!1,this.user=void 0,this.accessToken=void 0,this.vaultService.logout(),this.vaultService.hasSessionStored=!1,e.next=7,Xa();case 7:this.tabName="login";case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getUserInfo",value:function(e){if(e){var t=e.email;return e.emails instanceof Array&&(t=e.emails[0]),{id:e.sub,email:t,firstName:e.firstName,lastName:e.lastName}}}},{key:"getUserDetails",value:function(){var e=new Er,t=Ha.details.auth&&Ha.details.auth.tokens.access_token||"",a=e.getRequestPayload(Ha.details.auth&&Ha.details.auth.user.upn);et.dispatch(ir({token:t,body:a}))}}]),a}(mt.IonicAuth),yr=Object(dt.a)(vr.prototype,"isLoggedIn",[pt.f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sr=Object(dt.a)(vr.prototype,"user",[pt.f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Or=Object(dt.a)(vr.prototype,"accessToken",[pt.f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(dt.a)(vr.prototype,"onLogout",[pt.b],Object.getOwnPropertyDescriptor(vr.prototype,"onLogout"),vr.prototype),vr),xr=function(){function e(){Object(b.a)(this,e)}return Object(v.a)(e,null,[{key:"getInstance",value:function(e){return this.vault=e,void 0===this.instance&&(this.instance=new Pr(this.vault)),this.instance}}]),e}();xr.instance=void 0,xr.vault=void 0,function(e){e[e.Dismiss=0]="Dismiss",e[e.New=2]="New",e[e.Unlock=3]="Unlock",e[e.Verify=4]="Verify"}(Lr||(Lr={}));var Mr=(Dr=function(e){Object(ct.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(ut.a)(e);if(t()){var n=Object(ut.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(lt.a)(this,a)}}(a);function a(e){var r;return Object(b.a)(this,a),(r=t.call(this,{ready:function(){return Promise.resolve()}},{restoreSessionOnReady:!1,unlockOnReady:!1,unlockOnAccess:!0,lockAfter:0,hideScreenOnBackground:!1})).browserAuthPlugin=e,Object(it.a)(r,"authMode",Ar,Object(st.a)(r)),Object(it.a)(r,"biometricType",kr,Object(st.a)(r)),Object(it.a)(r,"biometricsEnabled",Tr,Object(st.a)(r)),Object(it.a)(r,"secureStorageEnabled",Nr,Object(st.a)(r)),Object(it.a)(r,"passcodeEnabled",Rr,Object(st.a)(r)),Object(it.a)(r,"hasSessionStored",Ir,Object(st.a)(r)),Object(it.a)(r,"pinMode",Cr,Object(st.a)(r)),Object(it.a)(r,"pin",jr,Object(st.a)(r)),Object(it.a)(r,"isLocked",wr,Object(st.a)(r)),r.hasStoredSession().then((function(e){return r.hasSessionStored=e})),r.getVault().then((function(e){return e.isLocked()})).then((function(e){return r.isLocked=e})),r}return Object(v.a)(a,[{key:"onConfigChange",value:function(e){if(void 0!==e.authMode){switch(e.authMode){case gr.a.BiometricAndPasscode:case gr.a.BiometricOrPasscode:this.setAuthModeState(!0,!0,!1);break;case gr.a.BiometricOnly:this.setAuthModeState(!0,!1,!1);break;case gr.a.InMemoryOnly:this.setAuthModeState(!1,!1,!1);break;case gr.a.PasscodeOnly:this.setAuthModeState(!1,!0,!1);break;case gr.a.SecureStorage:this.setAuthModeState(!1,!1,!0)}this.authMode=e.authMode}}},{key:"setAuthModeState",value:function(e,t,a){this.biometricsEnabled=e,this.passcodeEnabled=t,this.secureStorageEnabled=a}},{key:"onPasscodeRequest",value:function(){var e=Object(g.a)(E.a.mark((function e(t){var a,r=this;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pinMode=t?Lr.New:Lr.Unlock,e.next=3,Object(pt.j)((function(){return r.pinMode===Lr.Dismiss}));case 3:return a=this.pin,this.pin="",e.abrupt("return",a);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onVaultUnlocked",value:function(){var e=Object(g.a)(E.a.mark((function e(){var t,a=this;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.hasStoredSession();case 2:t=e.sent,Object(pt.g)((function(){a.isLocked=!1,a.hasSessionStored=t}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onVaultLocked",value:function(){var e=Object(g.a)(E.a.mark((function e(){var t,a=this;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.hasStoredSession();case 2:t=e.sent,Object(pt.g)((function(){a.isLocked=!0,a.hasSessionStored=t}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getPlugin",value:function(){return Object(l.V)("capacitor")?Object(ot.a)(Object(ut.a)(a.prototype),"getPlugin",this).call(this):this.browserAuthPlugin}}]),a}(gr.b),Ar=Object(dt.a)(Dr.prototype,"authMode",[pt.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gr.a.InMemoryOnly}}),kr=Object(dt.a)(Dr.prototype,"biometricType",[pt.f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tr=Object(dt.a)(Dr.prototype,"biometricsEnabled",[pt.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Nr=Object(dt.a)(Dr.prototype,"secureStorageEnabled",[pt.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Rr=Object(dt.a)(Dr.prototype,"passcodeEnabled",[pt.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ir=Object(dt.a)(Dr.prototype,"hasSessionStored",[pt.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Cr=Object(dt.a)(Dr.prototype,"pinMode",[pt.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Lr.Dismiss}}),jr=Object(dt.a)(Dr.prototype,"pin",[pt.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),wr=Object(dt.a)(Dr.prototype,"isLocked",[pt.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Object(dt.a)(Dr.prototype,"onConfigChange",[pt.b],Object.getOwnPropertyDescriptor(Dr.prototype,"onConfigChange"),Dr.prototype),Dr),Ur=n.a.createContext(void 0),Fr=(Ur.Consumer,function(e){return n.a.createElement(Ur.Provider,{value:e.value},e.children)});function Vr(){var e=n.a.useContext(Ur);if(void 0===e)throw new Error("useAuthService must be used within an AuthProvider");return e}var Hr=n.a.createContext(void 0),Gr=(Hr.Consumer,function(e){return n.a.createElement(Hr.Provider,{value:e.value},e.children)});var Br=function(){function e(t){Object(b.a)(this,e),this.browserAuthService=t}return Object(v.a)(e,[{key:"getVault",value:function(e){return e.onReady&&e.onReady(this.browserAuthService),this.browserAuthService}}]),e}(),qr=gt.d.Storage,zr=function(){function e(){Object(b.a)(this,e),this.config={authMode:gr.a.InMemoryOnly,descriptor:{username:"",vaultId:""},isBiometricsEnabled:!1,isPasscodeEnabled:!1,isPasscodeSetupNeeded:!1,isSecureStorageModeEnabled:!0,hideScreenOnBackground:!1,lockAfter:5e4}}return Object(v.a)(e,[{key:"unsubscribe",value:function(){return Promise.resolve()}},{key:"isLockedOutOfBiometrics",value:function(){var e=Object(g.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getAvailableHardware",value:function(){var e=Object(g.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[]);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"clear",value:function(){return qr.clear()}},{key:"lock",value:function(){return Promise.resolve()}},{key:"isLocked",value:function(){return Promise.resolve(!1)}},{key:"isInUse",value:function(){var e=Object(g.a)(E.a.mark((function e(){var t,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qr.get({key:"session"});case 2:return t=e.sent,a=t.value,e.abrupt("return",!!a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return Promise.resolve(this.config)}},{key:"remainingAttempts",value:function(){return Promise.resolve(5)}},{key:"getUsername",value:function(){return Promise.resolve("MyUsername")}},{key:"storeToken",value:function(e){return Promise.resolve()}},{key:"getToken",value:function(){return Promise.resolve("MyToken")}},{key:"storeValue",value:function(){var e=Object(g.a)(E.a.mark((function e(t,a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qr.set({key:t,value:JSON.stringify(a)});case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getValue",value:function(){var e=Object(g.a)(E.a.mark((function e(t){var a,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qr.get({key:t});case 2:return a=e.sent,r=a.value,e.abrupt("return",r&&JSON.parse(r));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeValue",value:function(){var e=Object(g.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qr.remove({key:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getKeys",value:function(){var e=Object(g.a)(E.a.mark((function e(){var t,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qr.keys();case 2:return t=e.sent,a=t.keys,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getBiometricType",value:function(){return Promise.resolve("none")}},{key:"setBiometricsEnabled",value:function(e){return Promise.resolve()}},{key:"isBiometricsEnabled",value:function(){return Promise.resolve(!1)}},{key:"isBiometricsAvailable",value:function(){return Promise.resolve(!1)}},{key:"isBiometricsSupported",value:function(){return Promise.resolve(!1)}},{key:"isPasscodeSetupNeeded",value:function(){return Promise.resolve(!1)}},{key:"setPasscode",value:function(e){return Promise.resolve()}},{key:"isPasscodeEnabled",value:function(){return Promise.resolve(!1)}},{key:"isSecureStorageModeEnabled",value:function(){return Promise.resolve(!0)}},{key:"setPasscodeEnabled",value:function(e){return Promise.resolve()}},{key:"setSecureStorageModeEnabled",value:function(e){return Promise.resolve()}},{key:"unlock",value:function(e,t){return Promise.resolve()}}]),e}(),Yr=(new zr,a(29)),Wr=a(19),Zr=a.n(Wr);a(454);Zr.a.any,Zr.a.bool,Zr.a.bool,Zr.a.func.isRequired,r.Component;var Kr=gt.d.Network,Jr=function(){var e=function(){var e=Object(r.useState)({}),t=Object(f.a)(e,2),a=t[0],n=t[1],i=Object(r.useState)(0),s=Object(f.a)(i,2),o=s[0],c=s[1];return console.log("handler",o),o&&0!==o||(c(1),Kr.addListener("networkStatusChange",(function(e){n(e)}))),{networkStatus:a,getNetworkStatus:function(){var e=Object(g.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kr.getStatus();case 2:t=e.sent,n(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}}(),t=e.getNetworkStatus,a=e.networkStatus,i=Object(r.useState)(!1),s=Object(f.a)(i,2),o=s[0],c=s[1],u=Object(r.useState)(!1),d=Object(f.a)(u,2),p=d[0],m=d[1],h=Object(r.useState)(!1),b=Object(f.a)(h,2),v=b[0],y=b[1],S=Vr();Object(r.useEffect)((function(){jt().then((function(e){Rt(ue.SV_GET_STARTED,{screen:de.GET_STARTED,channel:e.channel,os:e.os,device_name:e.device_name,model:e.model,sessionId:"NA",userId:"NA",carrierId:"NA"})})),K.RELEASE===Oe.PROD?(tr.details.setR2FeatureEnable(!0),m(!0)):(tr.details.setR2FeatureEnable(!1),m(!1))}),[]);var O=function(){var e=Object(g.a)(E.a.mark((function e(r,n){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(),Rt(ue.UE_SIGN_IN,{screen:de.GET_STARTED,sessionId:"NA"}),!1===a.connected&&c(!0),e.prev=3,e.next=6,r();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t,a){return e.apply(this,arguments)}}(),_=function(){K.RELEASE!==Oe.PROD&&y(!0)};return n.a.createElement(n.a.Fragment,null,n.a.createElement(l.A,{isOpen:v,cssClass:"dropdown-modal"},n.a.createElement(l.g,{className:"bookLoad-thankyou"},n.a.createElement(l.i,{className:"start-trip-cardContent"},Te.CONFIGURATION_TXT),n.a.createElement(l.h,null,n.a.createElement(l.v,{lines:"none",className:"R2ConfigurationModal-item"},n.a.createElement(l.j,{checked:p,onIonChange:function(e){return m(e.detail.checked)}}),n.a.createElement(l.w,null,Te.ENABLE_R2_FEATURE_TXT)),n.a.createElement(l.H,{className:"book-load-thankyou-row"},n.a.createElement(l.k,{size:"3"}),n.a.createElement(l.k,{className:"bookload-OK",size:"6"},n.a.createElement(l.e,{class:"load-btn",onClick:function(){return y(!1),void tr.details.setR2FeatureEnable(p)}},Te.OKAY)))))),o?n.a.createElement("div",null,n.a.createElement("div",{className:"networkError_div"}),n.a.createElement("div",{className:"popup"},n.a.createElement("p",{className:"no-network"},Se.NO_NETWORK_TITLE),n.a.createElement("p",{className:"network-content"},Se.NO_NETWORK_TEXT),n.a.createElement(l.e,{className:"retry_button",onClick:function(){return c(!1)}},Se.Ok_TEXT))):null,n.a.createElement("div",{className:"Landing-screen-content"},Object(l.V)("mobile")?n.a.createElement(n.a.Fragment,null,n.a.createElement("p",{className:"getStarted","data-test":"Get-Started",onClick:_},Se.GET_STARTED_TEXT),n.a.createElement("p",{className:"StartwithSignin","data-test":"Start-With"},Se.SIGNUP_TEXT),n.a.createElement("img",{src:"assets/images/Mid illustration.png",className:"mid-illustration",alt:""})):n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"globe-image"},n.a.createElement("p",{className:"getStarted","data-test":"Get-Started",onClick:_},Se.GET_STARTED_TEXT),n.a.createElement("p",{className:"StartwithSignin","data-test":"Start-With"},Se.SIGNUP_TEXT),n.a.createElement("img",{src:"assets/icon/mid-icon.svg",className:"midpart-icon",alt:""}))),n.a.createElement("div",{className:"signup-buttons"},n.a.createElement(l.H,null,n.a.createElement(l.k,{"data-test":"SignIn-btn",className:"signIn-col",onClick:function(){O(S.login.bind(S),"There was an error logging in")}},n.a.createElement(l.e,{class:"load-btn-Signup","data-test":"signin-button"},n.a.createElement("span",{className:"signup-btn"},Se.GET_STARTED_TEXT)))))))},Qr={GPSData:[],UserDetails:{},deviceRegistration:"",showAlert:!1,alertMessage:"",alertTitle:"",moreContent:{},offlineJSON:null,configParams:{},searchParams:null,pullToRefreshState:null,access_token:null,registerUserStatusMessage:{},session:{},shipmentParams:null},Xr=function(e){return e.global||Me},$r=function(e){return e.App},en=function(){return Object(nt.a)([Xr],(function(e){return e.loading||!1}))},tn=function(){return Object(nt.a)([Xr],(function(e){return e.userData||Me.userData}))},an=function(){return Object(nt.a)([Xr],(function(e){return e.deviceInfo.platform||Me.deviceInfo}))},rn=function(){return Object(nt.a)([Xr],(function(e){return e.deepLinkURI||Me.deepLinkURI}))},nn=function(){return Object(nt.a)([$r],(function(e){return e&&e.UserDetails}))},sn=function(){return Object(nt.a)([Xr],(function(e){return e.showPullToRefresh||Me.showPullToRefresh}))},on=function(){return Object(nt.a)([Xr],(function(e){return e.networkStatus.connected||Me.networkStatus.connected}))},cn=function(){return Object(nt.a)([$r],(function(e){return e.searchParams||Qr.searchParams}))},ln=function(){return Object(nt.a)([$r],(function(e){return e.shipmentParams||Qr.shipmentParams}))},un=function(){return Object(nt.a)([$r],(function(e){return e.pullToRefreshState||Qr.pullToRefreshState}))},dn=function(){return Object(nt.a)($r,(function(e){return e&&e.registerUserStatusMessage}))},pn=Object(rt.a)((function(e){var t=e.authService.tabName,a=e.authService.isLoggedIn;return t?n.a.createElement(at.a,null,n.a.createElement(tt.c,{path:"/",render:function(){return n.a.createElement(tt.b,{to:"/login"})},exact:!0}),n.a.createElement(tt.c,{path:"/app",render:function(){return a?n.a.createElement(e.Wrapper,e):n.a.createElement(tt.b,{to:"/login"})}}),n.a.createElement(tt.c,{path:"/login",render:function(){return a?n.a.createElement(tt.b,{to:"/app/".concat(t)}):n.a.createElement(Jr,null)}})):null})),mn=Object(nt.b)({hasSession:Object(nt.a)([Xr],(function(e){return e.hasSession}))}),fn=Object(c.c)(mn)((function(e){var t,a=e.hasSession,r=e.component;Object(l.V)("capacitor")||(t=new Br(new zr));var i=new Mr(t),s=xr.getInstance(i);return n.a.createElement(Gr,{value:i},n.a.createElement(Fr,{value:s},n.a.createElement(pn,{authService:s,Wrapper:r,vaultService:i,sessionEval:a})))})),hn=a(310),En=a.n(hn),gn=a(311),bn=a.n(gn),vn=a(4);function yn(e){var t=new ya;return"LOGIN"!==e[0]&&"MANAGE"!==e[0]&&"SEARCH"!==e[0]&&"RECENT"!==e[0]&&"APP"!==e[0]&&"FETCH_SEARCH_LOADS"!==e[1]&&"MYLOAD"!==e[0]&&"DRIVERS_LIST"!==e[0]&&"LOCATION_TRACKER"!==e[0]&&"FETCH_USER_DETAILS"!==e[0]&&"REGISTER_DEVICE"!==e[0]&&"MORETAB"!==e[0]&&"FAVORITE"!==e[0]&&"SUBMITFEEDBACK"!==e[0]&&"HOME"!==e[0]?t.get(e[0],e[1]):t.post(e[0],e[1],e[2],e[3],e[4],e[5])}var Sn=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:"FAVORITE_LOADS_DATA",payload:{data:e,isHideLoader:t}}},On=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:"UPDATE_FAVORITE_LOADS",payload:{data:e,isHideLoader:t}}},_n=function(e){return{type:"UPDATE_FAVORITE_LOADS_REDUCER",payload:e.data.updateUserSearchHistory}},Dn=function(e){return{type:"UPDATE_FAVORITE_ERROR",payload:e.data}},An=function(e){return{type:"GET_FAVORITE",payload:e}},kn=E.a.mark(Rn),Tn=E.a.mark(In),Nn=E.a.mark(Cn);function Rn(e){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(vn.c)(vt());case 3:return e.next=5,Object(vn.b)(yn,["SEARCH","SEARCH_LOADS"]);case 5:return t=e.sent,e.next=8,Object(vn.c)(ha(t.data,!1));case 8:return e.next=10,Object(vn.c)(yt());case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(0),e.next=16,Object(vn.c)(yt());case 16:case"end":return e.stop()}}),kn,null,[[0,12]])}function In(e){var t,a,r,n,i,s,o;return E.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(t=e.payload,a=t.searchParams,r=t.isPagination,n=t.isHideLoader,c.prev=1,e&&e.payload&&n){c.next=5;break}return c.next=5,Object(vn.c)(vt());case 5:return c.next=7,Object(vn.c)({type:"PULL_TO_REFRESH_LOADING",status:!0});case 7:return i=Pa.domainToData(a),c.next=10,yn(["SEARCH","SEARCH",null,"",i,"application/json"]);case 10:return s=c.sent,o={},s&&s.data&&s.data.searchLoadPostings&&(o={searchLoads:s.data.searchLoadPostings.loadPostings||[],totalRecords:s.data.searchLoadPostings.totalRecords||0}),c.next=15,Object(vn.c)(ha(o,r));case 15:if(e&&e.payload&&n){c.next=18;break}return c.next=18,Object(vn.c)(yt());case 18:return c.next=20,Object(vn.c)({type:"PULL_TO_REFRESH_LOADING",status:!1});case 20:c.next=29;break;case 22:if(c.prev=22,c.t0=c.catch(1),e&&e.payload&&n){c.next=27;break}return c.next=27,Object(vn.c)(yt());case 27:return c.next=29,Object(vn.c)({type:"PULL_TO_REFRESH_LOADING",status:!1});case 29:case"end":return c.stop()}}),Tn,null,[[1,22]])}function Cn(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(vn.a)([Object(vn.f)("SEARCH_DATA",Rn),Object(vn.f)("FETCH_SEARCH_RESULTS",In)]);case 2:case"end":return e.stop()}}),Nn)}var jn=function(e){return{type:"GET_MYLOAD_CARD_DATA",payload:e}},wn=function(e){return{type:C.CONFIRM_START_INFORMATION_SUCCESS,payload:e}},Ln=function(e){return{type:C.CONFIRM_START_INFORMATION_STATUS_MESSAGE,payload:e}},Pn=function(){return{type:C.CLEAR_CONFIRM_START_INFORMATION_STATUS_MESSAGE}},xn=function(){return{type:C.CLEAR_UPDATE_STOP_INFORMATION_RESPONSE}},Mn=[{cradImg:"/assets/icon/more-arrow.svg",profileHeading:"My Profile",profileRouting:"/app/manage/ProfileDetails"},{cradImg:"/assets/icon/more-arrow.svg",profileHeading:"Carrier Profile",profileRouting:"/app/manage/CarrierProfileDetails"},{cradImg:"/assets/icon/more-arrow.svg",profileHeading:"Manage Users",profileRouting:"/app/manage/ManageUser"},{cradImg:"/assets/icon/more-arrow.svg",profileHeading:"Manage My Capacity",profileRouting:"/app/manage/ManageMyCapacity"}];function Un(){return[].concat(Object(Fe.a)(xa("myLoad","carrierAssigned")?[{count:"carrierAssignedCount",cradImg:"assets/icon/carrier.svg",title:"Carrier Assigned",myLoadRouting:"/app/MyLoad/CarrierAssigned",className:"carrier_assigned",class:"carrier-assigned"}]:[]),Object(Fe.a)(xa("myLoad","driverAssigned")?[{count:"driverAssignedCount",cradImg:Ha.details.auth.user.roles.includes(De.carrierDispatcher)?"assets/icon/driver.svg":"assets/icon/carrier.svg",title:Ha.details.auth.user.roles.includes(De.carrierDispatcher)?"Driver Assigned":"Loads Assigned",myLoadRouting:"/app/MyLoad/DriverAssigned",className:"driver_assinged",class:"driver-assigned"}]:[]),Object(Fe.a)(xa("myLoad","inTransit")?[{count:"inTransitCount",cradImg:"assets/icon/transit.svg",title:"In-Transit",myLoadRouting:"/app/MyLoad/InTransit",className:"in-transit",class:"in_transit"}]:[]),Object(Fe.a)(xa("myLoad","recentlyDeliveredLoads")?[{count:"deliveredCount",cradImg:"assets/icon/recent.svg",title:"Recently Delivered Loads",myLoadRouting:"/app/MyLoad/Delivered",className:"recently_delivered",class:"recently-delivered"}]:[]))}var Fn=[{name:"Dry Van",value:"Dry Van"},{name:"Refrigerated",value:"Refrigerated"},{name:"Specialty",value:"Specialty"},{name:"Power Only",value:"Power Only"}],Vn=[{value:"pickUpdate",name:"Pick-up date"},{value:"total_distance",name:"Distance"}],Hn=function(e,t){return{type:"BUYLOAD_SHIPMENT_REQUEST",payload:{data:e,callback:t}}},Gn=function(e,t){return{type:"LOAD_CARRIER_DATA",payload:{data:e,count:t}}},Bn=function(e){return{type:"ASSIGN_DRIVER",payload:e}},qn=function(e){return{type:"ASSIGN_DRIVER_LIST",payload:e}},zn=function(e){return{type:"ADD_DRIVER_SUCCESS",payload:e}};var Yn=function(e,t){return{type:"DRIVER_ASSIGNED_DATA",payload:{data:e,count:t}}};var Wn=function(e){return{type:"FETCH_DRIVER_ASSIGNED_LOADS_FROM_PUSH",payload:e}},Zn=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return{type:"SHIPMENT_LOADS",payload:{query:e,isHideLoader:t,callBack:a}}},Kn=function(e,t){return{type:"LOAD_INTRANSIT_DATA",payload:{data:e,count:t}}},Jn=function(e){return{type:C.SHIPMENT_FOR_STARTTRIP,payload:e}},Qn=function(e){return{type:C.SHIPMENT_FOR_STARTTRIP_TIMESTAMP,payload:e}},Xn=function(e){return{type:C.START_TRIP_INFORMATION_RESPONSE,payload:e}},$n=function(e){return{type:C.COMPLETE_TRIP_API_RESPONSE,payload:e}},ei=function(e,t){return{type:"LOAD_DELIVERED_DATA",payload:{data:e,count:t}}},ti=function(e){return e.myload||Ge},ai=function(e,t){return t&&t.match&&t.match.params&&t.match.params.id},ri=function(e,t){return t&&t.match&&t.match.params&&t.match.params[0]},ni=function(){return Object(nt.a)([ti],(function(e){return e.myLoadCardData||Ge.myLoadCardData}))},ii=function(){return Object(nt.a)([ti],(function(e){return e.myLoadCount}))};function si(){return Object(nt.a)([ti],(function(e){return e.driverAssigned||[]}))}function oi(){return Object(nt.a)([ti],(function(e){return e.carrierAssigned||[]}))}function ci(){return Object(nt.a)([ti],(function(e){return e.inTransit||[]}))}var li=function(){return Object(nt.a)(ti,ai,ri,(function(e,t,a){if("MyLoad/CarrierAssigned"===a)return e&&e.carrierAssigned.find((function(e){return e.shipmentId===t}))||{};if("MyLoad/DriverAssigned"===a)return e&&e.driverAssigned.find((function(e){return e.shipmentId===t}))||{};if("MyLoad/InTransit"===a)return e&&e.inTransit.find((function(e){return e.shipmentId===t}))||{};if("MyLoad/Delivered"===a)return e&&e.delivered.find((function(e){return e.shipmentId===t}))||{};if("MyLoad/shipmentUpdateScreen"===a){var r=[].concat(Object(Fe.a)(e.driverAssigned),Object(Fe.a)(e.inTransit),Object(Fe.a)(e.delivered));return r&&r.find((function(e){return e.shipmentId===t}))||{}}}))},ui=function(){return Object(nt.a)([ti],(function(e){return e&&e.confirmStart||{}}))},di=function(){return Object(nt.a)(ti,(function(e){return e&&e.confirmStartStatusMessage}))},pi=E.a.mark(Ai),mi=E.a.mark(Ti),fi=E.a.mark(Ni),hi=E.a.mark(Ri),Ei=E.a.mark(Ii),gi=E.a.mark(Ci),bi=E.a.mark(ji),vi=E.a.mark(wi),yi=E.a.mark(Li),Si=E.a.mark(Pi),Oi=E.a.mark(xi),_i=E.a.mark(Mi),Di=E.a.mark(Ui);function Ai(e){var t;return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t={gps:e.payload},console.log("GPS",e.payload),a.next=5,Object(vn.c)(vt());case 5:return a.next=7,Object(vn.b)(yn,["APP","GPS_COORDS",null,"Content-Type",t]);case 7:return a.sent,a.next=10,Object(vn.c)(yt());case 10:a.next=16;break;case 12:return a.prev=12,a.t0=a.catch(0),a.next=16,Object(vn.c)(yt());case 16:case"end":return a.stop()}}),pi,null,[[0,12]])}function ki(e,t){console.log(e,t);var a=new Date(e).getTime(),r=(new Date).getTime(),n=parseInt(((r-a)/1e3).toString());return console.log(n,60*parseInt(t)),n<=60*parseInt(t)}function Ti(e){var t,a,r,n,i,s,o,c,l;return E.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e&&e.payload&&e.payload,a=t.data,r=t.isHideLoader,n=cn(),u.next=4,Object(vn.d)(n);case 4:return i=u.sent,s=un(),u.next=8,Object(vn.d)(s);case 8:if(o=u.sent,!i||!ki(i.RecentSearch,i.RecentSearchInterval)||o){u.next=11;break}return u.abrupt("return");case 11:if(u.prev=11,e&&e.payload&&r){u.next=15;break}return u.next=15,Object(vn.c)(vt());case 15:return u.next=17,Object(vn.c)({type:"PULL_TO_REFRESH_LOADING",status:!0});case 17:return c=Pa.domainToData(a),u.next=20,yn(["RECENT","RECENT",null,"",c,"application/json"]);case 20:return l=u.sent,u.next=23,Object(vn.c)(nr(l));case 23:return u.next=25,Object(vn.c)(pr({RecentSearch:(new Date).toUTCString(),RecentSearchInterval:"5"}));case 25:if(console.log(l),e&&e.payload&&r){u.next=29;break}return u.next=29,Object(vn.c)(yt());case 29:return u.next=31,Object(vn.c)({type:"PULL_TO_REFRESH_LOADING",status:!1});case 31:u.next=40;break;case 33:if(u.prev=33,u.t0=u.catch(11),e&&e.payload&&r){u.next=38;break}return u.next=38,Object(vn.c)(yt());case 38:return u.next=40,Object(vn.c)({type:"PULL_TO_REFRESH_LOADING",status:!1});case 40:case"end":return u.stop()}}),mi,null,[[11,33]])}function Ni(e){var t,a,r,n,i,s,o,c;return E.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return t=e&&e.payload&&e.payload,t.data,a=t.isHideLoader,r=cn(),l.next=4,Object(vn.d)(r);case 4:return n=l.sent,i=un(),l.next=8,Object(vn.d)(i);case 8:if(s=l.sent,!n||!ki(n.FavouriteSearch,n.FavouriteSearchInterval)||s){l.next=11;break}return l.abrupt("return");case 11:if(l.prev=11,e&&e.payload&&a){l.next=15;break}return l.next=15,Object(vn.c)(vt());case 15:return l.next=17,Object(vn.c)({type:"PULL_TO_REFRESH_LOADING",status:!0});case 17:return o=Pa.domainToData(e.payload.data),l.next=20,yn(["FAVORITE","FAVORITE_LOADS",null,"",o,"application/json"]);case 20:return c=l.sent,l.next=23,Object(vn.c)(An(c));case 23:return l.next=25,Object(vn.c)(pr({FavouriteSearch:(new Date).toUTCString(),FavouriteSearchInterval:"5"}));case 25:if(console.log(c),e&&e.payload&&a){l.next=29;break}return l.next=29,Object(vn.c)(yt());case 29:return l.next=31,Object(vn.c)({type:"PULL_TO_REFRESH_LOADING",status:!1});case 31:l.next=40;break;case 33:if(l.prev=33,l.t0=l.catch(11),e&&e.payload&&a){l.next=38;break}return l.next=38,Object(vn.c)(yt());case 38:return l.next=40,Object(vn.c)({type:"PULL_TO_REFRESH_LOADING",status:!1});case 40:case"end":return l.stop()}}),fi,null,[[11,33]])}function Ri(e){var t,a,r,n,i,s;return E.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,t=e.payload,a=t.token,r=t.body,n=Pa.domainToData(r),o.next=5,Object(vn.b)(yn,["FETCH_USER_DETAILS","GET_USER_DETAILS",null,a,n,"application/json"]);case 5:return i=o.sent,s=i.data&&i.data.getUserDetails&&i.data.getUserDetails.length>0&&i.data.getUserDetails[0],o.next=9,Object(vn.c)(sr(s));case 9:o.next=15;break;case 11:return o.prev=11,o.t0=o.catch(0),o.next=15,Object(vn.c)(yt());case 15:case"end":return o.stop()}}),hi,null,[[0,11]])}function Ii(e){var t,a;return E.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=Pa.domainToData(e.payload),r.next=4,Object(vn.b)(yn,["REGISTER_DEVICE","REGISTER_DEVICE",null,"",t,"application/json"]);case 4:return a=r.sent,r.next=7,Object(vn.c)(or({deviceRegisterResult:a.data,errors:a.errors}));case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(0),r.next=13,Object(vn.c)(or({deviceRegisterResult:null,errors:[r.t0.message]}));case 13:case"end":return r.stop()}}),Ei,null,[[0,9]])}function Ci(e){var t,a,r,n;return E.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(i.prev=0,t=e.payload.query.query.getShipments.__args.filter,e&&e.payload&&e.payload.isHideLoader){i.next=5;break}return i.next=5,Object(vn.c)(vt());case 5:return a=Pa.domainToData(e.payload.query),i.next=8,Object(vn.b)(yn,["MYLOAD","CARRIER",null,"",a,"application/json"]);case 8:if(r=i.sent,n=r.data.getShipments,!t.driverAssigned){i.next=13;break}return i.next=13,Object(vn.c)(Yn(n.driverAssignedShipments,n.driverAssignedCount));case 13:if(!t.carrierAssigned){i.next=16;break}return i.next=16,Object(vn.c)(Gn(n.carrierAssginedShipments,n.carrierAssignedCount));case 16:if(!t.inTransit){i.next=19;break}return i.next=19,Object(vn.c)(Kn(n.inTransitShipments,n.inTransitCount));case 19:if(e&&e.payload&&e.payload.isHideLoader){i.next=22;break}return i.next=22,Object(vn.c)(yt());case 22:e&&e.payload&&e.payload.callback&&e.payload.callback(),i.next=30;break;case 25:if(i.prev=25,i.t0=i.catch(0),e&&e.payload&&e.payload.isHideLoader){i.next=30;break}return i.next=30,Object(vn.c)(yt());case 30:case"end":return i.stop()}}),gi,null,[[0,25]])}function ji(e){var t,a;return E.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(vn.c)(vt());case 3:return t=Pa.domainToData(e.payload),r.next=6,Object(vn.b)(yn,["MORETAB","MORETAB",null,"",t,"application/json"]);case 6:return a=r.sent,r.next=9,Object(vn.c)({type:"MORE_TAB_CONTENT_RESPONSE",payload:a});case 9:return r.next=11,Object(vn.c)(yt());case 11:return r.next=13,Object(vn.c)(ur({termsAndConditions:"1.0",eula:"0.0",privacy:"1.0",contactOptions:"0.0",videoWalkthroughs:"1.0",aboutSchneider:"2.0",becomingCarrier:"1.0",faq:"0.0",schneiderOfferings:"0.0"}));case 13:r.next=19;break;case 15:return r.prev=15,r.t0=r.catch(0),r.next=19,Object(vn.c)(yt());case 19:case"end":return r.stop()}}),bi,null,[[0,15]])}function wi(){var e;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(vn.c)(vt());case 3:return e=Un(),t.next=6,Object(vn.c)(jn(e));case 6:return t.next=8,Object(vn.c)(yt());case 8:t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(0),t.next=14,Object(vn.c)(yt());case 14:case"end":return t.stop()}}),vi,null,[[0,10]])}function Li(e){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(vn.c)(vt());case 3:return console.log(e.payload),t.next=6,Object(vn.c)({type:"GET_CONFIG_PARAMS",payload:ye});case 6:return t.next=8,Object(vn.c)(yt());case 8:t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(0),t.next=14,Object(vn.c)(yt());case 14:case"end":return t.stop()}}),yi,null,[[0,10]])}function Pi(e){var t,a,r,n,i,s,o;return E.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=4,Object(vn.c)(vt());case 4:return t=e.payload,a=t.token,r=t.body,n=Pa.domainToData(r),c.next=8,Object(vn.b)(yn,["FETCH_USER_DETAILS","USER_DETAILS",null,a,n,"application/json"]);case 8:if(i=c.sent,s=i&&i.data&&i.data.registerMember||{},o=i&&i.errors){c.next=18;break}return c.next=14,Object(vn.c)(sr(s.member));case 14:return c.next=16,Object(vn.c)(fr({status:s.status,message:s.message}));case 16:c.next=21;break;case 18:if(!(o&&o.length>0&&o[0].message)){c.next=21;break}return c.next=21,Object(vn.c)(fr({status:!1,message:o[0].message}));case 21:return c.next=23,Object(vn.c)(yt());case 23:c.next=29;break;case 25:return c.prev=25,c.t0=c.catch(0),c.next=29,Object(vn.c)(yt());case 29:case"end":return c.stop()}}),Si,null,[[0,25]])}function xi(e){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(vn.c)(vt());case 3:return console.log(e.payload),t.next=6,Object(vn.c)(pr({RecommendedLoads:!0,RecommendedLoadsInterval:"5",WatchedLoads:!0,WatchedLoadsInterval:"10",RecentSearch:!0,RecentSearchInterval:"10",FavouriteSearch:!0,FavouriteSearchInterval:"10"}));case 6:return t.next=8,Object(vn.c)(yt());case 8:t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(0),t.next=14,Object(vn.c)(yt());case 14:case"end":return t.stop()}}),Oi,null,[[0,10]])}function Mi(e){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(vn.c)(vt());case 3:return console.log(e.payload),t.next=6,Object(vn.c)(mr({shipment:!0,shipmentInterval:"5"}));case 6:return t.next=8,Object(vn.c)(yt());case 8:t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(0),t.next=14,Object(vn.c)(yt());case 14:case"end":return t.stop()}}),_i,null,[[0,10]])}function Ui(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(vn.a)([Object(vn.f)("UPDATE_GPS_COORDS",Ai),Object(vn.f)("OFFLINE_MODE_START",Li),Object(vn.f)("FIND_SEARCH_DATA",xi),Object(vn.f)("FIND_SHIPMENT_INFO",Mi),Object(vn.f)("FETCH_USER_DETAILS",Ri),Object(vn.f)("REGISER DEVICE ACTION",Ii),Object(vn.f)("FETCH_DRIVER_ASSIGNED_LOADS_FROM_PUSH",Ci),Object(vn.f)("GET_MORE_TAB_CONTENT",ji),Object(vn.f)("MYLOAD_CARD_DATA",wi),Object(vn.f)("RECENT_LOADS",Ti),Object(vn.f)("REGISTER_USER",Pi),Object(vn.f)("FAVORITE_LOADS_DATA",Ni)]);case 2:case"end":return e.stop()}}),Di)}var Fi=E.a.mark(Ki),Vi=E.a.mark(Ji),Hi=E.a.mark(Qi),Gi=E.a.mark(Xi),Bi=E.a.mark($i),qi=E.a.mark(es),zi=E.a.mark(ts),Yi=E.a.mark(as),Wi=E.a.mark(rs),Zi=E.a.mark(ns);function Ki(e){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(vn.c)(vt());case 3:return t={"image-content":"data.payload"},e.next=6,Object(vn.b)(yn,["MYLOAD","PROFILE_IMG",null,"Content-type",t,null]);case 6:return e.sent,e.next=9,Object(vn.c)(yt());case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(0),e.next=15,Object(vn.c)(yt());case 15:case"end":return e.stop()}}),Fi,null,[[0,11]])}function Ji(){var e;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(vn.c)(vt());case 3:return e=Un(),t.next=6,Object(vn.c)(jn(e));case 6:return t.next=8,Object(vn.c)(yt());case 8:t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(0),t.next=14,Object(vn.c)(yt());case 14:case"end":return t.stop()}}),Vi,null,[[0,10]])}function Qi(e){var t,a,r,n,i,s,o,c,l,u;return E.a.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return t=ln(),d.next=3,Object(vn.d)(t);case 3:return a=d.sent,r=un(),d.next=7,Object(vn.d)(r);case 7:if(n=d.sent,!a||!ki(a.shipment,a.shipmentInterval)||n){d.next=10;break}return d.abrupt("return");case 10:if(d.prev=10,i=e.payload.query.query.getShipments.__args.filter,e&&e.payload&&e.payload.isHideLoader){d.next=17;break}return d.next=15,Object(vn.c)(vt());case 15:d.next=19;break;case 17:return d.next=19,Object(vn.c)({type:"PULL_TO_REFRESH_LOADING",status:!0});case 19:return s=Pa.domainToData(e.payload.query),d.next=22,Object(vn.b)(yn,["MYLOAD","CARRIER",null,"",s,"application/json"]);case 22:if(o=d.sent,!(c=o&&o.data&&o.data.getShipments)){d.next=41;break}if(!i.carrierAssigned){d.next=28;break}return d.next=28,Object(vn.c)(Gn(c.carrierAssginedShipments,c.carrierAssignedCount));case 28:if(!i.driverAssigned){d.next=35;break}return l=c.driverAssignmentPendingShipments||[],u=c.driverAssignedPendingCount||0,l=l.concat(c.driverAssignedShipments),u+=c.driverAssignedCount,d.next=35,Object(vn.c)(Yn(l,u));case 35:if(!i.inTransit){d.next=38;break}return d.next=38,Object(vn.c)(Kn(c.inTransitShipments,c.inTransitCount));case 38:if(!i.delivered){d.next=41;break}return d.next=41,Object(vn.c)(ei(c.deliveredShipments,c.deliveredCount));case 41:if(e&&e.payload&&e.payload.callBack&&e.payload.callBack(),e&&e.payload&&e.payload.isHideLoader){d.next=45;break}return d.next=45,Object(vn.c)(yt());case 45:return d.next=47,Object(vn.c)({type:"PULL_TO_REFRESH_LOADING",status:!1});case 47:return d.next=49,Object(vn.c)(mr({shipment:(new Date).toUTCString(),shipmentInterval:"5"}));case 49:d.next=58;break;case 51:if(d.prev=51,d.t0=d.catch(10),e&&e.payload&&e.payload.isHideLoader){d.next=56;break}return d.next=56,Object(vn.c)(yt());case 56:return d.next=58,Object(vn.c)({type:"PULL_TO_REFRESH_LOADING",status:!1});case 58:case"end":return d.stop()}}),Hi,null,[[10,51]])}function Xi(e){var t,a,r,n;return E.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Object(vn.c)(vt());case 3:return t=Pa.domainToData(e.payload.data),i.next=6,Object(vn.b)(yn,["MYLOAD","CARRIER",null,"",t,"application/json"]);case 6:return a=i.sent,i.next=9,Object(vn.c)($n(a&&a.data));case 9:if(r=a&&a.data&&a.data.completeTrip||{},n=a&&a.errors){i.next=26;break}return i.next=14,Object(vn.c)(Jn(r.shipment));case 14:return i.next=16,Object(vn.c)(Qn((new Date).getTime().toString()));case 16:if(!0!==r.status||r.message){i.next=21;break}return i.next=19,Object(vn.c)(Ln({status:!1,message:!0===r.status?"Great, that marks the end of your trip for load ".concat(e.payload.shipmentId):r.message}));case 19:i.next=24;break;case 21:if(!r||!r.message){i.next=24;break}return i.next=24,Object(vn.c)(Ln({status:!1,message:r.message}));case 24:i.next=29;break;case 26:if(!(n&&n.length>0&&n[0].message)){i.next=29;break}return i.next=29,Object(vn.c)(Ln({status:!1,message:n[0].message}));case 29:return i.next=31,Object(vn.c)(yt());case 31:i.next=37;break;case 33:return i.prev=33,i.t0=i.catch(0),i.next=37,Object(vn.c)(yt());case 37:case"end":return i.stop()}}),Gi,null,[[0,33]])}function $i(e){var t,a,r,n;return E.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Object(vn.c)(vt());case 3:return t=Pa.domainToData(e.payload.data),i.next=6,Object(vn.b)(yn,["MYLOAD","CARRIER",null,"",t,"application/json"]);case 6:if(a=i.sent,r=a&&a.data&&a.data.updateStop||{},n=a&&a.errors){i.next=25;break}return i.next=12,Object(vn.c)(Jn(r.shipment));case 12:return i.next=14,Object(vn.c)(Qn((new Date).getTime().toString()));case 14:if(!r||!r.message||1!=r.status){i.next=19;break}return i.next=17,Object(vn.c)((s=r.message,{type:C.SHOW_WARNING_DIALOG,payload:{message:s}}));case 17:i.next=22;break;case 19:if(!r||!r.message){i.next=22;break}return i.next=22,Object(vn.c)(Ln({status:!1,message:r.message}));case 22:e.payload.callBack&&e.payload.callBack(r.shipment),i.next=28;break;case 25:if(!(n&&n.length>0&&n[0].message)){i.next=28;break}return i.next=28,Object(vn.c)(Ln({status:!1,message:n[0].message}));case 28:return i.next=30,Object(vn.c)(yt());case 30:i.next=36;break;case 32:return i.prev=32,i.t0=i.catch(0),i.next=36,Object(vn.c)(yt());case 36:case"end":return i.stop()}var s}),Bi,null,[[0,32]])}function es(e){var t,a,r,n;return E.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Object(vn.c)(vt());case 3:return t=Pa.domainToData(e.payload),i.next=6,Object(vn.b)(yn,["MYLOAD","CARRIER",null,"",t,"application/json"]);case 6:if(a=i.sent,r=a&&a.data&&a.data.startTrip||{},n=a&&a.errors){i.next=20;break}return i.next=12,Object(vn.c)(Jn(r.shipment));case 12:return i.next=14,Object(vn.c)(Qn((new Date).getTime().toString()));case 14:if(!r||!r.message){i.next=17;break}return i.next=17,Object(vn.c)(Ln({status:!1,message:r.message}));case 17:e.payload.callBack&&e.payload.callBack(r.shipment),i.next=23;break;case 20:if(!(n&&n.length>0&&n[0].message)){i.next=23;break}return i.next=23,Object(vn.c)(Ln({status:!1,message:n[0].message}));case 23:return i.next=25,Object(vn.c)(Xn(a.data.startTrip));case 25:return i.next=27,Object(vn.c)(yt());case 27:i.next=33;break;case 29:return i.prev=29,i.t0=i.catch(0),i.next=33,Object(vn.c)(yt());case 33:case"end":return i.stop()}}),qi,null,[[0,29]])}function ts(e){var t,a,r,n;return E.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Object(vn.c)(vt());case 3:return t=Pa.domainToData(e.payload.data),i.next=6,Object(vn.b)(yn,["MYLOAD","CARRIER",null,"",t,"application/json"]);case 6:if(a=i.sent,r=a&&a.data&&a.data.confirmStart||{},n=a&&a.errors){i.next=20;break}return i.next=12,Object(vn.c)(Jn(r.shipment));case 12:return i.next=14,Object(vn.c)(Qn((new Date).getTime().toString()));case 14:if(!r||!r.message){i.next=17;break}return i.next=17,Object(vn.c)(Ln({status:!1,message:r.message}));case 17:e.payload.callback&&e.payload.callback(r.shipment),i.next=23;break;case 20:if(!(n&&n.length>0&&n[0].message)){i.next=23;break}return i.next=23,Object(vn.c)(Ln({status:!1,message:n[0].message}));case 23:return i.next=25,Object(vn.c)(wn(r.shipment));case 25:return i.next=27,Object(vn.c)(yt());case 27:i.next=33;break;case 29:return i.prev=29,i.t0=i.catch(0),i.next=33,Object(vn.c)(yt());case 33:case"end":return i.stop()}}),zi,null,[[0,29]])}function as(e){var t,a,r,n,i;return E.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.payload,a=t.query,r=t.data,s.prev=1,s.next=4,Object(vn.c)(vt());case 4:return n=Pa.dataToMutation(a,r),s.next=7,Object(vn.b)(yn,["MYLOAD","BUY_LOAD",null,"",n,"application/json"]);case 7:return i=s.sent,s.next=10,Object(vn.c)({type:"BUYLOAD_DATA_SUCCESS",payload:i});case 10:return s.next=12,Object(vn.c)(yt());case 12:s.next=18;break;case 14:return s.prev=14,s.t0=s.catch(1),s.next=18,Object(vn.c)(yt());case 18:case"end":return s.stop()}}),Yi,null,[[1,14]])}function rs(e){var t,a,r,n,i,s,o,c,l,u,d,p;return E.a.wrap((function(m){for(;;)switch(m.prev=m.next){case 0:if(m.prev=0,!(e&&e.payload&&e.payload.data.isPullToRefresh)){m.next=6;break}return m.next=4,Object(vn.c)({type:"PULL_TO_REFRESH_LOADING",status:!0});case 4:m.next=8;break;case 6:return m.next=8,Object(vn.c)(vt());case 8:return t=Pa.domainToData(e.payload.data.query),m.next=11,Object(vn.b)(yn,["MYLOAD","CARRIER",null,"",t,"application/json"]);case 11:return a=m.sent,m.next=14,Object(vn.c)({type:"BUYLOAD_SHIPMENT_SUCCESS",payload:a});case 14:return e.payload.callback&&e.payload.callback(),m.next=17,Object(vn.d)(ti);case 17:if(r=m.sent,n=r&&r.shipment||{},e.payload.data.module!==$.CARRIER_ASSIGNED_MODULE){m.next=24;break}return i=r&&r.carrierAssigned||[],s=i.map((function(e){return n.find((function(t){return t.shipmentId===e.shipmentId}))||e})),m.next=24,Object(vn.c)(Gn(s,s.length));case 24:if(e.payload.data.module!==$.DRIVER_ASSIGNED_MODULE){m.next=33;break}return o=r&&r.driverAssigned||[],c=o.map((function(e){return n.find((function(t){return t.shipmentId===e.shipmentId}))||e})),m.next=29,Object(vn.c)(Yn(c,c.length));case 29:return m.next=31,Object(vn.c)(Jn(n[0]));case 31:return m.next=33,Object(vn.c)(Qn((new Date).getTime().toString()));case 33:if(e.payload.data.module!==$.INTRANSIT_MODULE){m.next=42;break}return l=r&&r.inTransit||[],u=l.map((function(e){return n.find((function(t){return t.shipmentId===e.shipmentId}))||e})),m.next=38,Object(vn.c)(Kn(u,u.length));case 38:return m.next=40,Object(vn.c)(Jn(n[0]));case 40:return m.next=42,Object(vn.c)(Qn((new Date).getTime().toString()));case 42:if(e.payload.data.module!==$.RECENTLY_DELIVERED_MODULE){m.next=51;break}return d=r&&r.delivered||[],p=d.map((function(e){return n.find((function(t){return t.shipmentId===e.shipmentId}))||e})),m.next=47,Object(vn.c)(ei(p,p.length));case 47:return m.next=49,Object(vn.c)(Jn(n[0]));case 49:return m.next=51,Object(vn.c)(Qn((new Date).getTime().toString()));case 51:if(!(e&&e.payload&&e.payload.data.isPullToRefresh)){m.next=56;break}return m.next=54,Object(vn.c)({type:"PULL_TO_REFRESH_LOADING",status:!1});case 54:m.next=58;break;case 56:return m.next=58,Object(vn.c)(yt());case 58:m.next=69;break;case 60:if(m.prev=60,m.t0=m.catch(0),!(e&&e.payload&&e.payload.data.isPullToRefresh)){m.next=67;break}return m.next=65,Object(vn.c)({type:"PULL_TO_REFRESH_LOADING",status:!1});case 65:m.next=69;break;case 67:return m.next=69,Object(vn.c)(yt());case 69:case"end":return m.stop()}}),Wi,null,[[0,60]])}function ns(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(vn.a)([Object(vn.e)("PROFILE_IMAGE_SET",Ki),Object(vn.e)("MYLOAD_CARD_DATA",Ji),Object(vn.e)("SHIPMENT_LOADS",Qi),Object(vn.e)(C.CONFIRM_START_INFORMATION,ts),Object(vn.e)(C.UPDATE_STOP_INFORMATION,$i),Object(vn.e)(C.START_TRIP,es),Object(vn.e)("BUYLOAD_DATA_REQUEST",as),Object(vn.e)(C.COMPLETE_TRIP_API_REQUEST,Xi),Object(vn.e)("BUYLOAD_SHIPMENT_REQUEST",rs)]);case 2:case"end":return e.stop()}}),Zi)}var is=E.a.mark(cs),ss=E.a.mark(ls),os=E.a.mark(us);function cs(e){var t,a,r;return E.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(vn.c)(vt());case 3:return t=Pa.domainToData(e.payload),n.next=6,yn(["DRIVERS_LIST","DRIVERS_LIST",null,"",t,"application/json"]);case 6:return a=n.sent,r=a&&a.data&&a.data.getMembers||[],n.next=10,Object(vn.c)(qn(r));case 10:return n.next=12,Object(vn.c)(yt());case 12:n.next=18;break;case 14:return n.prev=14,n.t0=n.catch(0),n.next=18,Object(vn.c)(yt());case 18:case"end":return n.stop()}}),is,null,[[0,14]])}function ls(e){var t,a;return E.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(vn.c)(vt());case 3:return t=Pa.domainToData(e.payload),r.next=6,yn(["MYLOAD","CARRIER",null,"",t,"application/json"]);case 6:return a=r.sent,r.next=9,Object(vn.c)(yt());case 9:return r.next=11,Object(vn.c)((n={assignDriverToShipment:a.data&&a.data.assignDriverToShipment||!1,errors:a.errors},{type:C.ASSIGN_DRIVER_TO_SHIPMENT_RESPONSE,payload:n}));case 11:r.next=17;break;case 13:return r.prev=13,r.t0=r.catch(0),r.next=17,Object(vn.c)(yt());case 17:case"end":return r.stop()}var n}),ss,null,[[0,13]])}function us(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(vn.a)([Object(vn.f)("ASSIGN_DRIVER",cs),Object(vn.f)(C.ASSIGN_DRIVER_TO_SHIPMENT,ls)]);case 2:case"end":return e.stop()}}),os)}var ds=a(55),ps=a.n(ds),ms=a(82),fs=a.n(ms);function hs(e){var t={dispatch:wt.isFunction,subscribe:wt.isFunction,getState:wt.isFunction,replaceReducer:wt.isFunction,runSaga:wt.isFunction,injectedReducers:wt.isObject,injectedSagas:wt.isObject};fs()(Object(wt.conformsTo)(e,t),"(app/utils...) injectors: Expected a valid redux store")}var Es=["@@saga-injector/restart-on-remount",w,"@@saga-injector/once-till-unmount"],gs=function(e){return fs()(Object(wt.isString)(e)&&!Object(wt.isEmpty)(e),"(app/utils...) injectSaga: Expected `key` to be a non empty string")},bs=function(e){var t={saga:wt.isFunction,mode:function(e){return Object(wt.isString)(e)&&Es.includes(e)}};fs()(Object(wt.conformsTo)(e,t),"(app/utils...) injectSaga: Expected a valid saga descriptor")};function vs(e,t){return function(a){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;t||hs(e);var i=Object(u.a)(Object(u.a)({},r),{},{mode:r.mode||w}),s=i.saga,o=i.mode;gs(a),bs(i);var c=Reflect.has(e.injectedSagas,a);(!c||c&&o!==w&&"@@saga-injector/once-till-unmount"!==o)&&(e.injectedSagas[a]=Object(u.a)(Object(u.a)({},i),{},{task:e.runSaga(s,n)}))}}function ys(e,t){return function(a){if(t||hs(e),gs(a),Reflect.has(e.injectedSagas,a)){var r=e.injectedSagas[a];r.mode&&r.mode!==w&&(r.task.cancel(),e.injectedSagas[a]="done")}}}var Ss=function(e){var t=e.key,a=e.saga;return function(e){var r=function(r){Object(ct.a)(s,r);var i=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(ut.a)(e);if(t()){var n=Object(ut.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(lt.a)(this,a)}}(s);function s(e,r){var n,o;return Object(b.a)(this,s),(n=i.call(this,e,r)).injectors=void 0,n.injectors=(hs(o=r.store),{injectSaga:vs(o,!0),ejectSaga:ys(o,!0)}),n.injectors.injectSaga(t,{saga:a,mode:"@@saga-injector/daemon"},n.props),n}return Object(v.a)(s,[{key:"componentWillUnmount",value:function(){this.injectors.ejectSaga(t)}},{key:"render",value:function(){return n.a.createElement(e,this.props)}}]),s}(n.a.Component);return r.WrappedComponent=e,r.contextType=c.b,r.displayName="withSaga(".concat(e.displayName||e.name||"Component",")"),ps()(r,e)}};function Os(e,t){return function(a,r){t||hs(e),fs()(Object(wt.isString)(a)&&!Object(wt.isEmpty)(a)&&Object(wt.isFunction)(r),"(app/utils...) injectReducer: Expected `reducer` to be a reducer function"),Reflect.has(e.injectedReducers,a)&&e.injectedReducers[a]===r||(e.injectedReducers[a]=r,e.replaceReducer(Ye(e.injectedReducers)))}}var _s=function(e){var t=e.key,a=e.reducer;return function(e){var r=function(r){Object(ct.a)(s,r);var i=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(ut.a)(e);if(t()){var n=Object(ut.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(lt.a)(this,a)}}(s);function s(e,r){var n,o;return Object(b.a)(this,s),n=i.call(this,e,r),(o=r.store,hs(o),{injectReducer:Os(o,!0)}).injectReducer(t,a),n}return Object(v.a)(s,[{key:"render",value:function(){return n.a.createElement(e,this.props)}}]),s}(n.a.Component);return r.WrappedComponent=e,r.contextType=c.b,r.displayName="withReducer(".concat(e.displayName||e.name||"Component",")"),ps()(r,e)}},Ds=(a(456),a(112),Object(r.memo)((function(e){var t=e.labelName,a=e.TrailerType,i=e.handleChange,s=Object(r.useState)(!1),o=Object(f.a)(s,2),c=o[0],u=o[1],d=Object(r.useState)({name:a,value:a}),p=Object(f.a)(d,2),m=p[0],h=p[1],E=Object(r.useState)({name:a,value:a}),g=Object(f.a)(E,2),b=g[0],v=g[1];return Object(r.useEffect)((function(){h({name:a,value:a}),v({name:a,value:a})}),[e.TrailerType]),n.a.createElement(n.a.Fragment,null,n.a.createElement(l.o,{class:" trailer-ion-item"},n.a.createElement(l.w,{mode:"ios",class:"trailer_type_label"},t),n.a.createElement(l.e,{type:"button",class:"dropdown-button trailer_type_dropdown","data-test":"dropdown-click",onClick:function(){return u(!0)}},b.value," ",n.a.createElement("i",{className:"down"}))),n.a.createElement(l.A,{isOpen:c,cssClass:"dropdown-modal",backdropDismiss:!1,onDidDismiss:function(){return u(!1)}},n.a.createElement("div",{className:"search_options_trailer"},n.a.createElement(l.H,{class:"dropdown-heading"},n.a.createElement(l.k,null," ",n.a.createElement("p",{className:"sortBy_text"},t)," ")),n.a.createElement("div",{className:"options_content_trailer"},Fn.map((function(e,t){return n.a.createElement(l.H,{class:"dropdown-row",key:t,"data-test":"hide-dropdown",onClick:function(){return function(e){h(e)}(e)}},n.a.createElement(l.k,{class:e.name===m.name?"checked":""},e.value," ",n.a.createElement("i",{className:"check"})," "))}))),n.a.createElement(l.H,{class:"dropdown-handler"},n.a.createElement(l.k,{size:"1"}),n.a.createElement(l.k,{className:"dropdown_cancel",size:"5","data-test":"dropdown-cancel",onClick:function(){u(!1),h(b)}},n.a.createElement("span",null,"Cancel")),n.a.createElement(l.k,{className:"dropdown_cancel",size:"5","data-test":"confirm-cancel",onClick:function(){return function(e){v(e),u(!1);var t={target:{name:"TrailerType",value:e.value}};i(t)}(m)}},n.a.createElement("span",null,"OK")),n.a.createElement(l.k,{size:"1"})))))}))),As=a(102),ks=a.n(As);a(458),a(161),a(162);var Ts=function(e){Object(ct.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(ut.a)(e);if(t()){var n=Object(ut.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(lt.a)(this,a)}}(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"No-Recommended"},n.a.createElement("img",{alt:"logo",src:"assets/icon/no-search-icon.svg",width:"79.01px",height:"84.59px"}),n.a.createElement("p",{className:"recommended-Error"},this.props.constantText),Object(l.V)("desktop")?n.a.createElement(l.H,null,n.a.createElement(l.k,{size:"6"},n.a.createElement("div",{className:"SearchLoadBtn"},n.a.createElement(l.e,{expand:"full",shape:"round",onClick:this.props.loads,size:"large",type:"submit",class:"RecommendedSearch"},n.a.createElement(l.r,{src:"assets/icon/SearchError.svg",class:"load-search"}),this.props.constantButton))),this.props.addCapacity&&!tr.details.getR2FeatureEnable()?n.a.createElement(n.a.Fragment,null,n.a.createElement(l.k,{size:"6"},n.a.createElement("div",{className:"SearchLoadBtn"},n.a.createElement(l.e,{expand:"full",shape:"round",onClick:this.props.addCapacity,size:"large",type:"submit",class:"RecommendedSearch"},n.a.createElement(l.r,{src:"assets/images/manage-add-capacity.svg",class:"load-search"}),"Add capacity")))):null):n.a.createElement(n.a.Fragment,null," ",n.a.createElement("div",{className:"SearchLoadBtn"},n.a.createElement(l.e,{expand:"full",shape:"round",onClick:this.props.loads,size:"large",type:"submit",class:"RecommendedSearch"},n.a.createElement(l.r,{src:"assets/icon/SearchError.svg",class:"load-search"}),this.props.constantButton)),this.props.addCapacity&&!tr.details.getR2FeatureEnable()?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"recommended-error-btn-p"},"OR"),n.a.createElement("div",null,n.a.createElement(l.e,{expand:"full",shape:"round",onClick:this.props.addCapacity,size:"large",type:"submit",class:"RecommendedSearch"},n.a.createElement(l.r,{src:"assets/images/manage-add-capacity.svg",class:"load-search"}),"Add capacity"))):null))}}]),a}(r.PureComponent),Ns=function(){function e(){Object(b.a)(this,e),this.__distance="mi",this.__carrier_state={size:5,page:0,sortColumn:"pickUpdate",sortDirection:"asc"}}return Object(v.a)(e,[{key:"getRequestPayload",value:function(){return{query:{searchLoadPostings:{__args:{input:this.__carrier_state},totalRecords:!0,loadPostings:{loadId:!0,transportMode:!0,termsAndConditions:!0,loadPostingStatus:!0,sourceSystem:!0,hasAppointments:!0,isHazardous:!0,isHighValue:!0,isTemperatureControlled:!0,totalDistance:!0,distanceUOM:!0,totalWeight:!0,weightUOM:!0,numberOfStops:!0,rate:{binRateIdentifier:!0,binSource:!0,totalCharge:!0,lineHaulCharge:{charge:!0,unitCharge:!0,quantity:!0,chargeDescription:!0,rateQualifier:!0},fuelCharge:{charge:!0,unitCharge:!0,quantity:!0,chargeDescription:!0,rateQualifier:!0},accessorials:{accessorialCode:!0,accessorialDescription:!0,accessorialType:!0,accessorialCharge:{charge:!0,unitCharge:!0,quantity:!0,rateQualifier:!0}}},specialServices:{serviceDesc:!0,specialServiceDesc:!0},loadStop:{stopId:!0,stopType:!0,city:!0,state:!0,postalCode:!0,country:!0,appointmentFrom:!0,appointmentTo:!0,timeZone:!0,deadHead:!0,stopSequence:!0,specialServices:{serviceDesc:!0,specialServiceDesc:!0}}}}}}}},{key:"persistLoads",value:function(e){return Ga("Search-Loads",e)}},{key:"getLoads",value:function(){return qa("Search-Loads")}},{key:"recentLoads",value:function(e){return Ga("Recent-Loads",e)}},{key:"getRecentLoads",value:function(){return qa("Recent-Loads")}},{key:"favoriteLoads",value:function(e){return Ga("Favorite-Loads",e)}},{key:"getfavoriteLoadss",value:function(){return qa("Favorite-Loads")}},{key:"sortDirection",get:function(){return this.__carrier_state.sortDirection},set:function(e){e&&(this.__carrier_state.sortDirection=e)}},{key:"page",get:function(){return this.__carrier_state.page},set:function(e){e&&(this.__carrier_state.page=e)}},{key:"size",get:function(){return this.__carrier_state.size},set:function(e){e&&(this.__carrier_state.size=e)}},{key:"originCountry",get:function(){return this.__carrier_state.originCountry},set:function(e){e&&(this.__carrier_state.originCountry=e)}},{key:"destinationCountry",get:function(){return this.__carrier_state.destinationCountry},set:function(e){e&&(this.__carrier_state.destinationCountry=e)}},{key:"sortColumn",get:function(){return this.__carrier_state.sortColumn},set:function(e){e&&(this.__carrier_state.sortColumn=e)}},{key:"userID",get:function(){return this.__carrier_state.userId},set:function(e){e&&(this.__carrier_state.userId=e)}},{key:"carrierId",get:function(){return this.__carrier_state.carrierId},set:function(e){e&&(this.__carrier_state.carrierId=e)}},{key:"originCity",get:function(){return this.__carrier_state.originCity},set:function(e){e&&(this.__carrier_state.originCity=e)}},{key:"originState",get:function(){return this.__carrier_state.originState},set:function(e){e&&(this.__carrier_state.originState=e)}},{key:"originRadius",get:function(){return this.__carrier_state.originRadius},set:function(e){e&&(this.__carrier_state.originRadius=e)}},{key:"pickUpdate",get:function(){return this.__carrier_state.pickUpdate},set:function(e){e&&(this.__carrier_state.pickUpdate=e)}},{key:"destinationCity",get:function(){return this.__carrier_state.destinationCity},set:function(e){e&&(this.__carrier_state.destinationCity=e)}},{key:"destinationState",get:function(){return this.__carrier_state.destinationState},set:function(e){e&&(this.__carrier_state.destinationState=e)}},{key:"destinationRadius",get:function(){return this.__carrier_state.destinationRadius},set:function(e){e&&(this.__carrier_state.destinationRadius=e)}},{key:"dropDate",get:function(){return this.__carrier_state.dropDate},set:function(e){e&&(this.__carrier_state.dropDate=e)}},{key:"trailerType",get:function(){return this.__carrier_state.trailerType},set:function(e){e&&(this.__carrier_state.trailerType=e)}},{key:"favorite",get:function(){return this.__carrier_state.favorite},set:function(e){e&&(this.__carrier_state.favorite=e)}},{key:"carrierScac",get:function(){return this.__carrier_state.carrierScac},set:function(e){e&&(this.__carrier_state.carrierScac=e)}},{key:"carrierTier",get:function(){return this.__carrier_state.carrierTier},set:function(e){e&&(this.__carrier_state.carrierTier=e)}},{key:"userRole",get:function(){return this.__carrier_state.userRole},set:function(e){e&&(this.__carrier_state.userRole=e)}}]),e}(),Rs=new Ns;Object.freeze(Rs);var Is=function(e,t,a){return"asc"===a?Object(Fe.a)(e).sort((function(e,a){return e[t]>a[t]?1:-1})):Object(Fe.a)(e).sort((function(e,a){return e[t]>a[t]?-1:1}))},Cs=function(e){var t=e.searchInput,a=e.pageName,i=e.totalRecords,s=Object(r.useState)(!0),o=Object(f.a)(s,2),c=o[0],u=o[1],d=Object(r.useState)(t&&t.sortColumn),p=Object(f.a)(d,2),m=p[0],h=p[1],E=Object(r.useState)(t&&t.size||5),g=Object(f.a)(E,2),b=g[0],v=g[1],y=Object(r.useState)(t&&t.page||1),S=Object(f.a)(y,2),O=S[0],_=S[1],D=Object(r.useState)([5,10]),A=Object(f.a)(D,2),k=A[0];A[1];Object(r.useEffect)((function(){if(Object.keys(t).length){var a=e.userDetails&&e.userDetails.userApplicationDetails&&e.userDetails.userApplicationDetails[0].roles.map((function(e,t){return e.roleName})),r=new Ns,n=t;r.originCity=n.originCity,r.originState=n.originState,r.originRadius=n.originRadius,r.pickUpdate=n.pickUpdate,r.dropDate=n.dropDate,r.destinationCity=n.destinationCity,r.destinationState=n.destinationState,r.destinationRadius=n.destinationRadius,r.favorite=n.favorite,r.trailerType=n.trailerType,r.userID=e.userDetails&&e.userDetails.userPrincipalName||"",r.carrierId=e.userDetails&&e.userDetails.carrierId||"",r.page=O-1,r.size=b,r.sortColumn=m,r.originCountry=n.originCountry,r.destinationCountry=n.destinationCountry,r.carrierScac=e.userDetails&&e.userDetails.carrierScac||"",r.carrierTier=e.userDetails&&e.userDetails.carrierTier||"",r.userRole=a&&a[0],e.handleSortingPagination(r,!1,!1)}}),[JSON.stringify(t),b,O]);Object(r.useEffect)((function(){"loadDetails"===e.pageName&&u(!1)}),[e.pageName]),Object(r.useEffect)((function(){Rt(ue.SV_SEARCH_RESULT,{screen:de.SEARCH_RESULT,lead:e.lead})}),[]);var T=Object(r.useState)(!1),N=Object(f.a)(T,2),R=N[0],I=N[1],C=Object(r.useState)("assets/icon/star.svg"),j=Object(f.a)(C,2),w=j[0],L=j[1],P=[{name:"Origin",selector:"origin_city",sortable:c,style:{fontWeight:600,fontSize:14,colorName:"#000000"}},{name:"Origin Date",selector:"origin_from_date",sortable:c,minWidth:"123px"},{name:"DH-O",selector:"origin_deadhead",sortable:c},{name:"Origin Load Type",selector:"origin_load_type",sortable:c},{name:"Destination",selector:"destination_city",sortable:c,style:{fontWeight:600,fontSize:14,colorName:"#000000"}},{name:"Destination Date",selector:"destination_from_date",minWidth:"123px",sortable:c},{name:"DH-D",selector:"destination_deadhead",sortable:c},{name:"Destination Load Type",selector:"destination_load_type",sortable:c},{name:"Trailer Type",selector:"trailer",sortable:c},{name:"Rate ($)",selector:"price",sortable:c,style:{fontWeight:600,fontSize:14,colorName:"#000000"}},{name:"",selector:"",sortable:!1,width:"50px",cell:function(t){return"Recommended"===e.segmentName?null:n.a.createElement(l.r,{"data-test":"favorite-click",onClick:function(){return I(!R),void L(R?"assets/icon/star.svg":"assets/icon/star-color.svg")},src:w})}},{name:"",selector:"",sortable:!1,width:"50px",cell:function(t){return"loadDetails"===e.pageName?"":n.a.createElement(l.o,{class:"datatable-badge"},n.a.createElement("i",null))}}],x=function(e){if(e){var t=M(e.appointmentFrom),a=M(e.appointmentTo),r=a.year===(new Date).getFullYear()?a.time:"".concat(a.month," ").concat(a.day," ").concat(a.time);return"".concat(t.month," ").concat(t.day," ").concat(t.time,"-").concat(r)}},M=function(e){e=e.replace(/ /,"T");var t=new Date(e),a=t.getFullYear(),r=t.toLocaleString("default",{month:"long"}),n=t.getDate(),i=t.getHours(),s=i>=12?"pm":"am";return{year:a,month:r,day:n,time:"".concat(i=i%12||12,":00").concat(s)}},U=e.data&&e.data.map((function(e,t,a){var r={},n=e.loadStop[0],i=e.loadStop.slice(-1)[0];return r.loadId=e.loadId,r.origin_city="".concat(n.city,", ").concat(n.state),r.origin_from_date=x(n),r.origin_deadhead=n.deadHead,r.origin_load_type="Live load",r.destination_city="".concat(i.city,", ").concat(i.state),r.destination_from_date=x(i),r.destination_deadhead=i.deadHead,r.destination_load_type="Live unload",r.trailer=e.transportMode,r.price=null===e.rate?"Contact for Price":"$".concat(e.rate.totalCharge),r}));return n.a.createElement(n.a.Fragment,null,U?n.a.createElement(n.a.Fragment,null,"Recommended"===e.pageName||"Watched"===e.pageName?null:n.a.createElement("div",{className:"searchResults_div","data-test":"search-results"},"Search Results"),U.length?n.a.createElement(n.a.Fragment,null,n.a.createElement(ks.a,{title:U&&"".concat(U.length," Matches"),columns:P,data:U,highlightOnHover:!0,sortFunction:Is,onRowClicked:function(t){if(e.isNetworkAvailable){if("Recommended"===e.pageName||"Watched"===e.pageName){var a="/app/home/recommended/".concat(t.loadId);e.push(a)}else if("loadDetails"!==e.pageName){var r="/app/search/results/".concat(t.loadId);e.push(r)}}else e.showAlert({isShowAlert:!0,alertMessage:X,alertTitle:Q})},pagination:!0,paginationServer:!0,paginationServerOptions:{persistSelectedOnPageChange:!1,persistSelectedOnSort:!1},paginationDefaultPage:O,paginationResetDefaultPage:!0,paginationTotalRows:i,paginationPerPage:b,paginationRowsPerPageOptions:k,onChangePage:function(e,t){"searchResults"===a&&_(e)},onChangeRowsPerPage:function(e,t){"searchResults"===a&&(_(t),v(e))},sortServer:!0,onSort:function(e,t){_(1),h("total_distance")}}),"Recommended"===e.segmentName||"Watched"===e.segmentName?null:n.a.createElement("div",{className:"end-of-list"},"End of list")," "):n.a.createElement("div",{className:"searchResultsError"},n.a.createElement("div",{className:"searchInnerDiv"}),n.a.createElement(Ts,{"data-test":"rec-error",constantText:"We don't have any result right now. Please refine your search.",constantButton:"Reset search"}))):null)},js=function(e){var t=e.disabled,a=void 0!==t&&t,i=e.currentLocationOff,s=e.onTimeZoneChange,o=e.Error,c=e.labelValue,u=e.InputValue,d=e.handleChange,p=e.InputName,m=e.getLocalTime,h=e.keyboardshowHandler,b=e.locationValue,v=e.keyboardhideHandler,y=e.deFaultValue,S=e.isDestination,O=e.useHandler,_=e.setErrorValue,D=e.placeholder,A=(e.confirmStartLocationInp,e.onFocus),k=Object(r.useState)([]),T=Object(f.a)(k,2),N=T[0],R=T[1],I=Object(r.useState)(u),C=Object(f.a)(I,2),j=C[0],w=C[1],L=Object(r.useState)({lat:"",lng:""}),P=Object(f.a)(L,2),x=P[0],M=P[1],U=Object(r.useState)(!1),V=Object(f.a)(U,2),H=V[0],G=V[1],B=Object(r.useState)(!1),q=Object(f.a)(B,2),z=q[0],Y=q[1],W=Object(r.useState)(D||""),Z=Object(f.a)(W,2),K=Z[0],J=Z[1],Q=Object(r.useState)({cityName:"",position:""}),X=Object(f.a)(Q,2),$=X[0],ee=X[1],te=Object(r.useState)(!1),ae=Object(f.a)(te,2),re=ae[0],ne=ae[1],ie=Object(r.useState)(!0),se=Object(f.a)(ie,2),oe=se[0],ce=se[1],le=Object(r.useState)(""),ue=Object(f.a)(le,2),de=ue[0],pe=ue[1],me=!1,fe=Object(r.useState)(!1),he=Object(f.a)(fe,2),Ee=he[0],ge=he[1],be=Object(r.useState)(!1),ve=Object(f.a)(be,2),ye=ve[0],Se=ve[1],Oe=/^[a-zA-Z0-9, ]*$/;Object(r.useEffect)((function(){Object(l.V)("capacitor")&&!i&&er.details.getCurrentPosition((function(e,t){De("".concat(e,",").concat(t)),M({lat:e,lng:t})}))}),[i]),Object(r.useEffect)((function(){S||z||(w($.cityName),J(""),d({target:{name:p,value:$.cityName,backClicked:oe,lat:x.lat,lng:x.lng,country:de}}))}),[S,z,$]),Object(r.useEffect)((function(){b?(ge(!0),w($.cityName)):w("")}),[b]),Object(r.useEffect)((function(){w(u||"")}),[u]),Object(r.useEffect)((function(){ne(o)}),[o]);var _e=Object(r.useCallback)(Lt.a.debounce((function(e){return Ae(e)}),500),[]),De=function(){var e=Object(g.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ar.details.searchCurrentAddress(t,(function(e){var t={};e.forEach(function(){var e=Object(g.a)(E.a.mark((function e(a,r){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.address.municipality&&(-1!==a.address.municipality.indexOf(",")?a.address.municipality.split(",").forEach((function(e,r){t.cityName=e+(a.address.countrySubdivision?", "+a.address.countrySubdivision:"")})):t.cityName=a.address.municipality+(a.address.countrySubdivision?", "+a.address.countrySubdivision:"")),!a.position){e.next=4;break}return e.next=4,ar.details.searchTimezoneByCoordinates(a.position,(function(e){var t=e[0]&&e[0].ReferenceTime&&(e[0].ReferenceTime.WallTime||"");s&&s(e&&e.length>0&&e[0].Id),m&&m(t)}));case 4:a.address.countryCode&&pe(a.address.countryCode);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),ee(t)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(g.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length>2)){e.next=5;break}return e.next=3,ar.details.searchAddress(t,(function(e){var t=[];e.forEach((function(e,a){var r={};if(e.address.municipality){if(-1!==e.address.municipality.indexOf(","))e.address.municipality.split(",").forEach((function(a,r){var n={};n.cityName=a+(e.address.countrySubdivision?", "+e.address.countrySubdivision:""),n.cityName=n.cityName.trim(),e.position&&(n.position=e.position),$.cityName!==n.cityName&&t.push(n)}));else r.cityName=e.address.municipality+(e.address.countrySubdivision?", "+e.address.countrySubdivision:""),e.position&&(r.position=e.position),$.cityName!==r.cityName&&t.push(r);e.address.countryCode&&(r.country=e.address.countryCode)}}));var a,r,n=(r="cityName",(a=t).length?a.filter((function(e,t,a){return a.map((function(e){return e[r]})).indexOf(e[r].trim())===t})):[]);R(n),G(!0),S&&O&&h()}));case 3:e.next=7;break;case 5:G(!1),S&&O&&v();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ke=function(){var e=Object(g.a)(E.a.mark((function e(t){var a,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w(t.cityName),pe(t.country),G(!1),ge(!0),!t.position){e.next=11;break}return a="",(r=t.position)&&(a="".concat(r.lat,",").concat(r.lon)),M({lat:r.lat,lng:r.lon}),e.next=11,ar.details.searchTimezoneByCoordinates(a,(function(e){s&&s(e&&e.length>0&&e[0].Id);var t=e[0]&&e[0].ReferenceTime&&(e[0].ReferenceTime.WallTime||"");m&&m(t)}));case 11:S&&O&&v();case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return n.a.createElement(n.a.Fragment,null,n.a.createElement(l.v,{mode:"ios",className:"typeahead-item ".concat(o||re?"ion-error-field-validation":"ion-field-validation")},c.length>0?n.a.createElement(l.w,{mode:"ios",position:"floating"},c):null,n.a.createElement(l.u,{type:"text",disabled:a,className:"cts-form-control",name:p,onIonChange:function(e){return function(e){var t=j.trim();(Oe.test(e.target.value)||Ee||(e.target.value=e.target.value.replace(/[^a-zA-Z0-9 ]*/g,"")),w(e.target.value),Y(!0),j!==e.target.value)&&(t!==e.target.value.trim()&&_e(e.target.value));z&&J(""),Ee?d({target:{name:p,value:e.target.value,backClicked:oe,lat:x.lat,lng:x.lng,country:de}}):(d({target:{name:p,value:e.target.value,backClicked:oe,lat:x.lat,lng:x.lng,country:""}}),s&&s("")),ge(!1)}(e)},value:j,placeholder:K,onIonFocus:function(){A&&A()},onIonBlur:function(){return Se(!0),G(!1),me=N.some((function(e){return e.cityName===j})),S&&O&&v(),me?(ne(!1),_(!1,p)):(j===$.cityName||S&&j===y?(ne(!1),_(!1,p)):(ne(!0),_(!0,p)),0===j.length&&(ne(!0),_(!0,p))),void ce(!1)},onClick:function(e){(ye||$.cityName===j)&&(w(""),Y(!0),ce(!0),Se(!1))}},n.a.createElement(l.r,{slot:"end",alt:"logo",src:"/assets/icon/search_icon.svg",className:"origin-input_icon"})),S&&""!==j?n.a.createElement(l.r,{slot:"end",alt:"logo",src:"/assets/icon/cancel.svg",className:"destination-input_icon",onClick:function(){w(y)}}):null),n.a.createElement("div",{className:"pickupdate-error"},n.a.createElement("p",null,o," ",o?"":re?F:"")),H?n.a.createElement("div",{className:" ".concat(b?"suggestion-startTrip":"suggestions_div ")},n.a.createElement(l.H,{className:"suggestions_row"},b?null:n.a.createElement(l.k,{class:"icon-col"},$.cityName?n.a.createElement(l.r,{alt:"logo",src:"/assets/icon/position.svg",className:"position_icon"}):null),n.a.createElement(l.k,{class:"suggestion-col"},$.cityName?n.a.createElement(l.H,{className:" ".concat(b?"current-location2":"current-location "),onMouseDown:function(){return $&&ke({cityName:$.cityName})}},n.a.createElement(l.k,{className:"currentLocation-col"},b?null:n.a.createElement(l.w,{position:"floating"},"Current Location"),n.a.createElement(l.u,{className:"".concat(b?"suggestion-border":"cts-form-control"),type:"text",value:b?u:$.cityName,readonly:!0}))):null,S?n.a.createElement(l.H,{className:"suggestions_item",onMouseDown:function(){return ke({cityName:y})}},n.a.createElement(l.k,{class:"suggestions_list"},y)):"",N.length?n.a.createElement(l.o,{class:"suggestions ".concat(S?"destination_suggestions":""," ").concat(b?"suggestions-pad":"")},N.map((function(e,t){return n.a.createElement(l.H,{className:"suggestions_item",key:t,onMouseDown:function(){return ke(e)}},n.a.createElement(l.k,{class:"suggestions_list"},e.cityName))}))):n.a.createElement("div",{className:"pickupdate-error"},n.a.createElement("p",null,b?"":F))))):null)},ws=a(185),Ls=(a(513),a(514),function(e){var t=e.labelName,a=e.InputValue,i=e.handleChange,s=e.name,o=e.divClassName,c=e.rangeDisabled,u=Object(r.useState)(a),d=Object(f.a)(u,2),p=d[0],m=d[1],h=Object(ws.a)(ws.b);return Object(r.useEffect)((function(){m(a)}),[a]),n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"ion-item1"},n.a.createElement("div",{className:o}," ",n.a.createElement(l.w,{mode:"ios",className:"ion-label-radius"},t)," ",n.a.createElement("div",{className:"value-div"}," ",p," mi")),n.a.createElement(h,{min:25,marks:{25:"25mi",50:"50 mi",75:"",100:"100 mi",125:"",150:"150 mi",175:"",200:"200 mi",225:"",250:{style:{left:"95%",width:"38px"},label:"250 mi"}},step:25,max:250,onChange:function(e){m(e),i({target:{name:s,value:e}})},tipFormatter:function(e){return"".concat(e," mi")},value:p,disabled:c})))});function Ps(e,t){var a="",r=xs(e)||{},n=xs(t)||{},i=r.year===n.year?"":n.year,s=r.month===n.month?"":n.month,o=r.day===n.day?"":n.day,c=n.time,l="";return Object.keys(r).length&&(a="".concat(r.month," ").concat(r.day," ").concat(r.time)),i&&(l=i),(s&&!o||!s&&o||s&&o)&&(l="".concat(l," ").concat(n.month," ").concat(n.day)),c&&(l="".concat(l," ").concat(c)),l&&(a="".concat(a," -").concat(l)),a}var xs=function(e){if(!/\d{4}-[0-9]\d-[0-9]\dT[0-9]\d:[0-9]\d/.test(e))return null;var t=(e=e.split("T"))[0],a=e[1],r=t.split("-"),n=parseInt(r[0]),i=te[parseInt(r[1])-1],s=parseInt(r[2]),o=(a=a&&a.split(":")).length?a[0]:"",c=a.length?a[1]:"";c=c.slice(0,c.indexOf("-"));var l=o>=12?"PM":"AM";return{year:n,month:i,day:s,time:"".concat(o=o%12||12,":").concat(c).concat(l)}},Ms=function(e){var t="",a="";return e.appointmentEarlyDateTime?(t=e.appointmentEarlyDateTime,a=e.appointmentLateDateTime):e.actualETADateTime?(t=e.actualETADateTime,a=""):e.plannedEtaDateTime&&(t=e.plannedEtaDateTime,a=""),Ps(t||"",a||"")},Us=function(e){var t=e.specialServices||e.stopActivity||[];return t&&t.map((function(e){return e.name})).join(",")||""},Fs=function(e,t,a,r,n,i){var s=[];return e&&t&&a&&r?(e&&e.forEach((function(e){var o={},c=e.loadStop&&e.loadStop.slice().sort((function(e,t){return e.sequenceNo&&t.sequenceNo?e.sequenceNo-t.sequenceNo:e.stopSequence&&t.stopSequence?e.stopSequence-t.stopSequence:0}));"shipmentId"!==r&&(c=c&&c.filter((function(e){return"NFR"!==e.stopType})));var l=c&&c[0],u=c&&c.slice(-1)[0];if(o.loadId=e[r],l&&(o.origin_city="".concat(l.city,", ").concat(l.state),o.origin_from_date="shipmentId"===r?Ms(l):Ps(l[t]||"",l[a]||""),o.origin_deadhead=l.deadHead,o.origin_load_type=Us(l)),u&&(o.destination_city="".concat(u.city,", ").concat(u.state),o.destination_from_date="shipmentId"===r?Ms(u):Ps(u[t]||"",u[t]||""),o.destination_deadhead=u.deadHead,o.destination_load_type=Us(u)),o.trailer=e[n],o.price=e&&e.rate&&e.rate.totalCharge?e.rate.totalCharge:"Contact for price",i){var d="U",p=e.shipmentInvolvedParties.filter((function(e){return"PRIMARY DRIVER"===e.partyType}));if(p=p.length?p[0].partyName:""){var m=p.slice(0,1),f=p.indexOf(" ")>0?p.slice(p.indexOf(" ")+1,p.indexOf(" ")+2):"";d=m.toUpperCase()+f.toUpperCase()}o.driverName=d}s.push(o)})),s):"Missing requried parametres"},Vs=function(){var e=(new Date).getFullYear(),t=(new Date).getMonth(),a=[e];return 11===t&&a.push(e+1),0===t&&a.push(e-1),a},Hs=function(e){var t=e.labelName,a=e.InputValue,r=e.placeholder,i=e.handleChange,s=e.Error,o=e.name,c=e.useHandler,u=e.rangeDisabled,d=e.localTime,p=Vs()||(new Date).getFullYear();return n.a.createElement(n.a.Fragment,null,n.a.createElement(l.v,{mode:"ios",className:"date-picker-item ".concat(s?"ion-error-field-validation":"ion-field-validation"),lines:"dropdate"===o&&c?"none":"full"},n.a.createElement(l.w,{mode:"ios",className:"date-picker-label"},t),n.a.createElement(l.m,{displayFormat:"MMM DD, YYYY",min:d&&d.split("T")[0],yearValues:p,name:o,value:a&&a.split("T")[0]||"",disabled:u,onIonChange:i,mode:"ios",placeholder:r})),n.a.createElement("div",{className:"pickupdate-error"},n.a.createElement("p",null,s)))},Gs=function(e){var t=e.originError,a=e.origin,r=e.originRadius,i=e.pickUpdateError,s=e.pickUpdate,o=e.isDestination,c=e.defaultValue,u=e.useHandler,d=e.setErrorValue,p=e.updateLocalCurrentTime,m=e.pickUpLocalTime;return n.a.createElement(l.o,{className:"pickup-data"},n.a.createElement(l.H,null,n.a.createElement(l.k,null,n.a.createElement(js,{Error:t,labelValue:"Origin",InputValue:a,InputName:B,handleChange:function(t){return e.handleChange(t)},isDestination:o,deFaultValue:c,locationValue:!1,useHandler:u,setErrorValue:d,getLocalTime:function(t){e.showDate&&p(G,t)},onFocus:e.onFocus||function(){}}))),n.a.createElement(l.H,null,n.a.createElement(l.k,null,n.a.createElement(Ls,{labelName:"Origin Radius",rangeDisabled:e.rangeOriginDisable,InputValue:r,divClassName:"pickRadius",name:"originRadius",handleChange:e.handleChange}))),e.showDate?n.a.createElement(l.H,null,n.a.createElement(l.k,null,n.a.createElement(Hs,{Error:i,rangeDisabled:e.rangeOriginDisable,"display-timezone":"utc",labelName:"Pickup Date",name:G,InputValue:s,handleChange:e.handleChange,placeholder:"Choose Pickup Date",localTime:m}))):null)},Bs=function(e){var t=e.destinationError,a=e.destination,r=e.destinationRadius,i=e.dropUpdateError,s=e.dropdate,o=e.defaultValue,c=e.isDestination,u=e.useHandler,d=e.setErrorValue,p=e.updateLocalCurrentTime,m=e.dropLocalTime,f=e.showDate;return n.a.createElement(l.o,{className:"delivery-data"},n.a.createElement(l.H,null,n.a.createElement(l.k,null,n.a.createElement(js,{Error:t,locationValue:!1,labelValue:"Destination",InputValue:a,InputName:"destination",handleChange:e.handleChange,keyboardshowHandler:e.keyboardshowHandler,keyboardhideHandler:e.keyboardhideHandler,deFaultValue:o,isDestination:c,useHandler:u,setErrorValue:d,getLocalTime:function(e){p("dropdate",e)},onFocus:e.onFocus||function(){}}))),n.a.createElement(l.H,null,n.a.createElement(l.k,null,n.a.createElement(Ls,{labelName:"Destination Radius",rangeDisabled:e.rangeDisable,InputValue:r,divClassName:"pickRadius",name:"destinationRadius",handleChange:e.handleChange}))),f?n.a.createElement(l.H,null,n.a.createElement(l.k,null,n.a.createElement(Hs,{Error:i,labelName:"Delivery Date",rangeDisabled:e.rangeDisable,name:"dropdate",InputValue:s,handleChange:e.handleChange,placeholder:"Choose Delivery Date",useHandler:u,localTime:m}))):null)};var qs=(new Date).toISOString(),zs=function(e){Object(ct.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(ut.a)(e);if(t()){var n=Object(ut.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(lt.a)(this,a)}}(a);function a(){var e;Object(b.a)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={showDelivaryfields:!1,origin:"",originCountry:"",destinationCountry:"",destination:P,originRadius:100,pickUpdate:qs,dropdate:"",TrailerType:x,destinationRadius:100,favorite:!1,searchResultPage:!1,pickUpdateError:"",dropUpdateError:"",destinationError:"",originError:"",isCityError:!1,newSearch:{origin:"",destination:P,originRadius:100,pickUpdate:qs,dropdate:"",TrailerType:x,destinationRadius:100,favorite:!1},rangeDisable:!0,rangeOriginDisable:!1,showResults:e.props.isRecentSearch,pickUpLocalTime:qs,dropLocalTime:qs},e.placeSearch={},e.SelectedOriginVal="",e.SelectedDestinationVal="",e.dateUpdated=!1,e.dropDateUpdated=!1,e.keyboardshowHandler=function(){document.getElementsByClassName("search-form-mobile")[0].classList.add("scroll-up")},e.keyboardhideHandler=function(){document.getElementsByClassName("search-form-mobile")[0].classList.remove("scroll-up")},e.handleChange=function(t){var a=t.target.value,r=t.target.backClicked,n=e.state.pickUpLocalTime&&e.state.pickUpLocalTime.split("T")[0],i="";t.target.name===G&&(i=t.target.value),e.setState(Object(Yr.a)({},t.target.name,a)),t.target.name===G&&i<n?e.setState({pickUpdateError:M}):t.target.name===G&&i>n||t.target.name===G&&i===n?e.setState({pickUpdateError:""}):"dropdate"===t.target.name&&t.target.value>=e.state.pickUpdate?e.setState({dropUpdateError:""}):"dropdate"===t.target.name&&t.target.value<e.state.pickUpdate&&"dropdate"===t.target.name&&""!==t.target.value?e.setState({dropUpdateError:U}):t.target.name!==B||0!==t.target.value.length||r?t.target.name===B&&t.target.country.length>0?e.setState({originCountry:t.target.country}):"destination"===t.target.name&&t.target.country.length>0?e.setState({destinationCountry:t.target.country}):t.target.name===B&&t.target.value.length>0?e.setState({originError:""}):"destination"!==t.target.name||0!==t.target.value.length||r?"destination"===t.target.name&&t.target.value.length>0?e.setState({destinationError:"",rangeDisable:!1}):"destinationRadius"===t.target.name&&t.target.value>100&&e.setState({rangeDisable:!1}):e.setState({destinationError:H,rangeDisable:!0}):e.setState({originError:V}),t.target.name===G&&e.state.dropdate<t.target.value&&""!==e.state.dropdate?e.setState({dropUpdateError:U}):t.target.name===G&&e.state.dropdate>=t.target.value&&e.setState({dropUpdateError:""})},e.dropDownChange=function(t){e.setState((function(){return Object(Yr.a)({},t.name,t.value)}))},e.setErrorValue=function(t,a){a===B&&!0===t?e.setState({originError:V}):"destination"===a&&!0===t?e.setState({destinationError:H}):a===B&&!1===t?e.setState({originError:""}):"destination"===a&&!1===t&&e.setState({destinationError:""})},e.Apply=function(t){Rt("ue_search_request",{page:"Search Page"}),Rt(ue.UE_SEARCH_SEE_RESULTS,{screen:de.SEARCH_FILTER,tab:pe.NEW}),t.preventDefault(),e.state.destination!==P&&""===e.state.dropdate?e.setState({dropUpdateError:U}):(e.setState({dropUpdateError:""}),e.props.isNetworkAvailable?e.newSearch():e.props.showAlert({isShowAlert:!0,alertMessage:X,alertTitle:Q}))},e.newSearch=function(){var t=e.state,a=t.origin,r=t.originRadius,n=t.pickUpdate,i=t.TrailerType,s=t.dropdate,o=t.destinationRadius,c=t.favorite,u=t.destination,d=t.originCountry,p=t.destinationCountry,m="";e.state.pickUpLocalTime&&(m=e.state.pickUpLocalTime.split("T")[1]);var f="";e.state.dropLocalTime&&(f=e.state.dropLocalTime.split("T")[1]);var h={origin:a,originCountry:d,destinationCountry:p,originRadius:r,destination:u,pickUpdate:n&&"".concat(n.split("T")[0],"T").concat(m)||"",TrailerType:i,dropdate:s&&"".concat(s.split("T")[0],"T").concat(f)||"",destinationRadius:o,favorite:c};h.origin?(e.setState({newSearch:Object.assign(h),searchResultPage:!0}),""!==e.state.destinationError||""!==e.state.originError||""!==e.state.dropUpdateError||""!==e.state.pickUpdateError||e.state.isCityError||(e.props.submitForm(h),Object(l.V)("capacitor")||!Object(l.V)("desktop")?e.props.history.push("/app/search/results",{params:h,searchInput:e.getSearchInputes(h),totalRecords:e.props.totalRecords}):Object(l.V)("desktop")&&e.setState({showResults:!0}))):e.setState((function(){return{originError:V}}))},e.getSearchInputes=function(t){var a=new Ns;if(t){var r=-1!==t.destination.indexOf(",")?t.destination.split(","):[t.destination,t.destination],n=-1!==t.origin.indexOf(",")?t.origin.split(","):[t.origin,t.origin],i=e.props.userDetails&&e.props.userDetails.userApplicationDetails&&e.props.userDetails.userApplicationDetails[0].roles.map((function(e,t){return e.roleName})),s=t;a.originCity=n[0].trim(),a.originState=n[1].trim(),a.originRadius=s.originRadius,a.pickUpdate=s.pickUpdate,a.dropDate=s.dropdate,"Anywhere"!==t.destination&&(a.destinationCity=r[0].trim(),a.destinationState=r[1].trim()),a.destinationRadius=s.destinationRadius,a.favorite=s.favorite,a.trailerType=s.TrailerType,a.userID=e.props.userDetails&&e.props.userDetails.userPrincipalName,a.carrierId=e.props.userDetails&&e.props.userDetails.carrierId,a.page=0,a.size=5,a.sortColumn="pickUpdate",a.originCountry=s.originCountry,a.destinationCountry=s.destinationCountry,a.carrierScac=e.props.userDetails&&e.props.userDetails.carrierScac||"",a.carrierTier=e.props.userDetails&&e.props.userDetails.carrierTier||"",a.userRole=i&&i[0]}return a},e.updateLocalCurrentTime=function(t,a){if(t===G){var r=e.state.pickUpdate,n=a;!e.dateUpdated&&a&&(r=n&&n.split("T")[0],e.dateUpdated=!0),e.setState({pickUpdate:r,pickUpLocalTime:a})}"dropdate"===t&&e.setState({dropLocalTime:a})},e}return Object(v.a)(a,[{key:"componentDidUpdate",value:function(){this.state.destination.length>0&&this.state.destination!==P&&this.state.TrailerType.length>0&&(100===this.state.destinationRadius||this.state.destinationRadius>100)&&this.setState({rangeDisable:!1}),this.state.destination.length>0&&this.state.destination===P&&this.setState({rangeDisable:!0,dropdate:"",destinationRadius:100,dropUpdateError:""})}},{key:"componentDidMount",value:function(){It("screen_search_page"),this.setState(this.props.data),Rt(ue.SV_SEARCH_FILTER,{screen:de.SEARCH_FILTER,tab:pe.NEW})}},{key:"render",value:function(){var e=this;return n.a.createElement(n.a.Fragment,null,n.a.createElement(l.l,{className:"ion-padding search_form_container",class:"background"},n.a.createElement("form",{className:"search-form"},n.a.createElement(l.o,{class:"new_page_list search-mobile"},n.a.createElement(l.g,{class:"trailer-type-card"},n.a.createElement(Ds,{labelName:"Trailer type",TrailerType:this.state.TrailerType,handleChange:this.handleChange})),n.a.createElement(l.o,{class:"search-form-mobile"},n.a.createElement(l.H,{class:"pickup-row"},"Pick-up"),n.a.createElement(Gs,Object.assign({"data-test":"pick-upData"},this.state,{showDate:!0,handleChange:this.handleChange,rangeDisabled:this.state.rangeOriginDisable,isDestination:!1,defaultValue:P,useHandler:!1,setErrorValue:this.setErrorValue,updateLocalCurrentTime:this.updateLocalCurrentTime})),n.a.createElement(l.g,{class:"delivery-type-card"},n.a.createElement(l.i,{class:"".concat(this.state.showDelivaryfields?"":"changeColor"),onClick:function(){e.setState({showDelivaryfields:!e.state.showDelivaryfields})}},n.a.createElement("span",null," Delivery"),this.state.showDelivaryfields?n.a.createElement(l.q,{src:"assets/icon/minus-icon.svg"}):n.a.createElement("div",{className:"desitnation-city"},this.state.destination," ",n.a.createElement(l.q,{src:"assets/icon/plus.svg"}))),n.a.createElement(l.h,{class:"".concat(this.state.showDelivaryfields?"fadein":"fadeout")},n.a.createElement(Bs,Object.assign({},this.state,{showDate:!0,handleChange:this.handleChange,rangeDisabled:this.state.rangeDisable,platform:"mobile",keyboardshowHandler:this.keyboardshowHandler,keyboardhideHandler:this.keyboardhideHandler,defaultValue:P,isDestination:!0,useHandler:!0,setErrorValue:this.setErrorValue,DestinationRadius:"DestinationRadius",updateLocalCurrentTime:this.updateLocalCurrentTime}))))),n.a.createElement(l.g,{class:"fav-card"},n.a.createElement(l.w,null,"Add as Favorite")," ",n.a.createElement(l.q,{"data-test":"favorite-click",src:"assets/icon/star.svg",class:this.state.favorite?"fav-star":"",onClick:function(){e.setState({favorite:!e.state.favorite})}}))),n.a.createElement(l.o,{class:"new_page_list search-desktop"},n.a.createElement(l.H,{class:"data-type"},n.a.createElement(l.k,null,"Pickup"),n.a.createElement(l.k,null,"Delivery"," ",n.a.createElement(Ds,{labelName:"Trailer Type",TrailerType:this.state.TrailerType,handleChange:this.handleChange}))),n.a.createElement(l.H,null,n.a.createElement(l.k,{class:"pickup-data-feilds"},n.a.createElement(Gs,Object.assign({},this.state,{showDate:!0,handleChange:this.handleChange,rangeDisabled:this.state.rangeOriginDisable,isDestination:!1,defaultValue:P,useHandler:!1,setErrorValue:this.setErrorValue,updateLocalCurrentTime:this.updateLocalCurrentTime}))),n.a.createElement(l.k,{class:"delivery-data-feilds"},n.a.createElement(Bs,Object.assign({},this.state,{showDate:!0,handleChange:this.handleChange,rangeDisabled:this.state.rangeDisable,platform:"desktop",defaultValue:P,isDestination:!0,useHandler:!1,setErrorValue:this.setErrorValue,updateLocalCurrentTime:this.updateLocalCurrentTime})))),n.a.createElement(l.H,{class:"footer-row"},n.a.createElement(l.k,null,n.a.createElement(l.q,{"data-test":"fav-click2",src:"assets/icon/star.svg",class:this.state.favorite?"fav-star":"",onClick:function(){e.setState({favorite:!e.state.favorite})}})," ",n.a.createElement(l.w,{class:"add-to-fav"},"Add as Favorite")),n.a.createElement(l.k,null,n.a.createElement(l.e,{onClick:function(t){return e.Apply(t)},"data-test":"apply-mobile"},"See Results"))))),this.state.showResults?n.a.createElement(Cs,Object.assign({searchInput:this.props.searchInput,handleSortingPagination:this.props.handleSortingPagination,data:this.props.results.__carrier_state.searchLoads},this.props.history,{pageName:"searchResults",totalRecords:this.props.totalRecords,userDetails:this.props.userDetails,isNetworkAvailable:this.props.isNetworkAvailable,showAlert:this.props.showAlert,lead:pe.SEARCHED})):null),n.a.createElement(l.n,{class:"searchPageFooter"},n.a.createElement(l.e,{expand:"full","data-test":"apply-desktop",onClick:function(t){return e.Apply(t)}},"See Results")))}}]),a}(r.PureComponent),Ys=Object(tt.h)(zs),Ws=function(e){return e.search},Zs=function(){return Object(nt.a)(Ws,(function(e){return e.loads||qe.loads}))},Ks=function(){function e(){Object(b.a)(this,e),this.__carrier_state={}}return Object(v.a)(e,[{key:"searchLoads",get:function(){return this.__carrier_state.searchLoads}}]),e}(),Js=null,Qs=Object(nt.b)({loading:en(),data:Zs(),userData:tn(),userDetails:nn(),isNetworkAvailable:on()}),Xs=Object(c.c)(Qs,(function(e){return{fectchData:function(t,a){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e(Ea(t,a,r))},searchData:function(t){return e(fa(t))},clearLoads:function(){return e({type:"CLEAR_SEARCH_RESULST",payload:[]})},showAlert:function(t){return e(lr(t))}}})),$s=_s({key:"search",reducer:ze}),eo=Ss({key:"search",saga:Cn}),to=Object(d.compose)(eo,$s,Xs)(Object(tt.h)(n.a.memo((function(e){e.history;var t=e.location,a=e.fectchData,i=(e.searchData,e.data),s=(e.loading,e.clearLoads),o=(e.userData,e.isRecentSearch),c=e.userDetails,u=e.isNetworkAvailable,d=e.showAlert,p=e.searchParams,m=Object(r.useState)({}),h=Object(f.a)(m,2),b=h[0],v=h[1],y=function(){var e=Object(g.a)(E.a.mark((function e(t,r){var n,i,o,u;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=c&&c.userApplicationDetails&&c.userApplicationDetails[0].roles.map((function(e,t){return e.roleName})),s(),i=new Ns,o=-1!==t.destination.indexOf(",")?t.destination.split(","):[t.destination,t.destination],u=-1!==t.origin.indexOf(",")?t.origin.split(","):[t.origin,t.origin],Js=t,i.originCity=u[0].trim(),i.originState=u[1].trim(),i.originRadius=Js.originRadius,i.pickUpdate=Js.pickUpdate,i.dropDate=Js.dropdate,"Anywhere"!==t.destination&&(i.destinationCity=o[0].trim(),i.destinationState=o[1].trim()),i.destinationRadius=Js.destinationRadius,i.favorite=Js.favorite,i.trailerType=Js.TrailerType,i.userID=c&&c.userPrincipalName||"",i.carrierId=c&&c.carrierId||"",i.page=0,i.size=5,i.sortColumn="pickUpdate",i.originCountry=Js.originCountry,i.destinationCountry=Js.destinationCountry,i.sortDirection="asc",i.carrierScac=c&&c.carrierScac||"",i.carrierTier=c&&c.carrierTier||"",i.userRole=n&&n[0],v(i),Object(l.V)("mobile")&&a(i.getRequestPayload(),!1,!1);case 28:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){Object(l.V)("desktop")&&v(p)}),[p]),n.a.createElement(Ys,{isRecentSearch:o,data:t.state?t.state.params:{},submitForm:y,results:Pa.dataToDomain(Ks,i),userDetails:c,totalRecords:i.totalRecords,searchInput:b,isNetworkAvailable:u,showAlert:d,handleSortingPagination:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];a(e.getRequestPayload(),t,r)}})})))),ao=(a(515),a(183));function ro(e){switch(e){case 0:return"Jan";case 1:return"Feb";case 2:return"Mar";case 3:return"Apr";case 4:return"May";case 5:return"Jun";case 6:return"Jul";case 7:return"Aug";case 8:return"Sep";case 9:return"Oct";case 10:return"Nov";case 11:return"Dec";default:return""}}var no=function(e){var t=Object(r.useState)(),a=Object(f.a)(t,2),i=a[0],s=a[1];Object(r.useEffect)((function(){e.favoriteFlag||s(e.recentData)}),[e.recentData]);var o,c=[{name:"Origin",selector:"",width:"91",style:{fontWeight:800,fontSize:14,colorName:"#000000"},cell:function(e){return"Anywhere"===e.originCity?n.a.createElement("div",{className:"originCity"},e.originCity):n.a.createElement("div",{className:"originCity"},e.originCity+", "+e.originState)}},{name:"Origin Date",selector:"pickup_date",width:"120px"},{name:"Origin Radius",selector:"",width:"65",cell:function(e){return null!=e.originradius?n.a.createElement("div",null,e.originradius," mi"):n.a.createElement("div",null)}},{name:"Destination",selector:"",width:"82",style:{fontWeight:800,fontSize:14,colorName:"#000000"},cell:function(e){return null===e.destinationCity?n.a.createElement("div",{className:"originCity"},"Anywhere"):n.a.createElement("div",{className:"originCity"},e.destinationCity+", "+e.destinationState)}},{name:"Destination Date",selector:"",width:"150px",cell:function(e){return null===e.dropdate||null===e.destinationCity?n.a.createElement("div",null):n.a.createElement("div",null,e.dropdate&&"".concat(ro(new Date(e.dropdate).getMonth())," ").concat(("0"+new Date(e.dropdate).getDate()).slice(-2)))}},{name:"Destination Radius",selector:"",width:"79",cell:function(e){return null!=e.destinationradius?n.a.createElement("div",null,e.destinationradius," mi"):n.a.createElement("div",null,"NA")}},{name:"Trailer Type",selector:"trailertype",width:"84"},{name:"",selector:"",width:"50px",cell:function(t){return t.favouritesearchindicator?n.a.createElement(l.r,{className:"star_icon",onClick:function(a){if(a.stopPropagation(),e.updateFavorite(!1,t),!e.favoriteFlag){var r=i.map((function(e){return e.id===t.id?Object(u.a)(Object(u.a)({},e),{},{favouritesearchindicator:!t.favouritesearchindicator}):e}));s(r)}},src:"assets/icon/star-color.svg"}):n.a.createElement(l.r,{className:"star_icon",onClick:function(a){if(a.stopPropagation(),e.updateFavorite(!0,t),!e.favoriteFlag){var r=i.map((function(e){return e.id===t.id?Object(u.a)(Object(u.a)({},e),{},{favouritesearchindicator:!t.favouritesearchindicator}):e}));s(r)}},src:"assets/icon/star.svg"})}},{name:"",selector:"",width:"50px",cell:function(e){return n.a.createElement(l.o,{"data-test":"IonGrid-RecentSearchDesktop",class:"datatable-badge"},n.a.createElement("i",null))}}],d=[{name:"Origin",selector:"",width:"91",style:{fontWeight:800,fontSize:14,colorName:"#000000"},cell:function(e){return"Anywhere"===e.originCity?n.a.createElement("div",{"data-test":"origin-anywhere",className:"originCity"},e.originCity):n.a.createElement("div",{className:"originCity","data-test":"origin-city"},e.originCity+", "+e.originState)}},{name:"Origin Radius",selector:"",width:"65",cell:function(e){return null!=e.originradius?n.a.createElement("div",{"data-test":"origin-radius"},e.originradius," mi"):n.a.createElement("div",null)}},{name:"Destination",selector:"",width:"82",style:{fontWeight:800,fontSize:14,colorName:"#000000"},cell:function(e){return null===e.destinationCity?n.a.createElement("div",{className:"originCity","data-test":"destination-city"},"Anywhere"):n.a.createElement("div",{className:"originCity"},e.destinationCity+", "+e.destinationState)}},{name:"Destination Radius",selector:"",width:"79",cell:function(e){return null!=e.destinationradius?n.a.createElement("div",null,e.destinationradius," mi"):n.a.createElement("div",null,"NA")}},{name:"Trailer Type",selector:"trailertype",width:"84"},{name:"",selector:"",width:"50px",cell:function(t){return t.favouritesearchindicator?n.a.createElement(l.r,{className:"star_icon","data-test":"recent-star1",onClick:function(a){if(a.stopPropagation(),e.updateFavorite(!1,t),!e.favoriteFlag){var r=i.map((function(e){return e.id===t.id?Object(u.a)(Object(u.a)({},e),{},{favouritesearchindicator:!t.favouritesearchindicator}):e}));s(r)}},src:me}):n.a.createElement(l.r,{className:"star_icon","data-test":"recent-star",onClick:function(a){if(a.stopPropagation(),e.updateFavorite(!0,t),!e.favoriteFlag){var r=i.map((function(e){return e.id===t.id?Object(u.a)(Object(u.a)({},e),{},{favouritesearchindicator:!t.favouritesearchindicator}):e}));s(r)}},src:fe})}},{name:"",selector:"",width:"50px",cell:function(e){return n.a.createElement(l.o,{"data-test":"IonGrid-RecentSearchDesktop",class:"datatable-badge"},n.a.createElement("i",null))}}];return o=e.favoriteFlag?e.recentData&&e.recentData.filter((function(t,a,r){return(!e.favoriteFlag||!e.ID.includes(t.id))&&t})).map((function(e,t,a){var r=e.originCity,n=e.originState,i=e.destinationCity,s=e.destinationState,o=e.destinationradius,c=e.trailertype,l=e.originradius,u=e.favouritesearchindicator,d=e.pickupdate,p=e.searchdate,m=e.userid,f=e.id,h=e.carrierid,E={originCity:r,destinationState:s,destinationCity:i,originradius:l,destinationradius:o,trailertype:c,favouritesearchindicator:u,pickupdate:d,dropdate:e.dropdate,carrierid:h,searchdate:p,userid:m,id:f,originState:n,originPostalCode:e.originPostalCode,destinationPostalCode:e.destinationPostalCode,originCountry:e.originCountry,destinationCountry:e.destinationCountry};return Object(ao.a)(E),Object.assign({},E)})):i&&i.filter((function(t,a,r){return(!e.favoriteFlag||!e.ID.includes(t.id))&&t})).map((function(e,t,a){var r=e.originCity,n=e.originState,i=e.destinationCity,s=e.destinationState,o=e.destinationradius,c=e.trailertype,l=e.originradius,u=e.favouritesearchindicator,d=e.pickupdate,p=e.searchdate,m=e.userid,f=e.id,h=e.carrierid,E={originCity:r,destinationState:s,destinationCity:i,originradius:l,destinationradius:o,trailertype:c,favouritesearchindicator:u,pickupdate:d,dropdate:e.dropdate,carrierid:h,searchdate:p,userid:m,id:f,originState:n,originPostalCode:e.originPostalCode,destinationPostalCode:e.destinationPostalCode,originCountry:e.originCountry,destinationCountry:e.destinationCountry};return Object(ao.a)(E),Object.assign({},E)})),n.a.createElement(n.a.Fragment,null,o?n.a.createElement(n.a.Fragment,null,n.a.createElement(ks.a,{onRowClicked:function(t){return function(t){e.onRedirectToTab(t)}(t)},columns:e.favoriteFlag?d:c,data:o})):null)},io=function(e){var t=e.status,a=e.isHideLoader,i=void 0===a||a,s=Object(r.useState)({}),o=Object(f.a)(s,2),c=o[0],u=o[1];Object(r.useEffect)((function(){t||c&&c.detail&&c.detail.complete()}),[t]);return n.a.createElement(l.E,{slot:"fixed",className:"pull-to-refresh",onIonRefresh:function(t){e.updatePullToRefreshState&&e.updatePullToRefreshState(!0),u(t),e.onPullToRefresh||t&&t.detail&&t.detail.complete(),e&&e.onPullToRefresh&&e.onPullToRefresh(i),e.updatePullToRefreshState&&e.updatePullToRefreshState(null)}},n.a.createElement(l.F,{pullingText:'<img src= "assets/images/Schneider_Spinner-transparent.gif" className="loader-image" />',refreshingSpinner:null}))},so=Object(c.c)(null,(function(e){return{updatePullToRefreshState:function(t){return e({type:"UPDATE_PULL_TO_REFRESH_STATE",payload:t})}}}))(io);function oo(e){switch(e){case 0:return"Jan";case 1:return"Feb";case 2:return"Mar";case 3:return"Apr";case 4:return"May";case 5:return"Jun";case 6:return"Jul";case 7:return"Aug";case 8:return"Sep";case 9:return"Oct";case 10:return"Nov";case 11:return"Dec";default:return""}}io.prototype={onPullToRefresh:Zr.a.func.isRequired,isHideLoader:Zr.a.bool,status:Zr.a.bool.isRequired};var co=function(e){var t=e.recentData,a=e.updateFavorite,i=e.favoriteFlag,s=e.isNetworkAvailable,o=e.showAlert,c=Object(r.useState)(!1),u=Object(f.a)(c,2),d=u[0],p=u[1];return Object(r.useEffect)((function(){p(t.favouritesearchindicator)}),[t]),n.a.createElement(l.h,{className:"card-content recent-card"},n.a.createElement(l.o,{className:"recent_grid"},n.a.createElement(l.H,null,n.a.createElement(l.k,{className:"card-price-col",size:"4"},n.a.createElement("p",{className:"trailerType"},t.trailertype)),n.a.createElement(l.k,{className:"card-city-col"},n.a.createElement(l.H,{class:"stop-details-row"},n.a.createElement(l.k,{class:"stop-icon-col"},n.a.createElement(l.r,{className:"ellipse_icon",src:"assets/icon/origin-pointer.svg"}),n.a.createElement("div",{className:"stops_border"})),n.a.createElement(l.k,{class:"stop-details-col"},"Anywhere"===t.originCity?n.a.createElement("p",{className:"origin_city"},t.originCity):n.a.createElement("p",{className:"origin_city"},t.originCity,", ",t.originState),n.a.createElement(l.d,{className:"originRadius"},"Radius : ",t.originradius),i?"":n.a.createElement(l.d,{className:"pickupDate"},t.pickupdate&&"".concat(oo(new Date(t.pickupdate).getMonth())," ").concat(("0"+new Date(t.pickupdate).getDate()).slice(-2))))),n.a.createElement(l.H,{class:"stop-details-row"},n.a.createElement(l.k,{class:"stop-icon-col"},n.a.createElement(l.r,{className:"path_icon",src:"assets/icon/dst-pointer.svg"})),n.a.createElement(l.k,{class:"stop-details-col"},null===t.destinationCity?n.a.createElement("p",{className:"origin_city"},"Anywhere"):n.a.createElement("p",{className:"origin_city"},t.destinationCity,", ",t.destinationState),n.a.createElement(l.d,{className:"originRadius"},"Radius : ",t.destinationradius),i||null===t.destinationCity?"":n.a.createElement(l.d,{className:"pickupDate"},t.dropdate&&"".concat(oo(new Date(t.dropdate).getMonth())," ").concat(("0"+new Date(t.dropdate).getDate()).slice(-2)))))),n.a.createElement(l.k,{size:"1",className:"star_icon_col"},n.a.createElement(l.r,{"data-test":"Favorite-IonImg",onClick:function(e){e.stopPropagation(),a(!d,t),s?p(!d):o({isShowAlert:!0,alertMessage:X,alertTitle:Q})},className:"star_icon",src:d?me:fe})))))},lo=function(e){Object(ct.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(ut.a)(e);if(t()){var n=Object(ut.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(lt.a)(this,a)}}(a);function a(e){var r;return Object(b.a)(this,a),(r=t.call(this,e)).cardClick=function(e){if(r.props.isNetworkAvailable){var t=e.originCity,a=e.originState,n=e.originradius,i=e.pickupdate,s=e.trailertype,o=e.dropdate,c=e.destinationradius,l=e.favouritesearchindicator,d=e.durationDays,p=e.destinationCity,m=e.destinationState,f="";t&&(f=t),a&&"anywhere"!==a.toLowerCase()&&(f+=", "+a);var h="";p&&(h=p),m&&"anywhere"!==m.toLowerCase()&&(h+=", "+m);var E=null,g=null,b=Math.abs(d);r.props.favoriteFlag?(E=(new Date).toISOString(),o&&b&&(g=new Date((new Date).setDate((new Date).getDate()+b+1)).toISOString())):(E=i,g=o);var v={origin:f||"Anywhere",originRadius:n,destination:h||"Anywhere",pickUpdate:E,TrailerType:s,dropdate:g,destinationRadius:c,favorite:l};r.props.onSearchResult(Object(u.a)(Object(u.a)({},e),{},{pickupdate:E,dropdate:g}),v)}else r.props.showAlert({isShowAlert:!0,alertMessage:X,alertTitle:Q})},r.state={},r}return Object(v.a)(a,[{key:"componentDidMount",value:function(){Rt(ue.SV_SEARCH_FILTER,{screen:de.SEARCH_FILTER,tab:this.props.favoriteFlag?pe.FAVORITE:pe.RECENT})}},{key:"render",value:function(){var e=this;return n.a.createElement(l.l,{className:"ion-padding recent_container",class:"background"},n.a.createElement(so,{onPullToRefresh:this.props.favoriteFlag?this.props.getFavoriteSearchList:this.props.getRecentSearchList,status:this.props.isInPullToRefresh}),n.a.createElement(l.o,{class:"recent-list"},this.props.getLoads&&this.props.getLoads.map((function(t,a){return e.props.favoriteFlag&&e.props.id.includes(t.id)?"":!e.props.favoriteFlag&&e.props.flag&&!e.props.undo&&e.props.id.includes(t.id)?(t=Object(u.a)(Object(u.a)({},t),{},{favouritesearchindicator:!1}),n.a.createElement(l.g,{"data-test":"IonCard-RecentPage",onClick:function(){return e.cardClick(t)},className:"ion-card-updated",key:a},n.a.createElement(co,{recentData:t,updateFavorite:e.props.updateFavorite,favoriteFlag:e.props.favoriteFlag,isNetworkAvailable:e.props.isNetworkAvailable,showAlert:e.props.showAlert}))):!e.props.favoriteFlag&&e.props.undo&&e.props.id.includes(t.id)?(t=Object(u.a)(Object(u.a)({},t),{},{favouritesearchindicator:!0}),n.a.createElement(l.g,{"data-test":"IonCard-RecentPage",onClick:function(){return e.cardClick(t)},className:"ion-card-updated",key:a},n.a.createElement(co,{recentData:t,updateFavorite:e.props.updateFavorite,favoriteFlag:e.props.favoriteFlag,isNetworkAvailable:e.props.isNetworkAvailable,showAlert:e.props.showAlert}))):n.a.createElement(l.g,{"data-test":"IonCard-RecentPage",onClick:function(){return e.cardClick(t)},className:"ion-card-updated",key:a},n.a.createElement(co,{recentData:t,updateFavorite:e.props.updateFavorite,favoriteFlag:e.props.favoriteFlag,isNetworkAvailable:e.props.isNetworkAvailable,showAlert:e.props.showAlert}))}))),n.a.createElement("p",{className:"end_of_list"},"End of list"),n.a.createElement("div",{className:"recentDesktop"},n.a.createElement(no,{"data-test":"RecentSeachDesktop-RecentPage",onRedirectToTab:function(t){return e.cardClick(t)},recentData:this.props.getLoads,updateFavorite:this.props.updateFavorite,favoriteFlag:this.props.favoriteFlag,ID:this.props.id})))}}]),a}(n.a.Component),uo={recent:[],error:{}},po=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uo,t=arguments.length>1?arguments[1]:void 0;return Object(m.a)(e,(function(e){switch(t.type){case"GET_RECENT":e.recent=t.payload;break;case"UPDATE_FAVORITE_ERROR":case"CLEAR_FAVORITE_ERROR":e.error=t.payload}}))},mo=function(e){return e.recent||uo},fo=function(){return Object(nt.a)([mo],(function(e){return e.recent||uo.recent}))},ho=E.a.mark(go),Eo=E.a.mark(bo);function go(e){var t,a,r,n;return E.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(t=e&&e.payload&&e.payload,t.data,a=t.isHideLoader,i.prev=1,e&&e.payload&&a){i.next=5;break}return i.next=5,Object(vn.c)(vt());case 5:return i.next=7,Object(vn.c)({type:"PULL_TO_REFRESH_LOADING",status:!0});case 7:return r=Pa.domainToData(e.payload.data),console.log(r),i.next=11,yn(["FAVORITE","FAVORITE_LOADS",null,"",r,"application/json"]);case 11:if(n=i.sent,console.log(n),!n.data.updateUserSearchHistoryAsFavorite.errorMessage){i.next=19;break}return console.log(n.data.updateUserSearchHistoryAsFavorite.errorMessage),i.next=17,Object(vn.c)(Dn(n));case 17:i.next=21;break;case 19:return i.next=21,Object(vn.c)(_n(n));case 21:if(e&&e.payload&&a){i.next=24;break}return i.next=24,Object(vn.c)(yt());case 24:return i.next=26,Object(vn.c)({type:"PULL_TO_REFRESH_LOADING",status:!1});case 26:i.next=35;break;case 28:if(i.prev=28,i.t0=i.catch(1),e&&e.payload&&a){i.next=33;break}return i.next=33,Object(vn.c)(yt());case 33:return i.next=35,Object(vn.c)({type:"PULL_TO_REFRESH_LOADING",status:!1});case 35:case"end":return i.stop()}}),ho,null,[[1,28]])}function bo(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(vn.a)([Object(vn.f)("UPDATE_FAVORITE_LOADS",go)]);case 2:case"end":return e.stop()}}),Eo)}var vo=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:"RECENT_LOADS",payload:{data:e,isHideLoader:t}}},yo=function(){function e(){Object(b.a)(this,e),this.__recent_state={page:0,sortColumn:"pickupdate",favourite:null}}return Object(v.a)(e,[{key:"getRequestPayload",value:function(){return{query:{findUserRecentSearchHistory:{__args:{input:this.__recent_state},id:!0,userid:!0,originCity:!0,originState:!0,originCountry:!0,originradius:!0,destinationCity:!0,destinationState:!0,destinationCountry:!0,destinationradius:!0,pickupdate:!0,favouritesearchindicator:!0,trailertype:!0,dropdate:!0,searchdate:!0,destinationPostalCode:!0,originPostalCode:!0,carrierid:!0,durationDays:!0}}}}},{key:"page",get:function(){return this.__recent_state.page},set:function(e){e&&(this.__recent_state.page=e)}},{key:"size",get:function(){return this.__recent_state.size},set:function(e){e&&(this.__recent_state.size=e)}},{key:"sortColumn",get:function(){return this.__recent_state.sortColumn},set:function(e){e&&(this.__recent_state.sortColumn=e)}},{key:"userID",get:function(){return this.__recent_state.userID},set:function(e){e&&(this.__recent_state.userID=e)}},{key:"carrierId",get:function(){return this.__recent_state.carrierId},set:function(e){e&&(this.__recent_state.carrierId=e)}},{key:"favourite",get:function(){return this.__recent_state.favourite},set:function(e){e&&(this.__recent_state.favourite=e)}}]),e}(),So=(a(516),function(){function e(){Object(b.a)(this,e),this._favorite_state={page:0,sortColumn:"pickupdate",favourite:!0}}return Object(v.a)(e,[{key:"getFavoritePayload",value:function(){return{query:{findUserFavouriteSearchHistory:{__args:{input:this._favorite_state},id:!0,userid:!0,originState:!0,originCity:!0,originPostalCode:!0,originCountry:!0,originradius:!0,pickupdate:!0,destinationCity:!0,destinationState:!0,destinationPostalCode:!0,destinationCountry:!0,destinationradius:!0,dropdate:!0,trailertype:!0,searchdate:!0,favouritesearchindicator:!0,carrierid:!0,durationDays:!0}}}}},{key:"updateFavoriteLoad",value:function(e){return{mutation:{updateUserSearchHistory:{__args:{input:e},id:!0}}}}},{key:"updateFavoriteLoadCheckDuplicate",value:function(e){return{mutation:{updateUserSearchHistoryAsFavorite:{__args:{input:e},errorMessage:!0,status:!0,userSearchHistory:{id:!0}}}}}},{key:"page",get:function(){return this._favorite_state.page},set:function(e){e&&(this._favorite_state.page=e)}},{key:"size",get:function(){return this._favorite_state.size},set:function(e){e&&(this._favorite_state.size=e)}},{key:"sortColumn",get:function(){return this._favorite_state.sortColumn},set:function(e){e&&(this._favorite_state.sortColumn=e)}},{key:"userID",get:function(){return this._favorite_state.userID},set:function(e){e&&(this._favorite_state.userID=e)}},{key:"carrierId",get:function(){return this._favorite_state.carrierId},set:function(e){e&&(this._favorite_state.carrierId=e)}},{key:"favourite",get:function(){return this._favorite_state.favourite},set:function(e){e&&(this._favorite_state.favourite=e)}}]),e}()),Oo=(a(517),function(e){var t=e.isOpen,a=e.title,r=e.message,i=e.buttons;return n.a.createElement(l.A,{isOpen:t,cssClass:"custom-modal",backdropDismiss:!1},n.a.createElement("header",{className:"custom-modal-header"},n.a.createElement(l.w,{className:"custom-modal-title",color:"dark"},a)),n.a.createElement("section",null,n.a.createElement(l.N,{className:"custom-modal-message"},n.a.createElement("div",{dangerouslySetInnerHTML:{__html:r}}))),n.a.createElement("footer",null,i.map((function(e,t){return n.a.createElement(l.k,{key:"".concat(a,"_").concat(t)},n.a.createElement(l.e,{class:"btn load-btn","data-test":"".concat(e.label.toLowerCase(),"-btn"),onClick:e.callback},e.label))}))))}),_o=function(e,t,a){var r=a&&a.userApplicationDetails&&a.userApplicationDetails[0].roles.map((function(e,t){return e.roleName})),n=new Ns;return n.originCity=e.originCity,n.originState=e.originState,n.originRadius=e.originradius,n.pickUpdate=e.pickupdate||"",n.dropDate=e.dropdate||"",n.destinationCity=e.destinationCity,n.destinationState=e.destinationState,n.destinationRadius=e.destinationradius,n.favorite=e.favouritesearchindicator,n.userID=a&&a.userPrincipalName||"",n.trailerType=e.trailertype,n.carrierId=a&&a.carrierId||"",n.carrierScac=a&&a.carrierScac||"",n.carrierTier=a&&a.carrierTier||"",n.userRole=r&&r[0],n},Do=function(e,t){var a=t&&t.userApplicationDetails&&t.userApplicationDetails[0].roles.map((function(e,t){return e.roleName})),r=new Ns;if(e){var n=-1!==e.destination.indexOf(",")?e.destination.split(","):[e.destination,e.destination],i=-1!==e.origin.indexOf(",")?e.origin.split(","):[e.origin,e.origin],s=e;r.originCity=i[0].trim(),r.originState=i[1].trim(),r.originRadius=s.originRadius,r.pickUpdate=s.pickUpdate,r.dropDate=s.dropdate,"Anywhere"!==e.destination&&(r.destinationCity=n[0].trim(),r.destinationState=n[1].trim()),r.destinationRadius=s.destinationRadius,r.favorite=s.favorite,r.trailerType=s.TrailerType,r.userID=t&&t.userPrincipalName,r.carrierId=t&&t.carrierId,r.page=0,r.size=5,r.sortColumn="pickUpdate",r.originCountry="",r.destinationCountry="",r.carrierScac=t&&t.carrierScac||"",r.carrierTier=t&&t.carrierTier||"",r.userRole=a&&a[0]}return r};var Ao=!1,ko=null,To=function(e){Object(ct.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(ut.a)(e);if(t()){var n=Object(ut.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(lt.a)(this,a)}}(a);function a(e){var r;return Object(b.a)(this,a),(r=t.call(this,e)).__model=void 0,r.__modelF=void 0,r.updateFavorite=function(e,t){if(r.props.isNetworkAvailable){var a=new Date(t.pickupdate).toISOString(),n=new Date(t.searchdate).toISOString(),i=new Date(t.dropdate).toISOString(),s=Object(u.a)(Object(u.a)({},t),{},{pickupdate:a,searchdate:n,dropdate:null===t.destinationCity?null:i,favouritesearchindicator:e}),o=[];o.push(t.id),r.setState({id:o,data:s,undo:!1,flag:null}),e?r.props.updateFavoriteLoads(r.__modelF.updateFavoriteLoadCheckDuplicate(s),!1):(_r.open({message:"Favorite search removed",showUndo:!0,callback:r.undoClicked}),r.props.updateFavoriteLoads(r.__modelF.updateFavoriteLoad(s),!1))}else lr({isShowAlert:!0,alertMessage:X,alertTitle:Q})},r.undoClicked=function(){var e=Object(u.a)(Object(u.a)({},r.state.data),{},{favouritesearchindicator:!r.state.data.favouritesearchindicator});r.props.updateFavoriteLoads(r.__modelF.updateFavoriteLoadCheckDuplicate(e),!1),r.setState({undo:!0})},r.getRecentSearchList=function(e){r.__model.userID=r.props.userDetails&&r.props.userDetails.userPrincipalName||"",r.__model.carrierId=r.props.userDetails&&r.props.userDetails.carrierId||"",r.__model.page=0,r.__model.size=10,r.props.recentLoads(r.__model.getRequestPayload(),e)},r.onSearchResult=function(e,t){ko=t,Ao=!0;var a=_o(e,0,r.props.userDetails);Object(l.V)("mobile")?r.props.fetchData(a.getRequestPayload()):(r.props.onRedirectToTab("New",Do(ko,r.props.userDetails)),Ao=!1)},r.state={id:[],data:{},undo:!1,showErrorPopup:!1,flag:null},r.__model=new yo,r.__modelF=new So,r}return Object(v.a)(a,[{key:"componentDidMount",value:function(){this.getRecentSearchList(!1)}},{key:"render",value:function(){var e=this;return this.props&&this.props.data&&this.props.data.searchLoads&&Ao&&!Object(l.V)("desktop")?(Ao=!1,n.a.createElement(tt.b,{to:{pathname:"/app/search/results",state:{data:Pa.dataToDomain(Ks,this.props.data),params:ko,searchInput:Do(ko,this.props.userDetails)}}})):n.a.createElement(n.a.Fragment,null,n.a.createElement(lo,{"data-test":"recent-search",getRecentSearchList:this.getRecentSearchList,getLoads:this.props&&this.props.recentSearchLoads&&this.props.recentSearchLoads.data&&this.props.recentSearchLoads.data.findUserRecentSearchHistory,isInPullToRefresh:this.props.isInPullToRefresh,isNetworkAvailable:this.props.isNetworkAvailable,showAlert:this.props.showAlert,onSearchResult:this.onSearchResult,updateFavorite:this.updateFavorite,favoriteFlag:!1,id:this.state.id,undo:this.state.undo,flag:this.state.flag}),n.a.createElement("div",{"data-test":"error-state",onClick:function(){e.setState({showErrorPopup:!1,flag:!0}),e.props.clearErrorState()}},n.a.createElement(Oo,{isOpen:this.state.showErrorPopup,title:"Record Exist",message:"This record already exists in your Favorites List.  Please update your search criteria to save the search as a Favorite.",buttons:[{label:"Ok",callback:function(){}}]})))}},{key:"componentDidUpdate",value:function(){this.props.errorData.updateUserSearchHistoryAsFavorite&&this.setState({showErrorPopup:!0})}}]),a}(r.PureComponent),No=Object(nt.b)({loading:en(),errorData:Object(nt.a)([mo],(function(e){return e.error||uo.error})),recentSearchLoads:fo(),userData:tn(),data:Zs(),isInPullToRefresh:sn(),userDetails:nn(),isNetworkAvailable:on()}),Ro=Object(c.c)(No,(function(e){return{recentLoads:function(t,a){return e(vo(t,a))},clearErrorState:function(){return e({type:"CLEAR_FAVORITE_ERROR",payload:void 0})},fetchData:function(t){return e(Ea(t,!1,!1))},showAlert:function(t){return e(lr(t))},updateFavoriteLoads:function(t,a){return e(On(t,a))}}})),Io=_s({key:"recent",reducer:po}),Co=Ss({key:"recent",saga:bo}),jo=Object(d.compose)(Co,Io,Ro)(Object(tt.h)(To)),wo={Favorite:[],updatedId:{},error:{}},Lo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wo,t=arguments.length>1?arguments[1]:void 0;return Object(m.a)(e,(function(e){switch(t.type){case"GET_FAVORITE":console.log(t.payload),e.Favorite=t.payload;break;case"UPDATE_FAVORITE_LOADS_REDUCER":e.updatedId=t.payload}}))},Po=function(e){return e.Favorite||wo},xo=function(){return Object(nt.a)([Po],(function(e){return e||wo.Favorite}))};var Mo=!1,Uo=null,Fo=function(e){Object(ct.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(ut.a)(e);if(t()){var n=Object(ut.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(lt.a)(this,a)}}(a);function a(e){var r;return Object(b.a)(this,a),(r=t.call(this,e)).__model=void 0,r.updateFavorite=function(e,t){if(r.props.isNetworkAvailable){var a=t.pickupdate&&new Date(t.pickupdate).toISOString(),n=t.searchdate&&new Date(t.searchdate).toISOString(),i=t.dropdate&&new Date(t.dropdate).toISOString(),s=Object(u.a)(Object(u.a)({},t),{},{pickupdate:a,searchdate:n,dropdate:i,favouritesearchindicator:e}),o=r.state.id;o.push(t.id),r.setState({id:o,data:s}),r.props.updateFavoriteLoads(r.__model.updateFavoriteLoad(s),!1),_r.open({message:"Favorite search removed",showUndo:!0,callback:r.undoClicked})}else lr({isShowAlert:!0,alertMessage:X,alertTitle:Q})},r.undoClicked=function(){var e=Object(u.a)(Object(u.a)({},r.state.data),{},{favouritesearchindicator:!r.state.data.favouritesearchindicator});r.props.updateFavoriteLoads(r.__model.updateFavoriteLoad(e),!1);var t=r.state.id;t.pop(),r.setState({id:t})},r.getFavoriteSearchList=function(e){r.props.isNetworkAvailable&&(r.__model.userID=r.props.userDetails&&r.props.userDetails.userPrincipalName||"",r.__model.carrierId=r.props.userDetails&&r.props.userDetails.carrierId||"",r.__model.page=0,r.__model.size=10,r.props.favoriteLoads(r.__model.getFavoritePayload(),e))},r.onSearchResult=function(e,t){Uo=t,Mo=!0;var a=_o(e,0,r.props.userDetails);Object(l.V)("mobile")?r.props.fetchData(a.getRequestPayload()):(r.props.onRedirectToTab("New",Do(Uo,r.props.userDetails)),Mo=!1)},r.state={id:[],data:{}},r.__model=new So,r}return Object(v.a)(a,[{key:"componentDidMount",value:function(){this.getFavoriteSearchList(!1)}},{key:"render",value:function(){return this.props&&this.props.data&&this.props.data.searchLoads&&Mo&&!Object(l.V)("desktop")?(Mo=!1,n.a.createElement(tt.b,{to:{pathname:"/app/search/results",state:{data:Pa.dataToDomain(Ks,this.props.data),params:Uo,searchInput:Do(Uo,this.props.userDetails)}}})):n.a.createElement(lo,{"data-test":"favorite-search",getLoads:this.props.favoriteLoadsData.Favorite.data&&this.props.favoriteLoadsData.Favorite.data.findUserFavouriteSearchHistory,favoriteFlag:!0,isInPullToRefresh:this.props.isInPullToRefresh,getFavoriteSearchList:this.getFavoriteSearchList,isNetworkAvailable:this.props.isNetworkAvailable,showAlert:this.props.showAlert,onSearchResult:this.onSearchResult,updateFavorite:this.updateFavorite,id:this.state.id})}}]),a}(r.PureComponent),Vo=Object(nt.b)({loading:en(),favoriteLoadsData:xo(),isInPullToRefresh:sn(),isNetworkAvailable:on(),userDetails:nn(),data:Zs(),userData:tn()}),Ho=Object(c.c)(Vo,(function(e){return{favoriteLoads:function(t,a){return e(Sn(t,a))},showAlert:function(t){return e(lr(t))},fetchData:function(t){return e(Ea(t,!1,!1))},updateFavoriteLoads:function(t,a){return e(On(t,a))}}})),Go=_s({key:"Favorite",reducer:Lo}),Bo=Ss({key:"Favorite",saga:bo}),qo=Object(d.compose)(Bo,Go,Ho)(Fo);var zo,Yo,Wo=function(e){Object(ct.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(ut.a)(e);if(t()){var n=Object(ut.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(lt.a)(this,a)}}(a);function a(e){return Object(b.a)(this,a),t.call(this,e)}return Object(v.a)(a,[{key:"render",value:function(){return r.createElement("div",{className:"loads-div"},this.props.children({loads:this.props.loads,segmentName:this.props.segmentName}))}}]),a}(r.Component);!function(e){e.TRAILER_IN="TRAILER_IN",e.TRAILER_OUT="TRAILER_OUT",e.INOUT="INOUT",e.NA="NA"}(zo||(zo={})),function(e){e[e.SUCCESS=0]="SUCCESS",e[e.WARNING=1]="WARNING",e[e.FAILURE=2]="FAILURE"}(Yo||(Yo={}));var Zo={equipmentFlow:zo.NA,equipmentId:"",equipmentOwner:"",equipmentType:"",execActivity:"",id:"",name:"",seqNo:"",stopId:"",tmsActivity:""},Ko={id:!0,stopId:!0,seqNo:!0,execActivity:!0,tmsActivity:!0,equipmentId:!0,equipmentType:!0,equipmentOwner:!0,equipmentFlow:!0,name:!0},Jo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e||[];t=(t=t.filter((function(e){return"BOBTAIL"!=(e.name||"").toUpperCase()}))).slice().sort((function(e,t){return Number(e.seqNo)-Number(t.seqNo)}));var a=[];return t.forEach((function(e){a.includes((e.name||"").trim())||a.push(e.name)})),a.map((function(e){return e})).join(", ")||""};var Qo=function(e){var t=e.stopDetails,a=n.a.useState(!1),r=Object(f.a)(a,2),i=r[0],s=r[1];return n.a.useEffect((function(){!0===i&&s(!1)}),[JSON.stringify(e.stopDetails)]),n.a.createElement(l.o,{class:"stop-data-grid"},e.index<e.length-1?n.a.createElement(n.a.Fragment,null,0===e.index?n.a.createElement(l.r,{className:"stop-icon",src:"assets/icon/origin-pointer.svg"}):n.a.createElement(l.r,{className:"stop-icon",src:"assets/icon/stop-pointer.svg"})):n.a.createElement(l.r,{className:"path_icon",src:"assets/icon/dst-pointer.svg"}),n.a.createElement(l.o,{className:"stop-address-grid"},n.a.createElement("p",{className:"origin_city"},t&&null===t.state?t&&t.city:"".concat(t&&t.city,", ").concat(t&&t.state),e.showExpandView?n.a.createElement(n.a.Fragment,null,i?n.a.createElement(l.q,{src:"assets/icon/minus-icon.svg",class:"plus-icon",onClick:function(){return s(!i)}}):n.a.createElement(l.q,{src:"assets/icon/plus.svg",class:"plus-icon",onClick:function(){return s(!i)}})):null),e.showExpandView&&t?n.a.createElement(l.o,{class:"complete-address ".concat(i?"fadein":"fadeout")},t&&t.locationName&&n.a.createElement("p",null,t.locationName),t&&t.addressLine1&&n.a.createElement("p",null," ",t.addressLine1),t&&t.addressLine2&&n.a.createElement("p",null," ",t.addressLine2),t&&(t.city||t.state||t.postalCode)&&n.a.createElement("p",null," ",t.city,",",t.state,",",t.postalCode)):null,0===e.index?n.a.createElement("p",{className:"origin_milehead load_header_elements"},t&&t.specialServices&&t.specialServices.length&&t.specialServices.map((function(e,t){return n.a.createElement("span",{key:t},e.specialServiceDesc)})),Jo(t&&t.stopActivity||[])," "):n.a.createElement(n.a.Fragment,null," ",e.index===e.length-1?n.a.createElement("p",{className:"origin_milehead load_header_elements"},t&&t.specialServices&&t.specialServices.length&&t.specialServices.map((function(e,t){return n.a.createElement("span",{key:t},e.specialServiceDesc)})),Jo(t&&t.stopActivity||[])," "):n.a.createElement(n.a.Fragment,null," ",e.index===e.length-1?n.a.createElement("p",{className:"origin_milehead load_header_elements"},t&&t.specialServices&&t.specialServices.length&&t.specialServices.map((function(e,a){return n.a.createElement("span",{key:a},e.specialServiceDesc,t.specialServices.length?", ":" ")})),Jo(t&&t.stopActivity||[])," ",e.isCarrierLoad?null:n.a.createElement(n.a.Fragment,null,t&&t.deadHead," deadhead ")):n.a.createElement("p",{className:"origin_milehead load_header_elements"},"Stop off ",e.index," :"," ",Jo(t&&t.stopActivity||[])," "))),n.a.createElement("p",{className:"origin_dateTime load_header_elements"},e.appointment)))},Xo=function(e){Object(ct.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(ut.a)(e);if(t()){var n=Object(ut.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(lt.a)(this,a)}}(a);function a(e){return Object(b.a)(this,a),t.call(this,e)}return Object(v.a)(a,[{key:"render",value:function(){var e=this,t=[],a=this.props.loadStop||[];a=a.slice().sort((function(e,t){return e.sequenceNo&&t.sequenceNo?e.sequenceNo-t.sequenceNo:e.stopSequence&&t.stopSequence?e.stopSequence-t.stopSequence:0})),this.props.isCarrierLoad||(a=a.filter((function(e){return"NFR"!==e.stopType}))),this.props.isLoadDetails?t=a:(t[0]=a&&a[0],t[1]=a&&a[a.length-1]);var r=function(t){return e.props.isCarrierLoad?Ms(t):Ps(t.appointmentFrom||"",t.appointmentTo||"")};return n.a.createElement(l.o,{class:"stop-details-grid"},t?t.map((function(a,i){return n.a.createElement(Qo,{key:i,stopDetails:a,appointment:a&&r(a)||"",length:t.length,index:i,showExpandView:e.props.showExpandView,isCarrierLoad:e.props.isCarrierLoad})})):null)}}]),a}(n.a.Component);a(518);var $o=function(e){Object(ct.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(ut.a)(e);if(t()){var n=Object(ut.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(lt.a)(this,a)}}(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"render",value:function(){var e=this.props.numberOfStops-2;return r.createElement("div",null,r.createElement("p",{className:"card_p-elements loadno_card"},this.props.showLoadNo?this.props.shipmentId:""),null===this.props.rate||this.props.rate&&null===this.props.rate.totalCharge||this.props.rate&&0===this.props.rate.totalCharge?r.createElement("p",{className:"card_p-elements card-contact_for_price","data-test":"contact-price"},"Contact for price"):r.createElement(r.Fragment,null,this.props.rate&&this.props.rate.totalCharge?r.createElement("p",{className:"card-price","dat-test":"card-price"},"$",Math.trunc(this.props.rate.totalCharge)):null),this.props.totalDistance?r.createElement("p",{className:"card-distance ".concat(this.props.showLoadNo?"no-margin":""),"data-test":"card-distance"},Math.round(this.props.totalDistance)," ","miles"):null,e>0&&r.createElement("p",{className:"card-stopOffs","data-test":"stop-offs"},"".concat(e,e>1?" Stop offs":" Stop off")),r.createElement("p",{className:"card_p-elements card-trailerType"},this.props.isCarrierLoad?this.props.equipmentType:this.props.transportMode),r.createElement("p",{className:"card_p-elements card-lbs"},this.props.totalWeight&&this.props.totalWeight.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")," ",this.props.weightUOM),this.props.isHazardous&&r.createElement("p",{className:"card_p-elements card-hazmat","data-test":"is-Hazardous"},"Hazmat"),this.props.isHighValue&&r.createElement("p",{className:"card_p-elements card-value","data-test":"is-HighValue"},"High Value"),this.props.specialServices&&this.props.specialServices.length&&this.props.specialServices.map((function(e,t){return r.createElement("p",{className:"card_p-elements card-value",key:t},e.specialServiceDesc)}))||null,this.props.shipmentServices&&this.props.shipmentServices.length&&this.props.shipmentServices.map((function(e,t){return r.createElement("p",{className:"card_p-elements card-value",key:t},e.serviceDescription)}))||null,this.props.isTemperatureControlled&&r.createElement("p",{className:"card_p-elements card-value","data-test":"is-temperature"},"Temp Control"))}}]),a}(r.Component);var ec=function(e){var t=e.stopDetails;return r.createElement(l.o,{class:"stop-data-grid"},e.index<e.length-1?r.createElement(l.r,{className:"stop-icon",src:"assets/icon/origin-pointer.svg"}):r.createElement(l.r,{className:"path_icon",src:"assets/icon/dst-pointer.svg"}),r.createElement(l.o,{className:"stop-address-grid"},r.createElement("p",{className:"origin_city"},t.city,", ",t.state),r.createElement("p",{className:"origin_dateTime load_header_elements"},e.appointment)))},tc=function(e){Object(ct.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(ut.a)(e);if(t()){var n=Object(ut.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(lt.a)(this,a)}}(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"render",value:function(){var e=[],t=this.props.loadStop||[];return(t=t.slice().sort((function(e,t){return e.sequenceNo&&t.sequenceNo?e.sequenceNo-t.sequenceNo:e.stopSequence&&t.stopSequence?e.stopSequence-t.stopSequence:0}))).length>0&&(e[0]=t[0],e[1]=t[t.length-1]),r.createElement(l.o,{class:"assign-load-details-grid"},e?e.map((function(t,a){return r.createElement(ec,{key:a,stopDetails:t||{},appointment:t&&Ms(t)||"",length:e.length,index:a})})):null)}}]),a}(r.Component);var ac=function(e){var t="";if(e.showInitial){var a="";if((e.module!==$.DRIVER_ASSIGNED_MODULE||e.module===$.DRIVER_ASSIGNED_MODULE&&!0===e.driverAssignmentStatus)&&(a=(a=e.shipmentInvolvedParties&&e.shipmentInvolvedParties.filter((function(e){return"PRIMARY DRIVER"===e.partyType})))&&a.length?a[0].partyName:""),!1===e.driverAssignmentStatus&&e.module===$.DRIVER_ASSIGNED_MODULE&&(a=e.assignmentTransaction&&e.assignmentTransaction[0]&&e.assignmentTransaction[0].driverName),a){var n=a.slice(0,1),i=a.includes(" ")?a.slice(a.indexOf(" ")+1,a.indexOf(" ")+2):"";t=n.toUpperCase()+i.toUpperCase()}else t="U"}var s=function(t){e.isNetworkAvailable,t.stopPropagation(),e.onButtonClick(t)};return r.createElement(l.h,{className:"card-content"},r.createElement(l.o,{class:"load-grid"},r.createElement(l.H,null,r.createElement(l.k,{className:"card-price-col",size:"4"},r.createElement($o,Object.assign({},e,{isCarrierLoad:e.isCarrierLoad}))),r.createElement(l.k,{className:"card-city-col"},!0===e.isCarrier?r.createElement(tc,{loadStop:e.loadStop,onButtonClick:function(e){s(e)},buttonName:e.buttonName}):r.createElement(Xo,{loadStop:e.loadStop,isLoadDetails:e.isLoadDetails,showExpandView:e.showExpandView,module:e.module,isCarrierLoad:e.isCarrierLoad})),e.isWatch?r.createElement(l.k,{size:"0.5",className:"star_icon_col",onClick:function(t){t.preventDefault(),e.toggleWatchLoad(e.loadId)}},r.createElement(l.r,{className:"star_icon",src:"assets/icon/watched-color.svg"})):null),r.createElement(l.H,null,r.createElement(l.k,{size:"4"},e.showInitial&&t?r.createElement(l.o,{className:"driver-name-div"},t):null),r.createElement(l.k,null,e.buttonName?r.createElement(l.H,{class:"assign-driver-row",onClick:e.isButtonHidden?function(){}:function(e){return s(e)}},r.createElement(l.k,{class:"".concat(e.showInitial?"change-driver-col":"assign-driver-icon-col")},e.showInitial?r.createElement(l.o,{hidden:e.isButtonHidden,className:"chnages-driver-icon-div"},r.createElement(l.q,{src:"assets/icon/reassign-driver.svg"})):r.createElement("div",{className:"assign-driver-icon-div"},r.createElement(l.q,{src:"assets/icon/add-user-icon.svg"}))),r.createElement(l.k,{class:"label-col"},!e.isButtonHidden&&e.buttonName)):r.createElement(l.H,{class:"assign-driver-row"})))))},rc=function(e){Object(ct.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(ut.a)(e);if(t()){var n=Object(ut.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(lt.a)(this,a)}}(a);function a(e){var r;return Object(b.a)(this,a),(r=t.call(this,e))._updatedLoads=void 0,r._source=void 0,r._destination=void 0,r.getNavigationUrl=function(){var e="";return e=r.props.isCarrier?r.props.shipmentId:r.props.loadId,r.props.module===$.INTRANSIT_MODULE||r.props.module===$.DRIVER_ASSIGNED_MODULE||r.props.module===$.RECENTLY_DELIVERED_MODULE||r.props.module===$.CARRIER_ASSIGNED_MODULE?void 0:"/app/".concat(r.props.module,"/").concat(e)},r.onCardClick=function(){r.props.module!==$.INTRANSIT_MODULE&&r.props.module!==$.DRIVER_ASSIGNED_MODULE&&r.props.module!==$.RECENTLY_DELIVERED_MODULE&&r.props.module!==$.CARRIER_ASSIGNED_MODULE||!r.props.onRowCallback||r.props.onRowCallback(r.props.shipmentLoad)},r.state={stopCount:r.props.stopCount,pageName:"loadPage"},r._source=r.props.loadStop&&r.props.loadStop[0],r._destination=r.props.loadStop&&r.props.loadStop[r.props.loadStop.length-1],r}return Object(v.a)(a,[{key:"render",value:function(){return r.createElement(r.Fragment,null,!0===this.props.isLoadDetails?r.createElement(l.g,{className:"ion-card-updated"},r.createElement(ac,this.props)):r.createElement(l.g,{routerLink:this.getNavigationUrl(),className:"ion-card-updated",onClick:this.onCardClick},r.createElement(ac,this.props)))}}]),a}(r.Component);a(519);var nc=function(e){Object(ct.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(ut.a)(e);if(t()){var n=Object(ut.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(lt.a)(this,a)}}(a);function a(e){var r;return Object(b.a)(this,a),(r=t.call(this,e)).hideDropdownMenu=function(e){r.setState({clickedOption:e}),r.state.slectedValue!==e.value&&r.setState({asc:!0})},r.onConfrim=function(e){r.setState({slectedValue:r.state.selectedOption.value,selectedOption:r.state.clickedOption}),r.sortBy(e)},r.dropdownClick=function(){r.setState({isDropdown:!0})},r.sortBy=function(e){var t=r.state.asc;r.setState({isDropdown:!1}),r.props.sortedData(e,t)},r.state={selectedOption:r.props.options[0],clickedOption:r.props.options[0],asc:!0,isDropdown:!1,loadData:r.props.loadData,upArrow:"assets/icon/sort icon.svg",downArrow:"assets/icon/sort icon downward.svg",slectedValue:r.props.options[0].value},r}return Object(v.a)(a,[{key:"render",value:function(){var e=this,t=this.props.options;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"search_sortby_select"},n.a.createElement("div",{onClick:this.dropdownClick,className:"search_sort_button","data-test":"dropdown-click"},n.a.createElement("span",{className:"text_BY"},"By ")," ",this.state.selectedOption.name.length<=16?this.state.selectedOption.name:this.state.selectedOption.name.slice(0,15)+"..."),n.a.createElement("i",{className:"down"})),n.a.createElement("div",{"data-test":"sort-arrows",className:"sortArrows",onClick:function(){e.setState({asc:!e.state.asc},(function(){e.sortBy(e.state.selectedOption.value)}))}},n.a.createElement(l.q,{src:!0===this.state.asc?this.state.upArrow:this.state.downArrow})),n.a.createElement(l.A,{"show-backdrop":!0,"backdrop-dismiss":!1,isOpen:this.state.isDropdown,cssClass:"dropdown-modal",onDidDismiss:function(){e.setState({isDropdown:!1})}},n.a.createElement("div",{className:"search_options"},n.a.createElement(l.H,{class:"dropdown-row dropdown-heading"},n.a.createElement(l.k,null," ",n.a.createElement("p",{className:"sortBy_text"},"Sort by")," ")),t.map((function(t,a){return n.a.createElement(l.H,{"data-test":"hide-drop",class:"dropdown-row",key:a,onClick:function(){return e.hideDropdownMenu(t)}},n.a.createElement(l.k,{class:t.name===e.state.clickedOption.name?"checked":""},t.name," ",n.a.createElement("i",{className:"check"})," "))})),n.a.createElement(l.H,{class:"dropdown-handler"},n.a.createElement(l.k,{size:"1"}),n.a.createElement(l.k,{"data-test":"dropdown-cancel",size:"5",className:"dropdown_cancel",onClick:function(){return e.setState({isDropdown:!1,clickedOption:e.state.selectedOption})}},n.a.createElement("span",null,"Cancel")),n.a.createElement(l.k,{"data-test":"dropdown_cancel",size:"5",className:"dropdown_cancel",onClick:function(){return e.onConfrim(e.state.clickedOption.value)}},n.a.createElement("span",null,"OK")),n.a.createElement(l.k,{size:"1"})))))}}]),a}(r.Component),ic=(a(520),a(316)),sc=a.n(ic),oc=a(142),cc={ios:oc,md:oc},lc=(a(523),Object(nt.b)({isNetworkAvailable:on()})),uc=Object(c.c)(lc,null)((function(e){return n.a.createElement(n.a.Fragment,null,e.isNetworkAvailable?null:n.a.createElement("div",{className:"no-network-div"},"Please check your network connection."))})),dc=function(e){var t=e.getSegment,a=e.segments,n=e.activeSegment;return r.createElement(r.Fragment,null,a&&r.createElement(l.H,{class:"segment-row"},r.createElement(l.I,{mode:"ios",onIonChange:function(e){return t(e)},class:"segment_control_tabs"},a.map((function(e,t){return r.createElement(l.J,{mode:"ios",key:t,value:e,checked:n===e},r.createElement(l.w,null,e))})))))},pc=(a(252),function(e){var t=e.firstName,a=e.lastName,r=e.big,i=void 0!==r&&r,s=e.xlarge,o=void 0!==s&&s,c=e.normal,l="ion-user-custom-image ".concat(void 0!==c&&c?"normal":""," ").concat(i?"big":""," ").concat(o?"xlarge":"");return n.a.createElement("div",{className:"ion-image-wrapper"},n.a.createElement("div",{className:l},[t,a].map((function(e,t){return e?n.a.createElement("span",{key:e+t,className:"ion-user-child-img"},e?e[0].toUpperCase():""):null}))))}),mc=function(e){var t=e.userDetails,a=t&&t.userApplicationDetails&&t.userApplicationDetails.reduce((function(e,t){return[].concat(Object(Fe.a)(e),Object(Fe.a)(t.roles))}),[]).map((function(e){return le[e.roleName]}))||[],i=Object(r.useState)(!1),s=Object(f.a)(i,2),o=s[0],c=s[1];return n.a.createElement(n.a.Fragment,null,n.a.createElement(l.o,null,t?n.a.createElement(l.H,null,n.a.createElement(l.k,{className:"profileImg-col",size:"4"},n.a.createElement(pc,Object.assign({},t,{xlarge:!0}))),n.a.createElement(l.k,{className:"profile-Col",size:"8"},n.a.createElement("div",{className:"profileName","data-test":"profile-name"},"".concat(t.firstName||"","  ").concat(t.lastName||"")),n.a.createElement("div",{className:"profile-role","data-test":"admin"},a&&a.length>0&&a[0]||"",a.length>1?n.a.createElement("span",{className:"admincount",onClick:function(){c(!o)}}," ",o?"-":"+ ".concat(a.length-1)):null,o?n.a.createElement("ul",{className:"profile-add-roles"},a.slice(1,a.length).map((function(e){return n.a.createElement("li",null,e)}))):null),n.a.createElement("div",{className:"profileEmail","data-test":"profile-email"},t.email))):null))},fc=Object(tt.h)((function(e){var t=e.title,a=e.getSegment,n=e.segments,i=e.activeSegment,s=e.backUrl,o=e.isAddDriver,c=e.isMap,u=e.editData,d=e.viewMap,p=e.isDeviceInfo,m=e.viewDeviceInfo,f=(e.isSearch,e.tab),h=e.isLoadDetails,E=e.History,g=(e.isMyLoad,e.isStar),b=e.isWatched,v=e.toggleWatchLoad,y=e.addPage,S=e.customBackUrl,O=e.imageCapature,_="";_=f&&-1!==f.indexOf("/")?f.replace("/","\xa0\xa0\xa0|\xa0\xa0\xa0"):f;var D=function(){Object(l.V)("desktop")&&"/app/search/results"===s&&(s="/app/search"),E.push(s)};return r.createElement(l.p,{class:"Manage"===t?"page-manage":"Loads"===t||"Search"===t?"page-header":"page-header-searchResults"},r.createElement(l.H,{class:"header-desc"},r.createElement(l.k,{size:"2"},(s||S)&&r.createElement(l.e,{onClick:function(){return S?S():D()},className:"header-back-button ".concat("Select A Driver"===t?"cross_backbutton":"")},r.createElement(l.q,{icon:"Select A Driver"===t?cc:sc.a}))),r.createElement(l.k,{class:"title-col",size:"End User Licensing Agreement"===t||"Add Driver/Dispatcher"===t?"10":"Menu"===t?"5":"7"},r.createElement("div",{id:"Loads"===t||"Search"===t?"header-title":"End User Licensing Agreement"===t||"Add Driver/Dispatcher"===t?"header-title-more":"header-title-sm"},"Frequently Asked Questions"===t?"FAQ":t)),r.createElement(l.k,{size:"Menu"===t?"5":"3",class:"header-desc-col"},c&&r.createElement(r.Fragment,null,r.createElement("div",{id:"header-icon",className:"edit_icon"},r.createElement(l.r,{alt:"logo",src:"assets/icon/shipment-header-map.svg",onClick:function(){return d()}}),r.createElement("div",{className:"start-trip-header"},"Map"))),y&&r.createElement(r.Fragment,null,r.createElement("div",{id:"header-icon",className:"edit_icon"},r.createElement(l.r,{alt:"logo",src:"assets/icon/Add_Black.svg",onClick:function(){return y()}}),r.createElement("div",{className:"edit_text"},"Add"))),p&&r.createElement(r.Fragment,null,r.createElement("div",{id:"header-icon",onClick:function(){return m()},className:"edit_icon"},r.createElement(l.r,{alt:"logo",src:"assets/icon/help.svg"}),r.createElement("div",{className:"start-trip-header"},"Device Info"))),u&&r.createElement(r.Fragment,null,r.createElement("div",{id:"header-icon",className:"edit_icon",onClick:function(){return u()}},r.createElement(l.r,{alt:"logo",src:"assets/icon/edit.svg"}),r.createElement("div",{className:"edit_text"},"Edit"))),g&&r.createElement(l.q,{class:"star-icon",src:"assets/icon/".concat(b?"watched-color":"watch-icon",".svg"),onClick:function(){return v&&v(!b)}}),o&&r.createElement(r.Fragment,null,r.createElement("div",{id:"header-icon",className:"edit_icon"},r.createElement(l.r,{alt:"logo",src:"assets/icon/Add_Black.svg",onClick:function(){return o()}}),r.createElement("div",{className:"edit_text"},"Add")))," ")),s||t?r.createElement(l.o,{className:"desktop-header-desc"},s&&r.createElement(l.o,{class:"desktop-hdeader-button"},r.createElement(l.e,{onClick:function(){return D()},class:"desktop-back-button"},_),r.createElement("span",{className:"desktop-title"},h?r.createElement(r.Fragment,null,"\xa0\xa0|\xa0\xa0\xa0Load #".concat(t)):r.createElement(r.Fragment,null,"\xa0\xa0|\xa0\xa0\xa0".concat(t)))),t&&"Manage"!==t?r.createElement(l.o,{className:"header-title"},t):null):null,O?r.createElement(mc,O):null,r.createElement(dc,{segments:n,getSegment:a,activeSegment:i}),r.createElement(uc,null))}));a(524);var hc=function(e){Object(ct.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(ut.a)(e);if(t()){var n=Object(ut.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(lt.a)(this,a)}}(a);function a(e){var r;return Object(b.a)(this,a),(r=t.call(this,e)).pageSize=5,r.sortedData=function(e,t){r.props.onResetPagination(),r.setState({sortColumn:e,currentPage:0,sortDirection:!0===t?"asc":"desc"},(function(){r.searchData(!1)}))},r.newSearch=function(){r.props.history.push("/app/search")},r.getCurrentModel=function(){var e=new Ns,t=r.props.userDetails&&r.props.userDetails.userApplicationDetails&&r.props.userDetails.userApplicationDetails[0].roles.map((function(e,t){return e.roleName})),a=r.state.searchParamData;return e&&a&&(e.originCity=a.originCity,e.originState=a.originState,e.originRadius=a.originRadius,e.pickUpdate=a.pickUpdate,e.dropDate=a.dropDate,e.destinationCity=a.destinationCity,e.destinationState=a.destinationState,e.destinationRadius=a.destinationRadius,e.favorite=a.favorite,e.trailerType=a.trailerType,e.userID=r.props.userDetails&&r.props.userDetails.userPrincipalName||"",e.carrierId=r.props.userDetails&&r.props.userDetails.carrierId||"",e.page=r.state.currentPage,e.size=r.pageSize,e.sortColumn=r.state.sortColumn,e.originCountry=a.originCountry,e.destinationCountry=a.destinationCountry,e.sortDirection=r.state.sortDirection,e.carrierScac=r.props.userDetails&&r.props.userDetails.carrierScac||"",e.carrierTier=r.props.userDetails&&r.props.userDetails.carrierTier||"",e.userRole=t&&t[0]),e},r.searchData=function(e){r.props.handleSortingPagination(r.getCurrentModel(),e,!1)},r.searchOnPull=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];r.props.onResetPagination(),r.setState({currentPage:0}),r.props.handleSortingPagination(r.state.searchParamData,!1,e)},r.OnScroll=function(){var e=Object(g.a)(E.a.mark((function e(t){var a,n,i,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.currentTarget.getScrollElement();case 2:if(0!==e.sent.scrollTop){e.next=5;break}return e.abrupt("return",!0);case 5:Object(l.V)("desktop")||r.props.isInPullToRefresh||(a=r.pageSize,n=r.state.totalRecords,i=parseInt("".concat(n/a))+(n%a>0?1:0),s=r.state.currentPage,n>a&&s<i-1?r.setState({currentPage:s+1},(function(){r.searchData(!0)})):r.setState({isPageEnd:!0}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.dateFormatChange=function(e){if(!/\d{4}-[0-9]\d-[0-9]\dT[0-9]\d:[0-9]\d/.test(e))return null;var t=(e=e.split("T"))[0],a=(e[1],t.split("-")),r=parseInt(a[0]),n=te[parseInt(a[1])-1];return parseInt(a[2])+" "+n+" "+r},r.state={tab:!0,loadData:r.props.results?r.props.results.searchLoads:[],editSearch:!0,currentPage:0,sortDirection:"asc",sortColumn:r.props&&r.props.searchInput&&r.props.searchInput.sortColumn||"pickUpdate",totalRecords:r.props.totalRecords||0,searchParamData:r.props.searchInput||new Ns,isPageEnd:!1},r}return Object(v.a)(a,[{key:"componentDidMount",value:function(){It("screen_search_results"),Rt("ue_loads_search_scroll_view",{page:"search"}),Rt(ue.SV_SEARCH_RESULT,{screen:de.SEARCH_RESULT,lead:pe.SEARCHED})}},{key:"componentDidUpdate",value:function(e){var t=this.state.totalRecords,a=this.state.searchParamData,r=this.state.currentPage;this.props.searchInput&&JSON.stringify(this.props.searchInput)!==JSON.stringify(e.searchInput)&&(a=this.props.searchInput,r=0),this.props.totalRecords!==e.totalRecords&&(t=this.props.totalRecords),this.setState({loadData:this.props.results?this.props.results.searchLoads:[],searchParamData:a,totalRecords:t,currentPage:r})}},{key:"render",value:function(){var e=this,t=Object(u.a)({},this.props.params);return t&&("Anywhere"===t.destination&&(delete t.destinationRadius,delete t.dropdate),t.originRadius&&(t["Origin Radius"]=t.originRadius,delete t.originRadius),t.pickUpdate&&(t["Pick up date"]=t.pickUpdate,delete t.pickUpdate),t.TrailerType&&(t["Trailer type"]=t.TrailerType,delete t.TrailerType),t.destinationRadius&&(t["Destination Radius"]=t.destinationRadius,delete t.destinationRadius),t["Pick up date"]=t["Pick up date"]&&this.dateFormatChange(t["Pick up date"]),console.log("SEARCH",t["Pick up date"]),t.dropdate?(t.dropdate=this.dateFormatChange(t.dropdate),console.log("SEARCH",t.dropdate)):delete t.dropdate,delete t.favorite),n.a.createElement(l.B,{className:"desktop-page search-result-page"},n.a.createElement("div",{"data-test":"on-reset",onClick:function(){e.props.onResetPagination()}},n.a.createElement(fc,{title:"Search Results",backUrl:"/app/search",editData:function(){return e.props.history.push("/app/search",{params:e.props.params})},History:this.props.history})),n.a.createElement(l.l,{class:"search_results_container",scrollEvents:!0,onIonScrollEnd:this.OnScroll},n.a.createElement(so,{"data-test":"pull-to-refresh",onPullToRefresh:this.searchOnPull,status:this.props.isInPullToRefresh}),this.props.params&&n.a.createElement(l.I,{scrollable:!0,className:"ion-segment"},Object.entries(t).map((function(e,a){return""!==Object.entries(t)[a][1]&&n.a.createElement(l.J,{className:"ion-segment-button",key:a},n.a.createElement(l.d,{class:"search_floating_badge"},e[0]+": "+e[1]))}))),this.props.results&&this.props.results.searchLoads&&this.props.results.searchLoads.length?n.a.createElement("div",null,n.a.createElement("div",{className:"short-div"},n.a.createElement(l.H,{class:"short-row"},n.a.createElement(l.k,{size:"5",class:"rec_text"},n.a.createElement("span",{className:"recommendations_num"},this.state.totalRecords||0," Matches")),n.a.createElement(l.k,{size:"7",class:"sort_select"},n.a.createElement("div",{className:"select_div"},n.a.createElement(nc,{options:Vn,loadData:this.state.loadData,sortedData:this.sortedData}))))),n.a.createElement(Wo,{segmentName:"",loads:this.state.loadData},(function(e){var t=e.loads;return n.a.createElement(l.y,{className:"searchResults_list"},t.map((function(e,t){return n.a.createElement(rc,Object.assign({key:t},e,{module:"search/results"}))})))})),this.state.isPageEnd?n.a.createElement("p",{className:"end_of_list"},"End of list"):null):n.a.createElement(Ts,{constantText:"We don't have any result right now. Please refine your search.",loads:this.newSearch,constantButton:"Reset search"})))}}]),a}(r.PureComponent),Ec={},gc=Object(nt.b)({loading:en(),data:Zs(),userDetails:nn(),isInPullToRefresh:sn(),isNetworkAvailable:on()}),bc=Object(c.c)(gc,(function(e){return{searchData:function(t){return e(fa(t))},fectchData:function(t,a,r){return e(Ea(t,a,r))},showAlert:function(t){return e(lr(t))}}})),vc=_s({key:"search",reducer:ze}),yc=Ss({key:"search",saga:Cn}),Sc=Object(d.compose)(yc,vc,bc)(Object(tt.h)((function(e){e.searchData;var t=e.location,a=e.data,r=(e.loading,e.history),i=e.fectchData,s=e.userDetails,o=e.isInPullToRefresh,c=e.isNetworkAvailable,l=e.showAlert,u=t&&t.state&&t.state.searchInput;return t.state&&t.state.params&&(Ec=t.state.params),r.location?n.a.createElement(hc,{results:{searchLoads:a.searchLoads||[],totalRecords:a.totalRecords||0},params:Ec,history:r,userDetails:s,searchInput:u,totalRecords:a.totalRecords,handleSortingPagination:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i(e.getRequestPayload(),t||!1,a)},onResetPagination:function(){},isInPullToRefresh:o,isNetworkAvailable:c,showAlert:l}):null})));var Oc=function(e){Object(ct.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(ut.a)(e);if(t()){var n=Object(ut.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(lt.a)(this,a)}}(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"renderSwitch",value:function(e){switch(e){case"New":return n.a.createElement(to,{isRecentSearch:this.props.isRecentSearch,searchParams:this.props.searchParams});case"Recent":return n.a.createElement(jo,{onRedirectToTab:this.props.onRedirectToTab});case"Favorite":return n.a.createElement(qo,{onRedirectToTab:this.props.onRedirectToTab});case"results":return n.a.createElement(Sc,null);default:return n.a.createElement(to,null)}}},{key:"render",value:function(){return this.renderSwitch(this.props.section)}}]),a}(r.Component),_c=function(){var e=Object(r.useState)({name:"New",data:{}}),t=Object(f.a)(e,2),a=t[0],i=t[1],s=Object(r.useState)(!1),o=Object(f.a)(s,2),c=o[0],u=o[1],d=Object(r.useState)({}),p=Object(f.a)(d,2),m=p[0],h=p[1];Object(r.useEffect)((function(){"New"!==a&&Object(l.V)("desktop")&&u(!1)}),[a]);return n.a.createElement(l.B,{className:"desktop-page search-page"},n.a.createElement(fc,{title:"Search",getSegment:function(e){i({name:e.detail.value,data:{}})},segments:["New","Recent","Favorite"],activeSegment:a.name}),n.a.createElement(l.l,{className:"ion-padding load-page-content search-page-content"},n.a.createElement(Oc,{onRedirectToTab:function(e,t){i({name:e,data:{}}),Object(l.V)("desktop")&&(u(!0),h(t))},section:a.name,isRecentSearch:c,searchParams:m})))};var Dc=function(e){Object(ct.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(ut.a)(e);if(t()){var n=Object(ut.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(lt.a)(this,a)}}(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"render",value:function(){return n.a.createElement(_c,this.props)}}]),a}(r.Component),Ac=n.a.memo(Dc),kc=(a(253),a(135),a(525),a(526),function(e){var t=e.dropdown,a=t.options,i=t.setFilter,s=t.direction,o=e.isDesktop,c=a.map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{selected:0===t})})),d=Object(r.useState)(!1),p=Object(f.a)(d,2),m=p[0],h=p[1],E=Object(r.useState)(c),g=Object(f.a)(E,2),b=g[0],v=g[1],y=Object(r.useState)([]),S=Object(f.a)(y,2),O=S[0],_=S[1],D=Object(r.useState)(s),A=Object(f.a)(D,2),k=A[0],T=A[1],N=b.filter((function(e){return e.selected})),R=N.map((function(e){return"".concat(e.name).concat(1===N.length&&"Any"!==e.name?"s":"")})).join(" + "),I=N.map((function(e){return e.name})).join(" + "),C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k;i({filter:{selected:O,direction:e}})};return n.a.createElement(l.H,{class:"list-items-header"},o?null:n.a.createElement(l.k,null,n.a.createElement("span",{className:"list-items-title"},"List of ",R)),n.a.createElement(l.k,null,n.a.createElement("div",{className:"list-items-filter"},o?n.a.createElement(n.a.Fragment,null,n.a.createElement(l.q,{src:"assets/icon/add.svg",class:"manage_add_icon"}),n.a.createElement(l.N,{class:"add-driver-text",onClick:function(){return e.addPage()}},"Add Driver")," "):null,n.a.createElement(l.N,{"item-left":!0,class:"filter-dropdown",onClick:function(){_(b),h(!0)}},I,n.a.createElement("i",{className:"down"})),n.a.createElement(l.N,{class:"filter-sort",onClick:function(){var e="asc"===k?"desc":"asc";T(e),C(e)}},n.a.createElement(l.q,{src:"assets/icon/sort icon".concat("asc"===k?" downward":"",".svg")}))),n.a.createElement(l.A,{"show-backdrop":!0,"backdrop-dismiss":!1,isOpen:m,cssClass:"dropdown-modal",onDidDismiss:function(){h(!1)}},n.a.createElement("div",{className:"search_options"},n.a.createElement(l.H,{class:"dropdown-row dropdown-heading"},n.a.createElement(l.k,null,n.a.createElement("p",{className:"sortBy_text"},"Filter By"))),O.map((function(e,t){return n.a.createElement(l.H,{className:"dropdown-row filter-option",key:t,onClick:function(){return function(e){var t=O.map((function(t){return Object(u.a)(Object(u.a)({},t),{},{selected:t.name===e.name&&!t.selected})}));t.find((function(e){return e.selected}))&&_(t)}(e)}},n.a.createElement(l.k,{className:e.selected?"checked":""},e.name," ",n.a.createElement("i",{className:"check"})))})),n.a.createElement(l.H,{class:"dropdown-handler"},n.a.createElement(l.k,{size:"1"}),n.a.createElement(l.k,{size:"5",className:"dropdown_cancel",onClick:function(){return h(!1)}},n.a.createElement("span",null,"Cancel")),n.a.createElement(l.k,{size:"5",className:"dropdown_cancel dropdown_ok",onClick:function(){C(),v(O),h(!1)}},n.a.createElement("span",null,"OK")),n.a.createElement(l.k,{size:"1"}))))))}),Tc=function(e){var t=e.isDesktop,a=e.dropdown,r=e.children,i=e.addPage;return n.a.createElement(l.l,{class:"".concat(t?"mange-user-desktop":"custom-padding")},n.a.createElement(kc,{dropdown:a,addPage:i,isDesktop:t}),r)},Nc=function(e){var t=e.user,a=e.onUserClick,r=e.isDesktop;return n.a.createElement(l.g,{class:"ion-user-content",onClick:function(){return a(t)}},n.a.createElement(l.h,{className:"card-content ion-user-card"},n.a.createElement(l.o,{class:"ion-user-grid"},n.a.createElement(l.H,null,n.a.createElement(l.k,{className:"ion-user-col",size:r?"1":"4"},n.a.createElement(pc,{firstName:t.firstName,lastName:t.lastName,normal:!0})),n.a.createElement(l.k,{className:"ion-user-col",size:r?"11":"8"},n.a.createElement("div",{className:"ion-user-content"},n.a.createElement("h4",{className:"ion-user-title"},t.firstName," ",t.lastName),n.a.createElement("div",{className:"ion-user-info"},n.a.createElement("label",null,"Email"),n.a.createElement("span",null,t.email)),n.a.createElement("div",{className:"ion-user-info"},n.a.createElement("label",null,"Mobile No"),n.a.createElement("span",null,t.mobileNumber))))))))},Rc=function(e){return n.a.createElement("div",{className:"No-Recommended"},n.a.createElement("img",{alt:"logo",src:"assets/icon/no-user.svg",width:"79.01px",height:"84.59px"}),n.a.createElement("p",{className:"recommended-Error"},"We don't have any users right now. ",n.a.createElement("br",null)," Please click on ",n.a.createElement("b",null,"Add")," to add new user."),n.a.createElement("div",{className:"SearchLoadBtn"},n.a.createElement(l.e,{expand:"full",shape:"round",onClick:e.addPage,size:"large",type:"submit",class:"RecommendedSearch"},n.a.createElement(l.r,{src:"assets/icon/add.svg",class:"load-search"}),e.constantButton)))},Ic=function(){var e=Object(g.a)(E.a.mark((function e(t,a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length>2)){e.next=3;break}return e.next=3,ar.details.searchAddress(t,(function(e){var t=e.map((function(e){return{addressLine1:e.address.streetName||"",addressLine2:"",addressType:"",city:e.address.municipality||"",state:e.address.countrySubdivision||"",postalCode:e.address.postalCode||""}}));a(t)}));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Cc=function(e){return e&&e.replace(/[^a-zA-Z0-9 ]*/g,"")||""},jc=function(e){return/^([0-9]{10})$/.test(e)},wc=function(e){return!/[~`!#@$%\^&*+=\-\[\]\\';.,/(){}|\\"\_:<>\?]/g.test(e)},Lc=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a="".concat(e).replace(/\D/g,""),r=a.match(/^(1|91|52)?(\d{3})(\d{3})(\d{4})$/);if(r){var n=r[1]?"+".concat(r[1]):"";return t?[n," ",r[2],".",r[3],".",r[4]].join(""):[r[2],".",r[3],".",r[4]].join("")}return null},Pc=function(e){return e&&e.replace(/[ ,.]/g,"")},xc=[{value:"carrierGuest",name:"Guest"},{value:"carrierDriver",name:"Driver"},{value:"carrierDispatcher",name:"Dispatcher"},{value:"carrierAdmin",name:"Admin"}],Mc=[{label:"Driver",value:De.carrierDriver,desc:"Carry and update the status of loads.",selected:!0},{label:"Dispatcher",value:De.carrierDispatcher,desc:"Search, book, carry and update the status of loads.",selected:!1}],Uc=[{label:"Park Location Address (Optional)",name:"addressDTOs",placeholder:"Type Your Park Location Address",validate:Cc},{label:"Tractor No (Optional)",name:"tractorNumber",placeholder:"Type Your Tractor Number",validate:Cc}],Fc=[{label:"First Name",name:"firstName",placeholder:"Type Your First Name",validate:Cc},{label:"Last Name",name:"lastName",placeholder:"Type Your Last Name",validate:Cc},{label:"Mobile Number",name:"mobileNumber",placeholder:"Type Your Mobile Number",validate:function(e){return e&&e.replace(/[^0-9+]*/g,"")||""}}],Vc="Carrier ID",Hc="carrierId",Gc="Carrier Id",Bc="carrierId",qc={userId:null,roles:"",firstName:"",lastName:"",email:"",mobileNumber:"",tractorNumber:"",addressDTOs:{addressLine1:"",addressLine2:"",addressType:"",city:"",state:"",postalCode:""},carrierId:""},zc=function(e){return e.filter((function(e){return e.selected})).map((function(e){return new Et.EnumType(e.value)}))},Yc=function(e){return"".concat(e.addressLine1).concat(e.addressLine2&&", "+e.addressLine2).concat(e.city&&", "+e.city).concat(e.state&&", "+e.state).concat(e.postalCode&&", "+e.postalCode).replace(/(^,)|(,$)/g,"")},Wc=n.a.memo((function(e){var t=e.isPullToRefresh,a=e.getUsersList,i=e.users,s=e.selectedUser,o=e.history,c=e.isNetworkAvailable,d=e.showNetworkAlert,p=e.setFilter,m=e.filters,h=Object(r.useState)(i),E=Object(f.a)(h,2),g=E[0],b=E[1],v={options:[{value:"carrierAny",name:"Any"},{value:"carrierDriver",name:"Driver"},{value:"carrierDispatcher",name:"Dispatcher"},{value:"carrierAdmin",name:"Admin"}],data:i,filterParam:"roles",setFilter:p,direction:m.direction},y=function(){tr.details.getR2FeatureEnable()?_r.show():c?o.push("/app/".concat(e.module,"/ManageUser/Add")):d()},S=function(t){tr.details.getR2FeatureEnable()?_r.show():c?(s({userProfile:t}),o.push("/app/".concat(e.module,"/ManageUser/Profile"))):d()};Object(r.useEffect)((function(){var e=function(){var e=v.filterParam,t=m.selected,a=m.direction,r=t.filter((function(e){return e.selected}));if(0===r.length||"Any"===r[0].name)return Object(Fe.a)(i).sort((function(e,t){return e&&e.updatedTimeStamp&&t&&t.updatedTimeStamp&&new Date(e.updatedTimeStamp).getTime()>new Date(t&&t.updatedTimeStamp).getTime()?"asc"===a?1:-1:"asc"===a?-1:1}));var n=i.filter((function(t){return r.filter((function(a){return-1!==t[e].findIndex((function(e){return e===a.value}))})).length>0}));return"asc"===a?n.reverse():n}().map((function(e){return Object(u.a)(Object(u.a)({},e),{},{defaultMobileNumber:e.mobileNumber,mobileNumber:Lc(e.mobileNumber)})}));b(e)}),[i]);var O=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return n.a.createElement(Tc,{addPage:y,title:"List of users",dropdown:v,isDesktop:e},n.a.createElement(so,{status:t,onPullToRefresh:a}),n.a.createElement(l.H,{className:e?"manage-users-list-desktop":""},n.a.createElement(l.k,{size:"12"},g.map((function(t){return n.a.createElement(Nc,{key:t.userPrincipalName,user:t,isDesktop:e,onUserClick:S})})),g.length>0?n.a.createElement("div",{className:"end-of-list"},"End of list"):n.a.createElement(Rc,{message:"",addPage:y,constantButton:"Add"}))))};return Object(l.V)("desktop")?O(!0):n.a.createElement(l.B,{className:"manage-userslist-page"},n.a.createElement(fc,{title:"Manage Users",backUrl:"/app/"+e.module,History:e.history,addPage:y}),O())})),Zc=function(e){var t=Vr(),a=e.selectedUser,i=e.history,s=e.isNetworkAvailable,o=e.showNetworkAlert,c=(e.isEditable,e.isSelf),u=void 0!==c&&c,d=Object(r.useState)(!1),p=Object(f.a)(d,2),m=p[0],h=p[1],E={title:"Redirected to external site",message:"You will be redirect to the secure site to change your password.",buttons:[{label:Ne.CANCEL,callback:function(){h(!1)}},{label:Ne.OK,callback:function(){t.changePassword(),h(!1)}}]};Object(r.useEffect)((function(){Rt(ue.SV_VIEW_MY_PROFILE,{screen:de.MY_PROFILE,carrierId:a.carrierId})}),[]);var g=a&&a.roles&&a.roles.map((function(e){var t=xc.find((function(t){return t.value===e}));return t?t.name:""})).join(" and ")||"",b=a?[{label:"First Name",value:a.firstName},{label:"Last Name",value:a.lastName},{label:"Email Address",value:a.email},{label:"Mobile Number",value:Lc(a.mobileNumber)},{label:"Role(s)",value:g},{label:"Carrier ID",value:a.carrierId||"NA"}]:[];return a?n.a.createElement(l.B,{className:"manage-userslist-page"},n.a.createElement(fc,{title:u?"My Profile":"User Profile",backUrl:"/app/"+e.module,History:e.history,editData:function(){if(tr.details.getR2FeatureEnable())return _r.show(),!0;s?i.push("/app/"+e.module+(u?"/ProfileDetails/edit":"/Profile/edit")):o()}}),n.a.createElement(l.l,{class:"custom-padding"},u?null:n.a.createElement(l.o,null,n.a.createElement(l.H,null,n.a.createElement(l.k,{size:"12"},n.a.createElement("div",{className:"manage-user-profile-header"},n.a.createElement(pc,{firstName:a.firstName,lastName:a.lastName,big:!0}),n.a.createElement("h4",null,a.firstName," ",a.lastName))))),n.a.createElement("div",{className:"manage-users-wrapper"},n.a.createElement(l.y,null,b.map((function(e){return n.a.createElement(l.v,{className:"profile-item",key:e.label},n.a.createElement(l.w,{className:"profile-label",position:"floating",mode:"ios"},e.label),n.a.createElement(l.u,{value:e.value,readonly:!0,type:"text",class:"profile-input"}))})),u?n.a.createElement(l.v,{className:"changePwd",key:"change-pwd","data-test":"change-pwd",lines:"none",onClick:function(){s?h(!0):o()}},n.a.createElement(l.N,{className:"change-pwd"},"Change Password"),n.a.createElement("img",{slot:"end",alt:"logo",src:"/assets/icon/more-arrow.svg",className:"moresideimg"})):null))),n.a.createElement(Oo,Object.assign({},E,{isOpen:m}))):null},Kc=function(e){return n.a.createElement(l.B,{className:"manage-user-card-content ion-page desktop-page my-load-desktop-page"},n.a.createElement(l.l,{class:"mange-user-desktop"},n.a.createElement(l.o,{className:"addDriver-desktop-header"},e.title),n.a.createElement(l.y,{className:"manage-userlist-form"},n.a.createElement(l.H,null,n.a.createElement(l.k,null,n.a.createElement(l.v,{className:"role-info","data-test":"select-role",onClick:function(){return e.setShowRoleOptions(!e.showRoleOptions)}},n.a.createElement(l.w,{position:"floating",mode:"ios"},"Role"),n.a.createElement(l.u,{value:e.isUserRoleAdmin?"Admin".concat(e.roleTitle.length>0?", ".concat(e.roleTitle):""):e.roleTitle||"Guest",readonly:!0,type:"text","data-test":"role-title",class:""}),n.a.createElement(l.q,{src:"/assets/icon/grid-down-arrow.svg"})),n.a.createElement(l.N,{class:"role-desc"},e.roleDesc),e.roleSelection&&e.showRoleOptions?n.a.createElement(l.y,{"data-test":"roles-list",class:"roles-list-grid"},e.roleSelection.map((function(t,a){return n.a.createElement(l.v,{key:"role_".concat(a),"data-test":"role-list-item",onClick:function(){return e.handleRoleSelection(t)}},n.a.createElement("i",{className:"role-check-icon ".concat(t.selected?"checked":"")}),n.a.createElement("span",{className:"role-list-label"},t.label))}))):null),n.a.createElement(l.k,null,n.a.createElement(l.v,{className:e.emailAddressError?"error":""},n.a.createElement(l.w,{position:"floating",mode:"ios"},"Email Address"),n.a.createElement(l.u,{value:e.formFields.email,placeholder:"Type Your Email Address",type:"email",readonly:e.isUserNotExist,name:"emailAddress",onIonChange:e.handleChange,pattern:"/^[a-zA-Z0-9]+@[a-zA-Z0-9]+\\.[A-Za-z]+$/"})),e.emailAddressError?n.a.createElement(l.N,{"data-test":"email-field-error",class:"field-error"},oe):null))),e.isUserNotExist||e.isEdit?n.a.createElement(n.a.Fragment,null,n.a.createElement(l.y,{className:"manage-userlist-form"},n.a.createElement(l.H,null,n.a.createElement(l.k,null,n.a.createElement(l.v,null,n.a.createElement(l.w,{position:"floating",mode:"ios"},"First Name"),n.a.createElement(l.u,{type:"text",placeholder:"Enter Your First Name",onIonChange:e.handleChange,value:e.formFields.firstName,name:"firstName"})),e.formErrors&&e.formErrors.firstName?n.a.createElement(l.N,{class:"field-error","data-test":"firstName-field-error"},e.formErrors.firstName):null,n.a.createElement(l.v,null,n.a.createElement(l.w,{position:"floating",mode:"ios"},"Mobile Number"),n.a.createElement(l.u,{value:e.formFields.mobileNumber,name:"mobileNumber","data-test":"mobile-field",placeholder:"Type your mobile numbers",pattern:"[0-9a-zA-Z]",type:"text",onFocus:function(){return e.setFormFields(Object(u.a)(Object(u.a)({},e.formFields),{},{mobileNumber:e.formFields.mobileNumber&&e.removeSpecial(e.formFields.mobileNumber)}))},onIonBlur:e.handleChange,maxlength:10})),e.formErrors&&e.formErrors.mobileNumber?n.a.createElement(l.N,{class:"field-error","data-test":"mobile-field-error"},e.formErrors.mobileNumber):null,e.isDriverSelected&&n.a.createElement(n.a.Fragment,null,n.a.createElement(l.v,null,n.a.createElement(l.w,{position:"floating",mode:"ios"},"Tractor No (Optional)"),n.a.createElement(l.u,{type:"text",placeholder:"Type Your Tractor Number",name:"tractorNumber","data-test":"tractor-field",onIonChange:e.handleChange,value:e.formFields.tractorNumber})),e.formErrors&&e.formErrors.tractorNumber?n.a.createElement(l.N,{class:"field-error","data-test":"tractorNumber-field-error"},e.formErrors.tractorNumber):null)),n.a.createElement(l.k,null,n.a.createElement(l.v,null,n.a.createElement(l.w,{position:"floating",mode:"ios"},"Last Name"),n.a.createElement(l.u,{type:"text",name:"lastName",placeholder:"Enter Your Last Name",onIonChange:e.handleChange,value:e.formFields.lastName})),e.formErrors&&e.formErrors.lastName?n.a.createElement(l.N,{class:"field-error","data-test":"lastName-field-error"},e.formErrors.lastName):null,e.isDriverSelected&&n.a.createElement(n.a.Fragment,null,n.a.createElement(l.v,null,n.a.createElement(l.w,{position:"floating",mode:"ios"},"Park Location Address (Optional)"),n.a.createElement(l.u,{type:"text",name:"addressDTOs",placeholder:"Type Your Park Location Address",onIonChange:e.handleChange,"data-test":"address-field",onIonFocus:function(){e.setAddressEdit(!0)},value:e.isAddressEdit?e.address:e.getAddressValue(e.formFields.addressDTOs)},n.a.createElement(l.r,{slot:"end",alt:"logo",src:"/assets/icon/search_icon.svg",className:"search-input-icon"}))),e.showAddressList?n.a.createElement(l.o,{class:"suggestions","data-test":"address-suggestions"},e.addressList.map((function(t,a){return n.a.createElement(l.H,{key:"address".concat(a),className:"suggestions_item","data-test":"suggestions_item",onClick:function(){return e.handleAddressSelection(t)}},n.a.createElement(l.k,{class:"suggestions_list"},e.getAddressValue(t)))}))):null),n.a.createElement(l.v,null,n.a.createElement(l.w,{position:"floating",mode:"ios"},"Carrier ID:"),n.a.createElement(l.u,{type:"text",name:"carrierId",value:e.formFields.carrierId,readonly:!0}),e.isEdit?n.a.createElement("img",{slot:"end",alt:"delink",src:"/assets/icon/delink.svg",className:"delink","data-test":"delink-btn",onClick:e.handleDelinkClick}):null)))),n.a.createElement(l.H,{className:"manage-userButtons-row"},n.a.createElement(l.k,{className:"starRating-col"},n.a.createElement(l.e,{"data-kind":"primary",type:"submit","data-test":"back-btn",class:"manage-user_btn",onClick:function(){return e.handleBackButton("/app/manage")}},"Back")),n.a.createElement(l.k,null,n.a.createElement(l.e,{"data-kind":"primary",type:"submit","data-test":"submit-btn",class:"manage-user_btn btn_save",onClick:function(){return e.handleSubmit()}},"Save")))):n.a.createElement(l.H,{className:"manage-userButtons-row"},n.a.createElement(l.k,{className:"starRating-col"},n.a.createElement(l.e,{"data-kind":"primary",type:"submit","data-test":"validate-btn",class:"manage-user_btn",onClick:function(){return e.validateNow()}},"Validate Now")))),e.alertProps?n.a.createElement(Oo,e.alertProps):null)},Jc=function(e){var t=Vr(),a=Object(r.useState)(!1),i=Object(f.a)(a,2),s=i[0],o=i[1],c=e.userDetails.carrierId,d=e.selectedUser,p=Object(r.useState)(null),m=Object(f.a)(p,2),h=m[0],E=m[1],g=d?[{label:"First Name",value:d.firstName},{label:"Last Name",value:d.lastName},{label:"Email Address",value:d.email},{label:"Mobile Number",value:Lc(d.mobileNumber)},{label:"Role(s)",value:e.isUserRoleAdmin?"Admin".concat(e.roleTitle.length>0?", ".concat(e.roleTitle):""):e.roleTitle||"Guest"},{label:"Carrier ID",value:d.carrierId||"NA"}]:[];return n.a.createElement(l.l,{class:"custom-padding my-profile-desktop"},s?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"manage-users-wrapper"},n.a.createElement(l.y,null,n.a.createElement(l.v,{className:"profile-item role-info","data-test":"select-role",onClick:function(){return e.setShowRoleOptions(!e.showRoleOptions)}},n.a.createElement(l.w,{position:"floating",mode:"ios"},"Role"),n.a.createElement(l.u,{value:e.isUserRoleAdmin?"Admin".concat(e.roleTitle.length>0?", ".concat(e.roleTitle):""):e.roleTitle||"Guest",readonly:!0,type:"text",class:""}),e.isUserRoleAdmin?n.a.createElement(l.q,{src:"/assets/icon/grid-down-arrow.svg",className:"role-icon"}):null,e.isUserRoleAdmin?n.a.createElement(l.N,{class:"role-desc"},e.roleDesc):null),e.isUserRoleAdmin&&e.roleSelection&&e.showRoleOptions?n.a.createElement(l.y,{"data-test":"roles-list",class:"roles-list-grid static"},e.roleSelection.map((function(t,a){return n.a.createElement(l.v,{key:"role_".concat(a),"data-test":"role-list-item",onClick:function(){return e.handleRoleSelection(t)}},n.a.createElement("i",{className:"role-check-icon ".concat(t.selected?"checked":"")}),n.a.createElement("span",{className:"role-list-label"},t.label))}))):null),n.a.createElement(l.y,null,Fc.map((function(t){return n.a.createElement(n.a.Fragment,{key:"def_".concat(t.label)},n.a.createElement(l.v,{className:e.formErrors&&e.formErrors[t.name]?"profile-item error":"profile-item"},n.a.createElement(l.w,{position:"floating",mode:"ios"},t.label),"mobileNumber"===t.name?n.a.createElement(l.u,{value:e.formFields[t.name],name:t.name,placeholder:t.placeholder,pattern:"[0-9a-zA-Z]",type:"text",maxlength:10,onFocus:function(){return e.setFormFields(Object(u.a)(Object(u.a)({},e.formFields),{},{mobileNumber:e.formFields.mobileNumber&&Pc(e.formFields.mobileNumber)}))},onIonBlur:e.handleChange,"data-test":"".concat(t.name,"-field"),className:"".concat(t.className?t.className:"")}):n.a.createElement(l.u,{value:e.formFields[t.name],name:t.name,placeholder:t.placeholder,pattern:"[0-9a-zA-Z]",type:"text","data-test":"".concat(t.name,"-field"),onIonChange:e.handleChange,className:"".concat(t.className?t.className:"")}),e.formErrors&&e.formErrors[t.name]?n.a.createElement(l.N,{class:"field-error"},e.formErrors[t.name]):null))})),n.a.createElement(l.v,{className:"profile-item"},n.a.createElement(l.w,{position:"floating",mode:"ios"},"Email Address"),n.a.createElement(l.u,{value:e.formFields.email,placeholder:"Type Your Email Address",type:"email",readonly:!0,name:"emailAddress"})),e.isDriverSelected&&Uc.map((function(t){return n.a.createElement(n.a.Fragment,{key:t.label},n.a.createElement(l.v,{className:"profile-item"},n.a.createElement(l.w,{position:"floating",mode:"ios"},t.label),n.a.createElement(l.u,{value:"addressDTOs"===t.name?e.isAddressEdit?e.address:Yc(e.formFields[t.name]):e.formFields[t.name],name:t.name,placeholder:t.placeholder,type:"text",pattern:"[0-9a-zA-Z]",onIonChange:e.handleChange,"data-test":"".concat(t.name,"-field"),onIonFocus:function(){"addressDTOs"===t.name&&e.setAddressEdit(!0)},className:"".concat(t.className?t.className:"")},"addressDTOs"===t.name?n.a.createElement(l.r,{slot:"end",alt:"logo",src:"/assets/icon/search_icon.svg",className:"search-input-icon"}):null),e.formErrors&&e.formErrors[t.name]?n.a.createElement(l.N,{class:"field-error"},e.formErrors[t.name]):null,"addressDTOs"===t.name&&e.showAddressList?n.a.createElement(l.o,{class:"suggestions"},e.addressList.map((function(t,a){return n.a.createElement(l.H,{key:"addr".concat(a),className:"suggestions_item",onClick:function(){return e.handleAddressSelection(t)}},n.a.createElement(l.k,{class:"suggestions_list"},Yc(t)))}))):null))})),n.a.createElement(l.v,{className:"profile-item"},n.a.createElement(l.w,{position:"floating",mode:"ios"},Vc),n.a.createElement(l.u,{value:c||"-",name:Hc,placeholder:Gc,type:"text",readonly:!0,className:"".concat(Bc||"")}),d.carrierId?n.a.createElement("img",{slot:"end",alt:"delink",src:"/assets/icon/delink.svg",className:"delink",onClick:e.handleDelinkClick}):null))),n.a.createElement("div",{className:"manage-user-buttons"},n.a.createElement(l.e,{"data-kind":"primary",type:"submit","data-test":"back-btn",class:"load-btn",onClick:function(){return function(){if(!e.isFormEdit)return o(!1),!0;E({isOpen:!0,title:ie,message:se,buttons:[{label:"Cancel",callback:function(){E(null)}},{label:"Ok",callback:function(){e.resetData(),o(!1),E(null)}}]})}()}},"Back"),n.a.createElement(l.e,{"data-kind":"primary",type:"submit","data-test":"submit-btn",class:"",className:e.isFormValid?"load-btn btn_save ":"load-btn invalid-btn",onClick:function(){o(!1),e.handleSubmit()}},"Save"))):n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"manage-users-wrapper"},n.a.createElement(l.y,null,g.map((function(e){return n.a.createElement(l.v,{className:"profile-item",key:e.label},n.a.createElement(l.w,{className:"profile-label",position:"floating",mode:"ios"},e.label),n.a.createElement(l.u,{value:e.value,readonly:!0,type:"text",class:"profile-input"}))})),n.a.createElement(l.v,{className:" profile-item changePwd",key:"change-pwd",lines:"none",onClick:function(){return function(){if(!e.isNetworkAvailable)return e.showNetworkAlert(),!0;E({isOpen:!0,title:"Redirected to external site",message:"You will be redirect to the secure site to change your password.",buttons:[{label:Ne.CANCEL,callback:function(){E(null)}},{label:Ne.OK,callback:function(){t.changePassword(),E(null)}}]})}()}},n.a.createElement(l.N,{className:"change-pwd"},"Change Password"),n.a.createElement("img",{slot:"end",alt:"logo",src:"/assets/icon/more-arrow.svg",className:"moresideimg"})))),n.a.createElement("div",{className:"manage-user-buttons"},n.a.createElement(l.e,{class:"load-btn","data-test":"edit-btn",onClick:function(){o(!0)}},"Edit"))),h?n.a.createElement(Oo,h):null)},Qc=function(e){var t=e.userDetails,a=t.carrierId,i=t.userPrincipalName,s=e.isSelfDesktop,o=void 0!==s&&s,c=e.isSelf,d=void 0!==c&&c,p=e.selectedUser,m=void 0===p?null:p,h=e.validateUserDetails,E=void 0===h?null:h,g=e.isUserValid,b=void 0===g?null:g,v=e.resetValidateUser,y=void 0===v?null:v,S=e.history,O=e.isNetworkAvailable,_=e.showNetworkAlert,D=Object(r.useState)(Mc),A=Object(f.a)(D,2),k=A[0],T=A[1],N=Object(r.useState)(!1),R=Object(f.a)(N,2),I=R[0],C=R[1],j=Object(r.useState)(!1),w=Object(f.a)(j,2),L=w[0],P=w[1],x=Object(r.useState)(!1),M=Object(f.a)(x,2),U=M[0],F=M[1],V=Object(r.useState)(!0),H=Object(f.a)(V,2),G=H[0],B=H[1],q=Object(r.useState)(null),z=Object(f.a)(q,2),Y=z[0],W=z[1],Z=k.filter((function(e){return e.selected})).map((function(e){return e.label})).join(", "),K=1===k.filter((function(e){return e.selected})).length?k.find((function(e){return e.selected})).desc:k[1].desc,J=Object(r.useState)(Object(u.a)(Object(u.a)({},qc),{},{roles:zc(Mc),carrierId:a})),Q=Object(f.a)(J,2),X=Q[0],$=Q[1],ee=Object(r.useState)([]),te=Object(f.a)(ee,2),ae=te[0],re=te[1],le=Object(r.useState)(!1),ue=Object(f.a)(le,2),de=ue[0],pe=ue[1],me=Object(r.useState)(!0),fe=Object(f.a)(me,2),he=fe[0],Ee=fe[1],ge=Object(r.useState)({firstName:"",lastName:"",mobileNumber:"",tractorNumber:!1}),ve=Object(f.a)(ge,2),ye=ve[0],Se=ve[1],Oe=Object(r.useState)(!1),_e=Object(f.a)(Oe,2),De=_e[0],Ae=_e[1],ke=Object(r.useState)(!1),Te=Object(f.a)(ke,2),Ne=Te[0],Re=Te[1],Ie=Object(r.useState)(""),Ce=Object(f.a)(Ie,2),je=Ce[0],we=Ce[1],Le=Object(r.useState)(!1),Pe=Object(f.a)(Le,2),Me=Pe[0],Ue=Pe[1],Ve=function(e){var t=-1!==m.roles.indexOf("carrierAdmin"),a=m.roles.map((function(e){return new Et.EnumType(e)})),r=zc(e);return t?[new Et.EnumType("carrierAdmin")].concat(Object(Fe.a)(r)):r.length>0?r:a},He=function(e){var t=k.map((function(t){return Object(u.a)(Object(u.a)({},t),{},{selected:t.label===e.label?!t.selected:t.selected})}));if(Me||t.filter((function(e){return e.selected})).length>0){var a=t.find((function(e){return e.selected&&"Driver"===e.label}));B(!!a),T(t);var r=m?Ve(t):zc(t);$(Object(u.a)(Object(u.a)({},X),{},{roles:r})),m&&Ae(!0)}},Ge=function(){T(Mc),W(null),F(!1),we(""),Re(!1),m||(P(!1),Se({firstName:"",lastName:"",mobileNumber:""}),y(),$(Object(u.a)(Object(u.a)({},qc),{},{roles:zc(Mc),carrierId:a})))},Be=function(e){return{userId:e.userPrincipalName,roles:[],firstName:e.firstName,lastName:e.lastName,email:e.email,mobileNumber:Lc(e.defaultMobileNumber,!0),tractorNumber:e.tractorNumber,addressDTOs:e.address&&e.address.length>0?e.address[0]:{addressLine1:"",addressLine2:"",addressType:"",city:"",state:"",postalCode:""},carrierId:e.carrierId}};Object(r.useEffect)((function(){null!==b&&(P(!b),qe(b))}),[b]),Object(r.useEffect)((function(){if(m){var e=-1!==m.roles.indexOf("carrierAdmin"),t=Mc.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{selected:-1!==m.roles.indexOf(e.value.toString())})})),a=t.find((function(e){return e.selected&&"Driver"===e.label}));Ue(e),T(t),B(!!a),Ee(!1);m.roles.map((function(e){return new Et.EnumType(e)}));var r=Be(m);$(Object(u.a)(Object(u.a)({},r),{},{roles:Ve(t)})),Object.keys(ye).forEach((function(e){ye[e]=!(r[e]&&""!=r[e]&&"tractorNumber"!==e||"tractorNumber"===e)&&""})),Se(ye),Ae(!1)}}),[m]);var qe=function(t){W({isOpen:t,title:"Send Request",message:ne.replace("{{EMAIL}}",E&&E.userPrincipalName).replace("{{NAME}}",E&&E.firstName),buttons:[{label:"No",callback:function(){$(Object(u.a)(Object(u.a)({},X),{},{email:""})),W(null),e.resetValidateUser(),S.push("/app/manage/ManageUser")}},{label:"Yes",callback:function(){!function(){if(!O)return _(),!0;var t={requester:{userId:i,carrierId:a,isAdmin:!0},userId:E.userPrincipalName,currentCarrierId:E.carrierId,requestedCarrierId:a,roles:X.roles},r={name:E&&E.firstName,params:t};e.handleTransfer(r,Ge,a===E.carrierId)}()}}]})},ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return S.push(e||(d?"/app/manage/ProfileDetails":m?"/app/manage/ManageUser/Profile":"/app/manage/ManageUser")),!0},Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!De)return ze(e);W({isOpen:!0,title:ie,message:se,buttons:[{label:"Cancel",callback:function(){W(null)}},{label:"Ok",callback:function(){Ge(),Ae(!1),ze()}}]})},We=function(e){re(e),pe(!0)},Ze=Object(r.useCallback)(Lt.a.debounce((function(e){return Ic(e,We)}),500),[]),Ke=function(e){var t=e.target,a=t.name,r=t.value;switch("emailAddress"!==a&&(!function(e,t){var a=Object(u.a)({},ye);switch(e){case"firstName":case"lastName":var r=""!==t&&wc(t);a=Object(u.a)(Object(u.a)({},ye),{},Object(Yr.a)({},e,!r&&ce[e]));break;case"tractorNumber":var n=""===t||""!==t&&wc(t);a=Object(u.a)(Object(u.a)({},ye),{},Object(Yr.a)({},e,!n&&ce[e]));break;case"mobileNumber":var i=jc(t);a=Object(u.a)(Object(u.a)({},ye),{},Object(Yr.a)({},e,!i&&ce[e]))}var s=Object.keys(a).filter((function(e){return!1!==a[e]}));Re(0===s.length),Se(a)}(a,r),Ae(!0)),a){case"emailAddress":C(!1),$(Object(u.a)(Object(u.a)({},X),{},{email:r}));break;case"mobileNumber":$(Object(u.a)(Object(u.a)({},X),{},{mobileNumber:jc(r)?Lc(r,!0):r}));break;case"addressDTOs":he&&(Ze(r),we(r));break;default:$(Object(u.a)(Object(u.a)({},X),{},Object(Yr.a)({},a,r)))}},Je=function(e){Ee(!1),$(Object(u.a)(Object(u.a)({},X),{},{addressDTOs:e})),Re(!1),pe(!1),re([])},Qe=function(){if(!O)return _(),!0;var t=X.email;if(U&&F(!1),/^[a-zA-Z0-9.]+@[a-zA-Z0-9]+\.[A-Za-z]+$/.test(t)){var a=(new Er).validateUser(t);return e.validateUserAction({query:a,callback:function(){return _r.show(be)}}),!0}C(!0)},Xe=function(){if(!O)return _(),!0;if(function(){var e=Object.keys(ye).filter((function(e){return!1!==ye[e]})),t=Object.keys(ye).filter((function(e){return""===X[e]&&"tractorNumber"!==e}));if(e.length>0||t.length>0){var a=ye;return e.forEach((function(e){a[e]=ce[e]})),t.forEach((function(e){a[e]=ce[e]})),Se(a),$(Object(u.a)({},X)),!0}return!1}())return!0;var t={requester:{userId:i,carrierId:a,isAdmin:!0},userDetails:Object(u.a)(Object(u.a)({},X),{},{mobileNumber:Pc(X.mobileNumber)})};e.handleSubmit(t,Ge)},$e=function(){if(!O)return _(),!0;W({isOpen:!0,title:"Delink User account",message:'<span class="sub-heading">Are you sure you want to delink the user account?</span> <br />This process can\'t be undone.',buttons:[{label:"No",callback:function(){return W(null)}},{label:"Yes",callback:function(){var t=Be(m),r={requester:{userId:i,carrierId:a,isAdmin:!0},userDetails:Object(u.a)(Object(u.a)({},t),{},{roles:[new Et.EnumType("carrierGuest")],mobileNumber:t.mobileNumber&&Pc(t.mobileNumber),carrierId:""})};W(null),e.handleDelink(r)}}]})};return n.a.createElement(n.a.Fragment,null,o?n.a.createElement(Jc,Object.assign({},e,{title:m?d?"Edit Profile":"Edit User":xe,isEdit:!!m,isUserRoleAdmin:Me,handleBackButton:Ye,handleRoleSelection:He,validateNow:Qe,emailAddressError:I,isUserNotExist:L,isFormEdit:De,roleTitle:Z,roleDesc:K,roleSelection:k,showRoleOptions:U,setShowRoleOptions:F,formFields:X,formErrors:ye,setFormFields:$,handleChange:Ke,isDriverSelected:G,alertProps:Y,setAddressEdit:Ee,showAddressList:de,addressList:ae,handleAddressSelection:Je,isAddressEdit:he,address:je,removeSpecial:Pc,getAddressValue:Yc,handleSubmit:Xe,handleDelinkClick:$e,resetData:Ge})):Object(l.V)("desktop")?n.a.createElement(Kc,Object.assign({},e,{title:m?d?"Edit Profile":"Edit User":xe,isEdit:!!m,isUserRoleAdmin:Me,handleBackButton:Ye,handleRoleSelection:He,validateNow:Qe,emailAddressError:I,isUserNotExist:L,roleTitle:Z,roleDesc:K,roleSelection:k,showRoleOptions:U,setShowRoleOptions:F,formFields:X,formErrors:ye,setFormFields:$,handleChange:Ke,isDriverSelected:G,alertProps:Y,setAddressEdit:Ee,showAddressList:de,addressList:ae,handleAddressSelection:Je,isAddressEdit:he,address:je,removeSpecial:Pc,getAddressValue:Yc,handleSubmit:Xe,handleDelinkClick:$e})):n.a.createElement(l.B,{className:"manage-userslist-page"},n.a.createElement(fc,{title:m?d?"Edit Profile":"Edit User":xe,customBackUrl:Ye,History:e.history}),n.a.createElement(l.l,{class:"ion-padding  custom-padding"},n.a.createElement(l.l,{class:"ion-padding  custom-padding"},n.a.createElement("div",{className:"manage-users-formWrapper"},d?null:n.a.createElement(l.y,{class:"manage-userslist-form"},n.a.createElement(l.v,{className:"role-info","data-test":"select-role",onClick:function(){return F(!U)}},n.a.createElement(l.w,{position:"floating",mode:"ios"},"Role"),n.a.createElement(l.u,{value:Me?"Admin".concat(Z.length>0?", ".concat(Z):""):Z||"Guest",readonly:!0,type:"text",class:""}),n.a.createElement(l.q,{src:"/assets/icon/grid-down-arrow.svg"})),n.a.createElement(l.N,{class:"role-desc"},K),k&&U?n.a.createElement(l.y,{"data-test":"roles-list",class:"roles-list-grid static"},k.map((function(e,t){return n.a.createElement(l.v,{key:"role_".concat(t),"data-test":"role-list-item",onClick:function(){return He(e)}},n.a.createElement("i",{className:"role-check-icon ".concat(e.selected?"checked":"")}),n.a.createElement("span",{className:"role-list-label"},e.label))}))):null,m?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(l.v,{className:I?"email-field error":"email-field "},n.a.createElement(l.w,{position:"floating",mode:"ios"},"Email Address"),n.a.createElement(l.u,{value:X.email,placeholder:"Type Your Email Address",type:"email",readonly:L,name:"emailAddress",onIonChange:Ke,"data-test":"email-field",pattern:"/^[a-zA-Z0-9]+@[a-zA-Z0-9]+\\.[A-Za-z]+$/"})),I?n.a.createElement(l.N,{class:"field-error","data-test":"email-field-error"},oe):null,L?null:n.a.createElement(l.v,{className:"validate-btn-wrapper"},n.a.createElement(l.e,{className:"validate-btn","data-test":"validate-btn",onClick:Qe},"Validate now")))),L||m?n.a.createElement(l.y,{class:"manage-userslist-form"},Fc.map((function(e){return n.a.createElement(n.a.Fragment,{key:"def_".concat(e.label)},n.a.createElement(l.v,{className:ye&&ye[e.name]?"error":""},n.a.createElement(l.w,{position:"floating",mode:"ios"},e.label),"mobileNumber"===e.name?n.a.createElement(l.u,{value:X[e.name],name:e.name,placeholder:e.placeholder,pattern:"[0-9a-zA-Z]",type:"text",maxlength:10,onFocus:function(){return $(Object(u.a)(Object(u.a)({},X),{},{mobileNumber:X.mobileNumber&&Pc(X.mobileNumber)}))},onIonBlur:Ke,"data-test":"".concat(e.name,"-field"),className:"".concat(e.className?e.className:"")}):n.a.createElement(l.u,{value:X[e.name],name:e.name,placeholder:e.placeholder,pattern:"[0-9a-zA-Z]",type:"text","data-test":"".concat(e.name,"-field"),onIonChange:Ke,className:"".concat(e.className?e.className:"")})),ye&&ye[e.name]?n.a.createElement(l.N,{class:"field-error"},ye[e.name]):null)})),m?n.a.createElement(n.a.Fragment,null,n.a.createElement(l.v,null,n.a.createElement(l.w,{position:"floating",mode:"ios"},"Email Address"),n.a.createElement(l.u,{value:X.email,placeholder:"Type Your Email Address",type:"email",readonly:!0,name:"emailAddress","data-test":"email-field"})),d?n.a.createElement(n.a.Fragment,null,n.a.createElement(l.v,{className:"role-info","data-test":"select-role",onClick:function(){return F(!U)}},n.a.createElement(l.w,{position:"floating",mode:"ios"},"Role"),n.a.createElement(l.u,{value:Me?"Admin".concat(Z.length>0?", ".concat(Z):""):Z||"Guest",readonly:!0,type:"text",class:""}),Me?n.a.createElement(l.q,{src:"/assets/icon/grid-down-arrow.svg"}):null),Me?n.a.createElement(l.N,{class:"role-desc"},K):null,Me&&k&&U?n.a.createElement(l.y,{"data-test":"roles-list",class:"roles-list-grid static"},k.map((function(e,t){return n.a.createElement(l.v,{key:"role_".concat(t),"data-test":"role-list-item",onClick:function(){return He(e)}},n.a.createElement("i",{className:"role-check-icon ".concat(e.selected?"checked":"")}),n.a.createElement("span",{className:"role-list-label"},e.label))}))):null):null):null,G&&Uc.map((function(e){return n.a.createElement(n.a.Fragment,{key:e.label},n.a.createElement(l.v,null,n.a.createElement(l.w,{position:"floating",mode:"ios"},e.label),n.a.createElement(l.u,{value:"addressDTOs"===e.name?he?je:Yc(X[e.name]):X[e.name],name:e.name,placeholder:e.placeholder,type:"text",pattern:"[0-9a-zA-Z]",onIonChange:Ke,"data-test":"".concat(e.name,"-field"),onIonFocus:function(){"addressDTOs"===e.name&&Ee(!0)},className:"".concat(e.className?e.className:"")},"addressDTOs"===e.name?n.a.createElement(l.r,{slot:"end",alt:"logo",src:"/assets/icon/search_icon.svg",className:"search-input-icon"}):null)),ye&&ye[e.name]?n.a.createElement(l.N,{class:"field-error"},ye[e.name]):null,"addressDTOs"===e.name&&de?n.a.createElement(l.o,{class:"suggestions"},ae.map((function(e,t){return n.a.createElement(l.H,{key:"addr".concat(t),className:"suggestions_item",onClick:function(){return Je(e)}},n.a.createElement(l.k,{class:"suggestions_list"},Yc(e)))}))):null)})),n.a.createElement(l.v,null,n.a.createElement(l.w,{position:"floating",mode:"ios"},Vc),n.a.createElement(l.u,{value:a,name:Hc,placeholder:Gc,type:"text",className:"".concat(Bc||""),readonly:!0}),m?n.a.createElement("img",{slot:"end",alt:"delink",src:"/assets/icon/delink.svg",className:"delink","data-test":"delink-btn",onClick:$e}):null)):null)),n.a.createElement(l.n,{class:"manage-userlist-footer"},n.a.createElement(l.e,{expand:"full",onClick:Xe,"data-test":"submit-btn",className:Ne?"":"invalid-btn"}," Save"))),Y?n.a.createElement(Oo,Y):null))},Xc=function(e){return{type:"MANAGE_USER_VALIDATE",payload:e}},$c=function(e){return{type:"MANAGE_USER_TRANSFER",payload:e}},el=function(e){return{type:"MANAGE_USER_TRANSFER_REQUEST",payload:e}},tl=function(e){return{type:"MANAGE_USER_ADD",payload:e}},al=function(e){return{type:"MANAGE_USER_EDIT",payload:e}},rl=function(e){return{type:"MANAGE_USER_REMOVE",payload:e}},nl=function(e){return{type:"MANAGE_CAPACITY_ADD",payload:e}},il="manage/ManageUser",sl=new Er,ol=function(e){e.history.push(Object(l.V)("desktop")?"/app/manage":"/app/".concat(il))},cl=function(e){return function(t,a){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=t.name,i=t.params;if(e.resetValidateUser(),r)return a(),_r.show("User already exist in current carrier"),ol(e),!0;var s=sl.transferMember(i),o=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];a(),t?_r.open({message:"Request sent to {{NAME}}".replace("{{NAME}}",n),btnTitle:"Ok",showUndo:!0,callback:function(){}}):_r.show(be),ol(e)};e.transferUserAction({query:s,callback:o})}};function ll(e){return ul.apply(this,arguments)}function ul(){return(ul=Object(g.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(l.V)("capacitor")&&er.details.stopGPS(),e.next=3,Xa();case 3:return e.next=5,t.authService.logout();case 5:return e.next=7,t.logout();case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var dl=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(a){var r=a.userDetails.userId,n=sl.updateMember(a),i=function(){var a=Object(g.a)(E.a.mark((function a(){var r=arguments;return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(r.length>0&&void 0!==r[0]&&r[0])){a.next=9;break}if(_r.show("User has been delink successfully"),!t){a.next=7;break}return a.next=6,ll(e);case 6:return a.abrupt("return",!0);case 7:return e.history.push("".concat(Object(l.V)("desktop")?"/app/manage":"/app/".concat(il))),a.abrupt("return",!0);case 9:_r.show(be);case 10:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();e.delinkUserAction({query:n,userId:r,callback:i})}},pl=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(r,n){var i=sl.updateMember(r);e.updateUserAction({query:i,isProfile:!0,callback:function(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(r)return n(),_r.show("User details has been updated successfully"),a||(t?e.history.push("/app/".concat(il,"/Profile")):e.history.push("/app/manage/ProfileDetails")),!0;_r.show(be)}})}},ml=Object(nt.b)({loading:en(),userProfile:nn(),isNetworkAvailable:on()}),fl=Object(c.c)(ml,(function(e){return{showNetworkAlert:function(){return e(dr())},updateUserAction:function(t){return e(al(t))},delinkUserAction:function(t){return e(rl(t))}}}))((function(e){var t=e&&e.userProfile&&e.userProfile.userApplicationDetails&&e.userProfile.userApplicationDetails.reduce((function(e,t){return[].concat(Object(Fe.a)(e),Object(Fe.a)(t.roles))}),[]).map((function(e){return e.roleName}))||[],a=Object(u.a)(Object(u.a)({},e.userProfile),{},{roles:t}),r=Object(u.a)(Object(u.a)({},a),{},{defaultMobileNumber:a.defaultMobileNumber?a.defaultMobileNumber:a.mobileNumber}),i=Vr();return Object(l.V)("desktop")?n.a.createElement(Qc,Object.assign({},e,{isSelf:!0,isSelfDesktop:!0,selectedUser:r,userDetails:e.userProfile,userProfile:a,isEditable:!1,module:"manage",handleSubmit:pl(e,!1,!0),handleDelink:dl(Object(u.a)(Object(u.a)({},e),{},{authService:i}),!0)})):n.a.createElement(Zc,Object.assign({},e,{isSelf:!0,selectedUser:r,userDetails:e.userProfile,userProfile:a,isEditable:!1,module:"manage",handleSubmit:pl(e),handleDelink:dl(e,!0)}))})),hl={profileImg:[],manageCardData:[],users:{data:[],loaded:!1,selectedProfile:null,filter:{selected:[],direction:"desc"},validateUser:{isUserValid:null,details:{}},transfer:{isRequested:!1,details:{}}},capacity:{loaded:!1,data:[],filter:{selected:[],direction:"desc"},selected:null},carrierProfile:{data:null,loaded:!1}},El=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hl,t=arguments.length>1?arguments[1]:void 0;return Object(m.a)(e,(function(e){switch(t.type){case"GET_MANAGE_CARD_DATA":e.manageCardData=t.payload;break;case"MANAGE_USERS_LIST_SUCCESS":e.users.data=t.payload.usersList,e.users.loaded=!0,e.users.selectedProfile=null;break;case"MANAGE_USER_SELECTED":e.users.selectedProfile=t.payload.userProfile;break;case"MANAGE_USER_FILTER":e.users.filter=t.payload.filter;break;case"MANAGE_USER_VALIDATE_STATUS":e.users.validateUser=t.payload;break;case"MANAGE_USER_VALIDATE_RESET":e.users.validateUser={isUserValid:null,details:{}};break;case"MANAGE_USER_ADD_SUCCESS":e.users.data=[].concat(Object(Fe.a)(e.users.data),[t.payload.member]),e.users.filter=hl.users.filter,e.users.selectedProfile=null;break;case"MANAGE_USER_EDIT_SUCCESS":var a=t.payload.member;e.users.data=e.users.data.map((function(e){return e.userPrincipalName===a.userPrincipalName?a:e})),e.users.selectedProfile=a;break;case"MANAGE_USER_TRANSFER_REQUEST":e.users.transfer=t.payload.transfer;break;case"MANAGE_USER_TRANSFER_REQUEST_RESET":e.users.transfer={isRequested:!1,details:{}};break;case"MANAGE_USER_REMOVE_SUCCESS":e.users.data=e.users.data.filter((function(e){return e.userPrincipalName!==t.payload.userId})),e.users.selectedProfile=null;break;case"MANAGE_USER_LOADED_RESET":e.users.loaded=!1;break;case"MANAGE_CAPACITY_FILTER":e.capacity.filter=t.payload.filter;break;case"MANAGE_CAPACITY_ADD_SUCCESS":e.capacity.data=[t.payload.capacityItem].concat(Object(Fe.a)(e.capacity.data)),e.capacity.filter=hl.capacity.filter;break;case"MANAGE_CAPACITY_EDIT_SUCCESS":var r=t.payload.capacityItem;e.capacity.data=e.capacity.data.map((function(e){return e.capacityId===r.capacityId?r:e})),e.capacity.selected=r;break;case"MANAGE_CAPACITY_SELECTED":e.capacity.selected=t.payload.capacityItem;break;case"MANAGE_CAPACITY_LIST_SUCCESS":var n=t.payload.isRefresh?t.payload.capacityList:[].concat(Object(Fe.a)(e.capacity.data),Object(Fe.a)(t.payload.capacityList));e.capacity.data=n.filter((function(e,t){return t===n.findIndex((function(t){return t.capacityId===e.capacityId}))})),e.capacity.selected=null,e.capacity.loaded=!0;break;case"MANAGE_CAPACITY_REMOVE_SUCCESS":e.capacity.data=e.capacity.data.filter((function(e){return e.capacityId!==t.payload.capacityId}));break;case"CARRIER_MANAGE_DATA_SUCCESS":e.carrierProfile.data=t.payload.data,e.carrierProfile.loaded=!0}}))},gl=function(e){return e.manage||hl},bl=function(){return Object(nt.a)([gl],(function(e){return e.users.selectedProfile||hl.users.selectedProfile}))},vl=function(){return Object(nt.a)([gl],(function(e){return e.users.validateUser.isUserValid}))},yl=function(){return Object(nt.a)([gl],(function(e){return e.users.validateUser.details||hl.users.validateUser.details}))},Sl=function(){return Object(nt.a)([gl],(function(e){return e.capacity.selected||hl.capacity.selected}))},Ol=function(){function e(){Object(b.a)(this,e)}return Object(v.a)(e,[{key:"getProfile",value:function(e){return{query:{getCarrierProfile:{__args:{input:{carrierId:e}},carrierName:!0,carrierMCNo:!0,carrierUsDOTNo:!0,commonCarrierId:!0,carrierScac:!0,carrierTier:!0,carrierStatusCode:!0,addressLine1:!0,addressLine2:!0,city:!0,state:!0,country:!0,postalCode:!0,carrierModeTruckloadInd:!0,carrierModeLTLInd:!0,carrierModeIMInd:!0,primaryContact:{contactFirstName:!0,contactLastName:!0,contactType:!0,contactPhoneNumber:!0,contactFaxNumber:!0,contactEmail:!0},otherContacts:{contactFirstName:!0,contactLastName:!0,contactType:!0,contactPhoneNumber:!0,contactFaxNumber:!0,contactEmail:!0},insurances:{insuranceId:!0,policyNumber:!0,coverageAmount:!0,maxInsuranceLimit:!0,insuranceTypeCode:!0,insuranceTypeDesc:!0,insuranceStatusCode:!0,insuranceCertificateId:!0,policyEffectiveDate:!0,policyExpirationDate:!0},certifications:{certificationCode:!0,certificationDesc:!0,certificateExpireDate:!0,qualificationStatus:!0}}}}}}]),e}(),_l=(a(527),function(e){return kt()(e).format("MM/DD/YYYY")}),Dl=function(e){var t=e.data.filter((function(e){return new Date(kt()(e.policyExpirationDate).format("YYYY-MM-DD")).getTime()>=(new Date).getTime()}));return r.createElement(l.g,{class:"carrier-card"},r.createElement(l.i,{class:e.showAccordian?"card-header-pad carrier-accordion-header":"card-header-pad2 carrier-accordion-header",onClick:e.accordianClick},r.createElement(l.w,{className:"carrier-card-title"},e.carrierHeader),e.showAccordian?r.createElement(l.q,{src:"/assets/icon/add.svg",className:"addAccordian"}):r.createElement(l.q,{src:"/assets/icon/minus-icon.svg",className:"addAccordian"})),r.createElement(l.h,{class:e.showAccordian?"fadeout":"fadein accordianCardContent"},Object(l.V)("desktop")?r.createElement(l.N,{className:"carrier-text insurence"},"New insurance certs will show starting at the effective date. If your cert is close to expiring, please send insurance cert to xxxxxx@rmis.com"):null,t.map((function(e,t){return r.createElement(r.Fragment,null,r.createElement(l.o,{className:"insurance-card-header"},r.createElement(l.H,null,r.createElement(l.k,{size:Object(l.V)("desktop")?"1":"2"},r.createElement(l.q,{src:"/assets/icon/insurence-icon.svg",className:"insurence-icon"})),r.createElement(l.k,null,r.createElement(l.N,{class:"insurence-title"},Object(l.V)("desktop")?"Insurance":e.insuranceTypeCode)))),Object(l.V)("desktop")?r.createElement(l.y,{className:"insurance-card-list"},r.createElement(l.v,{mode:"ios",key:t,className:"carrier-profile-ionitem"},r.createElement(l.w,{mode:"ios",position:"floating"},"Effective Date"),r.createElement(l.u,{type:"text",className:"profile-form-control",name:"origin",value:_l(e.policyEffectiveDate),readonly:!0})),r.createElement(l.v,{mode:"ios",key:t,className:"carrier-profile-ionitem"},r.createElement(l.w,{mode:"ios",position:"floating"},"Type"),r.createElement(l.u,{type:"text",className:"profile-form-control",name:"origin",value:e.insuranceTypeCode,readonly:!0})),r.createElement(l.v,{mode:"ios",key:t,className:"carrier-profile-ionitem"},r.createElement(l.w,{mode:"ios",position:"floating"},"Coverage Amount"),r.createElement(l.u,{type:"text",className:"profile-form-control",name:"origin",value:"$".concat(e.coverageAmount),readonly:!0})),r.createElement(l.v,{mode:"ios",key:t,className:"carrier-profile-ionitem"},r.createElement(l.w,{mode:"ios",position:"floating"},"Expiration Date"),r.createElement(l.u,{type:"text",className:"profile-form-control",name:"origin",value:_l(e.policyExpirationDate),readonly:!0}))):r.createElement(l.y,{className:"insurance-card-list"},r.createElement(l.v,{mode:"ios",key:t,className:"carrier-profile-ionitem"},r.createElement(l.w,{mode:"ios",position:"floating"},"Effective Date"),r.createElement(l.u,{type:"text",className:"profile-form-control",name:"origin",value:_l(e.policyEffectiveDate),readonly:!0})),r.createElement(l.v,{mode:"ios",key:t,className:"carrier-profile-ionitem"},r.createElement(l.w,{mode:"ios",position:"floating"},"Expiration Date"),r.createElement(l.u,{type:"text",className:"profile-form-control",name:"origin",value:_l(e.policyExpirationDate),readonly:!0})),r.createElement(l.v,{mode:"ios",key:t,className:"carrier-profile-ionitem",lines:"none"},r.createElement(l.w,{mode:"ios",position:"floating"},"Coverage Amount"),r.createElement(l.u,{type:"text",className:"profile-form-control",name:"origin",value:"$".concat(e.coverageAmount),readonly:!0}))))}))))},Al=function(e){var t=e.showAccordian,a=e.accordianClick,r=e.carrierHeader,i=e.data;return n.a.createElement(l.g,{class:" ".concat("Carrier Info"===r?"carrier-card2":"carrier-card")},n.a.createElement(l.i,{class:t?"card-header-pad carrier-accordion-header":"card-header-pad2 carrier-accordion-header","data-test":"carrier-acc-title",onClick:a},n.a.createElement(l.w,{className:"carrier-card-title"},r),t?n.a.createElement(l.q,{src:"assets/icon/add.svg",className:"addAccordian","data-test":"add-icon"}):n.a.createElement(l.q,{src:"assets/icon/minus-icon.svg",className:"addAccordian","data-test":"remove-icon"})),n.a.createElement(l.h,{class:t?"fadeout":"fadein accordianCardContent"},i&&i.length>0?n.a.createElement(l.y,{className:"carrier-profile-list"},i.map((function(e,t){return n.a.createElement(l.v,{mode:"ios",key:t,className:"carrier-profile-ionitem",lines:t!==i.length-1||Object(l.V)("desktop")?"inset":"none"},n.a.createElement(l.w,{mode:"ios",position:"floating",className:"carrier-profile-label"},e.label),n.a.createElement(l.u,{type:"text",className:"profile-form-control",name:"origin",value:e.value,readonly:!0}))}))):null))},kl=function(e){return[{label:"Carrier Name",value:e.carrierName||"-"},{label:"Carrier ID",value:e.commonCarrierId||"-"},{label:"Carrier MC#",value:e.carrierMCNo||"-"},{label:"USDOT#",value:e.carrierUsDOTNo||"-"}]},Tl=function(e){return[{label:"Carrier Address",value:e&&Object.keys({addressLine1:e.addressLine1||null,addressLine2:e.addressLine2||null,city:e.city||null,state:e.state||null,country:e.country||null,postalCode:e.postalCode||null}).filter((function(t){return e[t]})).map((function(t){return e[t]})).join(", ")||"-"},{label:"Carrier Contact",value:e.primaryContact&&"".concat(e.primaryContact.contactFirstName,", ").concat(e.primaryContact.contactLastName)||"-"},{label:"Carrier Phone",value:e.primaryContact&&e.primaryContact.contactPhoneNumber||"-"},{label:"Email",value:e.primaryContact&&e.primaryContact.contactEmail||"-"}]},Nl=function(e){var t=e.carrierProfile;return n.a.createElement(l.l,{className:"ion-padding custom-padding carrier-profile-desktop"},t&&t.map((function(t){var a=t&&t.certifications&&t.certifications.filter((function(e){return"hazmat"!==e.certificationCode.toLowerCase()||"hazmat"===e.certificationCode.toLowerCase()&&new Date(e.certificateExpireDate)>=new Date(kt()().format("YYYY-MM-DD HH:MM"))}))||[];return n.a.createElement(n.a.Fragment,null,n.a.createElement(l.N,{className:"carrier-text"},"Contact Schneider if any of the fields need to be updated"),n.a.createElement(Al,{showAccordian:!e.showCarrier,accordianClick:function(){return e.setShowCarrier(!e.showCarrier)},carrierHeader:"Carrier Info",data:kl(t)}),n.a.createElement(Al,{showAccordian:!e.showContact,accordianClick:function(){return e.setShowContact(!e.showContact)},carrierHeader:"Contact Details",data:Tl(t)}),n.a.createElement(Dl,{showAccordian:!e.showCarrierInsurance,accordianClick:function(){return e.setShowCarrierInsurance(!e.showCarrierInsurance)},carrierHeader:"Carrier Insurance",data:t.insurances}),n.a.createElement(l.o,null,n.a.createElement(l.H,null,n.a.createElement(l.k,{size:"6"},n.a.createElement(l.w,{className:"carrier-card-title"},"Certification")),n.a.createElement(l.k,{size:"6"},n.a.createElement(l.w,{className:"carrier-card-title"},"Qualification Status"))),a.map((function(e){return n.a.createElement(l.H,null,n.a.createElement(l.k,{size:"6"},n.a.createElement(l.o,{className:"cert-grid"},n.a.createElement(l.H,{className:"cert-header"},n.a.createElement(l.k,{size:"1"},n.a.createElement(l.r,{alt:"logo",src:"/assets/icon/".concat(e.certificationDesc.toLowerCase(),".svg"),className:"certificate-png"})),n.a.createElement(l.k,{size:"6"},n.a.createElement(l.N,{className:"cert-desc"},Object(wt.capitalize)(e.certificationDesc))),n.a.createElement(l.k,{size:"5"},n.a.createElement(l.y,{className:"HazmatDate date_approved"}))))),n.a.createElement(l.k,{size:"6"},n.a.createElement(l.o,{className:"cert-grid"},n.a.createElement(l.H,null,n.a.createElement(l.k,{size:"1"},n.a.createElement(l.q,{src:"assets/icon/tick-icon.svg",className:"tick-icon"})),n.a.createElement(l.k,{size:"6",className:"Approved"},n.a.createElement(l.N,{className:"qualficiation-desc"},Object(wt.capitalize)(e.qualificationStatus))),n.a.createElement(l.k,{size:"5"},n.a.createElement(l.N,{className:"qualficiation-expiry"},e&&e.certificateExpireDate&&"hazmat"===e.certificationCode.toLowerCase()?kt()(e.certificateExpireDate).format("MM/DD/YYYY"):""))))))}))))})),n.a.createElement("div",{className:"contact",dangerouslySetInnerHTML:{__html:Pe}}))},Rl=function(e){var t=e.carrierProfile,a=e.history,i=e.backUrl,s=e.isPullToRefresh,o=e.getCarrierProfile,c=Object(r.useState)(!0),d=Object(f.a)(c,2),p=d[0],m=d[1],h=Object(r.useState)(!0),E=Object(f.a)(h,2),g=E[0],b=E[1],v=Object(r.useState)(!0),y=Object(f.a)(v,2),S=y[0],O=y[1];if(Object(l.V)("desktop")){var _=Object(u.a)(Object(u.a)({},e),{},{showCarrier:p,setShowCarrier:m,showContact:g,setShowContact:b,showCarrierInsurance:S,setShowCarrierInsurance:O});return n.a.createElement(Nl,_)}return n.a.createElement(l.B,{className:"desktop-page","data-test":"IonPage-Manage"},n.a.createElement(fc,{title:"Carrier profile",backUrl:"/app/"+i,History:a}),n.a.createElement(l.l,{className:"ion-padding custom-padding recent_container"},n.a.createElement(so,{status:s,onPullToRefresh:o}),t&&t.map((function(e,t){var a=e&&e.certifications&&e.certifications.filter((function(e){return"hazmat"!==e.certificationCode.toLowerCase()||"hazmat"===e.certificationCode.toLowerCase()&&new Date(kt()(e.certificateExpireDate).format("YYYY-MM-DD")).getTime()>=(new Date).getTime()}))||[];return n.a.createElement(n.a.Fragment,{key:"profile".concat(t)},n.a.createElement(Al,{showAccordian:p,accordianClick:function(){return m(!p)},carrierHeader:"Carrier Info",data:kl(e)}),n.a.createElement(Al,{showAccordian:g,accordianClick:function(){return b(!g)},carrierHeader:"Contact Details",data:Tl(e)}),n.a.createElement(Dl,{showAccordian:S,accordianClick:function(){return O(!S)},carrierHeader:"Carrier Insurance",data:e.insurances}),n.a.createElement(l.g,{class:"carrier-card"},n.a.createElement(l.i,{class:"card-header-pad carrier-accordion-header"},n.a.createElement(l.w,{className:"carrier-card-title"},"Certification")),n.a.createElement(l.h,{class:"accordianCardContent"},a.map((function(e,t){return n.a.createElement(l.o,{className:"cert-grid",key:"cer".concat(t)},n.a.createElement(l.H,{className:"cert-header"},n.a.createElement(l.k,{size:"2"},n.a.createElement(l.r,{alt:"logo",src:"/assets/icon/".concat(e.certificationDesc.toLowerCase(),".svg"),className:"certificate-png"})),n.a.createElement(l.k,{size:"6"},n.a.createElement(l.N,{className:"cert-desc"},Object(wt.capitalize)(e.certificationDesc))),n.a.createElement(l.k,{size:"4"},n.a.createElement(l.y,{className:"HazmatDate date_approved"},e&&e.certificateExpireDate&&"hazmat"===e.certificationCode.toLowerCase()?kt()(e.certificateExpireDate).format("MM/DD/YYYY"):""))),n.a.createElement(l.w,{className:"inner-card-title"},"Qualification Status"),n.a.createElement(l.H,null,n.a.createElement(l.k,{size:"2"},n.a.createElement(l.q,{src:"assets/icon/tick-icon.svg",className:"tick-icon"})),n.a.createElement(l.k,{size:"6",className:"Approved"},n.a.createElement(l.N,{className:"qualficiation-desc"},Object(wt.capitalize)(e.qualificationStatus))),n.a.createElement(l.k,{size:"4"},n.a.createElement(l.N,{className:"qualficiation-expiry"}))))})))))})),n.a.createElement("div",{className:"contact",dangerouslySetInnerHTML:{__html:Pe}})))},Il=Object(nt.b)({userDetails:nn(),loaded:Object(nt.a)([gl],(function(e){return e.carrierProfile.loaded||hl.carrierProfile.loaded})),isPullToRefresh:sn(),carrierProfile:Object(nt.a)([gl],(function(e){return e.carrierProfile.data||hl.carrierProfile.data}))}),Cl=Object(c.c)(Il,(function(e){return{loadCarrierProfile:function(t){return e(function(e){return{type:"CARRIER_MANAGE_DATA_REQUEST",payload:e}}(t))}}}))((function(e){var t=e.loaded,a=e.userDetails,i=e.loadCarrierProfile,s=new Ol,o=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=a.carrierId,r=s.getProfile(t),n=function(){_r.show(be)};i({query:r,isPullToRefresh:e,callback:n})};return Object(r.useEffect)((function(){t||o()}),[t]),Object(r.useEffect)((function(){Rt(ue.SV_VIEW_CARRIER_PROFILE,{screen:de.CARRIER_PROFILE,carrierId:e.userDetails.carrierId})}),[]),n.a.createElement(Rl,Object.assign({},e,{backUrl:"manage",getCarrierProfile:o}))})),jl=E.a.mark(xl),wl=E.a.mark(Ul),Ll=E.a.mark(Fl),Pl=E.a.mark(Vl);function xl(e){var t,a,r,n,i,s,o;return E.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,a=t.query,r=t.isPullToRefresh,n=t.callback,c.prev=1,c.next=4,Object(vn.c)(vt(r));case 4:return i=Pa.domainToData(a),c.next=7,Object(vn.b)(yn,["MANAGE","MY_CAPACITY",null,"",i,"application/json"]);case 7:return s=c.sent,o=s.data&&s.data.getCarrierCapacity&&s.data.getCarrierCapacity.capacity?s.data.getCarrierCapacity.capacity:[],c.next=11,Object(vn.c)({type:"MANAGE_CAPACITY_LIST_SUCCESS",payload:{capacityList:o,isRefresh:r||!n}});case 11:return n&&n(o.length),c.next=14,Object(vn.c)(yt(r));case 14:c.next=20;break;case 16:return c.prev=16,c.t0=c.catch(1),c.next=20,Object(vn.c)(yt(r));case 20:case"end":return c.stop()}}),jl,null,[[1,16]])}var Ml=function(e){return Object(u.a)(Object(u.a)({},e),{},{capacityId:e.capacityId,lastUpdatedBy:e.lastUpdatedBy,lastUpdatedByEmail:e.userEmail,lastUpdatedByPhoneNumber:e.userPhone,lastUpdatedDateTime:(new Date).toISOString(),destination:{city:e.destinationCity,state:e.destinationState,country:e.destinationCountry,latitude:e.destinationLatitude,longitude:e.destinationLongitude,radius:e.destinationRadius},origin:{city:e.originCity,state:e.originState,country:e.originCountry,latitude:e.originLatitude,longitude:e.originLongitude,radius:e.originRadius}})};function Ul(e){var t,a,r,n,i,s,o,c,l,d;return E.a.wrap((function(p){for(;;)switch(p.prev=p.next){case 0:return t=e.payload,a=t.params,r=a.query,n=a.input,i=t.callback,p.prev=1,p.next=4,Object(vn.c)(vt());case 4:return s=Pa.dataToMutation(r,n),p.next=7,Object(vn.b)(yn,["MANAGE","MY_CAPACITY",null,"",s,"application/json"]);case 7:if(!(o=p.sent).data||!o.data.addCarrierCapacity){p.next=12;break}return c=o.data.addCarrierCapacity,l=c.capacityID,d=c.lastUpdatedByUserName,p.next=12,Object(vn.c)({type:"MANAGE_CAPACITY_ADD_SUCCESS",payload:{capacityItem:Ml(Object(u.a)(Object(u.a)({},n),{},{capacityId:l,lastUpdatedBy:d}))}});case 12:return i(!!o.data),p.next=15,Object(vn.c)(yt());case 15:p.next=22;break;case 17:return p.prev=17,p.t0=p.catch(1),i(),p.next=22,Object(vn.c)(yt());case 22:case"end":return p.stop()}}),wl,null,[[1,17]])}function Fl(e){var t,a,r,n,i,s,o,c;return E.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.payload,a=t.params,r=a.query,n=a.input,i=a.lastUpdatedBy,s=t.callback,l.prev=1,l.next=4,Object(vn.c)(vt());case 4:return o=Pa.dataToMutation(r,n),l.next=7,Object(vn.b)(yn,["MANAGE","MY_CAPACITY",null,"",o,"application/json"]);case 7:if(!(c=l.sent).data||!c.data.updateCarrierCapacity){l.next=11;break}return l.next=11,Object(vn.c)({type:"MANAGE_CAPACITY_EDIT_SUCCESS",payload:{capacityItem:Ml(Object(u.a)(Object(u.a)({},n),{},{lastUpdatedBy:i}))}});case 11:return s(!!c.data),l.next=14,Object(vn.c)(yt());case 14:l.next=21;break;case 16:return l.prev=16,l.t0=l.catch(1),s(),l.next=21,Object(vn.c)(yt());case 21:case"end":return l.stop()}}),Ll,null,[[1,16]])}function Vl(e){var t,a,r,n,i,s;return E.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,a=t.query,r=t.capacityId,n=t.callback,o.prev=1,o.next=4,Object(vn.c)(vt());case 4:return i=Pa.domainToData(a),o.next=7,Object(vn.b)(yn,["MANAGE","MY_CAPACITY",null,"",i,"application/json"]);case 7:if(!(s=o.sent).data||!s.data.deleteCarrierCapacity){o.next=11;break}return o.next=11,Object(vn.c)({type:"MANAGE_CAPACITY_REMOVE_SUCCESS",payload:{capacityId:r}});case 11:return n(!!s.data),o.next=14,Object(vn.c)(yt());case 14:o.next=21;break;case 16:return o.prev=16,o.t0=o.catch(1),n(),o.next=21,Object(vn.c)(yt());case 21:case"end":return o.stop()}}),Pl,null,[[1,16]])}var Hl=E.a.mark(Zl),Gl=E.a.mark(Kl),Bl=E.a.mark(Jl),ql=E.a.mark(Ql),zl=E.a.mark(Xl),Yl=E.a.mark($l),Wl=E.a.mark(eu);function Zl(e){var t,a,r,n,i,s,o;return E.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,a=t.fetchAllUsersQuery,r=t.isPullToRefresh,c.prev=1,c.next=4,Object(vn.c)(r?{type:"PULL_TO_REFRESH_LOADING",status:!0}:vt());case 4:return n=Pa.domainToData(a),c.next=7,Object(vn.b)(yn,["FETCH_USER_DETAILS","USER_DETAILS",null,"",n,"application/json"]);case 7:return i=c.sent,s=i.data?i.data.getMembers:[],o=(o=Object(Fe.a)(s)).filter((function(e,t){return o.findIndex((function(t){return e.userPrincipalName===t.userPrincipalName}))===t})),c.next=13,Object(vn.c)({type:"MANAGE_USERS_LIST_SUCCESS",payload:{usersList:o}});case 13:return c.next=15,Object(vn.c)(r?{type:"PULL_TO_REFRESH_LOADING",status:!1}:yt());case 15:c.next=21;break;case 17:return c.prev=17,c.t0=c.catch(1),c.next=21,Object(vn.c)(r?{type:"PULL_TO_REFRESH_LOADING",status:!1}:yt());case 21:case"end":return c.stop()}}),Hl,null,[[1,17]])}function Kl(e){var t,a,r,n,i,s,o;return E.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,a=t.query,r=t.callback,c.prev=1,c.next=4,Object(vn.c)(vt());case 4:return n=Pa.domainToData(a),c.next=7,Object(vn.b)(yn,["FETCH_USER_DETAILS","USER_DETAILS",null,"",n,"application/json"]);case 7:if(!(i=c.sent)||!i.data){c.next=15;break}return s=i&&i.data&&i.data.validateUser||{},o=!!(i&&i.data&&i.data.validateUser),c.next=13,Object(vn.c)({type:"MANAGE_USER_VALIDATE_STATUS",payload:{isUserValid:o,details:s}});case 13:c.next=16;break;case 15:r();case 16:return c.next=18,Object(vn.c)(yt());case 18:c.next=25;break;case 20:return c.prev=20,c.t0=c.catch(1),r(),c.next=25,Object(vn.c)(yt());case 25:case"end":return c.stop()}}),Gl,null,[[1,20]])}function Jl(e){var t,a,r,n,i,s;return E.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,a=t.query,r=t.callback,o.prev=1,o.next=4,Object(vn.c)(vt());case 4:return n=Pa.domainToData(a),o.next=7,Object(vn.b)(yn,["FETCH_USER_DETAILS","USER_DETAILS",null,"",n,"application/json"]);case 7:return(i=o.sent)&&i.data?(s=!!(i&&i.data&&i.data.transferMember&&i.data.transferMember.status),r(s)):r(),o.next=11,Object(vn.c)(yt());case 11:o.next=18;break;case 13:return o.prev=13,o.t0=o.catch(1),r(),o.next=18,Object(vn.c)(yt());case 18:case"end":return o.stop()}}),Bl,null,[[1,13]])}function Ql(e){var t,a,r,n,i,s;return E.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,a=t.query,r=t.callback,o.prev=1,o.next=4,Object(vn.c)(vt());case 4:return n=Pa.domainToData(a),o.next=7,Object(vn.b)(yn,["FETCH_USER_DETAILS","USER_DETAILS",null,"",n,"application/json"]);case 7:return(i=o.sent)&&i.data?(s=!!(i&&i.data&&i.data.confirmTransfer&&i.data.confirmTransfer.status),r(s)):r(),o.next=11,Object(vn.c)(yt());case 11:o.next=18;break;case 13:return o.prev=13,o.t0=o.catch(1),r(),o.next=18,Object(vn.c)(yt());case 18:case"end":return o.stop()}}),ql,null,[[1,13]])}function Xl(e){var t,a,r,n,i,s,o,c;return E.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.payload,a=t.query,r=t.callback,n=t.isCarrierAssign,i=void 0!==n&&n,l.prev=1,l.next=4,Object(vn.c)(vt());case 4:return s=Pa.domainToData(a),l.next=7,Object(vn.b)(yn,["FETCH_USER_DETAILS","USER_DETAILS",null,"",s,"application/json"]);case 7:if(!((o=l.sent)&&o.data&&o.data.addMember&&o.data.addMember.status)){l.next=18;break}return c=o&&o.data&&o.data.addMember&&o.data.addMember.member||{},l.next=12,Object(vn.c)({type:"MANAGE_USER_ADD_SUCCESS",payload:{member:c}});case 12:if(!i){l.next=15;break}return l.next=15,Object(vn.c)(zn({member:c}));case 15:r(!0),l.next=19;break;case 18:r();case 19:return l.next=21,Object(vn.c)(yt());case 21:l.next=28;break;case 23:return l.prev=23,l.t0=l.catch(1),r(),l.next=28,Object(vn.c)(yt());case 28:case"end":return l.stop()}}),zl,null,[[1,23]])}function $l(e){var t,a,r,n,i,s,o,c,l;return E.a.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return t=e.payload,a=t.query,r=t.isProfile,n=void 0!==r&&r,i=t.callback,d.prev=1,d.next=4,Object(vn.c)(vt());case 4:return s=Pa.domainToData(a),d.next=7,Object(vn.b)(yn,["FETCH_USER_DETAILS","USER_DETAILS",null,"",s,"application/json"]);case 7:if(!((o=d.sent)&&o.data&&o.data.updateMember&&o.data.updateMember.status)){d.next=21;break}if(c=o&&o.data&&o.data.updateMember&&o.data.updateMember.member||{},l=c&&c.userApplicationDetails&&c.userApplicationDetails.reduce((function(e,t){var a=t.roles&&t.roles.map((function(e){return e.roleName}))||[];return[].concat(Object(Fe.a)(e),Object(Fe.a)(a))}),[])||[],!n){d.next=16;break}return d.next=14,Object(vn.c)(sr(Object(u.a)(Object(u.a)({},c),{},{defaultMobileNumber:c.mobileNumber||"",mobileNumber:c.mobileNumber?Lc(c.mobileNumber):"",roles:l})));case 14:d.next=18;break;case 16:return d.next=18,Object(vn.c)({type:"MANAGE_USER_EDIT_SUCCESS",payload:{member:Object(u.a)(Object(u.a)({},c),{},{defaultMobileNumber:c.mobileNumber||"",mobileNumber:c.mobileNumber?Lc(c.mobileNumber):"",roles:l})}});case 18:i(!0),d.next=22;break;case 21:i();case 22:return d.next=24,Object(vn.c)(yt());case 24:d.next=31;break;case 26:return d.prev=26,d.t0=d.catch(1),i(),d.next=31,Object(vn.c)(yt());case 31:case"end":return d.stop()}}),Yl,null,[[1,26]])}function eu(e){var t,a,r,n,i,s;return E.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,a=t.query,r=t.userId,n=t.callback,o.prev=1,o.next=4,Object(vn.c)(vt());case 4:return i=Pa.domainToData(a),o.next=7,Object(vn.b)(yn,["FETCH_USER_DETAILS","USER_DETAILS",null,"",i,"application/json"]);case 7:if(!((s=o.sent)&&s.data&&s.data.updateMember&&s.data.updateMember.status)){o.next=14;break}return o.next=11,Object(vn.c)({type:"MANAGE_USER_REMOVE_SUCCESS",payload:{userId:r}});case 11:n(!0),o.next=15;break;case 14:n();case 15:return o.next=17,Object(vn.c)(yt());case 17:o.next=24;break;case 19:return o.prev=19,o.t0=o.catch(1),n(),o.next=24,Object(vn.c)(yt());case 24:case"end":return o.stop()}}),Wl,null,[[1,19]])}var tu=E.a.mark(au);function au(e){var t,a,r,n,i,s,o;return E.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,a=t.query,r=t.isPullToRefresh,n=t.callback,c.prev=1,c.next=4,Object(vn.c)(vt(r));case 4:return i=Pa.domainToData(a),c.next=7,Object(vn.b)(yn,["MANAGE","CARRIER_PROFILE",null,"",i,"application/json"]);case 7:return s=c.sent,o=s.data&&s.data.getCarrierProfile?s.data.getCarrierProfile:[],c.next=11,Object(vn.c)({type:"CARRIER_MANAGE_DATA_SUCCESS",payload:{data:o}});case 11:return c.next=13,Object(vn.c)(yt(r));case 13:c.next=20;break;case 15:return c.prev=15,c.t0=c.catch(1),n&&n(),c.next=20,Object(vn.c)(yt(r));case 20:case"end":return c.stop()}}),tu,null,[[1,15]])}var ru=E.a.mark(su),nu=E.a.mark(ou),iu=E.a.mark(cu);function su(e){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(vn.c)(vt());case 3:return t={"image-content":"data.payload"},e.next=6,Object(vn.b)(yn,["MANAGE","PROFILE_IMG",null,"Content-type",t,null]);case 6:return e.sent,e.next=9,Object(vn.c)(yt());case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(0),e.next=15,Object(vn.c)(yt());case 15:case"end":return e.stop()}}),ru,null,[[0,11]])}function ou(){var e;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(vn.c)(vt());case 3:return e=Mn,t.next=6,Object(vn.c)({type:"GET_MANAGE_CARD_DATA",payload:e});case 6:return t.next=8,Object(vn.c)(yt());case 8:t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(0),t.next=14,Object(vn.c)(yt());case 14:case"end":return t.stop()}}),nu,null,[[0,10]])}function cu(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(vn.a)([Object(vn.f)("PROFILE_IMAGE_SET",su),Object(vn.f)("MANAGE_CARD_DATA",ou),Object(vn.f)("GET_MANAGE_USERS_LIST",Zl),Object(vn.f)("MANAGE_USER_VALIDATE",Kl),Object(vn.f)("MANAGE_USER_TRANSFER",Jl),Object(vn.f)("MANAGE_USER_TRANSFER_COFIRM_REQUEST",Ql),Object(vn.f)("MANAGE_USER_ADD",Xl),Object(vn.f)("MANAGE_USER_EDIT",$l),Object(vn.f)("MANAGE_USER_REMOVE",eu),Object(vn.f)("GET_MANAGE_CAPACITY_LIST",xl),Object(vn.f)("MANAGE_CAPACITY_ADD",Ul),Object(vn.f)("MANAGE_CAPACITY_REMOVE",Vl),Object(vn.f)("MANAGE_CAPACITY_EDIT",Fl),Object(vn.f)("CARRIER_MANAGE_DATA_REQUEST",au)]);case 2:case"end":return e.stop()}}),iu)}var lu=Object(nt.b)({userDetails:nn(),isPullToRefresh:sn(),usersList:Object(nt.a)([gl],(function(e){return e.users.data||hl.users.data})),isNetworkAvailable:on(),filters:Object(nt.a)([gl],(function(e){return e.users.filter||hl.users.filter})),isUsersListLoaded:Object(nt.a)([gl],(function(e){return e.users.loaded||hl.users.loaded}))}),uu=Object(c.c)(lu,(function(e){return{getUsersListFn:function(t){return e(function(e){return{type:"GET_MANAGE_USERS_LIST",payload:e}}(t))},selectedUser:function(t){return e(function(e){return{type:"MANAGE_USER_SELECTED",payload:e}}(t))},showNetworkAlert:function(){return e(dr())},setFilter:function(t){return e(function(e){return{type:"MANAGE_USER_FILTER",payload:e}}(t))},resetUsersLoaded:function(){return e({type:"MANAGE_USER_LOADED_RESET"})}}})),du=_s({key:"manage",reducer:El}),pu=Ss({key:"manage",saga:cu}),mu=Object(d.compose)(pu,du,uu)(Object(tt.h)((function(e){var t=e.userDetails,a=e.getUsersListFn,i=e.usersList,s=e.isUsersListLoaded,o=e.history,c=i.map((function(e){var t=e.userApplicationDetails.reduce((function(e,t){var a=t.roles&&t.roles.map((function(e){return e.roleName}))||[];return[].concat(Object(Fe.a)(e),Object(Fe.a)(a))}),[]);return Object(u.a)(Object(u.a)({},e),{},{roles:t})})),l=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=t.carrierId,n=new Er,i=n.getUsers(r,"");a({fetchAllUsersQuery:i,isPullToRefresh:e})};return Object(r.useEffect)((function(){(o&&o.location&&o.location.state&&o.location.state.resetLoaded||!1)&&e.resetUsersLoaded()}),[o]),Object(r.useEffect)((function(){t&&!s&&l()}),[t,s]),Rt(ue.SV_MANAGE_USERS,{screen:de.MANAGE_USERS,carrierId:e.userDetails.carrierId}),n.a.createElement(Wc,Object.assign({},e,{module:"manage",users:c,getUsersList:l}))}))),fu=(a(528),a(67)),hu=[{name:"Alabama",code:"AL"},{name:"Alaska",code:"AK"},{name:"American Samoa",code:"AS"},{name:"Arizona",code:"AZ"},{name:"Arkansas",code:"AR"},{name:"California",code:"CA"},{name:"Colorado",code:"CO"},{name:"Connecticut",code:"CT"},{name:"Delaware",code:"DE"},{name:"District Of Columbia",code:"DC"},{name:"Federated States Of Micronesia",code:"FM"},{name:"Florida",code:"FL"},{name:"Georgia",code:"GA"},{name:"Guam",code:"GU"},{name:"Hawaii",code:"HI"},{name:"Idaho",code:"ID"},{name:"Illinois",code:"IL"},{name:"Indiana",code:"IN"},{name:"Iowa",code:"IA"},{name:"Kansas",code:"KS"},{name:"Kentucky",code:"KY"},{name:"Louisiana",code:"LA"},{name:"Maine",code:"ME"},{name:"Marshall Islands",code:"MH"},{name:"Maryland",code:"MD"},{name:"Massachusetts",code:"MA"},{name:"Michigan",code:"MI"},{name:"Minnesota",code:"MN"},{name:"Mississippi",code:"MS"},{name:"Missouri",code:"MO"},{name:"Montana",code:"MT"},{name:"Nebraska",code:"NE"},{name:"Nevada",code:"NV"},{name:"New Hampshire",code:"NH"},{name:"New Jersey",code:"NJ"},{name:"New Mexico",code:"NM"},{name:"New York",code:"NY"},{name:"North Carolina",code:"NC"},{name:"North Dakota",code:"ND"},{name:"Northern Mariana Islands",code:"MP"},{name:"Ohio",code:"OH"},{name:"Oklahoma",code:"OK"},{name:"Oregon",code:"OR"},{name:"Palau",code:"PW"},{name:"Pennsylvania",code:"PA"},{name:"Puerto Rico",code:"PR"},{name:"Rhode Island",code:"RI"},{name:"South Carolina",code:"SC"},{name:"South Dakota",code:"SD"},{name:"Tennessee",code:"TN"},{name:"Texas",code:"TX"},{name:"Utah",code:"UT"},{name:"Vermont",code:"VT"},{name:"Virgin Islands",code:"VI"},{name:"Virginia",code:"VA"},{name:"Washington",code:"WA"},{name:"West Virginia",code:"WV"},{name:"Wisconsin",code:"WI"},{name:"Wyoming",code:"WY"}],Eu=function(e){return[{name:"Origin",selector:"",sortable:!0,minWidth:"123px",cell:function(e){return n.a.createElement("b",null,e.originDetails)}},{name:"Origin Date",selector:"originDate",sortable:!0},{name:"Origin Radius",selector:"originRadius",sortable:!0},{name:"Destination",selector:"",sortable:!0,cell:function(e){return n.a.createElement("b",null,e.destinationDetails)}},{name:"Destination Radius",selector:"destinationRadius",sortable:!0},{name:"Trailer Type",selector:"trailerType",sortable:!0},{name:"",selector:"",sortable:!1,width:"150px",cell:function(e){return n.a.createElement("b",null,Object(wt.capitalize)(e.capacityType))}},{name:"",selector:"",sortable:!1,width:"50px",cell:function(t){return n.a.createElement(l.r,{src:"assets/icon/Delete_bin.svg",class:"assign-icon",onClick:function(){return e.handleDelete(t)}})}},{name:"",selector:"",sortable:!1,width:"50px",cell:function(e){return n.a.createElement(l.o,{class:"datatable-badge"},n.a.createElement("i",null))}}]},gu=function(e){return fu.tz(e,"US/Central").format("YYYY-MM-DDTHH:mm:ss.SSSZ")},bu=[{label:"State 1",name:"state1",value:""},{label:"State 2",name:"state2",value:""},{label:"State 3",name:"state3",value:""}],vu=function(e,t){var a=e.country,r=e.lat,n=e.lng,i=e.value,s=i.split(", "),o=Object(f.a)(s,2);return t({city:o[0],state:o[1],country:a,lat:r,lng:n,address:i})},yu=function(){document.getElementsByClassName("add-capacity-grid-mobile")[0].classList.add("scroll-up")},Su=function(){document.getElementsByClassName("add-capacity-grid-mobile")[0].classList.remove("scroll-up")},Ou=function(e){return e.map((function(e){var t=hu.find((function(t){return t.code===e}));return t&&t.name||e}))},_u=Object(r.memo)((function(e){var t=e.states,a=e.isDestination;return n.a.createElement(l.H,{class:"stop-details-row"},n.a.createElement(l.k,{class:"stop-icon-col"},n.a.createElement(l.r,{className:"ellipse_icon",src:"assets/icon/".concat(e.icon)}),e.isOrigin?n.a.createElement("div",{className:"stops_border"}):null),n.a.createElement(l.k,{class:"stop-details-col capacity"},n.a.createElement("p",{className:"origin_city ".concat(a&&t&&t.length>0||!e.radius?"states-active":"")},a&&t&&t.length>0?t.join(", "):e.city===P||null===e.city?P:"".concat(e.city,", ").concat(e.state)),!t||a&&t&&0===t.length&&e.radius||e.isOrigin?n.a.createElement(l.d,{className:"originRadius"},"Radius : ",e.radius," mi"):null,e.isTruck?n.a.createElement(l.d,{className:"pickupDate"},e.fromDate&&e.toDate?"".concat(ro(new Date(e.fromDate).getMonth()),"\n                        ").concat(("0"+new Date(e.fromDate).getDate()).slice(-2)," to ").concat(ro(new Date(e.toDate).getMonth())," \n                        ").concat(("0"+new Date(e.toDate).getDate()).slice(-2)):null):null))})),Du=function(e){var t=e.data,a=e.handleClick,r=e.handleDelete,i=[Object(u.a)(Object(u.a)({icon:"origin-pointer.svg"},t.origin),{},{fromDate:t.pickUpFromDate,toDate:t.pickUpToDate,isOrigin:!0,isTruck:"truck"===t.capacityType.toLowerCase()}),Object(u.a)(Object(u.a)({icon:"dst-pointer.svg"},t.destination),{},{isDestination:!0,states:Ou(t.destinationStates)})];return n.a.createElement(l.g,{"data-test":"capacity-card",className:"ion-card-updated",onClick:function(){return a(t)}},n.a.createElement(l.h,{className:"card-content recent-card"},n.a.createElement(l.o,{className:"recent_grid"},n.a.createElement(l.H,null,n.a.createElement(l.k,{className:"card-price-col",size:"4"},n.a.createElement("p",{className:"capacity-type"},t.capacityType.toLowerCase()),n.a.createElement("p",{className:"trailer-type"},t.trailerType)),n.a.createElement(l.k,{className:"card-city-col"},n.a.createElement(l.r,{className:"star_icon","data-test":"capacity-card-delete",src:"assets/icon/Delete_bin.svg",onClick:function(e){e.stopPropagation(),r(t)}}),i.map((function(e,a){return n.a.createElement(_u,Object.assign({},e,{key:"details_".concat(t.capacityId,"_").concat(a)}))})))))))},Au={city:!0,radius:!0,state:!0,country:!0,latitude:!0,longitude:!0},ku=function(){function e(){Object(b.a)(this,e)}return Object(v.a)(e,[{key:"getList",value:function(e,t,a){return{query:{getCarrierCapacity:{__args:{criteria:{commonCarrierId:e,page:t,size:a}},totalRecords:!0,capacity:{capacityId:!0,capacityType:!0,commonCarrierId:!0,trailerType:!0,origin:Au,pickUpFromDate:!0,pickUpToDate:!0,preferredDays:!0,destination:Au,destinationStates:!0,lastUpdatedDateTime:!0,lastUpdatedBy:!0,lastUpdatedByPhoneNumber:!0,lastUpdatedByEmail:!0}}}}}},{key:"addCapacity",value:function(){return{addCarrierCapacity:{__variables:{input:"CapacityInput"},addCarrierCapacity:{__args:{input:new Et.VariableType("input")},capacityID:!0,lastUpdatedByUserName:!0}}}}},{key:"updateCapacity",value:function(){return{updateCarrierCapacity:{__variables:{input:"CapacityInput"},updateCarrierCapacity:{__args:{input:new Et.VariableType("input")}}}}}},{key:"deleteCapacity",value:function(e){return{mutation:{deleteCarrierCapacity:{__args:{capacityId:e}}}}}}]),e}(),Tu=function(e){return n.a.createElement("div",{className:"No-Recommended"},n.a.createElement("img",{alt:"logo",src:"assets/icon/".concat(e.icon,".svg"),width:"79.01px",height:"84.59px"}),n.a.createElement("p",{className:"recommended-Error",dangerouslySetInnerHTML:{__html:e.message}}),n.a.createElement("div",{className:"SearchLoadBtn"},n.a.createElement(l.e,{expand:"full",shape:"round",onClick:e.callback,size:"large",type:"submit",class:"RecommendedSearch"},n.a.createElement(l.r,{src:"assets/icon/add.svg",class:"load-search"}),e.constantButton)))},Nu=a(88),Ru=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(t?e.toLowerCase():e).replace(/(?:^|\s|["'([{])+\S/g,(function(e){return e.toUpperCase()}))},Iu=function(){var e=Ie.find((function(e){return e.identifier===Nu.a.model}));return e?e.generation:Nu.a.model},Cu=function(){return Nu.a.platform},ju=function(){return Nu.a.version},wu=(a(531),function(e){var t=e.dropdown,a=t.options,i=t.setFilter,s=e.filter,o=a.map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{selected:0===t})})),c=Object(r.useState)(!1),d=Object(f.a)(c,2),p=d[0],m=d[1],h=Object(r.useState)(o),E=Object(f.a)(h,2),g=E[0],b=E[1],v=Object(r.useState)([]),y=Object(f.a)(v,2),S=y[0],O=y[1],_=g.filter((function(e){return e.selected})).map((function(e){return"".concat(e.name)})).join("");return Object(r.useEffect)((function(){var e=s&&s.length>0?s:a.map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{selected:0===t})}));b(e)}),[s]),n.a.createElement(l.H,{class:"list-items-header"},n.a.createElement(l.k,{class:"list-item-button"},n.a.createElement(l.o,{class:"filter-display-text"}," ",_," ",n.a.createElement(l.q,{src:"assets/icon/filter.svg",onClick:function(){return O(g),void m(!0)}})),n.a.createElement(l.A,{"show-backdrop":!0,"backdrop-dismiss":!1,isOpen:p,cssClass:"dropdown-modal",onDidDismiss:function(){m(!1)}},n.a.createElement("div",{className:"search_options"},n.a.createElement(l.H,{class:"dropdown-row dropdown-heading"},n.a.createElement(l.k,null,n.a.createElement("p",{className:"sortBy_text"},"Filter By"))),S.map((function(e,t){return n.a.createElement(l.H,{className:"dropdown-row filter-option",key:t,onClick:function(){return function(e){var t=S.map((function(t){return Object(u.a)(Object(u.a)({},t),{},{selected:t.name===e.name&&!t.selected})}));t.find((function(e){return e.selected}))&&O(t)}(e)}},n.a.createElement(l.k,{className:e.selected?"checked":""},e.name," ",n.a.createElement("i",{className:"check"})))})),n.a.createElement(l.H,{class:"dropdown-handler"},n.a.createElement(l.k,{size:"1"}),n.a.createElement(l.k,{size:"5",className:"dropdown_cancel",onClick:function(){return m(!1)}},n.a.createElement("span",null,"Cancel")),n.a.createElement(l.k,{size:"5",className:"dropdown_cancel dropdown_ok",onClick:function(){i({filter:{selected:S,direction:"asc"}}),b(S),m(!1)}},n.a.createElement("span",null,"OK")),n.a.createElement(l.k,{size:"1"}))))))}),Lu=function(e,t,a){return"asc"===a?Object(Fe.a)(e).sort((function(e,a){return e[t]>a[t]?1:-1})):Object(Fe.a)(e).sort((function(e,a){return e[t]>a[t]?-1:1}))},Pu=function(e){var t=e.columns,a=e.data,r=e.redirect,i=e.showEndofList,s=e.showHeader,o=e.titleText,c=e.headerText,l=e.pagination;e.onButtonClick;return n.a.createElement(n.a.Fragment,null,a?n.a.createElement(n.a.Fragment,null,s?null:n.a.createElement("div",{className:"searchResults_div"},c),n.a.createElement(ks.a,{title:o,columns:t,data:a&&a.reverse(),highlightOnHover:!0,sortFunction:Lu,onRowClicked:function(e){r&&r(e)},pagination:l}),i?null:n.a.createElement("div",{className:"end-of-list"},"End of list")):null)},xu=function(e){var t=e.isPullToRefresh,a=e.getCapacityList,i=e.capacityList,s=e.userDetails,o=e.isNetWorkAvailable,c=e.showNetworkAlert,d=e.history,p=e.removeCapacityAction,m=e.setCapacityFilter,h=e.filter,E=e.onPageScroll,g=Object(r.useState)(e.data),b=Object(f.a)(g,2),v=b[0],y=b[1],S=Object(r.useState)([]),O=Object(f.a)(S,2),_=O[0],D=O[1],A=new ku,k="/app/".concat(e.module,"/ManageMyCapacity");Object(r.useEffect)((function(){Rt(ue.SV_MANAGE_CAPACITY,{screen:de.MANAGE_CAPACITY,carrierId:s.carrierId})}),[]);var T={options:[{value:"",name:"All Capacity"},{value:"TRUCK",name:"Trucks"},{value:"LANE",name:"Lanes"}],data:v,setFilter:m},N=function(){tr.details.getR2FeatureEnable()?_r.show():o?d.push("".concat(k,"/Add")):c()},R=function(){var e=h.selected.filter((function(e){return e.selected})).map((function(e){return e.value})).join("");return e?i.filter((function(t){return t.capacityType===e})):i};Object(r.useEffect)((function(){var e=R(),t=e.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{originDetails:e.origin?"".concat(e.origin.city,", ").concat(e.origin.state):"",originDate:"TRUCK"===e.capacityType?"".concat(kt()(e.pickUpFromDate).format("MMMM DD")," to ").concat(kt()(e.pickUpToDate).format("MMMM DD")):"",originRadius:e.origin&&e.origin.radius||"",destinationDetails:e&&e.destinationStates&&e.destinationStates>0?e.destinationStates.join(", "):null===e.destination.city?P:"".concat(e.destination.city,", ").concat(e.destination.state&&e.destination.state.toUpperCase()),destinationRadius:e&&e.destinationStates&&e.destinationStates>0?"":e.destination.radius})}));y(e),D(t)}),[i,h]);var I=function(t){var a=t.capacityId,r=t.capacityType;if(o){var n=A.deleteCapacity(a);p({query:n,capacityId:a,callback:function(){_r.open({showUndo:!0,message:"{{CAPACITY}} removed".replace("{{CAPACITY}}",Ru(r,!0)),callback:function(){!function(t){var a=t.destination?{destinationCity:t.destination.city,destinationState:t.destination.state,destinationCountry:t.destination.country,destinationLatitude:t.destination.latitude,destinationLongitude:t.destination.longitude,destinationRadius:t.destination.radius}:{},r=t.origin?{originCity:t.origin.city,originState:t.origin.state,originRadius:t.origin.radius,originCountry:t.origin.country,originLongitude:t.origin.latitude,originLatitude:t.origin.longitude}:{},n=Object(u.a)(Object(u.a)(Object(u.a)({capacityId:null,userId:t.lastUpdatedBy,userEmail:t.lastUpdatedByEmail,userPhone:t.lastUpdatedByPhoneNumber,capacityType:t.capacityType,commonCarrierId:t.commonCarrierId,trailerType:t.trailerType},r),a),{},{preferredDays:t.preferredDays,pickUpToDate:t.pickUpToDate,pickUpFromDate:t.pickUpFromDate,destinationStates:t.destinationStates}),i=A.addCapacity();e.addCapacityItem({params:{query:i,input:n},callback:function(){}})}(t)}})}})}else c()},C=function(t){o?(e.setSelectedCapacityAction({capacityItem:t}),d.push("".concat(k,"/View"))):c()};return Object(l.V)("desktop")?n.a.createElement(l.l,{className:"manage-capacity-desktop",onIonScrollEnd:E},n.a.createElement(Pu,{columns:Eu({handleDelete:I}),data:_,showEndofList:!0,showHeader:!1,titleText:n.a.createElement(wu,{dropdown:T,filter:h.selected}),pagination:!0,redirect:C}),n.a.createElement("div",{className:"manage-capacity-buttons"},n.a.createElement(l.e,{class:"load-btn",onClick:function(){return d.push("/app/manage/ManageMyCapacity/Add")}},n.a.createElement(l.q,{src:"assets/icon/Add_Black.svg"}),"Add"))):n.a.createElement(l.B,{className:"desktop-page","data-test":"IonPage-Manage"},n.a.createElement(fc,{title:"Manage My Capacity",backUrl:"/app/"+e.module,History:e.history,addPage:N}),n.a.createElement(l.l,{className:"ion-padding recent_container",onIonScrollEnd:E},n.a.createElement(so,{status:t,onPullToRefresh:a}),n.a.createElement(wu,{dropdown:T,filter:h.selected}),n.a.createElement(l.o,{class:"recent-list"},v.length>0?n.a.createElement(n.a.Fragment,null,v.map((function(e,t){return n.a.createElement(Du,{data:e,key:"lane".concat(t),handleClick:C,handleDelete:I})})),n.a.createElement("div",{className:"end-of-list"},"End of list")):n.a.createElement(Tu,{icon:"no-search-icon",message:"We don't have any trucks/lanes right now. <br /> Please click on <b>Add</b> to add new button.",callback:N,constantButton:"Add"}))))},Mu=a(103),Uu=function(e){var t=e.item,a=e.listItems,r=e.history.push;return n.a.createElement(l.B,{className:"desktop-page my-load-desktop-page manage-card-content manage-capacity-view-desktop"},n.a.createElement(fc,{title:"Manage",imageCapature:e}),n.a.createElement(l.l,{className:"custom-padding"},n.a.createElement("h1",null,t.capacityId),a.map((function(e,t){return n.a.createElement("div",{className:"manage-capacity-wrapper",key:"main_".concat(e.title,"_").concat(t)},e.title?n.a.createElement("h3",{className:e.value?"underline":""},e.title,n.a.createElement("span",null,e.value)):null,n.a.createElement(l.y,{className:"manage-capcity-list"},e.childrens.map((function(e){return n.a.createElement(l.v,{key:e.title,"data-test":e.slug,className:"manage-capacity-item"},n.a.createElement(l.w,{position:"floating",mode:"ios"},e.title),n.a.createElement(l.u,{value:e.value,readonly:!0,type:"text",className:"manage-input-field",onClick:e.callback?e.callback:function(){}}))}))))})),n.a.createElement("div",{className:"manage-capacity-buttons"},n.a.createElement(l.e,{class:"load-btn","data-test":"back-btn",onClick:function(){return r("/app/manage")}},"Back"),n.a.createElement(l.e,{class:"load-btn","data-test":"edit-btn",onClick:function(){return r("/app/manage/ManageMyCapacity/Edit")}},"Edit"))))},Fu=function(e){var t=e.selectedCapacity,a=e.isNetworkAvailable,i=e.showNetworkAlert,s=e.history,o=e.userDetails;Object(r.useEffect)((function(){Rt(ue.SV_MANAGE_CAPACITY_ADDEDIT,{screen:de.MANAGE_CAPACITY_ADDEDIT,carrierId:o.carrierId})}),[]);var c="TRUCK"===t.capacityType?[{title:"Pick-up Start Date",slug:"pickup-start-date",value:t&&kt()(t.pickUpFromDate).format("MMMM DD, YYYY")},{title:"Pick-up End Date",slug:"pickup-end-date",value:t&&kt()(t.pickUpToDate).format("MMMM DD, YYYY")}]:[{title:"Days of Week",slug:"days-of-week",value:t&&t.preferredDays&&t.preferredDays.map((function(e){return Ru(e.substr(0,3),!0)})).join(", ")||""}],u=!t.destinationStates||t.destinationStates&&0===t.destinationStates.length&&t.destination.radius?[{title:"Destination Radius",slug:"destination-radius",value:t.destination.radius?"".concat(t.destination.radius,"mi"):"NA"}]:[],d=[{title:"Last Updated",value:kt()(t.lastUpdatedDateTime).format("MMM DD, YYYY h:mm a"),childrens:[{title:"Name",slug:"last-update-name",value:t&&t.lastUpdatedBy||""},{title:"Email address",slug:"last-update-email",value:t&&t.lastUpdatedByEmail||"",callback:function(){window.location.href="mailto:".concat(t.lastUpdatedByEmail)}},{title:"Phone",slug:"last-update-phone",value:t&&t.lastUpdatedByPhoneNumber||"",callback:function(){Mu.a.callNumber(t.lastUpdatedByPhoneNumber,!0).then((function(e){})).catch((function(e){}))}}]},{title:"",value:"",childrens:[{title:"Capacity Type",slug:"capacity-type",value:t&&Ru(t.capacityType,!0)},{title:"Trailer Type",slug:"trailer-type",value:t&&t.trailerType}]},{title:"Pick-up",value:"",childrens:[{title:"Origin",slug:"origin-name",value:t&&"".concat(t.origin.city).concat(t.origin.state?", "+t.origin.state:"")},{title:"Origin Radius",slug:"origin-radius",value:t&&"".concat(t.origin.radius,"mi")}].concat(c)},{title:"Delivery",value:"",childrens:[{title:t&&t.destinationStates&&t.destinationStates.length?"States":"Destination",slug:t&&t.destinationStates&&t.destinationStates.length?"destination-states":"destination-details",value:t&&t.destinationStates&&t.destinationStates.length>0?Ou(t.destinationStates).join(", "):null!==t.destination.city?"".concat(t.destination.city).concat(t.destination.state?", "+t.destination.state:""):P}].concat(u)}];return Object(l.V)("desktop")?n.a.createElement(Uu,Object.assign({},e,{item:t,listItems:d})):n.a.createElement(l.B,{className:"desktop-page"},n.a.createElement(fc,{title:t.capacityId,backUrl:"/app/"+e.module,History:e.history,editData:function(){a?s.push("/app/".concat(e.module,"/Edit")):i()}}),n.a.createElement(l.l,{className:"custom-padding"},d.map((function(e,t){return n.a.createElement("div",{className:"manage-capacity-wrapper",key:"main_".concat(e.title,"_").concat(t)},e.title?n.a.createElement("h3",{className:e.value?"underline":""},e.title,n.a.createElement("span",null,e.value)):null,n.a.createElement(l.y,{className:"manage-capcity-list"},e.childrens.map((function(e){return n.a.createElement(l.v,{key:e.title,"data-test":e.slug,className:"manage-capacity-item"},n.a.createElement(l.w,{position:"floating",mode:"ios"},e.title),n.a.createElement(l.u,{value:e.value,readonly:!0,type:"text",className:"manage-input-field",onClick:e.callback?e.callback:function(){}}))}))))}))))},Vu=(a(532),n.a.memo((function(e){var t=e.fromDate,a=e.toDate,i=e.pickUpLocalTime,s=e.handleError,o=Object(r.useState)(!1),c=Object(f.a)(o,2),u=c[0],d=c[1],p=function(t){e.handleChange(t)},m=Vs()||(new Date).getFullYear();return Object(r.useEffect)((function(){if(t&&a){var e=a.split("T")[0]<t.split("T")[0];d(e),s(e)}}),[t,a]),Object(r.useEffect)((function(){d(e.error)}),[e.error]),n.a.createElement(n.a.Fragment,null,n.a.createElement(l.o,{class:"time-window"},n.a.createElement(l.H,{class:"pickuptime-title"},"Pick-up Date"),n.a.createElement(l.H,null,n.a.createElement(l.k,null,n.a.createElement(l.w,{class:"pickup-date-title"},"From Date"),n.a.createElement(l.m,{displayFormat:"MMM DD, YYYY",min:i&&i.split("T")[0],value:t,yearValues:m,onIonChange:function(e){return p(e)},mode:"ios",name:"fromDate"})),n.a.createElement(l.k,null,n.a.createElement(l.o,{class:"to-date-grid"},n.a.createElement(l.w,{class:"pickup-date-title"},"To Date"),n.a.createElement(l.m,{displayFormat:"MMM DD, YYYY",min:i&&i.split("T")[0],value:a,yearValues:m,onIonChange:function(e){return p(e)},mode:"ios",name:"toDate"}))))),u?n.a.createElement(l.o,{className:"pickupdate-error"},n.a.createElement("p",null,M)):null)}))),Hu=(a(533),function(e){var t=ve.map((function(e){return{label:e.label.toLowerCase(),value:e.value,selected:!1}})),a=Object(r.useState)(t),i=Object(f.a)(a,2),s=i[0],o=i[1],c=Object(r.useState)(!1),d=Object(f.a)(c,2),p=d[0],m=d[1],h=Object(r.useState)(!1),E=Object(f.a)(h,2),g=E[0],b=E[1];Object(r.useEffect)((function(){if(e.preferredDays){var a=t.map((function(t){return Object(u.a)(Object(u.a)({},t),{},{selected:-1!==e.preferredDays.indexOf(t.value)})}));o(a),m(7===e.preferredDays.length)}}),[e.preferredDays]),Object(r.useEffect)((function(){b(e.showError)}),[e.showError]);var v=function(t){var a=t.filter((function(e){return e.selected})).map((function(e){return e.value})),r=7===a.length;m(r),o(t),e.handleError(!1),e.setPickupDays(a)};return n.a.createElement(n.a.Fragment,null,n.a.createElement(l.H,{className:"pickupdays-title-wrapper"},n.a.createElement(l.w,{class:"pickupdays-title"},"Days of Week")),n.a.createElement(l.H,{className:"pickupday-wrapper"},s.map((function(e){return n.a.createElement(l.k,{size:"3",className:"pickupday ".concat(e.selected?"selected":""),key:e.label,onClick:function(){return function(e){var t=s.map((function(t){return Object(u.a)(Object(u.a)({},t),{},{selected:t.label===e.label?e.selected:t.selected})}));v(t)}(Object(u.a)(Object(u.a)({},e),{},{selected:!e.selected}))}},e.label)})),n.a.createElement(l.k,{className:"pickupday ".concat(p?"selected":""),onClick:function(){var e=s.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{selected:!p})}));v(e)},"data-test":"handle-click"},"All")),g?n.a.createElement(l.H,{className:"pickupdays-error-wrapper"},n.a.createElement(l.N,{class:"pickupdays-error"},"Kindly select atleast one day")):null)}),Gu=(a(534),function(e){var t=e.options,a=e.name,i=e.placeholder,s=e.label,o=e.value,c=Object(r.useState)(!1),u=Object(f.a)(c,2),d=u[0],p=u[1],m=Object(r.useState)({}),h=Object(f.a)(m,2),E=h[0],g=h[1];Object(r.useEffect)((function(){if(o){var e=t.find((function(e){return e.code===o}));e&&g(e)}}),[o]);return n.a.createElement(l.o,{class:"select-grid"},n.a.createElement(l.H,{class:"select-label-row"},n.a.createElement(l.w,{class:"select-label"},s)),n.a.createElement(l.H,{"data-test":"show-options",class:"select-type",onClick:function(){return p(!d)}},n.a.createElement(l.k,{class:"select-name"},E&&E.name?E.name:i),n.a.createElement(l.k,{class:"dropDown-icon"},n.a.createElement(l.q,{src:"/assets/icon/grid-down-arrow.svg"}))),t&&d?n.a.createElement(l.o,{className:"select-suggetion-grid"},t.map((function(t,r){return n.a.createElement(l.H,{"data-test":"select-change",className:"select-change",key:r,onClick:function(){!function(t){g(t),p(!1),e.handleChange({name:a,value:t})}(t)}},n.a.createElement(l.k,{className:"select-suggestion-item"},t.name))}))):null)}),Bu=function(e){return n.a.createElement(l.B,{className:"desktop-page my-load-desktop-page manage-card-content manage-capacity-view-desktop"},n.a.createElement(fc,{title:"Manage",imageCapature:e}),n.a.createElement(l.l,{className:"ion-padding custom-padding add-capacity-form-content"},n.a.createElement("h1",null,e.title||"Add Lane/Truck"),n.a.createElement(l.o,{class:"capacity-grid"},n.a.createElement(l.H,null,n.a.createElement(l.k,{size:"6"},n.a.createElement(l.H,{class:"capacity-label-row"},n.a.createElement(l.w,{class:"capacity-label"},"Capacity Type")),n.a.createElement(l.H,{class:"capacity-type","data-test":"capacity-type",onClick:function(){return e.setShowCapacityOptions(!e.showCapacityOptions)}},n.a.createElement(l.k,{class:"capacity-name"},e.capacityType.name),e.capacityId?null:n.a.createElement(l.k,{class:"dropDown-icon"},n.a.createElement(l.q,{src:"/assets/icon/grid-down-arrow.svg"}))),n.a.createElement(l.H,{class:"capacity-desc"},e.capacityType.desc),!e.capacityId&&e.capacityOptions&&e.showCapacityOptions?n.a.createElement(l.o,{class:"suggetion-grid","data-test":"capacity-type-list"},e.capacityOptions.map((function(t,a){return n.a.createElement(l.H,{key:a,"data-test":"capacity-type-list-item",onClick:function(){e.setCapacityType(t),e.setStatesShow(!1),e.setShowCapacityOptions(!1)}},t.name)}))):null))),n.a.createElement(l.o,{class:"capacity-grid-form"},n.a.createElement(l.H,null,n.a.createElement(l.k,{size:"6"},n.a.createElement(l.H,{class:"pickup-row"},n.a.createElement(l.k,null,"Pick-up")),n.a.createElement(l.H,{class:"pickup-content"},n.a.createElement(l.k,null,n.a.createElement(Gs,{origin:e.originDetails.address,originError:e.originError,originRadius:e.originRadius,handleChange:e.handleChange,rangeDisabled:!0,isDestination:!1,defaultValue:P,useHandler:!1,setErrorValue:e.setErrorValue,updateLocalCurrentTime:e.updateLocalCurrentTime,showDate:!1,onFocus:function(){e.isOriginEdit||e.setOriginEdit(!0)}}),"Truck"===e.capacityType.name?n.a.createElement(Vu,{pickUpLocalTime:e.pickUpLocalTime,handleChange:e.handleChange,fromDate:e.pickupFromDate,toDate:e.pickupToDate,error:e.pickupTimeError,handleError:e.setPickuptimeError}):n.a.createElement(Hu,{setPickupDays:e.setPreferredDays,showError:e.pickupDaysError,handleError:e.setPickupDaysError})))),n.a.createElement(l.k,{size:"6"},n.a.createElement(l.H,{class:"pickup-row"},n.a.createElement(l.k,{size:"6"},"Delivery"),n.a.createElement(l.k,{size:"6"},n.a.createElement(l.g,{class:"trailer-type-card"},n.a.createElement(Ds,{labelName:"Trailer type",TrailerType:e.trailerType,handleChange:e.handleChange})))),n.a.createElement(l.H,{class:"pickup-content"},n.a.createElement(l.k,null,"Truck"===e.capacityType.name?n.a.createElement(l.H,{class:"states-wrapper"},n.a.createElement(l.k,{size:"6",class:"state-destination-label"},e.isStatesShow?n.a.createElement("span",null,"Destination"):null),n.a.createElement(l.k,{size:"6",class:"state-toggle-wrapper"},n.a.createElement(l.N,{class:"state-toggle-label"},"Select States"),n.a.createElement(l.R,{mode:"ios",class:"state-toggle",checked:e.isStatesShow,name:"stateToggle",onIonChange:e.handleChange}))):null,e.isStatesShow&&"Truck"===e.capacityType.name?n.a.createElement("div",{"data-test":"state-list-wrapper",className:"states-list-wrapper ".concat(e.stateError?"error":"")},e.statesList&&e.statesList.map((function(t,a){return n.a.createElement(Gu,{key:"state".concat(a),options:hu,placeholder:"Choose the state",label:t.label,name:t.name,handleChange:e.handleStateChange})}))):n.a.createElement(Bs,{destination:e.destinationDetails.address!==P&&""!==e.destinationDetails.address?e.destinationDetails.address:"Truck"===e.capacityType.name?P:"",destinationError:e.destinationError,Destination:"DestinationDetails",handleChange:e.handleChange,rangeDisable:e.destinationDetails&&("Lane"===e.capacityType.name&&e.destinationDetails.address===P||""===e.destinationDetails.address||null===e.destinationDetails.address),platform:"mobile",keyboardshowHandler:function(){},keyboardhideHandler:function(){},defaultValue:P,isDestination:!0,useHandler:!0,setErrorValue:e.setErrorValue,destinationRadius:e.destinationRadius,updateLocalCurrentTime:e.updateLocalCurrentTime,showDate:!1,onFocus:function(){e.isDestinationEdit||e.setDestinationEdit(!0)}})))))),n.a.createElement("div",{className:"manage-capacity-buttons"},n.a.createElement(l.e,{class:"load-btn","data-test":"back-btn",onClick:function(){return e.handleBackButton()}},"Back"),n.a.createElement(l.e,{class:"load-btn save-btn","data-test":"save-btn",onClick:function(){return e.handleSubmit()}},"Save"))))},qu=[{name:"Truck",desc:"Spot capacity currently available."},{name:"Lane",desc:"Frequently desired origin to destination."}],zu=new Date,Yu=new Date;Yu.setDate(Yu.getDate()+1);var Wu={city:P,state:null,country:null,lat:null,lng:null,address:null},Zu=function(e){var t=e.userDetails,a=e.selectedCapacity,i=void 0===a?null:a,s=Object(r.useState)(!1),o=Object(f.a)(s,2),c=o[0],d=o[1],p=Object(r.useState)(qu[0]),m=Object(f.a)(p,2),h=m[0],E=m[1],g=Object(r.useState)(x),b=Object(f.a)(g,2),v=b[0],y=b[1],S=Object(r.useState)({}),O=Object(f.a)(S,2),_=O[0],D=O[1],A=Object(r.useState)(!1),k=Object(f.a)(A,2),T=k[0],N=k[1],R=Object(r.useState)(100),I=Object(f.a)(R,2),C=I[0],j=I[1],w=Object(r.useState)(zu.toISOString()),L=Object(f.a)(w,2),M=L[0],U=L[1],V=Object(r.useState)(zu.toISOString()),H=Object(f.a)(V,2),q=H[0],z=H[1],Y=Object(r.useState)(Yu.toISOString()),W=Object(f.a)(Y,2),Z=W[0],K=W[1],J=Object(r.useState)([]),Q=Object(f.a)(J,2),X=Q[0],$=Q[1],ee=Object(r.useState)(!1),te=Object(f.a)(ee,2),ae=te[0],re=te[1],ne=Object(r.useState)(Object(u.a)(Object(u.a)({},Wu),{},{city:null,address:""})),ie=Object(f.a)(ne,2),se=ie[0],oe=ie[1],ce=Object(r.useState)(100),le=Object(f.a)(ce,2),ue=le[0],de=le[1],pe=Object(r.useState)(!1),me=Object(f.a)(pe,2),fe=me[0],he=me[1],Ee=Object(r.useState)(!1),ge=Object(f.a)(Ee,2),be=ge[0],ve=ge[1],ye=Object(r.useState)(!1),Se=Object(f.a)(ye,2),Oe=Se[0],_e=Se[1],De=Object(r.useState)(!1),Ae=Object(f.a)(De,2),ke=Ae[0],Te=Ae[1],Ne=Object(r.useState)(!1),Re=Object(f.a)(Ne,2),Ie=Re[0],Ce=Re[1],je=Object(r.useState)(!1),we=Object(f.a)(je,2),Le=we[0],Pe=we[1],xe=Object(r.useState)(!1),Me=Object(f.a)(xe,2),Ue=Me[0],Fe=Me[1],Ve=Object(r.useState)(!1),He=Object(f.a)(Ve,2),Ge=He[0],Be=He[1],qe=Object(r.useState)(bu),ze=Object(f.a)(qe,2),Ye=ze[0],We=ze[1],Ze=!1,Ke=function(e){var t=e.target,a=t.name,r=t.value;switch(a){case"TrailerType":y(r);break;case"fromDate":z(r);break;case"toDate":K(r);break;case B:ve(!1),Ue&&vu(e.target,D);break;case"originRadius":j(r);break;case"destination":_e(!1),Ge&&vu(e.target,oe);break;case"destinationRadius":de(r);break;case"stateToggle":he(!fe)}},Je=function(){var e=bu.map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{value:i.destinationStates[t]||""})}));Fe(!1),E(qu["TRUCK"===i.capacityType?0:1]),y(i.trailerType),D(Object(u.a)(Object(u.a)({},i.origin),{},{lat:i.origin.latitude,lng:i.origin.longitude,address:i.origin.city+(i.origin.state?", ".concat(i.origin.state):"")})),j(i.origin.radius),""!==i.pickUpFromDate&&U(i.pickUpFromDate),i.pickUpFromDate&&""!==i.pickUpFromDate&&z(i.pickUpFromDate),i.pickUpToDate&&""!==i.pickUpToDate&&K(i.pickUpToDate),$(i.preferredDays),oe(Object(u.a)(Object(u.a)({},i.destination),{},{address:null!==i.destination.city?i.destination.city+(i.destination.state?", ".concat(i.destination.state):""):P})),de(i.destination.radius||100),he(i&&i.destinationStates.length>0),We(e),re(!1),Be(!1),Pe(!1),Ce(!1)};Object(r.useEffect)((function(){i&&Je()}),[i]),Object(l.W)((function(){T||i||(N(!0),et())}));var Qe=function(e,t){return t===B?ve(e):_e(e)},Xe=function(e,t){e===G&&(!Ze&&t&&(z(M),Ze=!0),U(t))},$e=function(e){var t=e.name,a=e.value,r=Ye.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{value:e.name===t?a.code:e.value})})),n=r.filter((function(e){return""!==e.value})).map((function(e){return e.value}));Te(0===n.length),We(r)},et=function(){E(qu[0]),y(x),D({}),j(100),U(zu.toISOString()),z(zu.toISOString()),K(Yu.toISOString()),$([]),re(!1),oe(Object(u.a)(Object(u.a)({},Wu),{},{address:P})),de(100),he(!1),ve(!1),We(bu)},tt=function(){if(i)Je(),e.history.push("/app/"+e.module);else{N(!1);var t=Object(l.V)("desktop")?"/app/manage":"/app/"+e.module;e.history.push(t)}},at=function(){if(!(_&&_.city&&_.lat&&_.lng))return ve(F),!0;if(Ie&&"Truck"===h.name)return!0;if("Lane"===h.name&&0===X.length)return Pe(!0),!0;if("Lane"===h.name&&(!se||!se.city||se.city===P))return _e(F),re(!0),!0;var a=Ye.filter((function(e){return""!==e.value})).map((function(e){return e.value}));if(fe&&0===a.length)return Te(!0),!0;Fe(!1),Be(!1);var r=fe||se.city===P?{destinationCity:null,destinationState:null,destinationCountry:null,destinationLatitude:null,destinationLongitude:null}:{destinationCity:se.city,destinationState:se.state,destinationCountry:"US"===se.country?"USA":se.country,destinationLatitude:se.lat,destinationLongitude:se.lng},n=Object(u.a)(Object(u.a)({capacityId:i&&i.capacityId||null,userId:t.userPrincipalName,userEmail:t.email,userPhone:t.mobileNumber||t.phone,capacityType:h.name.toUpperCase(),commonCarrierId:t.carrierId,trailerType:v,originCity:_.city,originState:_.state,originRadius:C,originCountry:"US"===_.country?"USA":_.country,originLongitude:_.lng,originLatitude:_.lat},r),{},{destinationRadius:null!==r.destinationCity?ue:null,preferredDays:"Lane"===h.name?X:[],pickUpToDate:"Lane"!==h.name?gu(Z):null,pickUpFromDate:"Lane"!==h.name?gu(q):null,destinationStates:fe?a:[]});e.handleSubmit(n,et)};return Object(l.V)("desktop")?n.a.createElement(Bu,Object.assign({},e,{capacityId:i&&i.capacityId||null,title:i&&i.capacityId||null,statesList:Ye,capacityOptions:qu,showCapacityOptions:c,setShowCapacityOptions:d,capacityType:h,setCapacityType:E,trailerType:v,originDetails:_,originRadius:C,pickUpLocalTime:M,handleChange:Ke,pickupFromDate:q,pickupToDate:Z,pickupTimeError:Ie,setPickuptimeError:Ce,setPreferredDays:$,pickupDaysError:Le,setPickupDaysError:Pe,showDelivaryfields:ae,setShowDelivaryfields:re,destinationDetails:se,destinationRadius:ue,isStatesShow:fe,setStatesShow:he,handleStateChange:$e,isOriginEdit:Ue,setOriginEdit:Fe,isDestinationEdit:Ge,setDestinationEdit:Be,setErrorValue:Qe,handleSubmit:at,handleBackButton:tt})):n.a.createElement(l.B,{className:"manage-userslist-page"},n.a.createElement(fc,{title:i&&i.capacityId||"Add Lane/Truck",customBackUrl:tt,History:e.history}),n.a.createElement(l.l,{className:"ion-padding add-capacity-content"},n.a.createElement(l.l,{className:"add-capacity-form-content"},n.a.createElement(l.o,{class:"capacity-grid"},n.a.createElement(l.H,{class:"capacity-label-row"},n.a.createElement(l.w,{class:"capacity-label"},"Capacity Type")),n.a.createElement(l.H,{class:"capacity-type","data-test":"capacity-type",onClick:function(){return d(!c)}},n.a.createElement(l.k,{class:"capacity-name"},h.name),i?null:n.a.createElement(l.k,{class:"dropDown-icon"},n.a.createElement(l.q,{src:"/assets/icon/grid-down-arrow.svg"}))),n.a.createElement(l.H,{class:"capacity-desc"},h.desc),!i&&qu&&c?n.a.createElement(l.o,{class:"suggetion-grid","data-test":"capacity-type-list"},qu.map((function(e,t){return n.a.createElement(l.H,{key:t,"data-test":"capacity-type-list-item",onClick:function(){E(e),he(!1),d(!1)}},e.name)}))):null),n.a.createElement(l.o,{class:"add-capacity-grid-mobile"},n.a.createElement(l.g,{class:"trailer-type-card"},n.a.createElement(Ds,{labelName:"Trailer type",TrailerType:v,handleChange:Ke})),n.a.createElement(l.o,{class:"add-capacity-pick-up"},n.a.createElement(l.H,{class:"pickup-row"},"Pick-up"),T||i?n.a.createElement(Gs,{origin:_.address,originError:be,originRadius:C,handleChange:Ke,rangeDisabled:!0,isDestination:!1,defaultValue:P,useHandler:!1,setErrorValue:Qe,updateLocalCurrentTime:Xe,showDate:!1,onFocus:function(){Ue||Fe(!0)}}):null,"Truck"===h.name?n.a.createElement(Vu,{pickUpLocalTime:M,handleChange:Ke,fromDate:q,toDate:Z,error:Ie,handleError:Ce}):n.a.createElement(Hu,{preferredDays:X,setPickupDays:$,showError:Le,handleError:Pe}),n.a.createElement(l.g,{class:"delivery-type-card"},n.a.createElement(l.i,{class:"".concat(ae?"":"changeColor"),"data-test":"delivery-type-accordian",onClick:function(){return re(!ae)}},n.a.createElement("span",null," Delivery"),ae?n.a.createElement(l.q,{"data-test":"delivery-minus-icon",src:"assets/icon/minus-icon.svg"}):n.a.createElement("div",{className:"desitnation-city"},i&&i.destinationStates&&0===i.destinationStates.length?"".concat(se.address!==P&&""!==se.address?se.address:"Truck"===h.name?P:""):"",n.a.createElement(l.q,{src:"assets/icon/plus.svg"}))),n.a.createElement(l.h,{class:"".concat(ae?"fadein":"fadeout")},"Truck"===h.name?n.a.createElement(l.N,{className:"states-toggle-wrapper"},n.a.createElement("div",{className:"destination-wrapper"},fe?n.a.createElement("span",null,"Destination"):null),n.a.createElement("div",{className:"state-wrapper"},n.a.createElement("span",null,"Select States"),n.a.createElement(l.R,{mode:"ios",class:"state-toggle",checked:fe,name:"stateToggle",onIonChange:Ke}))):null,fe&&"Truck"===h.name?n.a.createElement("div",{"data-test":"state-list-wrapper",className:"states-list-wrapper ".concat(ke?"error":"")},Ye&&Ye.map((function(e,t){return n.a.createElement(Gu,{key:"state".concat(t),options:hu,placeholder:"Choose the state",label:e.label,name:e.name,value:Ye[t]&&Ye[t].value,handleChange:$e})}))):n.a.createElement(Bs,{destination:"".concat(se.address!==P?se.address:"Truck"===h.name?P:""),destinationError:Oe,Destination:"DestinationDetails",handleChange:Ke,rangeDisable:se&&("Lane"===h.name&&se.address===P||""===se.address||null===se.address),platform:"mobile",keyboardshowHandler:yu,keyboardhideHandler:Su,defaultValue:P,isDestination:!0,useHandler:!0,setErrorValue:Qe,destinationRadius:ue,updateLocalCurrentTime:Xe,showDate:!1,onFocus:function(){Ge||Be(!0)}})))))),n.a.createElement(l.n,{class:"addTruckFooter"},n.a.createElement(l.e,{expand:"full","data-test":"capacity-submit",onClick:at},"Save"))))},Ku=Object(nt.b)({isLoading:en(),isCapacityLoaded:Object(nt.a)([gl],(function(e){return e.capacity.loaded||hl.capacity.loaded})),isNetWorkAvailable:on(),userDetails:nn(),isPullToRefresh:sn(),capacityList:Object(nt.a)([gl],(function(e){return e.capacity.data||hl.capacity.data})),filter:Object(nt.a)([gl],(function(e){return e.capacity.filter||hl.capacity.filter}))}),Ju=_s({key:"manage",reducer:El}),Qu=Ss({key:"manage",saga:cu}),Xu=Object(c.c)(Ku,(function(e){return{showNetworkAlert:function(){return e(dr())},getCapacityListAction:function(t){return e(function(e){return{type:"GET_MANAGE_CAPACITY_LIST",payload:e}}(t))},addCapacityItem:function(t){return e(nl(t))},removeCapacityAction:function(t){return e(function(e){return{type:"MANAGE_CAPACITY_REMOVE",payload:e}}(t))},setSelectedCapacityAction:function(t){return e(function(e){return{type:"MANAGE_CAPACITY_SELECTED",payload:e}}(t))},setCapacityFilter:function(t){return e(function(e){return{type:"MANAGE_CAPACITY_FILTER",payload:e}}(t))}}})),$u=Object(d.compose)(Qu,Ju,Xu)(Object(tt.h)((function(e){var t=e.capacityList,a=e.isLoading,i=e.isCapacityLoaded,s=e.userDetails,o=e.getCapacityListAction,c=new ku,u=Object(l.V)("desktop")?99:10,d=Object(r.useState)(0),p=Object(f.a)(d,2),m=p[0],h=p[1],b=Object(r.useState)(!1),v=Object(f.a)(b,2),y=v[0],S=v[1],O=function(){h(0),S(!1)},_=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=s.carrierId,n=c.getList(r,t,u);e&&O(),o({query:n,isPullToRefresh:e,callback:a})};Object(r.useEffect)((function(){s&&!i&&(O(),_())}),[s,i]);var D=function(){var e=Object(g.a)(E.a.mark((function e(t){var r,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.currentTarget.getScrollElement();case 2:if(0!==e.sent.scrollTop){e.next=5;break}return e.abrupt("return",!0);case 5:!Object(l.V)("desktop")&&!y&&!a&&m<5&&(n=function(e){0!==e&&e%u===0||S(!0)},h(r=m+1),_(!1,r,n));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return n.a.createElement(xu,Object.assign({module:"manage"},e,{data:t,getCapacityList:_,onPageScroll:D}))}))),ed=Object(nt.b)({isNetWorkAvailable:on(),userDetails:nn()}),td=Object(c.c)(ed,(function(e){return{showNetworkAlert:function(){return e(dr())},addCapacityItem:function(t){return e(nl(t))}}}))((function(e){var t=e.isNetWorkAvailable,a=e.showNetworkAlert,r=e.history,i=e.userDetails;return n.a.createElement(Zu,Object.assign({module:"manage/ManageMyCapacity"},e,{handleSubmit:function(n,s){if(!t)return a(),!0;var o=(new ku).addCapacity();e.addCapacityItem({params:{query:o,input:n},callback:function(e){_r.show(e?"Your details has been saved successfully":be),Rt(e?ue.UE_MANAGE_CAPACITY_SUCCESS:ue.UE_MANAGE_CAPACITY_FAILED,{screen:de.MANAGE_CAPACITY_ADDEDIT,carrierId:i&&i.carrierId||"",capacityType:"lane"}),s(),r.push("/app/manage".concat(Object(l.V)("desktop")?"":"/ManageMyCapacity"))}})}}))})),ad=Object(nt.b)({isNetWorkAvailable:on(),userDetails:nn(),selectedCapacity:Sl()}),rd=Object(c.c)(ad,(function(e){return{showNetworkAlert:function(){return e(dr())},updateCapacityItem:function(t){return e(function(e){return{type:"MANAGE_CAPACITY_EDIT",payload:e}}(t))}}}))((function(e){var t=e.isNetWorkAvailable,a=e.showNetworkAlert,r=e.history,i=e.selectedCapacity,s=e.userDetails;return i?n.a.createElement(Zu,Object.assign({module:"".concat("manage/ManageMyCapacity","/View")},e,{handleSubmit:function(n,i){if(!t)return a(),!0;var o="".concat(s.firstName," ").concat(s.lastName),c=(new ku).updateCapacity();e.updateCapacityItem({params:{query:c,input:n,lastUpdatedBy:o},callback:function(e){_r.show(e?"Your details has been updated successfully":be),e&&r.push("/app/".concat("manage/ManageMyCapacity","/View"))}})}})):null})),nd=Object(nt.b)({isNetworkAvailable:on(),userDetails:nn(),selectedCapacity:Sl()}),id=Object(c.c)(nd,(function(e){return{showNetworkAlert:function(){return e(dr())}}}))((function(e){return e.selectedCapacity?n.a.createElement(Fu,Object.assign({},e,{module:"manage/ManageMyCapacity"})):null})),sd=function(e){return function(e){switch(e){case"My Profile":return n.a.createElement(fl,null);case"Carrier Profile":return n.a.createElement(Cl,null);case"Manage Users":return n.a.createElement(mu,null);case"Manage My Capacity":return n.a.createElement($u,null);default:return n.a.createElement(fl,null)}}(e.section)},od=function(e){var t=e.manageCards.map((function(e){return e.profileHeading})),a=Object(r.useState)({name:"Profile",data:{}}),i=Object(f.a)(a,2),s=i[0],o=i[1];return n.a.createElement(l.B,{className:"desktop-page my-load-desktop-page manage-card-content"},n.a.createElement(fc,{title:"Manage",getSegment:function(e){o({name:e.detail.value,data:{}})},segments:t,activeSegment:s.name,imageCapature:e}),n.a.createElement(sd,{onRedirectToTab:function(e){o({name:e,data:{}})},section:s.name}))},cd=function(e){var t=e.history.push,a=e.userDetails,i=e.isTransferRequest,s=e.transferDetails,o=e.transferRequestReset,c=Object(r.useState)([]),d=Object(f.a)(c,2),p=d[0],m=d[1],h=Object(r.useState)(null),E=Object(f.a)(h,2),g=E[0],b=E[1];Object(r.useEffect)((function(){Rt(ue.SV_MANAGE_PROFILE,{screen:de.MANAGE_PROFILE,carrierId:e&&e.userDetails&&e.userDetails.carrierId})}),[]),Object(r.useEffect)((function(){var t=e.manageCard.filter((function(e){return!(!Ha.details.auth||!Ha.details.auth.user.roles.includes(De.carrierGuest))||xa("manage",S(e.profileHeading))}));m(t)}),[a,e.manageCard]);var v=function(t){var r=s.roles&&[new Et.EnumType(s.roles)]||[],n={userId:a.userPrincipalName,carrierId:s.carrierId,confirm:t,roles:r};e.handleTransfer(n)},y={isOpen:!1,title:"New carrier request",message:'{{COMPANY}} wants to add you as a user. Tap on "Agree" to join.',buttons:[{label:"Not Now",callback:function(){b(null),o(),v(!1)}},{label:"Agree",callback:function(){b(null),v(!0)}}]};function S(e){for(var t=e.split(" "),a="",r=0,n=t.length;r<n;r++){var i=t[r].toLowerCase();0!==r&&(i=i.substr(0,1).toUpperCase()+i.substr(1)),a+=i}return a}return Object(r.useEffect)((function(){b(i?Object(u.a)(Object(u.a)({},y),{},{isOpen:!0,message:y.message.replace("{{COMPANY}}",s.carrierName)}):null)}),[i]),Object(l.V)("desktop")?n.a.createElement(od,Object.assign({},e,{manageCards:p})):n.a.createElement(l.B,{className:"manage-header "},n.a.createElement(l.l,{className:"manage-card-content"},n.a.createElement(mc,e),n.a.createElement("div",{className:"manage_options"},n.a.createElement(l.y,{mode:"ios",className:"manage-list"},p&&p.map((function(a,r){return n.a.createElement(l.v,{key:r,"data-test":"manage-link",onClick:function(){!function(e){var a=e.profileHeading,r=e.profileRouting;if(xa("manage",S(a)))switch(a){case"My Profile":t(r);break;case"Manage Users":case"Manage My Capacity":case"Carrier Profile":tr.details.getR2FeatureEnable()?_r.show():t(r)}else _r.show(je)}(a)},class:"manage_list_item",lines:r===e.manageCard.length-1?"none":"inset"},a.profileHeading,n.a.createElement("img",{slot:"end",alt:"logo",src:"/assets/icon/more-arrow.svg",className:"moresideimg"}))}))))),g?n.a.createElement(Oo,g):null)},ld=Object(nt.b)({loading:en(),manageCard:Object(nt.a)([gl],(function(e){return e.manageCardData||hl.manageCardData})),userDetails:nn(),isTransferRequest:Object(nt.a)([gl],(function(e){return e.users.transfer.isRequested||hl.users.transfer.isRequested})),transferDetails:Object(nt.a)([gl],(function(e){return e.users.transfer.details||hl.users.transfer.details}))}),ud=Object(c.c)(ld,(function(e){return{manageData:function(){return e({type:"MANAGE_CARD_DATA"})},transferRequest:function(t){return e(el(t))},showPermissionAlert:function(t){return e(_t(t))},profileImg:function(t){return e(function(e){return{type:"PROFILE_IMAGE_SET",payload:e}}(t))},transferRequestReset:function(){return e({type:"MANAGE_USER_TRANSFER_REQUEST_RESET"})},confirmTransfer:function(t){return e(function(e){return{type:"MANAGE_USER_TRANSFER_COFIRM_REQUEST",payload:e}}(t))},logout:function(){return e(St())}}})),dd=_s({key:"manage",reducer:El}),pd=Ss({key:"manage",saga:cu}),md=Object(d.compose)(pd,dd,ud)((function(e){var t=e.history,a=Vr();function i(){return s.apply(this,arguments)}function s(){return(s=Object(g.a)(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Object(l.V)("capacitor")&&er.details.stopGPS(),t.next=3,Xa();case 3:return t.next=5,a.logout();case 5:return t.next=7,e.logout();case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(r.useEffect)((function(){0===e.manageCard.length&&e.manageData()}),[]),Object(r.useEffect)((function(){var a=t&&t.location&&t.location.state&&t.location.state.transfer||!1;a&&e.transferRequest({transfer:a})}),[t]);return n.a.createElement(cd,Object.assign({},e,{handleTransfer:function(t){var a=(new Er).confirmTransfer(t),r=function(){var a=Object(g.a)(E.a.mark((function a(){var r,n=arguments;return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if((r=n.length>0&&void 0!==n[0]&&n[0])||_r.show(be),!r||!t.confirm){a.next=6;break}return a.next=5,i();case 5:return a.abrupt("return",!0);case 6:e.transferRequestReset();case 7:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();e.confirmTransfer({query:a,callback:r})}}))}));a(535);var fd=function(e){Object(ct.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(ut.a)(e);if(t()){var n=Object(ut.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(lt.a)(this,a)}}(a);function a(e){var r;Object(b.a)(this,a),(r=t.call(this,e)).onTileClick=function(e,t,a){a.preventDefault(),!r.props.isInPullToRefresh&&(r.props.myLoadCount[t]>0||r.props.isNetworkAvailable,1)?""!==e.myLoadRouting?r.props.history.push(e.myLoadRouting):_r.show():r.props.isNetworkAvailable||r.props.showAlert({isShowAlert:!0,alertMessage:X,alertTitle:Q})},r.stopTripClicked=function(){r.setState({isShowStopButton:!1,shipmentID:null}),er.details.stopGPS()};var n=er.details.getGPStrackingShipmentID();return r.state={isShowFinanceAlert:!1,isShowStopButton:!!n,shipmentID:n||null},r}return Object(v.a)(a,[{key:"componentDidMount",value:function(){Rt(ue.SV_VIEW_MYLOADS,{screen:de.MYLOADS,carrierId:this.props&&this.props.userDetails&&this.props.userDetails.carrierId||""})}},{key:"componentDidUpdate",value:function(e,t){var a=er.details.getGPStrackingShipmentID();t.shipmentID!==a&&(a?this.setState({isShowStopButton:!0,shipmentID:a}):this.setState({isShowStopButton:!1,shipmentID:null}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.myLoadCard,r=t.myLoadCount;return n.a.createElement(l.B,{className:"desktop-page myLoad-landing-page"},n.a.createElement(fc,{title:"My Loads"}),n.a.createElement(l.l,{className:"myload-content"},n.a.createElement(l.l,{class:"myload-page-content"},n.a.createElement(so,{onPullToRefresh:this.props.getUserLoads,status:this.props.isInPullToRefresh}),n.a.createElement(l.o,{class:"myload-mobile-grid"},a.map((function(t,a){return n.a.createElement(l.g,{class:"myload-tab-card ".concat(a%2===0&&4!==a?"myload-tab-right-card":""),key:a,onClick:function(r){e.onTileClick(t,a,r)}},n.a.createElement(l.o,{className:"item-dev ".concat(t.className)},n.a.createElement("div",{className:"icon-wrapper"},n.a.createElement("img",{className:"thumbnail-img",alt:"assign",src:t.cradImg}),n.a.createElement("div",{className:"itemlabel"},t.title)),n.a.createElement("div",{className:r[t.count]?"circle-div":""},r[t.count]&&r[t.count]>99?99:r[t.count]||"")))}))),n.a.createElement("div",{className:"myLoads_div_desktop"},n.a.createElement(l.H,{className:"myLoads_row_desktop"},a.map((function(t,a){return n.a.createElement(l.k,{size:"2.4",className:"thumbnail-item-col ".concat(t.class),key:a},n.a.createElement(l.g,{class:"myload-tab-card",onClick:function(r){e.onTileClick(t,a,r)}},n.a.createElement(l.o,{className:"item-dev ".concat(t.className)},n.a.createElement("div",{className:"icon-wrapper"},n.a.createElement("div",{className:e.props.myLoadCount[t.count]?"circle-div":""},e.props.myLoadCount[t.count]&&e.props.myLoadCount[t.count]>99?99:e.props.myLoadCount[t.count]||""),n.a.createElement("img",{className:"thumbnail-img",alt:"assign",src:t.cradImg}),n.a.createElement("div",{className:"itemlabel"},t.title)))))})))))))}}]),a}(r.Component),hd=function(){function e(){var t=this;Object(b.a)(this,e),this.user_details={},this.args=function(){return t.user_details.driverId?{carrierId:t.user_details.carrierId,driverId:t.user_details.driverId,filter:t.user_details.filter}:{carrierId:t.user_details.carrierId,filter:t.user_details.filter}},this.loadDetails={shipmentId:!0,lineOfBusiness:!0,transportMode:!0,totalWeight:!0,weightUOM:!0,totalDistance:!0,distanceUOM:!0,numberOfStops:!0,sourceTMS:!0,driverAssignmentStatus:!0,assignedCarrierId:!0,assignedTMSCarrierId:!0,isAppointmentConfirmed:!0,isHazardous:!0,isHighValue:!0,isTemperatureControlled:!0,isFreezeProtected:!0,equipmentType:!0,executionStatus:!0,masterBillOfLoading:!0,startState:!0,startCity:!0,startCountry:!0,startDateTime:!0,shipmentServices:{serviceDescription:!0},loadStop:{stopType:!0,sequenceNo:!0,locationName:!0,addressLine1:!0,addressLine2:!0,city:!0,state:!0,country:!0,estimatedArrivalDateTime:!0,plannedArrivalDateTime:!0,actualArrivalDateTime:!0,estimatedStopDuration:!0,plannedDepartureDateTime:!0,actualDepartureDateTime:!0,appointmentEarlyDateTime:!0,appointmentLateDateTime:!0,actualETADateTime:!0,plannedEtaDateTime:!0},shipmentInvolvedParties:{id:!0,partyId:!0,partyType:!0,partyName:!0,partyEmail:!0,partyPhone:!0},assignmentTransaction:{transactionId:!0,driverId:!0,driverName:!0}}}return Object(v.a)(e,[{key:"getRequestPayload",value:function(){return{query:{getShipments:{__args:this.args(),inTransitCount:!0,driverAssignedCount:!0,carrierAssignedCount:!0,driverAssignedPendingCount:!0,deliveredCount:!0,inTransitShipments:this.loadDetails,driverAssignedShipments:this.loadDetails,carrierAssginedShipments:this.loadDetails,driverAssignmentPendingShipments:this.loadDetails,deliveredShipments:this.loadDetails}}}}},{key:"carrierId",get:function(){return this.user_details.carrierId},set:function(e){e&&(this.user_details.carrierId=e)}},{key:"driverId",get:function(){return this.user_details.driverId},set:function(e){e&&(this.user_details.driverId=e)}},{key:"filter",get:function(){return this.user_details.filter},set:function(e){e&&(this.user_details.filter=e)}}]),e}();var Ed,gd,bd,vd,yd=function(e){Object(ct.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(ut.a)(e);if(t()){var n=Object(ut.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(lt.a)(this,a)}}(a);function a(){var e;Object(b.a)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).getUserLoads=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e.props.isNetworkAvailable)try{var a=e.props&&e.props.userDetails&&e.props.userDetails.carrierId||"",r=e.props&&e.props.userDetails&&e.props.userDetails.userPrincipalName||"",n=new hd,i=!xa("myLoad","carrierAssigned");n.carrierId=a,n.filter={carrierAssigned:!i,driverAssigned:!0,inTransit:!0,driverAssignmentPending:!0,delivered:!0},i&&(n.driverId=r),e.props.fetchShipments(n.getRequestPayload(),t)}catch(s){console.log("ERROR:",s)}},e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){this.props.myLoadData(),this.props&&this.props.userDetails&&this.props.userDetails.carrierId&&this.getUserLoads(!1)}},{key:"componentDidUpdate",value:function(e){var t=e&&e.userDetails||{},a=this.props&&this.props.userDetails||{};a&&a.carrierId!==t.carrierId&&!this.props.loading&&this.getUserLoads(!1)}},{key:"render",value:function(){return n.a.createElement(fd,Object.assign({},this.props,{getUserLoads:this.getUserLoads}))}}]),a}(r.PureComponent),Sd=Object(nt.b)({loading:en(),myLoadCount:ii(),myLoadCard:ni(),userDetails:nn(),isInPullToRefresh:sn(),isNetworkAvailable:on()}),Od=Object(c.c)(Sd,(function(e){return{myLoadData:function(){return e({type:"MYLOAD_CARD_DATA"})},showPermissionAlert:function(t){return e(_t(t))},profileImg:function(t){return e(function(e){return{type:"PROFILE_IMAGE_SET",payload:e}}(t))},fetchShipments:function(t,a){return e(Zn(t,a))},showAlert:function(t){return e(lr(t))}}})),_d=_s({key:"myload",reducer:Be}),Dd=Ss({key:"myload",saga:ns}),Ad=Object(d.compose)(Dd,_d,Od)(n.a.memo(yd)),kd=function(e){return e.carrier},Td=function(e){return e.search},Nd=function(){return Object(nt.a)([kd],(function(e){return e.recommended.data||Ve.recommended.data}))},Rd=function(){return Object(nt.a)([kd],(function(e){return e.watched.data||Ve.watched.data}))},Id=function(e,t){return t&&t.match&&t.match.params&&t.match.params.id||""},Cd=function(e,t){return t&&t.match&&t.match.params&&t.match.params[0]||""},jd=function(){return Object(nt.a)([kd],(function(e){return e.apiErrorMessage||Ve.apiErrorMessage}))},wd=(a(536),a(184)),Ld=gt.d.Filesystem,Pd=function(e){arguments.length>1&&void 0!==arguments[1]||gt.c.Documents;var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=function(){var a=Object(g.a)(E.a.mark((function a(){var r;return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("PDf",e),a.prev=1,a.next=4,Ld.writeFile({path:t,data:e,directory:gt.c.Cache});case 4:return a.next=6,Ld.getUri({directory:gt.c.Cache,path:t});case 6:return r=a.sent,a.abrupt("return",gt.a.convertFileSrc(r.uri));case 10:throw a.prev=10,a.t0=a.catch(1),console.error("File System Error",a.t0),a.t0;case 14:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(){return a.apply(this,arguments)}}(),r=function(){for(var t=e.indexOf("base64,")+7,a=e.substring(t),r=atob(a),n=new ArrayBuffer(r.length),i=new Uint8Array(n),s=0;s<r.length;s++)i[s]=r.charCodeAt(s);var o=new Blob([i],{type:"application/pdf"});return URL.createObjectURL(o)};return{writeFile_Mobile:a,writeFile_Web:r}},xd=function(e){var t=Object(r.useState)(!1),a=Object(f.a)(t,2),i=a[0],s=a[1];return Object(r.useEffect)((function(){e.setTermsAndConState()}),[]),n.a.createElement(l.g,{class:"ion-card"},n.a.createElement(l.i,{class:"accordion-header ".concat(i?"":"changeColor"),onClick:function(){Rt("ue_load_terms_view",{page:"Load Details"}),s(!i)}},n.a.createElement("span",null,"Terms ",n.a.createElement("span",{className:"tm-class"},"&")," Conditions "),i?n.a.createElement(l.q,{className:"loadDetails-plusIcon",src:"assets/icon/minus-icon.svg"}):n.a.createElement(l.q,{className:"loadDetails-plusIcon",src:"assets/icon/plus.svg"})),n.a.createElement(l.h,{class:"term-class ".concat(i?"fadein":"fadeout")},n.a.createElement("p",{className:"terms_conditions_p"},"A shipment tender document will be sent to you once assigned within the Schneider Transportation Management System. The carrier must follow this shipment tender documentation, any changes to the shipment will cause an updated tender which would include updated payment information."),n.a.createElement("p",{className:"terms_conditions_p"},"This transaction is subject to and governed by the written agreement between you and Schneider Transportation Management, a division of Schneider National Carriers, Inc. and the terms of this site.")))};!function(e){e.roadmap="roadmap",e.satellite="satellite",e.hybrid="hybrid",e.terrain="terrain"}(Ed||(Ed={})),function(e){e.DRIVING="DRIVING",e.BICYCLING="BICYCLING",e.TRANSIT="TRANSIT",e.WALKING="WALKING"}(gd||(gd={})),function(e){e.METRIC="METRIC",e.IMPERIAL="IMPERIAL"}(bd||(bd={})),function(e){e.TOP_CENTER="TOP_CENTER",e.TOP_LEFT="TOP_LEFT",e.TOP_RIGHT="TOP_RIGHT",e.LEFT_TOP="LEFT_TOP",e.RIGHT_TOP="RIGHT_TOP",e.LEFT_CENTER="LEFT_CENTER",e.RIGHT_CENTER="RIGHT_CENTER",e.LEFT_BOTTOM="LEFT_BOTTOM",e.RIGHT_BOTTOM="RIGHT_BOTTOM",e.BOTTOM_CENTER="BOTTOM_CENTER",e.BOTTOM_LEFT="BOTTOM_LEFT",e.BOTTOM_RIGHT="BOTTOM_RIGHT"}(vd||(vd={}));var Md=function(e){Object(ct.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(ut.a)(e);if(t()){var n=Object(ut.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(lt.a)(this,a)}}(a);function a(e){var r;return Object(b.a)(this,a),(r=t.call(this,e)).mapContainer=n.a.createRef(),r.initMap=function(){var e=r.props,t=e.defaultCenter,a=e.zoom,n=e.mapTypeId,i=e.disableDefaultUI,s=e.mapTypeControl,o=e.scaleControl,c=e.streetViewControl,l=e.zoomControl,u=e.fullscreenControl,d=t,p=new google.maps.Map(r.mapContainer.current,{center:d,zoom:a,disableDefaultUI:i,mapTypeControl:s,scaleControl:o,streetViewControl:c,mapTypeId:n||Ed.roadmap,zoomControl:l,fullscreenControl:u}),m=new google.maps.DirectionsService,f=new google.maps.DirectionsRenderer({map:p,suppressMarkers:!0});f.setMap(p),r.setState({map:p,google:google,isMapReady:!0,directionsService:m,directionsRenderer:f})},r.renderChildren=function(){var e=r.props,t=e.children,a=e.defaultCenter;if(t){var i=r.state,s=i.map,o=i.google,c=i.directionsService,l=i.directionsRenderer;return n.a.Children.map(t,(function(e){if(e)return n.a.cloneElement(e,{map:s,google:o,mapCenter:a,directionsService:c,directionsRenderer:l})}))}},r.state={isMapReady:!1,map:null,google:null,directionsService:null,directionsRenderer:null},r}return Object(v.a)(a,[{key:"render",value:function(){var e=this.props.className;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{style:{height:"100%",width:"100%",translate:"translate3d(0)",opacity:1,position:"relative"},ref:this.mapContainer,className:e}),this.renderChildren())}},{key:"componentDidMount",value:function(){this.initMap()}}]),a}(r.Component);var Ud=function(e){Object(ct.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(ut.a)(e);if(t()){var n=Object(ut.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(lt.a)(this,a)}}(a);function a(e){var r;return Object(b.a)(this,a),(r=t.call(this,e)).initiallyLoaded=void 0,r.markers=void 0,r.markerLocation=void 0,r.isOriginIdentified=!1,r.isDestinationIdentified=!1,r.icons={start:"assets/images/origin.svg",waypoint:"assets/images/stops.svg",end:"assets/images/destination.svg",nfr:"assets/images/stops-green.svg"},r.renderDirections=function(){var e=r.props,t=e.origin,a=e.destination,n=e.travelMode,i=void 0===n?gd.DRIVING:n,s=e.waypoints,o=e.optimizeWaypoints,c=e.map,l=e.google,u=e.directionsService,d=e.directionsRenderer,p=e.directionRenderCallback;if(l){var m=[];s&&(m=s.map((function(e,t){var a=e.location&&e.location.latLng&&e.location.latLng.lat||"",r=e.location&&e.location.latLng&&e.location.latLng.lng||"";return{location:new l.maps.LatLng(a,r),stopover:e.stopover}})));var f=t&&t.latLng&&t.latLng.lat||"",h=t&&t.latLng&&t.latLng.lng||"",E=a&&a.latLng&&a.latLng.lat||"",g=a&&a.latLng&&a.latLng.lng||"",b={origin:new l.maps.LatLng(f,h),destination:new l.maps.LatLng(E,g),travelMode:i,waypoints:m,optimizeWaypoints:o};r.clearAllMarker(),r.clearMarkerLocations(),u.route(b,(function(e,t){if("OK"===t){var a=e.routes[0].legs;if(a){var n=a.length;r.addMarkerLocations();var i=r.markerLocation.filter((function(e){return"D"===e.locationType}));i=i.slice().sort((function(e,t){return e.index-t.index})),r.clearAllMarker(),a.forEach((function(e,t){r.drawMarkerWithCustomPin(e.start_location,e.start_address,c,i[i.length-1].index),t+1===n&&r.drawMarkerWithCustomPin(e.end_location,e.end_address,c,i[i.length-1].index)}))}var s=d.getMap();d.setDirections(e),s.setZoom(14)}else d.setDirections({routes:[]});p()}))}},r.drawMarkerWithCustomPin=function(e,t,a,n){var i=r.icons.waypoint,s=r.addMarkerToTheLocation(t);"P"!==s.locationType||r.isOriginIdentified?"D"!==s.locationType||r.isDestinationIdentified||s.index!==n?"NFR"===s.locationType&&(i=r.icons.nfr):(i=r.icons.end,r.isDestinationIdentified=!0):(i=r.icons.start,r.isOriginIdentified=!0),r.createMarker(e,t,a,i)},r.createMarker=function(e,t,a,n){var i=new google.maps.Marker({position:e,map:a,icon:n});if(!r.props.isShowAddrInfoWindow){var s=t.split(", ");s&&s.length>1&&(t=s[1]+", "+s[2])}var o=new google.maps.InfoWindow({content:t});google.maps.event.addDomListener(i,"click",(function(){o.open(a,i)})),r.markers.push(i)},r.clearAllMarker=function(){r.markers&&r.markers.forEach((function(e){e.setMap(null)}))},r.addMarkerLocations=function(){var e=r.props,t=e.origin,a=e.destination,n=e.waypoints,i=[];i.push(t),i.push(a),n&&n.forEach((function(e,t){i.push(e.location)})),i=i.slice().sort((function(e,t){return e.index-t.index})),r.markerLocation=i},r.addMarkerToTheLocation=function(e){var t={locationType:"",index:0};if(r.markerLocation){var a=e.split(","),n=!1;r.markerLocation.forEach((function(e,i){if(n)return!1;var s=e.locationName;s=s.toUpperCase();var o=0;a.forEach((function(e){s.includes(e.toUpperCase())&&o++})),2<=o&&!r.markerLocation[i].isMarkerAdded&&(r.markerLocation[i].isMarkerAdded=!0,t={locationType:r.markerLocation[i].locationType,index:i},n=!0)}))}return t},r.clearMarkerLocations=function(){r.markerLocation=[],r.isDestinationIdentified=!1,r.isOriginIdentified=!1},r.initiallyLoaded=!1,r.markers=[],r.markerLocation=[],r}return Object(v.a)(a,[{key:"render",value:function(){return null}},{key:"componentDidMount",value:function(){this.renderDirections()}},{key:"componentDidUpdate",value:function(e){JSON.stringify(this.props.origin)===JSON.stringify(e.origin)&&JSON.stringify(this.props.destination)===JSON.stringify(e.destination)&&JSON.stringify(this.props.waypoints)===JSON.stringify(e.waypoints)&&!1!==this.initiallyLoaded||(this.initiallyLoaded=!0,this.renderDirections())}}]),a}(n.a.PureComponent);a(177);var Fd,Vd=function(e){Object(ct.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(ut.a)(e);if(t()){var n=Object(ut.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(lt.a)(this,a)}}(a);function a(e){var r;return Object(b.a)(this,a),(r=t.call(this,e)).directionRenderCallback=function(){r.setState({isMapVisible:!0})},r.getLocations=function(){var e=Object(g.a)(E.a.mark((function e(t){var a,n,i,s,o,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.loadStop,i={locationName:"",locationType:"",index:-1,isMarkerAdded:!1,latLng:{lat:"",lng:""},postalCode:"",city:"",state:""},s={locationName:"",locationType:"",index:-1,isMarkerAdded:!1,latLng:{lat:"",lng:""},postalCode:"",city:"",state:""},o=[],c=(n=void 0===a?[]:a).length,(n=n.slice().sort((function(e,t){return e.sequenceNo&&t.sequenceNo?e.sequenceNo-t.sequenceNo:e.stopSequence&&t.stopSequence?e.stopSequence-t.stopSequence:0}))).forEach((function(e,t){0===t?i={locationName:"".concat(e.locationName," ").concat(e.city," ").concat(e.state," ").concat(e.country),locationType:e.stopType||"",latLng:{lat:e.latitude||"",lng:e.longitude||""},index:t,isMarkerAdded:!1,postalCode:e.postalCode,city:e.city,state:e.state}:t+1===c?s={locationName:"".concat(e.locationName," ").concat(e.city," ").concat(e.state," ").concat(e.country),locationType:e.stopType||"",index:t,isMarkerAdded:!1,latLng:{lat:e.latitude||"",lng:e.longitude||""},postalCode:e.postalCode,city:e.city,state:e.state}:o.push({location:{locationName:"".concat(e.locationName," ").concat(e.city," ").concat(e.state," ").concat(e.country),locationType:e.stopType||"",index:t,isMarkerAdded:!1,latLng:{lat:e.latitude||"",lng:e.longitude||""},postalCode:e.postalCode},stopover:!0})})),!i.city||!i.state||i.latLng.lat&&i.latLng.lng){e.next=13;break}return r.setState({isShowAddrInfoWindow:!1}),e.next=11,r.setLatLngByCityName(i.city+","+i.state,i);case 11:e.next=14;break;case 13:r.setState({isShowAddrInfoWindow:!0});case 14:if(!s.city||!s.state||s.latLng.lat&&s.latLng.lng){e.next=17;break}return e.next=17,r.setLatLngByCityName(s.city+","+s.state,s);case 17:return e.abrupt("return",{origin:i,destination:s,waypoints:o});case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.setLatLngByCityName=function(){var e=Object(g.a)(E.a.mark((function e(t,a){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rr.details.getGeoCoderLatLong(t);case 2:r=e.sent,a.isMarkerAdded=!0,a.latLng.lat=r.lat.toString(),a.latLng.lng=r.lng.toString();case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),r.state={isShowMap:!1,origin:{locationName:"",locationType:"",index:-1,isMarkerAdded:!1,latLng:{lat:"",lng:""},postalCode:"",city:"",state:""},destination:{locationName:"",locationType:"",index:-1,isMarkerAdded:!1,latLng:{lat:"",lng:""},postalCode:"",city:"",state:""},waypoints:[],isMapVisible:!1,isShowAddrInfoWindow:!0},r}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=Object(g.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getLocations(this.props);case 2:(t=e.sent).origin&&this.setState({origin:t.origin}),t.destination&&this.setState({destination:t.destination}),this.setState({waypoints:t.waypoints||[],isShowMap:!0,isMapVisible:!1});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(g.a)(E.a.mark((function e(t){var a,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getLocations(this.props);case 2:return a=e.sent,e.next=5,this.getLocations(t);case 5:r=e.sent,JSON.stringify(a)!==JSON.stringify(r)&&(a.origin&&this.setState({origin:a.origin}),a.destination&&this.setState({destination:a.destination}),this.setState({waypoints:a.waypoints||[],isShowMap:!0,isMapVisible:!1}));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.origin,a=e.destination,r=e.waypoints,i=e.isMapVisible,s=e.isShowAddrInfoWindow,o=Object(l.V)("desktop");return n.a.createElement(n.a.Fragment,null,n.a.createElement(l.z,{isOpen:!i,spinner:null,message:'<img src= "assets/images/Schneider_Spinner-transparent.gif" className="loader-image" />',"show-backdrop":!1,cssClass:"loader-message"}),n.a.createElement("div",{className:"load-map",style:{display:"".concat(i?"block":"none"),position:"relative"}},n.a.createElement(l.o,{class:"map-grid",style:{height:"250px",overflow:"hidden",position:"absolute",top:0,left:0,width:"100%"}},this.state.isShowMap&&n.a.createElement(Md,{defaultCenter:{lng:"105.2551",lat:"54.526"},zoom:10,mapTypeControl:!1,streetViewControl:!1,mapTypeId:Ed.roadmap,zoomControl:o,fullscreenControl:!0},n.a.createElement(Ud,{origin:t,destination:a,waypoints:r,isShowAddrInfoWindow:s,optimizeWaypoints:!0,directionRenderCallback:this.directionRenderCallback})))))}}]),a}(n.a.PureComponent),Hd=(a(260),function(e){var t=e.isBookLoadModal,a=e.closeBookLoadModal,r=e.bookedDetails,i=e.buyLoad,s=e.declineBookLoad,o=e.carrierId,c=e.lead,u=(Math.round(100*r.totalCharge)/100).toFixed(2);return n.a.createElement(n.a.Fragment,null,n.a.createElement(l.A,{isOpen:t,cssClass:"dropdown-modal",backdropDismiss:!1,onDidDismiss:function(){return a()}},n.a.createElement("div",{className:"modal-div",onClick:function(){return a()}},n.a.createElement(l.g,{className:"BookLoadCard"},n.a.createElement(l.i,{className:"start-trip-cardContent",onClick:function(){return a()}},"View Rate details"),n.a.createElement(l.h,{className:"book-card-content"},n.a.createElement("div",{className:"book-load-cardContent"},n.a.createElement(l.H,null,n.a.createElement(l.k,{className:"reference-type-header book-header",size:"4"},"Charge Description"),n.a.createElement(l.k,{className:"reference-type-header book-load-col2 book-header",size:"8"},n.a.createElement(l.H,null,n.a.createElement(l.k,{size:"4.5",className:"book-load-col3 "},"Rate/ Qualifier"),n.a.createElement(l.k,{size:"3",className:"book-load-col3 "},"Qty"),n.a.createElement(l.k,{size:"4.5",className:"book-load-col"},"Total")))),n.a.createElement(l.h,{className:"rate-card-scroll"},n.a.createElement(Gd,{bookloadName:r.lineHaulCharge.chargeDescription,rateQualifier:r.lineHaulCharge.rateQualifier,quantity:r.lineHaulCharge.quantity,charge:r.lineHaulCharge.charge,unitCharge:r.lineHaulCharge.unitCharge}),n.a.createElement(Gd,{bookloadName:r.fuelCharge.chargeDescription,rateQualifier:r.fuelCharge.rateQualifier,quantity:r.fuelCharge.quantity,charge:r.fuelCharge.charge,unitCharge:r.fuelCharge.unitCharge}),r.accessorials.map((function(e,t){return n.a.createElement(Gd,{key:t,bookloadName:e.accessorialDescription,rateQualifier:e.accessorialCharge.rateQualifier,quantity:e.accessorialCharge.quantity,charge:e.accessorialCharge.charge,unitCharge:r.accessorialCharge.unitCharge})}))),n.a.createElement(l.H,{className:"book-load-row"},n.a.createElement(l.k,null,"Total"),n.a.createElement(l.k,{className:"Total-count"},"$",u)))),n.a.createElement("p",{className:"book-load-p"},"By accepting you agree to the terms & conditions listed for this load and upon a successful buy, the load will be assigned to you."),n.a.createElement(l.H,{class:"accept-btn-row"},n.a.createElement(l.k,{size:Object(l.V)("mobile")?"":"5"},n.a.createElement(l.e,{"data-test":"ToastMessage-IonButton1",class:"load-btn ",onClick:function(){return s()}},"Decline")),n.a.createElement(l.k,{size:Object(l.V)("mobile")?"0":"0.8"}),n.a.createElement(l.k,{size:Object(l.V)("mobile")?"":"5"},n.a.createElement(l.e,{"data-test":"acceptBuyLoad",class:"load-btn",onClick:function(){return i(),void Rt(ue.UE_LOAD_RATE_ACCEPT,{screen:de.LOAD_DETAILS_RATE,carrierId:o,lead:c})}},"Accept")))))))}),Gd=function(e){var t=(Math.round(100*e.charge)/100).toFixed(2);return n.a.createElement(n.a.Fragment,null,n.a.createElement(l.H,{className:"book-header-border"},n.a.createElement(l.k,{className:"reference-val ",size:"4.5"},e.bookloadName),n.a.createElement(l.k,{size:"7.5"},n.a.createElement(l.H,null,n.a.createElement(l.k,{className:"reference-val bookload-OK book-load-col3",size:"4.5"},"".concat(e.unitCharge,"/").concat(e.rateQualifier)),n.a.createElement(l.k,{className:"reference-val book-load-col3  bookload-OK",size:"3"},e.quantity),n.a.createElement(l.k,{className:"reference-val book-load-col ",size:"4.5"},"$",t)))))},Bd=function(e){var t=Object(r.useState)(!1),a=Object(f.a)(t,2),i=a[0],s=a[1];return Object(r.useEffect)((function(){s(!0)}),[e.confirmModal]),n.a.createElement(l.A,{isOpen:i,cssClass:"dropdown-modal",backdropDismiss:!1,onDidDismiss:function(){s(!1)}},n.a.createElement(l.g,{className:"bookLoad-thankyou"},n.a.createElement(l.i,{className:"start-trip-cardContent"},"OK"===e.bookLoadResponse.status?"Thank You":"REJECTED"===e.bookLoadResponse.status?"Error":"ON_HOLD"===e.bookLoadResponse.status?"Warning":"CANCELLED"===e.bookLoadResponse.status?"Error":null),n.a.createElement(l.h,null,n.a.createElement("p",{className:"bookload-thanku-p"},"OK"===e.bookLoadResponse.status?"Thank you for booking #{{LOAD_ID}} Tender will be sent to your email momentarily.  Click OK to view the execution details and assign your driver.".replace("{{LOAD_ID}}",e.loadId):"REJECTED"===e.bookLoadResponse.status||"ON_HOLD"===e.bookLoadResponse.status||"CANCELLED"===e.bookLoadResponse.status?e.bookLoadResponse.message:null),n.a.createElement(l.H,{className:"book-load-thankyou-row","data-test-id":"buyload-validation"},n.a.createElement(l.k,{size:"3"}),n.a.createElement(l.k,{className:"bookload-OK",size:"6"},n.a.createElement(l.e,{class:"load-btn",onClick:function(){s(!1),e.confirmBookLoad()},"data-test":"confirm-bookload"},"Ok"))))))},qd=function(e){var t=Object(r.useState)(e.isGetShipmentModal),a=Object(f.a)(t,2),i=a[0],s=a[1];return Object(r.useEffect)((function(){s(e.isGetShipmentModal)}),[e.isGetShipmentModal]),n.a.createElement(l.A,{isOpen:i,cssClass:"dropdown-modal",backdropDismiss:!1,onDidDismiss:function(){return e.closeBookLoadModal()}},n.a.createElement(l.g,{className:"bookLoad-thankyou"},n.a.createElement(l.i,{className:"start-trip-cardContent"},"Thank You"),n.a.createElement(l.h,null,n.a.createElement("p",{className:"bookload-thanku-p"},"Your load assignment is taking more time than expected.  Please check back after 15 minutes under My Loads - Carrier Assigned."),n.a.createElement(l.H,{className:"book-load-thankyou-row"},n.a.createElement(l.k,{size:"3"}),n.a.createElement(l.k,{className:"bookload-OK",size:"6"},n.a.createElement(l.e,{class:"load-btn",onClick:function(){s(!1),e.declineBookLoad()},"data-test":"getShipment"},"Ok"))))))};!function(e){e.USD="USD",e.CAD="CAD"}(Fd||(Fd={}));var zd=function(){function e(){Object(b.a)(this,e),this.__BookLoad_state={}}return Object(v.a)(e,[{key:"getRequestPayload",value:function(){return{bookLoad:{__variables:{input:"BuyRequest"},buy:{__args:{input:new Et.VariableType("input")},status:!0,message:!0}}}}},{key:"userId",get:function(){return this.__BookLoad_state.userId},set:function(e){this.__BookLoad_state.userId=e}},{key:"carrierId",get:function(){return this.__BookLoad_state.carrierId},set:function(e){this.__BookLoad_state.carrierId=e}},{key:"sourceSystem",set:function(e){this.__BookLoad_state.sourceSystem=e},get:function(){return this.__BookLoad_state.sourceSystem}},{key:"loadId",set:function(e){this.__BookLoad_state.loadId=e},get:function(){return this.__BookLoad_state.loadId}},{key:"binRateId",set:function(e){this.__BookLoad_state.binRateId=e},get:function(){return this.__BookLoad_state.binRateId}},{key:"amount",set:function(e){this.__BookLoad_state.amount=e},get:function(){return this.__BookLoad_state.amount}},{key:"currency",set:function(e){this.__BookLoad_state.currency=e},get:function(){return this.__BookLoad_state.currency}},{key:"lhlCharges",set:function(e){this.__BookLoad_state.lhlCharges=e},get:function(){return this.__BookLoad_state.lhlCharges}},{key:"fsrCharges",set:function(e){this.__BookLoad_state.fsrCharges=e},get:function(){return this.__BookLoad_state.fsrCharges}}]),e}(),Yd=function(){function e(){Object(b.a)(this,e),this.__GetShipment_state={shipmentIds:[]}}return Object(v.a)(e,[{key:"getRequestShipmentPayload",value:function(){return{query:{getShipment:{__args:{shipmentIds:this.__GetShipment_state.shipmentIds},shipmentId:!0,lineOfBusiness:!0,transportMode:!0,totalWeight:!0,weightUOM:!0,totalDistance:!0,distanceUOM:!0,numberOfStops:!0,sourceTMS:!0,driverAssignmentStatus:!0,assignedCarrierId:!0,assignedTMSCarrierId:!0,isAppointmentConfirmed:!0,isHazardous:!0,isHighValue:!0,isTemperatureControlled:!0,isFreezeProtected:!0,readyDateTime:!0,readyDateTimeZone:!0,equipmentType:!0,predecessorShipmentId:!0,successorShipmentId:!0,assignmentStatus:!0,executionStatus:!0,masterBillOfLoading:!0,shipmentServices:{serviceDescription:!0},startState:!0,startCity:!0,startCountry:!0,startDateTime:!0,loadStop:{stopId:!0,locationId:!0,stopType:!0,sequenceNo:!0,locationName:!0,addressLine1:!0,addressLine2:!0,city:!0,state:!0,country:!0,postalCode:!0,timeZone:!0,longitude:!0,latitude:!0,estimatedArrivalDateTime:!0,plannedArrivalDateTime:!0,actualArrivalDateTime:!0,estimatedStopDuration:!0,plannedEtaDateTime:!0,plannedDepartureDateTime:!0,actualDepartureDateTime:!0,appointmentEarlyDateTime:!0,appointmentLateDateTime:!0,estimatedStopDurationUom:!0,actualETADateTime:!0,isTrailerInSet:!0,stopActivity:Ko,stopReference:{id:!0,type:!0,value:!0,stopId:!0,shipmentId:!0,display:!0}},shipmentInvolvedParties:{id:!0,partyId:!0,partyType:!0,partyName:!0,partyEmail:!0,partyPhone:!0},shipmentReferences:{id:!0,type:!0,value:!0,stopId:!0,shipmentId:!0,display:!0},assignmentTransaction:{transactionId:!0,driverId:!0,driverName:!0}}}}}},{key:"shipmentIds",set:function(e){this.__GetShipment_state.shipmentIds=e},get:function(){return this.__GetShipment_state.shipmentIds}}]),e}();var Wd=function(e){Object(ct.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(ut.a)(e);if(t()){var n=Object(ut.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(lt.a)(this,a)}}(a);function a(e){var r;return Object(b.a)(this,a),(r=t.call(this,e)).container=n.a.createRef(),r.map=void 0,r.service=void 0,r.infowindow=void 0,r.initMap=function(){r.props.showSatelliteMap&&(r.infowindow=new google.maps.InfoWindow,r.map=new google.maps.Map(r.container.current,{center:r.props.position,zoom:18,mapTypeId:"hybrid",mapTypeControl:!1,streetViewControl:!0,zoomControl:!0,fullscreenControl:!1}),r.createMarker(r.props.position))},r.createMarker=function(e){var t=new google.maps.Marker({map:r.map,position:e,icon:"assets/images/destination.svg"});google.maps.event.addListener(t,"click",(function(){r.infowindow&&(r.infowindow.setContent(r.props.locationName),r.infowindow.open(r.map,t))}))},r}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.initMap()}),1e3)}},{key:"componentDidUpdate",value:function(e){var t=this;setTimeout((function(){t.initMap()}),1e3)}},{key:"render",value:function(){var e=Object(l.V)("desktop"),t=this.props,a=t.shipmentId,r=t.showSatelliteMap,i=t.onDismissSatelliteMap;return n.a.createElement(n.a.Fragment,null,n.a.createElement(l.A,{isOpen:r,onDidDismiss:function(){return i()},animated:!1,cssClass:"".concat(e?"satellite-view-desktop":"satellite-view-mobile")},n.a.createElement(l.l,{fullscreen:e},n.a.createElement(l.S,{className:"satellite-toolbar"},n.a.createElement(l.f,{slot:"end",onClick:function(){i()}},n.a.createElement(l.q,{className:"satellite-close",icon:"close"})),n.a.createElement(l.P,{className:"satellite-title"},"".concat(e?"Satellite view":a))),n.a.createElement("div",{className:"satellite-map",ref:this.container}))))}}]),a}(n.a.Component),Zd=function(){function e(){Object(b.a)(this,e),this.__DriverList_state={}}return Object(v.a)(e,[{key:"getRequestPayload",value:function(){return{query:{getMembers:{__args:{input:{carrierId:this.__DriverList_state.carrierId,role:this.__DriverList_state.role}},userPrincipalName:!0,firstName:!0,lastName:!0,companyName:!0,email:!0,liablePartyId:!0,liablePartyName:!0,lastSelectedCustomer:!0,lastSelectedCarrier:!0,carrier:!0,carrierId:!0,tractorNumber:!0,internalUser:!0,customer:!0,registered:!0,mobileNumber:!0,address:{addressLine1:!0,addressLine2:!0,addressType:!0,city:!0,state:!0,postalCode:!0},phone:{number:!0,type:!0}}}}}},{key:"carrierId",get:function(){return this.__DriverList_state.carrierId},set:function(e){e&&(this.__DriverList_state.carrierId=e)}},{key:"role",get:function(){return this.__DriverList_state.role},set:function(e){e&&(this.__DriverList_state.role=e)}}]),e}(),Kd=(a(537),{showToaster:!1,DriverList:[],assignShipmentDriverResponse:void 0,shipmentForStartTrip:{},timestamp:"",loads:{}}),Jd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kd,t=arguments.length>1?arguments[1]:void 0;return Object(m.a)(e,(function(e){switch(t.type){case"SHOW_TOASTER_VALUE":e.showToaster=!e.showToaster;break;case"LOAD_DATA":e.loads=t.payload;break;case"ASSIGN_DRIVER_LIST":e.DriverList=t.payload;break;case"ADD_DRIVER_SUCCESS":e.DriverList=[t.payload.member].concat(Object(Fe.a)(e.DriverList));break;case C.ASSIGN_DRIVER_TO_SHIPMENT_RESPONSE:e.assignShipmentDriverResponse=t.payload;break;case C.CLEAR_ASSIGN_DRIVER_TO_SHIPMENT_RESPONSE:e.assignShipmentDriverResponse=void 0;break;case C.SHIPMENT_FOR_STARTTRIP:e.shipmentForStartTrip=t.payload;case C.SHIPMENT_FOR_STARTTRIP_TIMESTAMP:e.timestamp=t.payload?t.payload.toString():""}}))},Qd=function(){function e(){Object(b.a)(this,e),this.__carrier_loads_state={}}return Object(v.a)(e,[{key:"assignShipmentToDriver",value:function(e){return{mutation:{assignDriverToShipment:{__args:{input:e},status:!0,message:!0,shipment:{shipmentId:!0,lineOfBusiness:!0,transportMode:!0,totalWeight:!0,weightUOM:!0,totalDistance:!0,distanceUOM:!0,numberOfStops:!0,sourceTMS:!0,assignedCarrierId:!0,assignedTMSCarrierId:!0,isAppointmentConfirmed:!0,isHazardous:!0,isHighValue:!0,isTemperatureControlled:!0,isFreezeProtected:!0,readyDateTime:!0,readyDateTimeZone:!0,equipmentType:!0,predecessorShipmentId:!0,successorShipmentId:!0,assignmentStatus:!0,executionStatus:!0,masterBillOfLoading:!0,driverAssignmentStatus:!0,shipmentServices:{serviceDescription:!0},startState:!0,startCity:!0,startCountry:!0,startDateTime:!0,loadStop:{stopId:!0,locationId:!0,stopType:!0,sequenceNo:!0,locationName:!0,addressLine1:!0,addressLine2:!0,city:!0,state:!0,country:!0,postalCode:!0,timeZone:!0,longitude:!0,latitude:!0,estimatedArrivalDateTime:!0,plannedArrivalDateTime:!0,actualArrivalDateTime:!0,estimatedStopDuration:!0,plannedDepartureDateTime:!0,actualDepartureDateTime:!0,appointmentEarlyDateTime:!0,appointmentLateDateTime:!0,estimatedStopDurationUom:!0,plannedEtaDateTime:!0,stopActivity:Ko,stopReference:{id:!0,type:!0,value:!0,stopId:!0,shipmentId:!0}},shipmentInvolvedParties:{id:!0,partyId:!0,partyType:!0,partyName:!0,partyEmail:!0,partyPhone:!0},assignmentTransaction:{transactionId:!0,shipmentId:!0,transactionType:!0,driverId:!0,driverPhone:!0,driverEmail:!0,status:!0,driverName:!0}}}}}}},{key:"carrierLoads",value:function(e){return Ga("Carrier-Loads",e)}},{key:"getCarrierLoads",value:function(){return qa("Carrier-Loads")}},{key:"carrierId",get:function(){return this.__carrier_loads_state.carrierId},set:function(e){e&&(this.__carrier_loads_state.carrierId=e)}}]),e}(),Xd=new Qd;Object.freeze(Xd);var $d=function(e){return e.carrierAssigned},ep=function(e){return e&&e.myload&&e.myload.carrierAssigned||Ge.carrierAssigned},tp=function(e){return e&&e.myload&&e.myload.driverAssigned||Ge.driverAssigned},ap=function(e){return e&&e.myload&&e.myload.inTransit||Ge.inTransit},rp=function(e){return e&&e.myload&&e.myload.delivered||Ge.delivered},np=function(){return Object(nt.a)(ep,(function(e){return e||Ge.carrierAssigned}))},ip=function(){return Object(nt.a)([$d],(function(e){return e&&e.DriverList||Kd.DriverList}))},sp=function(){return Object(nt.a)(tp,(function(e){return e}))},op=function(){return Object(nt.a)(ap,(function(e){return e||Ge.inTransit}))},cp=function(){return Object(nt.a)($d,(function(e){return e&&e.shipmentForStartTrip}))},lp=function(){return Object(nt.a)([rp],(function(e){return e||Ge.delivered}))},up=function(e){var t=e.stopDetails;return n.a.createElement(l.H,{"data-test":"stop-details-dialog",class:"stop-details-row"},n.a.createElement(l.k,{class:"stop-icon-col"},e.index<e.length-1?n.a.createElement(n.a.Fragment,null,n.a.createElement(l.r,{className:"ellipse_icon",src:"assets/icon/origin-pointer.svg"}),n.a.createElement("div",{className:"stops_border"})):n.a.createElement(l.r,{className:"path_icon",src:"assets/icon/dst-pointer.svg"})),n.a.createElement(l.k,{class:"stop-details-col"},n.a.createElement("p",{className:"origin_city"},t.city,", ",t.state),n.a.createElement("p",{className:"origin_dateTime load_header_elements"},e.appointment)))},dp=Object(nt.b)({assignShipmentDriverResponse:Object(nt.a)([$d],(function(e){return e.assignShipmentDriverResponse||Kd.assignShipmentDriverResponse})),userDetails:nn(),loadData:Object(nt.a)([ti],(function(e){return{carrierLoad:e.carrierAssigned||[],driverLoad:e.driverAssigned||[]}}))}),pp=Object(c.c)(dp,(function(e){return{assignDriverToShipment:function(t){return e((a=t,{type:C.ASSIGN_DRIVER_TO_SHIPMENT,payload:a}));var a},clearAssignShipmentDriverResponse:function(){return e({type:C.CLEAR_ASSIGN_DRIVER_TO_SHIPMENT_RESPONSE})},fetchCarrierAssigned:function(t){return e({type:"FETCH_CARRIER_ASSIGNED_LOADS",payload:t})},loadAssignedrData:function(t){e(Yn(t,t.length))},loadCarrierData:function(t){e(Gn(t,t.length))}}})),mp=_s({key:"carrierAssigned",reducer:Jd}),fp=Ss({key:"carrierAssigned",saga:us}),hp=Object(d.compose)(fp,mp,pp)((function(e){var t=e.isOpen,a=e.onDismiss,i=e.loadDetails,s=e.driverDetails,o=e.showDriverDialog,c=e.assignShipmentDriverResponse,d=e.clearAssignShipmentDriverResponse,p=e.userDetails,m=e.loadData,h=e.loadCarrierData,E=e.loadAssignedrData,g=Object(tt.g)(),b=s&&"".concat(s.firstName||"")||"",v=i&&i.shipmentId||"",y=Ha.details.auth.user,S=function(){a&&a()},O=i&&i.loadStop||[],_=[];if((O=O.slice().sort((function(e,t){return e.sequenceNo&&t.sequenceNo?e.sequenceNo-t.sequenceNo:e.stopSequence&&t.stopSequence?e.stopSequence-t.stopSequence:0}))).length>2){var D=O.length;_=[Object(u.a)({},O[0]),Object(u.a)({},O[D-1])]}else _=O;var A=Object(r.useState)(!1),k=Object(f.a)(A,2),T=k[0],N=k[1],R=Object(r.useState)(!1),I=Object(f.a)(R,2),C=I[0],j=I[1],w=Object(r.useState)(!1),L=Object(f.a)(w,2),P=L[0],x=L[1];Object(r.useEffect)((function(){j(t)}),[t]),Object(r.useEffect)((function(){if(c&&c.assignDriverToShipment){N(!0);var e=[],t=c.assignDriverToShipment.shipment;t&&(e=m.driverLoad.concat(Object(u.a)({},t)),E(e)),d&&d()}else c&&c.errors&&x(!0)}),[c]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(l.Q,{isOpen:P,onDidDismiss:function(){x(!1),d&&d()},color:"danger",duration:5e3,"data-test":"ion-toast",message:"Driver assignment was unsuccessful. Please try again."}),n.a.createElement(l.Q,{isOpen:T,onDidDismiss:function(){if(N(!1),S(),m&&m.carrierLoad){var e=m.carrierLoad.filter((function(e){return e.shipmentId!==i.shipmentId}));h(e)}g.push("/app/MyLoad/CarrierAssigned")},color:"dark",duration:2e3,"data-test":"success-ion-toast",message:"Load #{{LOAD_ID}} assigned successfully to {{DRIVER_NAME}}.".replace("{{LOAD_ID}}",v).replace("{{DRIVER_NAME}}",b)}),n.a.createElement(l.A,{isOpen:C,cssClass:"assignmodal",backdropDismiss:!1},n.a.createElement("header",null,n.a.createElement(l.w,{color:"dark"},"Are you sure you want to assign load #{{LOAD_ID}} to {{DRIVER_NAME}}".replace("{{LOAD_ID}}",i&&i.shipmentId).replace("{{DRIVER_NAME}}",b))),n.a.createElement("section",null,n.a.createElement(l.g,{className:"ion-card-updated"},n.a.createElement(l.h,{className:"card-content"},n.a.createElement(l.o,{class:"load-grid"},n.a.createElement(l.H,{className:"ion-card-row"},n.a.createElement(l.k,{className:"card-price-col",size:"4"},n.a.createElement($o,i)),n.a.createElement(l.k,{className:"card-city-col"},_&&_.map((function(e,t){return n.a.createElement(up,{key:t,stopDetails:e,appointment:Ms(e),length:_.length,index:t})})))))))),n.a.createElement("footer",null,n.a.createElement(l.k,null,n.a.createElement(l.e,{"data-test":"ion-button-cancel",class:"btn load-btn",onClick:function(){S(),Object(l.V)("desktop")&&o&&o(!0)}},"No")),n.a.createElement(l.k,null,n.a.createElement(l.e,{"data-test":"ion-button-carrier",class:"btn load-btn",onClick:function(){var t=new Qd,a={carrierId:s&&s.carrierId,dispatcherEmail:y["signInNames.emailAddress"],dispatcherId:y.upn,dispatcherName:"".concat(p.firstName||""," ").concat(p.lastName||""),dispatcherPhone:p&&p.mobileNumber,driverEmail:s&&s.email,driverId:s&&s.userPrincipalName,driverName:b,driverPhone:s&&s.mobileNumber,shipmentId:i&&i.shipmentId,sourceSystem:i&&i.sourceTMS,tractorNumber:s&&s.tractorNumber};e.assignDriverToShipment(t.assignShipmentToDriver(a)),j(!1),S(),Object(l.V)("desktop")&&o&&o(!1),Rt(ue.UE_ASSIGN_DRIVER_SUCCESS,{screen:de.MYLOADS_DRIVER_ASSIGNMENT,carrierId:s&&s.carrierId})}},"Yes")))))})),Ep=(a(261),function(){function e(){Object(b.a)(this,e)}return Object(v.a)(e,[{key:"getTimeWithTimezone",value:function(e){return this.getTimeForIOS(fu.tz(e).format())}},{key:"isIOSPlatform",value:function(){return Object(l.V)("ios")||Object(l.V)("ipad")||Object(l.V)("iphone")}},{key:"getTimeForIOS",value:function(e){var t=fu.tz.guess(),a=fu.tz(e.substring(0,16),t).format();return console.log("result=",a),a}},{key:"yearsValue",value:function(){return(new Date).getFullYear()}},{key:"isConfirmStartButtonDisabled",value:function(e){var t=e||{},a=t.startCity,r=t.startState,n=t.startDateTime;return(a||r)&&n}},{key:"getStartingLocation",value:function(e){var t=e||{},a=t.startCity,r=t.startState;return"".concat(a).concat(r?", ":"").concat(r).trim()}},{key:"getStartingDateTime",value:function(e){return(e||{}).startDateTime}},{key:"getCurrentOpenStop",value:function(e){var t=this,a=-1;this.isConfirmStartButtonDisabled(e)&&(a=0);var r=this.isOTMTypeShipment(e);if(e&&e.loadStop){var n=e.loadStop||[];(n=n.slice().sort((function(e,t){return e.sequenceNo&&t.sequenceNo?e.sequenceNo-t.sequenceNo:e.stopSequence&&t.stopSequence?e.stopSequence-t.stopSequence:0}))).forEach((function(n,i){if(r){var s=t.getTrailerIn(n,!1,!1,e),o=t.getTrailerOut(n,!1,e);n.actualDepartureDateTime&&s.trailerIn&&o.trailerOut&&(a=i+1)}else n.actualDepartureDateTime&&(a=i+1)}))}return a}},{key:"isAllStopCompleted",value:function(e){var t=!1;if(e&&e.loadStop){var a=e.loadStop||[];t=!((a=a.slice().sort((function(e,t){return e.sequenceNo&&t.sequenceNo?e.sequenceNo-t.sequenceNo:e.stopSequence&&t.stopSequence?e.stopSequence-t.stopSequence:0}))).length>0)||!!a[a.length-1].actualDepartureDateTime}return t}},{key:"isTripCompleted",value:function(e){return e&&e.executionStatus===ae.COMPLETED||!1}},{key:"getETA",value:function(e){var t=e.estimatedArrivalDateTime,a=e.actualETADateTime,r=e.appointmentEarlyDateTime,n=e.plannedEtaDateTime,i="";return a?i=a:n?i=n:r?i=r:t&&(i=t),i&&(i=this.getTimeForIOS(i)),i||""}},{key:"getArrival",value:function(e,t){var a=e.actualArrivalDateTime;return a&&(a=this.getTimeForIOS(a)),t?"":a}},{key:"getArrivalOnClick",value:function(e,t,a){var r=e.appointmentEarlyDateTime,n=e.actualArrivalDateTime;if(t)return"";if(a)return a;var i="";return n?i=n:r&&(i=r),i}},{key:"getArrivalLabelName",value:function(e,t){return e.actualArrivalDateTime&&!t?"Arrived":"Arrival"}},{key:"getDeparture",value:function(e,t){var a=e.actualDepartureDateTime;return a&&(a=this.getTimeForIOS(a)),t?"":a}},{key:"getDepartureOnClick",value:function(e,t,a){var r=e.appointmentLateDateTime,n=e.actualDepartureDateTime;if(t)return"";if(a)return a;var i="";return n?i=n:r&&(i=r),i}},{key:"getDepartureLabelName",value:function(e){return e.actualDepartureDateTime?"Departed":"Departure"}},{key:"getFormattedDate",value:function(e){var t="";if(e){var a=Number(e.substring(11,13)),r=Number(e.substring(14,16));a=a%12||12,t="".concat(e.substring(0,11)).concat("0".concat(a).slice(-2),":").concat("0".concat(r).slice(-2))}return t}},{key:"isETAReadonly",value:function(e){var t=e.actualArrivalDateTime,a=e.actualDepartureDateTime,r=!1;return(t||a)&&(r=!0),r}},{key:"isArrivalReadonly",value:function(e){var t=e.actualDepartureDateTime,a=e.actualArrivalDateTime,r=!1;return(t||a)&&(r=!0),r}},{key:"isDepartureReadonly",value:function(e,t){var a=e.actualDepartureDateTime,r=!1;return e.actualArrivalDateTime||(r=!0),t&&(r=!1),a&&(r=!0),r}},{key:"getTrailerIn",value:function(e,t,a,r,n){var i,s="",o=this.isOTMTypeShipment(r);if(t&&a)s="";else if(e&&e.stopActivity&&e.stopActivity.length>0){if((i=e.stopActivity.find((function(e){return e.equipmentFlow===zo.TRAILER_IN}))||{})&&(s="".concat(i.equipmentId||"")),(n&&n.sequenceNo)===(e&&e.sequenceNo-1)&&o){var c=(r&&r.loadStop||[]).filter((function(t){return t.sequenceNo===e.sequenceNo-1}));if(c.length>0)s=(c[0].stopActivity&&c[0].stopActivity.find((function(e){return e.equipmentFlow===zo.TRAILER_OUT}))||{}).equipmentId}}return s=s&&s.toUpperCase(),o?s&&!Le.test(s)&&(s=""):s&&"UNKNOWN"===s&&(s=""),{trailerIn:s,activity:i}}},{key:"getTrailerOut",value:function(e,t,a){var r,n="";e&&e.stopActivity&&e.stopActivity.length>0&&(r=e.stopActivity.find((function(e){return e.equipmentFlow===zo.TRAILER_OUT}))||{})&&(n="".concat(r.equipmentId||""));var i=this.isOTMTypeShipment(a);return n=n&&n.toUpperCase(),i?n&&!Le.test(n)&&(n=""):n&&"UNKNOWN"===n&&(n=""),{trailerOut:n,activity:r}}},{key:"isInActivityAvailable",value:function(e){return e&&e.filter((function(e){return e.equipmentFlow===zo.TRAILER_IN})).length>0||!1}},{key:"isOutActivityAvailable",value:function(e){return e&&e.filter((function(e){return e.equipmentFlow===zo.TRAILER_OUT})).length>0||!1}},{key:"areStopActivitiesMissing",value:function(e){var t=e&&e.stopActivity||[],a=[];return t.forEach((function(e){"bobtail"!=(e.tmsActivity||"").toUpperCase().trim()&&a.push(e)})),0===a.length||!1}},{key:"isOTMTypeShipment",value:function(e){var t=!1;return e&&"OTMASSET"===e.sourceTMS&&(t=!0),t}},{key:"isOTypeStop",value:function(e){var t=!1;return e&&"O"===e.stopType&&(t=!0),t}},{key:"isShipmentTripCompleted",value:function(e){var t=!1;return e&&e.executionStatus===ae.COMPLETED&&(t=!0),t}},{key:"getCurrentLocalDateString",value:function(e){var t=new Date;return e?t.toLocaleString("en-US",{timeZone:e||"utc"}):t.toISOString()}},{key:"showTrailerInError",value:function(e,t,a,r,n){return!(!this.isOTMTypeShipment(t)||e||r||n&&n.actualDepartureDateTime||!a)}},{key:"showTrailerOutError",value:function(e,t,a,r,n){return!(!this.isOTMTypeShipment(t)||e||r||n&&n.actualDepartureDateTime||!a)}},{key:"getTimeZone",value:function(e){return e.timeZone}},{key:"getCurrentTimeInISO",value:function(){var e=6e4*(new Date).getTimezoneOffset();return new Date(Date.now()-e).toISOString().slice(0,-1)}}]),e}()),gp=new Ep,bp=function(e){var t=gp.getETA(e.loadStop),a=Vs()||(new Date).getFullYear();return Object(r.useEffect)((function(){e.onChange(t)}),[t,e.shipmentId,e.timestamp]),console.log("props.timeZone=",e.timeZone),n.a.createElement(n.a.Fragment,null,n.a.createElement(l.w,{className:"ETA-label"},"ETA"),n.a.createElement(l.m,{displayFormat:"MMM DD hh:mm A",pickerFormat:"YYYY MMM DD hh:mm A",className:"ETA-picker ".concat(gp.isETAReadonly(e.loadStop)?"hide-border":""," execution-field"),value:e.value,onIonChange:function(t){t.detail.value&&e.onChange(t.detail.value)},yearValues:a,minuteValues:"00,05,10,15,20,25,30,35,40,45,50,55",mode:"ios",readonly:gp.isETAReadonly(e.loadStop)||e.isNextStop,disabled:gp.isETAReadonly(e.loadStop)||e.isNextStop}))},vp=new Ep,yp=function(e){var t=vp.getArrival(e.loadStop,e.isNextStop),a=Vs()||(new Date).getFullYear();return Object(r.useEffect)((function(){e.onChange(t)}),[t,e.shipmentId,e.timestamp]),n.a.createElement(n.a.Fragment,null,n.a.createElement(l.w,{className:"arrival-label "},vp.getArrivalLabelName(e.loadStop,e.isNextStop)),n.a.createElement(l.m,{readonly:vp.isArrivalReadonly(e.loadStop)||e.isNextStop,disabled:vp.isArrivalReadonly(e.loadStop)||e.isNextStop,displayFormat:"MMM DD hh:mm A",pickerFormat:"YYYY MMM DD hh:mm A",value:e.value,minuteValues:"00,05,10,15,20,25,30,35,40,45,50,55",onIonChange:function(t){t.detail.value&&e.onChange(t.detail.value)},yearValues:a,"display-timezone":e.timeZone,className:"start-trip-location4 execution-field arrival-width2 ".concat(vp.isArrivalReadonly(e.loadStop)?"hide-border":""," ").concat(e.isError?"execution-validation-error":""),mode:"ios"}))},Sp=new Ep,Op=function(e){var t=Sp.getDeparture(e.loadStop,e.isNextStop),a=Vs()||(new Date).getFullYear();Object(r.useEffect)((function(){e.onChange(t)}),[t,e.shipmentId,e.timestamp]);var i=Sp.isDepartureReadonly(e.loadStop,e.arrivalVal);return n.a.createElement(n.a.Fragment,null,n.a.createElement(l.w,{className:"arrival-label "},Sp.getDepartureLabelName(e.loadStop)),n.a.createElement(l.m,{readonly:i||e.isNextStop,disabled:i||e.isNextStop,displayFormat:"MMM DD hh:mm A",pickerFormat:"YYYY MMM DD hh:mm A",value:e.value,onIonChange:function(t){t.detail.value&&e.onChange(t.detail.value)},yearValues:a,"display-timezone":e.timeZone,minuteValues:"00,05,10,15,20,25,30,35,40,45,50,55",className:"start-trip-location4 arrival-width2 execution-field ".concat(i&&e.value?"hide-border":""," ").concat(e.isError?"execution-validation-error":""),mode:"ios"}))},_p=function(e){var t=Object(r.useState)(!1),a=Object(f.a)(t,2),i=a[0],s=a[1],o=Object(r.useState)(""),c=Object(f.a)(o,2),u=c[0],d=c[1],p=/^[a-zA-Z0-9, ]*$/,m=Object(r.useState)(we),h=Object(f.a)(m,2),E=h[0],g=h[1],b=Object(r.useRef)();Object(r.useEffect)((function(){d(e.value)}),[e.value]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(l.u,{class:"tariler-feild",value:u,onClick:function(){!E.length||u?s(!1):s(!0)},onIonChange:function(t){return function(t){var a=t&&t.target&&t.target.value;t.target.value=a&&t.target.value.toUpperCase()||"";var r=u&&u.trim()||"";p.test(t.target.value)||(t.target.value=a&&t.target.value.replace(/[^a-zA-Z0-9 ]*/g,"")||"");if((a&&-1!==t.target.value.indexOf("BOBTAIL")&&/^BOBTAIL./.test(t.target.value)?t.target.value="BOBTAIL":(a&&-1!==t.target.value.indexOf("SNLU")&&t.target.value.length>10||a&&-1!==t.target.value.indexOf("TA")&&t.target.value.length>8||a&&t.target.value.length>10)&&(t.target.value=r),d(t.target.value),u!==t.target.value)&&r!==(a&&t.target.value.trim()||"")){var n=we.filter((function(e){return-1!==e.indexOf(t.target.value)}));s(!!n.length),g(n)}"BOBTAIL"===u&&s(!1),!a||"SNLU"!==t.target.value&&"TA"!==t.target.value||b.current.setFocus(),e.onChange(a&&t.target.value||"")}(t)},disabled:e.disabled,onIonBlur:function(){return s(!1)},onIonFocus:e.onFocus,ref:b}),i&&!e.disabled&&n.a.createElement(l.o,{class:"option-grid"},E&&E.map((function(e,t){return n.a.createElement(l.H,{onMouseDown:function(){d(e),s(!1)},key:t},e)}))),e.showError&&n.a.createElement("div",{className:"pickupdate-error error-message",style:{textAlign:"left"}},n.a.createElement("p",null,"Field is required")))},Dp=function(e){var t=new Ep,a=(t.isOTMTypeShipment(e.shipment),t.getTrailerIn(e.loadStop,e.isNextStop,e.readonly,e.shipment,e.updateStopInfo));return Object(r.useEffect)((function(){e.onChange(a.trailerIn),a&&a.activity&&e.changeActivity(a.activity)}),[a.trailerIn,JSON.stringify(a.activity),e.shipmentId,e.timestamp]),n.a.createElement(n.a.Fragment,null,n.a.createElement(l.w,{className:"ETA-label "},"Trailer In"),n.a.createElement(_p,{value:e.value,onChange:function(t){return e.onChange(t)},showError:e.showError,disabled:e.readonly||e.isNextStop,onFocus:function(){e.expandCurrentStopForcefully()}}))},Ap=function(e){var t=new Ep,a=(t.isOTMTypeShipment(e.shipment),t.getTrailerOut(e.loadStop,e.isNextStop,e.shipment));return Object(r.useEffect)((function(){e.onChange(a.trailerOut),a&&a.activity&&e.changeActivity(a.activity)}),[JSON.stringify(a),e.shipmentId,e.timestamp]),n.a.createElement(n.a.Fragment,null,n.a.createElement(l.w,{className:"ETA-label"},"Trailer Out"),n.a.createElement(_p,{value:e.value,onChange:function(t){return e.onChange(t)},showError:e.showError,disabled:e.readonly||e.isNextStop,onFocus:function(){e.expandCurrentStopForcefully()}}))},kp=function(e){var t=n.a.useState(!1),a=Object(f.a)(t,2),i=a[0],s=a[1],o=n.a.useState(!1),c=Object(f.a)(o,2),u=c[0],d=c[1],p=e.stopDetail,m=e.shipment,h=p&&p.stopReference&&p.stopReference.length?p.stopReference:[],E=m&&m.shipmentReferences&&m.shipmentReferences.length?m.shipmentReferences:[],g=[].concat(Object(Fe.a)(h),Object(Fe.a)(E)),b=function(){s(!1)};return Object(r.useEffect)((function(){Rt(ue.SV_VIEW_REFERENCE,{screen:de.MYLOADS_NEEDS_PPWK,carrierId:e.carrierId,shipmentId:e.stopDetail.shipmentId,stopId:e.stopDetail.stopId})}),[]),n.a.createElement(n.a.Fragment,null,i&&n.a.createElement(n.a.Fragment,null,n.a.createElement(l.A,{isOpen:i,cssClass:"dropdown-modal",backdropDismiss:!1,onDidDismiss:function(){return b()}},n.a.createElement("div",{className:"modal-div",onClick:function(){return b()},"data-test":"modal-div"},n.a.createElement(l.g,{className:"referencemodal-card"},n.a.createElement(l.i,{className:"start-trip-cardContent",onClick:b},"References"),n.a.createElement(l.h,{className:"reference-card-content"},n.a.createElement(l.H,{className:"reference-header"},n.a.createElement(l.k,{className:"reference-type-header",size:"6"},"Reference Type"),n.a.createElement(l.k,{className:"reference-type-header",size:"6"},"Reference Value")),g&&g.map((function(e,t){return n.a.createElement(l.H,{key:t,className:"Reference-table-row"},n.a.createElement(l.k,{className:"reference-val",size:"6"},e.type),n.a.createElement(l.k,{className:"reference-val",size:"6"},e.value))}))))))),n.a.createElement(l.Q,{isOpen:u,message:"No references for the stop",duration:5e3,color:"dark",onDidDismiss:function(){d(!1)},mode:"md"}),n.a.createElement(l.e,{className:"load-btn reference-btn",onClick:function(){g&&g.length?s(!0):d(!0)}},"References"))},Tp=function(e){var t=e.stopDetails,a=e.exicutionProgress,i=new Ep,s=Object(r.useState)(!1),o=Object(f.a)(s,2),c=o[0],d=o[1],p=Object(r.useState)(!1),m=Object(f.a)(p,2),h=m[0],E=(m[1],Object(r.useState)("")),g=Object(f.a)(E,2),b=g[0],v=g[1],y=Object(r.useState)(""),S=Object(f.a)(y,2),O=S[0],_=S[1],D=Object(r.useState)(""),A=Object(f.a)(D,2),k=A[0],T=A[1],N=n.a.useState(""),R=Object(f.a)(N,2),I=R[0],C=R[1],j=n.a.useState(""),w=Object(f.a)(j,2),L=w[0],P=w[1],x=n.a.useState(null),M=Object(f.a)(x,2),U=M[0],F=M[1],V=n.a.useState(null),H=Object(f.a)(V,2),G=H[0],B=H[1],q=Object(r.useState)(!1),z=Object(f.a)(q,2),Y=z[0],W=z[1],Z=Object(r.useState)(!1),K=Object(f.a)(Z,2),J=K[0],Q=K[1],X=Object(r.useState)("0px"),$=Object(f.a)(X,2),ee=$[0],te=$[1],ae=Object(r.useState)(!1),re=Object(f.a)(ae,2),ne=re[0],ie=re[1],se=Object(r.useState)(!1),oe=Object(f.a)(se,2),ce=oe[0],le=oe[1],de=Object(r.useState)(!1),pe=Object(f.a)(de,2),me=(pe[0],pe[1],Object(r.useState)("")),fe=Object(f.a)(me,2),he=(fe[0],fe[1],Object(r.useState)(!0)),Ee=Object(f.a)(he,2),ge=Ee[0],be=Ee[1];Object(r.useEffect)((function(){d(e.index===e.expandedStop),t&&t.stopActivity&&t.stopActivity.length>0?be(!0):be(!1)}),[e.index,e.expandedStop,JSON.stringify(t)]),Object(r.useEffect)((function(){var t=a&&a[e.index]&&a[e.index].progress;t&&(3===t?(Q(!0),W(!1)):0===t?(Q(!1),W(!1)):(Q(!1),W(!0),setTimeout((function(){return ve(e.index,t)}),0)))}),[e.index,e.expandedStop,c,JSON.stringify(t),O,a]),Object(r.useEffect)((function(){var e=new Date(i.getTimeWithTimezone(t.timeZone));e.setMinutes(e.getMinutes()+60),O&&new Date(O)>e?ie(!0):ie(!1)}),[O]),Object(r.useEffect)((function(){var e=new Date(i.getTimeWithTimezone(t.timeZone));if(e.setMinutes(e.getMinutes()+60),k){var a=O?new Date(O):e,r=new Date(k),n=!1;r>e&&(n=!0),a.setMinutes(a.getMinutes()+1),!n&&a>r&&(n=!0),le(!!n)}else le(!1)}),[k]);var ve=function(e,t){var a=document.getElementById('"'.concat(e,'"')),r=a&&a.offsetHeight;t&&te((r&&r*(t/3))+"px")},ye=function(){var a=new Date(i.getTimeWithTimezone(t.timeZone));if(a.setMinutes(a.getMinutes()+60),O&&new Date(O)>a)return e.onShowError(ke.ARRIVAL_ERROR),ie(!0),void Rt(ue.UE_STOP_UPDATE_FAILURE,{carrierId:e.carrierId,shipmentId:t.shipmentId,stopID:t.stopId});if(k){var r=O?new Date(O):a,n=new Date(k);if(n>a)return e.onShowError(ke.DEPARTURE_ERROR),void le(!0);if(r.setMinutes(r.getMinutes()+1),r>=n)return e.onShowError(ke.DEPARTURE_ARRIVAL_ERROR),void le(!0);if(i.isOTMTypeShipment(e.loadDetails)&&!i.isOTypeStop(e.stopDetails)&&!I)return void e.onShowError(ke.TRAILER_IN_ERROR);if(i.isOTMTypeShipment(e.loadDetails)&&!i.isOTypeStop(e.stopDetails)&&!L)return void e.onShowError(ke.TRAILER_OUT_ERROR)}if(i.isOTMTypeShipment(e.loadDetails)&&L&&!Le.test(L))e.onShowError(ke.VALID_TRAILER_OUT);else if(i.isOTMTypeShipment(e.loadDetails)&&I&&!Le.test(I))e.onShowError(ke.VALID_TRAILER_IN);else{var s,o,c=[];s=U?{equipmentFlow:zo.TRAILER_IN,equipmentId:I,equipmentOwner:U.equipmentOwner,equipmentType:U.equipmentType,id:U.id,name:U.name,stopId:U.stopId,execActivity:U.execActivity,seqNo:U.seqNo,tmsActivity:U.tmsActivity}:Object(u.a)(Object(u.a)({},Zo),{},{stopId:t.stopId}),o=G?{equipmentFlow:zo.TRAILER_OUT,equipmentId:L,equipmentOwner:G.equipmentType,id:G.id,name:G.name,stopId:G.stopId,equipmentType:G.equipmentType,execActivity:G.execActivity,seqNo:G.seqNo,tmsActivity:G.tmsActivity}:Object(u.a)(Object(u.a)({},Zo),{},{stopId:t.stopId}),s.equipmentFlow===zo.TRAILER_IN&&c.push(s),o.equipmentFlow===zo.TRAILER_OUT&&c.push(o);var l={carrierPro:"",carrierScac:"",stopId:t.stopId,sequenceNo:t.sequenceNo,stopNumber:t.sequenceNo,locationId:t.locationId,city:t.city,state:t.state,country:t.country,latitude:t.latitude&&parseFloat(t.latitude),longitude:t.longitude&&parseFloat(t.longitude),timeZone:t.timeZone,positionDateTime:(new Date).toISOString(),actualArrivalDateTime:O,actualETADateTime:b,actualDepartureDateTime:k,stopTrailerActivity:c,carrierId:"",shipmentId:t.shipmentId,sourceSystem:t.sourceSystem,userId:""};e.changeExpandStop(l),e.GPSEnabledEvent(),Rt(ue.UE_STOP_UPDATE_SUCCESS,{carrierId:e.carrierId,shipmentId:t.shipmentId,stopID:t.stopId})}},Se=function(e){return Ms(e)},Oe=function(){d(!0)};return n.a.createElement(n.a.Fragment,null,n.a.createElement(l.A,{isOpen:!!e.warningDialogMessage,cssClass:"shipment-dialog",backdropDismiss:!1},n.a.createElement("section",null,e.warningDialogMessage),n.a.createElement("footer",null,n.a.createElement(l.k,null,n.a.createElement(l.e,{class:"btn btn-Yes",onClick:function(){e.clearWarningDialogMessage()}},"Yes")),n.a.createElement(l.k,null,n.a.createElement(l.e,{class:"btn btn-No",onClick:function(){e.clearWarningDialogMessage()}},"No")))),n.a.createElement(l.o,{className:"stop-data-grid ".concat(J?"dotted-border":""),id:'"'.concat(e.index,'"')},e.index<e.totalStops-1?n.a.createElement(n.a.Fragment,null,0===e.index?n.a.createElement(l.r,{className:"stop-icon ".concat(J?"change_origin_icon":""),src:"assets/icon/origin-pointer.svg"}):n.a.createElement(l.r,{className:"stop-icon",src:"assets/icon/stop-pointer.svg"})):n.a.createElement(l.r,{className:"path_icon ".concat(i.isAllStopCompleted(e.loadDetails)?"change_dst_icon":""),src:"assets/icon/dst-pointer.svg"}),n.a.createElement(l.o,{className:"stop-address-grid"},Y&&e.index<e.totalStops-1?n.a.createElement(l.o,{className:" ".concat(Y?"progressDiv":"hide-line"),style:{height:"".concat(ee)}}):null,n.a.createElement(l.H,{className:"stop-address-gridspace"},n.a.createElement(l.k,{size:Object(l.V)("mobile")?"7":"2.5",className:"address-details2"},n.a.createElement(l.o,{className:"origin_city_shipment_p"},n.a.createElement("p",{className:"origin_city_shipment"},t.city,", ",t.state),c?n.a.createElement(l.q,{src:"assets/icon/minus-icon.svg",class:"plus-icon",onClick:function(){d(!1)}}):n.a.createElement(l.q,{src:"assets/icon/plus.svg",class:"plus-icon",onClick:function(){d(!0)}})),c?n.a.createElement(l.o,{class:"complete-address2  ".concat(c?"fadein":"fadeout")},n.a.createElement(l.H,null,n.a.createElement(l.k,null,t.locationName&&n.a.createElement("p",null,t.locationName),t.addressLine1&&n.a.createElement("p",null," ",t.addressLine1),t.addressLine2&&n.a.createElement("p",null," ",t.addressLine2)),n.a.createElement(l.k,{size:"4"},n.a.createElement("span",{onClick:function(){e.openSatelliteMap(t.locationName,{lat:t.latitude,lng:t.longitude})}},n.a.createElement(l.r,{src:"/assets/icon/shipment-map-icon.svg",className:"shipment-map-icon"}))))):null,Object(l.V)("desktop")?n.a.createElement(n.a.Fragment,null,0===e.index?n.a.createElement("p",{className:"origin_milehead load_header_elements"},Jo(t&&t.stopActivity||[])):n.a.createElement(n.a.Fragment,null," ",e.index===e.totalStops-1?n.a.createElement("p",{className:"origin_milehead load_header_elements"},Jo(t&&t.stopActivity||[])):n.a.createElement("p",{className:"origin_milehead load_header_elements"},"Stop off "," ",e.index," :"," ",Jo(t&&t.stopActivity||[])," ")),n.a.createElement("p",{className:"origin_dateTime origin-deadheadShipment2 ".concat(e.expandedStop?"":"origin-deadheadShipment2 ")},t&&Se(t))):null),(c&&e.index>e.expandedStop||e.index<=e.expandedStop)&&Object(l.V)("desktop")?n.a.createElement(l.k,{size:"9.5"},n.a.createElement(l.H,null,n.a.createElement(l.k,{class:"exe-col"},n.a.createElement(bp,{timestamp:e.timestamp,shipmentId:e.shipmentId,loadStop:e.stopDetails,onChange:function(e){v(e)},value:b,isNextStop:e.index>e.expandedStop,isExpanded:c,timeZone:e.stopDetails.timeZone})),n.a.createElement(l.k,{class:"exe-col"},n.a.createElement(yp,{timestamp:e.timestamp,isError:ne,loadStop:e.stopDetails,etaValue:b,onChange:function(e){_(e)},value:O,isNextStop:e.index>e.expandedStop,valueEntered:function(){e.arivalEntered(e.index)},isExpanded:c,timeZone:e.stopDetails.timeZone,shipmentId:e.shipmentId})),n.a.createElement(l.k,{class:"trailer-col exe-col"},n.a.createElement(Dp,{timestamp:e.timestamp,shipment:e.loadDetails,expandCurrentStopForcefully:Oe,loadStop:e.stopDetails,onChange:function(e){C(e)},value:I,isNextStop:e.index>e.expandedStop,isFirstStop:0===e.index,isExpanded:c,shipmentId:e.shipmentId,readonly:i.isOTypeStop(e.stopDetails)||i.isShipmentTripCompleted(e.loadDetails)||i.areStopActivitiesMissing(e.stopDetails),changeActivity:function(e){F(e)},showError:i.showTrailerInError(I,e.loadDetails,k,e.index>e.expandedStop,e.stopDetails),showTrailerFeild:ge,isPreviousStop:e.index<e.expandedStop,updateStopInfo:e.updateStopInfo})),n.a.createElement(l.k,{class:"exe-col"},n.a.createElement(Op,{timestamp:e.timestamp,isError:ce,loadStop:e.stopDetails,onChange:function(e){T(e)},value:k,isNextStop:e.index>e.expandedStop,arrivalVal:O,isExpanded:c,timeZone:e.stopDetails.timeZone,shipmentId:e.shipmentId})),n.a.createElement(l.k,{class:"trailer-col exe-col"},n.a.createElement(Ap,{shipment:e.loadDetails,timestamp:e.timestamp,expandCurrentStopForcefully:Oe,loadStop:e.stopDetails,onChange:function(e){P(e)},shipmentId:e.shipmentId,readonly:i.isShipmentTripCompleted(e.loadDetails)||i.isOTypeStop(e.stopDetails)||i.areStopActivitiesMissing(e.stopDetails),value:L,isNextStop:e.index>e.expandedStop,isExpanded:c,isLastStop:e.index===e.totalStops-1,changeActivity:function(e){B(e)},showError:i.showTrailerOutError(L,e.loadDetails,k,e.index>e.expandedStop,e.stopDetails),showTrailerFeild:ge,isPreviousStop:e.index<e.expandedStop})),n.a.createElement(l.k,{class:"cta-btn-col exe-col"},!i.isShipmentTripCompleted(e.loadDetails)&&n.a.createElement(l.e,{class:"load-btn desktop-cta-btn",onClick:ye,disabled:e.index>e.expandedStop||!e.isNetworkAvailable},"Update Stop information")),n.a.createElement(l.k,null,n.a.createElement(kp,{stopDetail:t,carrierId:e.carrierId,shipment:e.loadDetails})))):null,c&&Object(l.V)("mobile")?n.a.createElement(l.k,{size:"5",className:"address-details"},n.a.createElement(kp,{stopDetail:t,carrierId:e.carrierId,shipment:e.loadDetails})):null),c||!h&&e.index>e.expandedStop||!h&&!Object(l.V)("mobile")?n.a.createElement(l.H,null,Object(l.V)("mobile")?n.a.createElement(l.k,{size:"7",className:"address-details2"},0===e.index?n.a.createElement("p",{className:"origin_milehead load_header_elements"},Jo(t&&t.stopActivity||[])):n.a.createElement(n.a.Fragment,null,e.index===e.totalStops-1?n.a.createElement("p",{className:"origin_milehead load_header_elements"},Jo(t&&t.stopActivity||[])):n.a.createElement("p",{className:"origin_milehead load_header_elements"},"Stop off "," ",e.index," :"," ",Jo(t&&t.stopActivity||[]))),n.a.createElement("p",{className:"origin_dateTime origin-deadheadShipment2 ".concat(e.expandedStop?"":"origin-deadheadShipment2 ")},t&&Se(t))):null,c&&Object(l.V)("mobile")?n.a.createElement(l.k,{size:"5",className:"address-details"},n.a.createElement(bp,{timestamp:e.timestamp,loadStop:e.stopDetails,onChange:function(e){v(e)},value:b,isNextStop:e.index>e.expandedStop,isExpanded:c,timeZone:e.stopDetails.timeZone,shipmentId:e.shipmentId})):null):null,Object(l.V)("mobile")&&(c&&e.index>e.expandedStop||e.index<=e.expandedStop)?n.a.createElement(l.o,{className:"address-details2"},n.a.createElement(l.H,{class:"".concat(h?"":"arrival-row")},n.a.createElement(l.k,{size:"7",className:"address-details"},n.a.createElement(yp,{timestamp:e.timestamp,isError:ne,loadStop:e.stopDetails,etaValue:b,onChange:function(e){_(e)},value:O,isNextStop:e.index>e.expandedStop,valueEntered:function(){e.arivalEntered(e.index)},isExpanded:c,timeZone:e.stopDetails.timeZone,shipmentId:e.shipmentId})),n.a.createElement(l.k,{size:"5",className:"address-details"},n.a.createElement(Dp,{shipment:e.loadDetails,timestamp:e.timestamp,expandCurrentStopForcefully:Oe,loadStop:e.stopDetails,onChange:function(e){C(e)},value:I,isNextStop:e.index>e.expandedStop,isFirstStop:0===e.index,isExpanded:c,shipmentId:e.shipmentId,readonly:i.isOTypeStop(e.stopDetails)||i.isShipmentTripCompleted(e.loadDetails)||i.areStopActivitiesMissing(e.stopDetails),changeActivity:function(e){F(e)},showError:i.showTrailerInError(I,e.loadDetails,k,e.index>e.expandedStop,e.stopDetails),showTrailerFeild:ge,isPreviousStop:e.index<e.expandedStop,updateStopInfo:e.updateStopInfo}))),n.a.createElement(l.H,{class:"".concat(h?"":"arrival-row")},n.a.createElement(l.k,{size:"7",className:"address-details"},n.a.createElement(Op,{timestamp:e.timestamp,isError:ce,loadStop:e.stopDetails,onChange:function(e){T(e)},value:k,isNextStop:e.index>e.expandedStop,arrivalVal:O,isExpanded:c,shipmentId:e.shipmentId,timeZone:e.stopDetails.timeZone})),n.a.createElement(l.k,{size:"5",className:"address-details"},n.a.createElement(Ap,{shipment:e.loadDetails,timestamp:e.timestamp,expandCurrentStopForcefully:Oe,loadStop:e.stopDetails,onChange:function(e){P(e)},value:L,isNextStop:e.index>e.expandedStop,isExpanded:c,isLastStop:e.index===e.totalStops-1,readonly:i.isShipmentTripCompleted(e.loadDetails)||i.isOTypeStop(e.stopDetails)||i.areStopActivitiesMissing(e.stopDetails),shipmentId:e.shipmentId,changeActivity:function(e){B(e)},showError:i.showTrailerOutError(L,e.loadDetails,k,e.index>e.expandedStop,e.stopDetails),showTrailerFeild:ge,isPreviousStop:e.index<e.expandedStop}))),c&&!i.isShipmentTripCompleted(e.loadDetails)?n.a.createElement(l.H,null,n.a.createElement(l.e,{class:"load-btn load-btn3",id:"btn-update",onClick:ye,disabled:e.index>e.expandedStop||!e.isNetworkAvailable},"Update Stop information")):null):null)))},Np=function(e){var t=Object(r.useState)(e.isConfirmStartButton),a=Object(f.a)(t,2),i=a[0],s=a[1],o=new Ep,c=Object(r.useState)(""),u=Object(f.a)(c,2),d=u[0],p=u[1],m=Object(r.useState)(""),h=Object(f.a)(m,2),E=h[0],g=h[1],b=Object(r.useState)(""),v=Object(f.a)(b,2),y=(v[0],v[1]),S=Object(r.useState)(""),O=Object(f.a)(S,2),_=O[0],D=O[1],A=Object(r.useState)(""),k=Object(f.a)(A,2),T=k[0],N=k[1],R=Object(r.useState)(""),I=Object(f.a)(R,2),C=(I[0],I[1]),j=Object(r.useState)(""),w=Object(f.a)(j,2),L=(w[0],w[1]),P=Object(r.useState)(""),x=Object(f.a)(P,2),M=(x[0],x[1]),U=Object(r.useState)(""),F=Object(f.a)(U,2),V=(F[0],F[1]),H=Object(r.useState)(""),G=Object(f.a)(H,2),B=(G[0],G[1]),q=Object(r.useState)(!1),z=Object(f.a)(q,2),Y=z[0],W=z[1],Z=Object(r.useState)(o.getCurrentTimeInISO()),K=Object(f.a)(Z,2),J=K[0],Q=K[1],X=Object(r.useState)(!1),$=Object(f.a)(X,2),ee=($[0],$[1]),te=Object(r.useState)(!1),ae=Object(f.a)(te,2),re=ae[0],ne=ae[1],ie=Object(r.useState)(""),se=Object(f.a)(ie,2),oe=se[0],ce=se[1],le=Object(r.useState)(!1),ue=Object(f.a)(le,2),de=ue[0],pe=ue[1],me=Vs()||(new Date).getFullYear(),fe=function(e,t){ne(e),"locationName"===t&&!0===e?y("Kindly provide your correct city name"):"locationName"===t&&!1===e&&y("")},he=function(){e.confirmStartInformation(d,J,_,T,oe||"US",E),ee(!0),s(!1),Object(l.V)("mobile")&&e.GPSEnabledEvent(d)},Ee=function(e){"locationName"===e.target.name&&e.target.value.length>0&&y(""),de?(p(e.target.value),D(e.target.lat),N(e.target.lng),ce(e.target.country)):(C(e.target.value),L(e.target.country),M(e.target.lat),V(e.target.lng),p(e.target.value),D(e.target.lat),N(e.target.lng),ce(e.target.country),pe(!0))};Object(r.useEffect)((function(){Q(o.getCurrentTimeInISO()),p(""),D(""),N(""),ce(""),g("")}),[e.shipmentId]);var ge=e.hideConfirmStart,be=ge?e.ActualStart:J;return be=o.getTimeForIOS(be),n.a.createElement(n.a.Fragment,null,Object(l.V)("mobile")?n.a.createElement(n.a.Fragment,null,n.a.createElement(l.H,null,n.a.createElement(l.k,{className:"origin-input"},ge&&n.a.createElement(l.u,{value:e.locationOriginValue,className:"start-trip-date readonly-origin execution-field",readonly:!0,disabled:!0})||n.a.createElement(js,{onTimeZoneChange:function(e){Y||(B(e),W(!0)),g(e)},Error:!1,labelValue:"",InputValue:d,InputName:"locationName",handleChange:Ee,isDestination:!1,deFaultValue:d,useHandler:!1,setErrorValue:fe,locationValue:e.locationValue}))),n.a.createElement(l.H,null,n.a.createElement(l.k,null,n.a.createElement(l.w,{className:"actual-start"},"Actual Start"),n.a.createElement(l.m,{displayFormat:"MMM DD hh:mm A",pickerFormat:"YYYY MMM DD hh:mm A",className:"actual-start-time start-trip-date execution-field",minuteValues:"00,05,10,15,20,25,30,35,40,45,50,55",value:be,onIonChange:function(e){Q(e.detail.value)},yearValues:me,readonly:ge,disabled:ge,mode:"ios"}))),ge?null:n.a.createElement(l.H,null,n.a.createElement(l.e,{class:"load-btn load-btn2",onClick:he,disabled:""===d||""!==d&&re||""===J||!e.networkStatus},"Confirm start information"))):n.a.createElement(n.a.Fragment,null,n.a.createElement(l.H,{class:"start-trip-row"},n.a.createElement(l.k,{className:"start-col",size:"3"},n.a.createElement(l.w,{className:"location-label"},"Start Location"),ge&&n.a.createElement(l.u,{value:e.locationOriginValue,className:"start-trip-date readonly-origin execution-field",readonly:!0,disabled:!0})||n.a.createElement(js,{onTimeZoneChange:function(e){Y||(B(e),W(!0)),g(e)},Error:!1,labelValue:"",InputValue:d,InputName:"locationName",handleChange:Ee,isDestination:!1,deFaultValue:d,useHandler:!1,setErrorValue:fe,locationValue:e.locationValue})),n.a.createElement(l.k,{size:"3",className:"start-col"},n.a.createElement(l.w,{className:"actual-start"},"Actual Start"),n.a.createElement(l.m,{displayFormat:"MMM DD hh:mm A",pickerFormat:"YYYY MMM DD hh:mm A",minuteValues:"00,05,10,15,20,25,30,35,40,45,50,55",className:"actual-start-time execution-field ".concat(i?"StartTrip-location2":"location-inp"),value:be,onIonChange:function(e){Q(e.detail.value)},readonly:ge,disabled:ge,mode:"ios"})),n.a.createElement(l.k,{size:"6",className:"start-btn-col"},ge?null:n.a.createElement(l.e,{class:"load-btn load-btn2",onClick:he,disabled:""===d||""!==d&&re||""===J||!e.networkStatus},"Confirm start information")))))},Rp=function(){function e(){Object(b.a)(this,e)}return Object(v.a)(e,[{key:"updateStop",value:function(e){return{mutation:{updateStop:{__args:{input:e},status:!0,message:!0,shipment:{shipmentId:!0,lineOfBusiness:!0,transportMode:!0,totalWeight:!0,weightUOM:!0,totalDistance:!0,distanceUOM:!0,numberOfStops:!0,sourceTMS:!0,driverAssignmentStatus:!0,assignedCarrierId:!0,assignedTMSCarrierId:!0,isAppointmentConfirmed:!0,isHazardous:!0,isHighValue:!0,isTemperatureControlled:!0,isFreezeProtected:!0,readyDateTime:!0,readyDateTimeZone:!0,equipmentType:!0,predecessorShipmentId:!0,successorShipmentId:!0,assignmentStatus:!0,executionStatus:!0,masterBillOfLoading:!0,shipmentServices:{serviceDescription:!0},startCity:!0,startCountry:!0,startState:!0,startDateTime:!0,loadStop:{stopId:!0,locationId:!0,stopType:!0,sequenceNo:!0,locationName:!0,addressLine1:!0,addressLine2:!0,city:!0,state:!0,country:!0,postalCode:!0,timeZone:!0,longitude:!0,latitude:!0,plannedArrivalDateTime:!0,actualETADateTime:!0,actualArrivalDateTime:!0,estimatedStopDuration:!0,plannedDepartureDateTime:!0,actualDepartureDateTime:!0,appointmentEarlyDateTime:!0,appointmentLateDateTime:!0,estimatedStopDurationUom:!0,plannedEtaDateTime:!0,stopReference:{id:!0,type:!0,value:!0},locationNotes:{id:!0,type:!0,value:!0},stopActivity:Ko},shipmentInvolvedParties:{id:!0,partyId:!0,partyType:!0,partyName:!0,partyEmail:!0,partyPhone:!0},shipmentReferences:{id:!0,type:!0,value:!0,stopId:!0,shipmentId:!0,display:!0},assignmentTransaction:{transactionId:!0,driverId:!0,driverName:!0}}}}}}}]),e}(),Ip=function(){function e(){Object(b.a)(this,e)}return Object(v.a)(e,[{key:"confirmStart",value:function(e){return{mutation:{confirmStart:{__args:{input:e},status:!0,message:!0,shipment:{shipmentId:!0,lineOfBusiness:!0,transportMode:!0,totalWeight:!0,weightUOM:!0,totalDistance:!0,distanceUOM:!0,numberOfStops:!0,sourceTMS:!0,assignedCarrierId:!0,assignedTMSCarrierId:!0,isAppointmentConfirmed:!0,isHazardous:!0,isHighValue:!0,isTemperatureControlled:!0,isFreezeProtected:!0,readyDateTime:!0,readyDateTimeZone:!0,equipmentType:!0,predecessorShipmentId:!0,successorShipmentId:!0,assignmentStatus:!0,executionStatus:!0,masterBillOfLoading:!0,driverAssignmentStatus:!0,shipmentServices:{serviceDescription:!0},startCity:!0,startCountry:!0,startState:!0,startDateTime:!0,loadStop:{stopId:!0,locationId:!0,stopType:!0,sequenceNo:!0,locationName:!0,addressLine1:!0,addressLine2:!0,city:!0,state:!0,country:!0,postalCode:!0,timeZone:!0,longitude:!0,latitude:!0,estimatedArrivalDateTime:!0,plannedArrivalDateTime:!0,actualArrivalDateTime:!0,estimatedStopDuration:!0,plannedDepartureDateTime:!0,actualDepartureDateTime:!0,appointmentEarlyDateTime:!0,appointmentLateDateTime:!0,estimatedStopDurationUom:!0,plannedEtaDateTime:!0,stopReference:{id:!0,type:!0,value:!0},locationNotes:{id:!0,type:!0,value:!0},stopActivity:Ko},shipmentInvolvedParties:{id:!0,partyId:!0,partyType:!0,partyName:!0,partyEmail:!0,partyPhone:!0},shipmentReferences:{id:!0,type:!0,value:!0,stopId:!0,shipmentId:!0,display:!0},assignmentTransaction:{transactionId:!0,driverId:!0,driverName:!0}}}}}}}]),e}();var Cp=function(e){Object(ct.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(ut.a)(e);if(t()){var n=Object(ut.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(lt.a)(this,a)}}(a);function a(e){var r;return Object(b.a)(this,a),(r=t.call(this,e)).startTripModel=void 0,r.startTrip=void 0,r.confirmStartInformation=function(e,t,a,n,i,s){var o=r.props.userDetails,c=void 0===o?{}:o,l=r.props.loadDetails,u=void 0===l?{}:l,d=new Ip,p=e?e.split(","):[];1===p.length&&p.push("");var m=t?fu.tz(t.substring(0,19),s).format():t;r.props.confirmStartLoadInformation(d.confirmStart({carrierId:c.carrierId,carrierPro:"",carrierScac:"",city:p[0],country:i,latitude:a?a.toString():"",longitude:n?n.toString():"",positionDateTime:m,shipmentId:u.shipmentId,sourceSystem:u.sourceTMS,startDateTime:m,state:p[1],timeZone:s,userId:c.userPrincipalName}),(function(e){r.props.refreshShipmentInDriverLoads(e)})),r.setState({showExpandView:!0,expandedStop:r.startTripModel.getCurrentOpenStop(r.props.loadDetails),isConfirmStartButton:!1,isLoadRefreshed:!0,progressBarHeight:"70px"})},r.getActualStartTime=function(e){var t=e&&new Date(e)||r.state.actualStartDateTime,a=t.toLocaleString("default",{month:"short"}),n=t.getDate(),i=t.toLocaleString("default",{hour:"numeric",minute:"numeric",hour12:!0});return"".concat(a," ").concat(n," ").concat(i)},r.updateExicutionProgress=function(e){var t={},a=r.startTripModel.isAllStopCompleted(r.props.loadDetails),n=r.sortShipmentsStop(),i=r.startTripModel.getStartingLocation(r.props.loadDetails);r.getActualStartTime(r.startTripModel.getStartingDateTime(r.props.loadDetails));var s=0,o=r.startTripModel.isConfirmStartButtonDisabled(r.props.loadDetails);a||0===e||n[0]&&n[0].actualArrivalDateTime||r.state.expandedStop>0?s=3:(i&&(s=1),o&&(s=2)),t.startTrip={progress:s},n&&n.map((function(i,s){var o=0;a||s<r.state.expandedStop-1?o=3:s!==r.state.expandedStop&&s!==r.state.expandedStop-1||s===n.length-1||(e===s&&(o=.5),i.actualArrivalDateTime&&(o+=1),i.actualArrivalDateTime&&i.actualDepartureDateTime&&(o+=1),(e&&e-1===s||n[s+1]&&n[s+1].actualArrivalDateTime)&&(o=3)),t[s]={progress:o}})),r.setState({exicutionProgress:t},(function(){setTimeout((function(){return r.getProgress()}),0)}))},r.getTime=function(e,t){return e?fu.tz(e.substring(0,19),t).format():e},r.updateShipmentStopInformation=function(e){e.shipmentId=r.props.shipmentId,e.sourceSystem=r.props.loadDetails.sourceTMS;var t=new Rp,a=r.props.userDetails,n=void 0===a?{}:a;r.state.expandedStop+1===e.sequenceNo?r.props.updateStopInformationResponse({shipmentId:e.shipmentId,sequenceNo:e.sequenceNo}):r.props.clearUpdateStopInformationResponse(),r.props.updateStopInformation(t.updateStop({sourceSystem:e.sourceSystem,carrierPro:e.carrierPro,carrierScac:e.carrierScac,shipmentId:e.shipmentId,stopId:e.stopId,sequenceNo:e.sequenceNo,stopNumber:e.stopNumber,locationId:e.locationId,carrierId:n.carrierId,userId:n.userPrincipalName,city:e.city,state:e.state,country:e.country,latitude:e.latitude,longitude:e.longitude,timeZone:e.timeZone,positionDateTime:e.positionDateTime,actualArrivalDateTime:r.getTime(e.actualArrivalDateTime,e.timeZone),actualETADateTime:r.getTime(e.actualETADateTime,e.timeZone),actualDepartureDateTime:r.getTime(e.actualDepartureDateTime,e.timeZone),stopTrailerActivity:e.stopTrailerActivity}),(function(e){r.props.refreshShipmentsLoads(e)}))},r.sortShipmentsStop=function(){var e=r.props.shipmentloadStop,t=void 0===e?[]:e;return t=t.slice().sort((function(e,t){return e.sequenceNo&&t.sequenceNo?e.sequenceNo-t.sequenceNo:e.stopSequence&&t.stopSequence?e.stopSequence-t.stopSequence:0}))},r.getProgress=function(){if(r.state.exicutionProgress&&r.state.exicutionProgress.startTrip&&r.state.exicutionProgress.startTrip.progress){var e=r.state.exicutionProgress.startTrip.progress;if(3===e)r.setState({showDottedBorder:!0});else{r.setState({showDottedBorder:!1});var t=r.startTrip,a=t&&t.offsetHeight,n=a&&a*(e/3);r.setState({progressBarHeight:"".concat(n,"px")})}}},r.startTripModel=new Ep,r.startTrip=null,r.state={showExpandView:!1,isConfirmStartButton:!0,expandedStop:r.startTripModel.getCurrentOpenStop(e.loadDetails),locationName:"",originError:"",isLocationExpand:e.locationValue,ActualStart:(new Date).toISOString(),isLoadRefreshed:!1,actualStartDateTime:new Date,currentLocationName:"",lat:"",lng:"",timezone:"",progressBarHeight:"20px",exicutionProgress:[],showDottedBorder:!1},r}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoadRefreshed:!1,showExpandView:!1,isConfirmStartButton:!0,expandedStop:this.startTripModel.getCurrentOpenStop(this.props.loadDetails),locationName:this.state.currentLocationName,originError:"",isLocationExpand:this.props.locationValue,progressBarHeight:"0px",exicutionProgress:[]}),setTimeout((function(){return e.updateExicutionProgress()}),0)}},{key:"componentDidUpdate",value:function(e){var t=this;JSON.stringify(e.loadDetails)!==JSON.stringify(this.props.loadDetails)&&(this.setState({isLoadRefreshed:!1,showExpandView:!1,isConfirmStartButton:!0,expandedStop:this.startTripModel.getCurrentOpenStop(this.props.loadDetails),locationName:this.state.currentLocationName,originError:"",isLocationExpand:this.props.locationValue,exicutionProgress:[]}),setTimeout((function(){return t.updateExicutionProgress()}),0))}},{key:"render",value:function(){var e=this,t=this.sortShipmentsStop(),a=this.startTripModel.isConfirmStartButtonDisabled(this.props.loadDetails);return n.a.createElement(n.a.Fragment,null,n.a.createElement(l.g,{className:"shipment-card"},n.a.createElement(l.o,{className:"stop-grid  ".concat(this.state.showDottedBorder?"dotted-border":""),style:{paddingBottom:"0px"},ref:function(t){return e.startTrip=t,!0},id:"start-trip"},n.a.createElement(l.o,{className:"".concat(this.state.showDottedBorder?"hide-line":"progressDiv"),style:{height:"".concat(this.state.progressBarHeight)}}),n.a.createElement(l.r,{src:"assets/icon/start-trip-location.svg",className:"stop-icon location-start ".concat(a?"change_icon":"")}),n.a.createElement(Np,{confirmStartInformation:this.confirmStartInformation,locationValue:this.props.locationValue,networkStatus:this.props.networkStatus,isConfirmStartButton:this.state.isConfirmStartButton,ActualStart:this.startTripModel.getStartingDateTime(this.props.loadDetails),shipmentId:this.props.shipmentId,hideConfirmStart:a,locationOriginValue:this.startTripModel.getStartingLocation(this.props.loadDetails),isNetworkAvailable:this.props.isNetworkAvailable,GPSEnabledEvent:this.props.GPSEnabledEvent})),n.a.createElement(l.o,{className:"stop-details-grid"},t?t.map((function(a,r){return n.a.createElement(Tp,{clearWarningDialogMessage:e.props.clearWarningDialogMessage,warningDialogMessage:e.props.warningDialogMessage,timestamp:e.props.timestamp,key:r,stopDetails:a,totalStops:t.length,index:r,showExpandView:e.state.showExpandView,expandedStop:e.state.expandedStop,changeExpandStop:e.updateShipmentStopInformation,shipmentId:e.props.shipmentId,carrierId:e.props.userDetails.carrierId,isConfirmStartButton:e.state.isConfirmStartButton,loadDetails:e.props.loadDetails,isNetworkAvailable:e.props.isNetworkAvailable,exicutionProgress:e.state.exicutionProgress,arivalEntered:function(t){e.updateExicutionProgress(t)},onShowError:function(t){e.props.showErrorMessage(t)},GPSEnabledEvent:e.props.GPSEnabledEvent,openSatelliteMap:e.props.openSatelliteMap,updateStopInfo:e.props.updateStopInfo})})):null)),this.startTripModel.isAllStopCompleted(this.props.loadDetails)&&!this.startTripModel.isTripCompleted(this.props.loadDetails)&&Object(l.V)("desktop")&&n.a.createElement(l.e,{expand:"full",class:"complete-load-btn",onClick:function(){var t=e.props,a=t.loadDetails,r=void 0===a?{}:a,n=t.isNetworkAvailable,i=t.showAlert;n?e.props.completeTripRequest(r.sourceTMS,r.shipmentId):i({isShowAlert:!0,alertMessage:X,alertTitle:Q})}},n.a.createElement("img",{src:"/assets/icon/complete-trip.svg",className:"complete-icon"}),"Complete Trip")||null)}}]),a}(r.Component),jp=Object(nt.b)({userDetails:nn(),isNetworkAvailable:on(),warningDialogMessage:Object(nt.a)([ti],(function(e){return e.warningDialogMessage||Ge.warningDialogMessage})),updateStopInfo:Object(nt.a)(ti,(function(e){return e&&e.updateStop||{}}))}),wp=Object(c.c)(jp,(function(e){return{updateStopInformation:function(t,a){e(function(e,t){return{type:C.UPDATE_STOP_INFORMATION,payload:{data:e,callBack:t}}}(t,a))},confirmStartLoadInformation:function(t,a){e(function(e,t){return{type:C.CONFIRM_START_INFORMATION,payload:{data:e,callback:t}}}(t,a))},clearWarningDialogMessage:function(){return e({type:C.CLEAR_WARNING_DIALOG})},showAlert:function(t){return e(lr(t))},showErrorMessage:function(t){e(Ln({status:!1,message:t}))},updateStopInformationResponse:function(t){e(function(e){return{type:C.UPDATE_STOP_INFORMATION_RESPONSE,payload:e}}({data:t}))},clearUpdateStopInformationResponse:function(){return e(xn())}}})),Lp=_s({key:"carrierAssigned",reducer:Jd}),Pp=Ss({key:"myload",saga:ns}),xp=Object(d.compose)(Pp,Lp,wp)(Cp),Mp=function(){function e(){Object(b.a)(this,e),this.shipment_details={userId:"",shipmentId:""}}return Object(v.a)(e,[{key:"startTrip",value:function(){return{mutation:{startTrip:{__args:{userId:this.shipment_details.userId,shipmentId:this.shipment_details.shipmentId},status:!0,message:!0,shipment:{shipmentId:!0,lineOfBusiness:!0,transportMode:!0,totalWeight:!0,weightUOM:!0,totalDistance:!0,distanceUOM:!0,numberOfStops:!0,sourceTMS:!0,assignedCarrierId:!0,assignedTMSCarrierId:!0,isAppointmentConfirmed:!0,isHazardous:!0,isHighValue:!0,isTemperatureControlled:!0,isFreezeProtected:!0,readyDateTime:!0,readyDateTimeZone:!0,equipmentType:!0,predecessorShipmentId:!0,successorShipmentId:!0,assignmentStatus:!0,executionStatus:!0,masterBillOfLoading:!0,shipmentServices:{serviceDescription:!0},startCity:!0,startCountry:!0,startState:!0,startDateTime:!0,loadStop:{stopId:!0,locationId:!0,stopType:!0,sequenceNo:!0,locationName:!0,addressLine1:!0,addressLine2:!0,city:!0,state:!0,country:!0,postalCode:!0,timeZone:!0,longitude:!0,latitude:!0,estimatedArrivalDateTime:!0,actualETADateTime:!0,plannedArrivalDateTime:!0,actualArrivalDateTime:!0,estimatedStopDuration:!0,plannedDepartureDateTime:!0,actualDepartureDateTime:!0,appointmentEarlyDateTime:!0,appointmentLateDateTime:!0,estimatedStopDurationUom:!0,plannedEtaDateTime:!0,shipmentId:!0,stopReference:{id:!0,type:!0,value:!0,stopId:!0,shipmentId:!0},locationNotes:{id:!0,type:!0,value:!0,shipmentId:!0,stopId:!0},stopActivity:Ko},shipmentReferences:{id:!0,type:!0,value:!0,stopId:!0,shipmentId:!0},shipmentNotes:{id:!0,type:!0,value:!0,shipmentId:!0,stopId:!0},shipmentInvolvedParties:{id:!0,partyId:!0,partyType:!0,partyName:!0,partyEmail:!0,partyPhone:!0},driverAssignmentStatus:!0,assignmentTransaction:{transactionId:!0,driverId:!0,driverName:!0}}}}}}},{key:"userId",get:function(){return this.shipment_details.userId},set:function(e){e&&(this.shipment_details.userId=e)}},{key:"shipmentId",get:function(){return this.shipment_details.shipmentId},set:function(e){e&&(this.shipment_details.shipmentId=e)}}]),e}(),Up=function(e){var t=e.DriverList,a=e.showAssignDriverDialog;return n.a.createElement("div",null,t&&t.map((function(e,t){return n.a.createElement(l.g,{className:"driver-card",key:t,onClick:function(){a&&!Object(l.V)("desktop")&&a(!0,e)}},n.a.createElement(l.h,{className:"driver-card-content"},n.a.createElement(l.H,null,n.a.createElement(l.k,{className:"card-price-col DriverImageCol driverCol",size:Object(l.V)("desktop")?"1.5":"4"},e.DriverImg?n.a.createElement("img",{src:e.DriverImg,alt:"",className:"DriverImage"}):n.a.createElement("div",{className:"driver-img-div"},n.a.createElement("span",{className:"child-img"},"".concat(e.firstName?e.firstName[0].toUpperCase():"")),n.a.createElement("span",{className:"child-img"},"".concat(e.lastName?e.lastName[0].toUpperCase():"")))),n.a.createElement(l.k,{className:"card-city-col",size:Object(l.V)("desktop")?"7":"8"},e.firstName&&e.firstName.length&&e.lastName&&e.lastName.length>0?n.a.createElement("p",{className:"driver-name"},"".concat(e.firstName,"  ").concat(e.lastName)):n.a.createElement("p",null,"\xa0"),n.a.createElement(l.H,null,n.a.createElement(l.k,{className:"tractorno",size:Object(l.V)("desktop")?"2":"5"},"Tractor No"),n.a.createElement(l.k,{className:"tractor-number",size:Object(l.V)("desktop")?"2":"7"},e&&e.tractorNumber)),n.a.createElement(l.H,null,n.a.createElement(l.k,{className:"tractorno2",size:Object(l.V)("desktop")?"2":"5"},"Mobile No"),n.a.createElement(l.k,{className:"tractor-number",size:Object(l.V)("desktop")?"3":"7"},e&&e.mobileNumber))),n.a.createElement(l.k,{size:Object(l.V)("desktop")?"1":"0"}),n.a.createElement(l.k,{size:"2.5",className:"Assign-btn-view"},n.a.createElement(l.e,{class:"load-btn assign-btn",onClick:function(){a&&a(!0,e)}},n.a.createElement(l.r,{className:"addUser_img",src:"assets/icon/Assign Driver.svg"}),"Assign")))))})),n.a.createElement("p",{className:"end_of_list"},"End of list"))},Fp=function(e){return n.a.createElement(l.l,{className:"driverModal-content"},n.a.createElement("div",{className:"Background-popup"},e.popupHeader?n.a.createElement(l.H,{className:"popup_row"},n.a.createElement(l.k,{size:"11.5",className:"select-driver-main-Col"},n.a.createElement(l.H,null,n.a.createElement(l.k,{size:"8"},n.a.createElement(l.w,{className:"select-driver-header"},"Select A Driver")),n.a.createElement(l.k,{size:"4",className:"add-right",onClick:function(){e.closeModal(),e.history.push("/app/MyLoad/addDriver")}},n.a.createElement(l.r,{className:"add_img",src:"assets/icon/Add.svg"}),n.a.createElement(l.w,{className:"popup-add-driver"},"Add Driver")))),n.a.createElement(l.k,{size:"0.5",className:"cancel_col"},n.a.createElement("div",{className:"cancel_text",onClick:function(){e.closeModal()}},"x"))):null,n.a.createElement(Up,{DriverList:e.DesktopDriverList,loadDetails:e.loadDetails,showAssignDriverDialog:function(t,a){e.showAssignDriverDialog(t,a)}})))};var Vp=function(e){Object(ct.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(ut.a)(e);if(t()){var n=Object(ut.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(lt.a)(this,a)}}(a);function a(e){var r;return Object(b.a)(this,a),(r=t.call(this,e)).pdfbase64="",r.binaryData="",r.gpsActivatedShipmentID="",r.__model=void 0,r.isUpdated=void 0,r.lead="",r.sendAnalyticsEvent=function(e,t,a){var n,i,s="",o="";switch(Rt(ue.SV_VIEW_SHIPMENT,{screen:de.SHIPMENT_DETAILS,shipmentId:r.props.loadId}),e){case ee.RECOMMENDED_MODULE:n=ue.SV_LOAD_DETAILS,i=de.LOAD_DETAILS,r.lead=pe.RECOMMENDED;break;case ee.WATCHED_MODULE:n=ue.SV_LOAD_DETAILS,i=de.LOAD_DETAILS,r.lead=pe.WATCHED;break;case $.SEARCH_RESULTS:n=ue.UE_LOAD_RATE_ACCEPT,s=ue.SV_LOAD_DETAILS,i=de.LOAD_DETAILS_RATE,o=de.LOAD_DETAILS,r.lead=pe.SEARCHED;break;case $.CARRIER_ASSIGNED_MODULE:n=ue.SV_VIEW_CARRIER_ASSIGNED,i=de.LOAD_DETAILS,r.lead=pe.CARRIER_ASSIGNED;break;case $.DRIVER_ASSIGNED_MODULE:n=ue.SV_ASSIGN_DRIVER,i=de.LOAD_DETAILS,r.lead=pe.DRIVER_ASSIGNED;break;default:n=ue.UE_WATCH_LOAD,i=de.LOAD_DETAILS,r.lead=pe.WATCHED}Rt(n,{screen:i,shipmentId:t,loadId:t,lead:r.lead,carrierId:a}),""!==s&&Rt(s,{screen:o,shipmentId:t,loadId:t,lead:r.lead,carrierId:a}),r.state.isTermsAndConditionExpanded&&(n=ue.UE_VIEW_LOAD_TERMS,i=de.LOAD_DETAILS,r.lead=pe.RECOMMENDED,Rt(n,{screen:i,shipmentId:t,loadId:t,lead:r.lead,carrierId:a}))},r.getShipmentBookLoad=function(){var e=Object(g.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=new Yd).shipmentIds=t,r.props.buyLoadShipmentRequest({query:a.getRequestShipmentPayload(),shipmentId:t,module:"",isPullToRefresh:!1},(function(){var e=r.props.getShipmentDetails;if(e&&e.shipments&&e.shipments.length>0){r.props.module,r.props.history.location.pathname;Ha.details.setValue={shipmentId:t},r.props.history.push("/app/MyLoad/CarrierAssigned/".concat(t),{isBookLoad:!0,shipments:e.shipments,module:r.props.module});var a=r.props&&r.props.userDetails&&r.props.userDetails.carrierId||"",n=new hd;n.carrierId=a,n.filter={carrierAssigned:!0,driverAssigned:!0,inTransit:!0,driverAssignmentPending:!0,delivered:!0},r.props.fetchShipments(n.getRequestPayload(),(function(){var t=e.shipments[0],a=r.props.carrierLoads.concat(Object(u.a)({},t));r.props.loadCarrierData(a,a.length),r.removeLoadsFromStore(r.props.loadDetails.loadId?r.props.loadDetails.loadId:null)}))}else r.setState({isGetShipmentErr:!0})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.columns=[{name:"Origin",selector:"origin_city",style:{fontWeight:900,fontSize:14,colorName:"#000000"}},{name:"Origin Date",selector:"origin_from_date",minWidth:"123px"},{name:"DH-O",selector:"origin_deadhead"},{name:"Origin Load Type",selector:"origin_load_type"},{name:"Destination",selector:"destination_city",style:{fontWeight:900,fontSize:14,colorName:"#000000"}},{name:"Destination Date",selector:"destination_from_date",minWidth:"123px"},{name:"DH-D",selector:"destination_deadhead"},{name:"Destination Load Type",selector:"destination_load_type"},{name:"Trailer Type",selector:"trailer"},{name:"Rate ($)",selector:"price",style:{fontWeight:900,fontSize:14,colorName:"#000000"}}],r.showPdf=function(){var e=Object(g.a)(E.a.mark((function e(t){var a,n,i,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pd(r.pdfbase64,gt.c.Documents,"CachePDF.pdf");case 3:if(a=e.sent,n=a.writeFile_Mobile,i=a.writeFile_Web,"web"!==r.props.getPlatform){e.next=12;break}return e.next=9,i();case 9:s=e.sent,e.next=15;break;case 12:return e.next=14,n();case 14:s=e.sent;case 15:r.setState({url:s,showModal:!0}),e.next=20;break;case 18:e.prev=18,e.t0=e.catch(0);case 20:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t){return e.apply(this,arguments)}}(),r.onPDFLoadComplete=function(){},r.getloadData=function(e){var t=[e];return r.props.module===$.CARRIER_ASSIGNED_MODULE||r.props.module===$.DRIVER_ASSIGNED_MODULE?Fs(t,"appointmentEarlyDateTime","appointmentLateDateTime","shipmentId","equipmentType"):Fs(t,"appointmentFrom","appointmentTo","loadId","transportMode")},r.onButtonClick=Object(g.a)(E.a.mark((function e(){var t,a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.props.isNetworkAvailable){e.next=20;break}if(r.props.module!==$.CARRIER_ASSIGNED_MODULE){e.next=5;break}r.props.assignDriverBtn(r.__model.getRequestPayload()),e.next=18;break;case 5:if(r.props.module!==$.DRIVER_ASSIGNED_MODULE){e.next=16;break}if(!Object(l.V)("capacitor")){e.next=13;break}return e.next=9,Za("DB_GPS_ACTIVATED_SHIPMENT");case 9:(t=e.sent.value)?(a=JSON.parse(t),n=a.shipmentID,alert(q.ERROR_MESSAGE_1+n+q.ERROR_MESSAGE_2)):r.navigateToShipmentUpdateScreen(),e.next=14;break;case 13:r.navigateToShipmentUpdateScreen();case 14:e.next=18;break;case 16:Rt("ue_load_buy_request",{page:"Load Details"}),null===r.props.loadDetails.rate||r.props.loadDetails.rate&&0===r.props.loadDetails.rate.totalCharge?(r.callusClick(),Rt(ue.UE_CONTACT_FOR_PRICE,{screen:de.LOAD_DETAILS,loadId:r.props.loadId,carrierId:r.props.userDetails.carrierId,lead:r.lead})):(r.setState({isBookLoadModal:!0}),Rt(ue.UE_BOOK_LOAD_NOW,{screen:de.LOAD_DETAILS,loadId:r.props.loadId,carrierId:r.props.userDetails.carrierId,lead:r.lead}));case 18:e.next=21;break;case 20:r.props.showAlert({isShowAlert:!0,alertMessage:X,alertTitle:Q});case 21:case"end":return e.stop()}}),e)}))),r.navigateToShipmentUpdateScreen=function(e){if(!r.props.loadDetails||r.props.loadDetails.driverAssignmentStatus){r.startTrip();var t=r.props.match.params[0];r.props.setShipmentForStartTrip(r.props.loadDetails),r.setState({isStartTrip:!1,isLocation:!0},(function(){return r.props.history.push({pathname:"/app/MyLoad/shipmentUpdateScreen/".concat(r.props.loadId),state:{isCurrentLocationOn:e||!0,isLocation:!0,module:t,withGPS:!1,startTripShipment:r.props.loadDetails,moduleName:"DRIVERLIST",soure:de.LOAD_DETAILS}})})),Object(l.V)("capacitor")&&r.props.loadDetails&&r.props.loadDetails.shipmentInvolvedParties&&r.props.loadDetails.shipmentInvolvedParties.map((function(e,t){e.partyId&&e.partyId.toUpperCase()===r.props.userDetails.email.toUpperCase()&&e.partyType.toUpperCase()===_e.PRIMARY_DRIVER&&r.startTracking(r.props.loadDetails,r.props.userDetails)}))}else r.setState({showMessageForPendingLoad:!0})},r.startTracking=function(){var e=Object(g.a)(E.a.mark((function e(t,a){var r,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={activity:"",shipmentID:t.shipmentId,carrierScac:"",userId:a.email,sourceTMS:t.sourceTMS,carrierId:a.carrierId,loadStops:t.loadStop},er.details.startGPStracking(r),e.next=4,Ya("DB_GPS_ACTIVATED_SHIPMENT",JSON.stringify(r));case 4:K.RELEASE===Oe.UNT&&((n=new Audio).src=Z.START_TRIP,n.play());case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),r.closeDriverModal=function(){r.setState({isDriverModal:!1})},r.callusClick=function(){r.props.isNetworkAvailable,r.props.isCarrierLoad||Rt("ue_load_view_call",{page:"Load Details"});var e=Ha.details.keys&&Ha.details.keys.configuration,t=e&&e["OTMASSET"===r.props.loadDetails.sourceSystem?"loadContactOTM":"loadContactMG"]||("OTMASSET"===r.props.loadDetails.sourceSystem?I.OTM:I.MG);Mu.a.callNumber(t,!0).then((function(e){Rt(ue.UE_VIEW_LOAD_CALL_US,{screen:de.LOAD_DETAILS,loadId:r.props.loadId,carrierId:r.props.userDetails.carrierId,lead:r.lead})})).catch((function(e){}))},r.chatusClick=function(){r.props.isCarrierLoad||Rt("ue_load_view_chat",{page:"Load Details"}),_r.show()},r.onClick=function(){if(r.props.isNetworkAvailable){var e=!0;r.props.module===$.CARRIER_ASSIGNED_MODULE&&(r.props.assignDriverBtn(r.__model.getRequestPayload()),r.setState({isDriverModal:!0,isPopupHeader:!0}),e=!1),r.props.module===$.DRIVER_ASSIGNED_MODULE?(!Object(l.V)("desktop")&&r.props.networkStatus&&r.setState({isStartTrip:!0}),Object(l.V)("desktop")&&r.props.networkStatus&&(r.setState({isStartTrip:!1,isStartTripDesktop:!0}),r.startTrip())):e&&(null===r.props.loadDetails.rate||r.props.loadDetails.rate&&0===r.props.loadDetails.rate.totalCharge?r.callusClick():r.setState({isBookLoadModal:!0}))}else r.props.showAlert({isShowAlert:!0,alertMessage:X,alertTitle:Q})},r.isInTransit=function(){return r.props.module===$.INTRANSIT_MODULE||r.state.isStartTripDesktop||r.props.module===$.RECENTLY_DELIVERED_MODULE},r.completeTripClick=function(){r.setState({isCompleteTrip:!0})},r.getConfirmStartStatus=function(){return!1===(r.props.startTripShipmentStatusMessage||{}).status},r.getConfirmStartMessage=function(){return(r.props.startTripShipmentStatusMessage||{}).message},r.startTrip=function(){var e=new Mp;e.userId=r.props.userDetails.userPrincipalName,e.shipmentId=r.props.loadId,r.props.startTrip(e.startTrip())},r.getLoadDetails=function(){return r.props.shipmentToStartTrip||{}},r.closeBookloadconfirm=function(){r.setState({isBookloadConfirm:!1})},r.closeBookLoadModal=function(){r.setState({isBookLoadModal:!1}),Rt(ue.UE_LOAD_RATE_DENY,{screen:de.LOAD_DETAILS_RATE,carrierId:r.props.userDetails.carrierId,lead:r.lead})},r.buyLoad=function(){var e=new zd;if(r.props.isNetworkAvailable){var t={lhlCharges:r.props.loadDetails&&r.props.loadDetails.rate&&r.props.loadDetails.rate.lineHaulCharge.charge||0,fsrCharges:r.props.loadDetails&&r.props.loadDetails.rate&&r.props.loadDetails.rate.fuelCharge.charge||0,carrierId:r.props.userDetails&&r.props.userDetails.carrierId||"",userId:r.props.userDetails&&r.props.userDetails.userPrincipalName||"",sourceSystem:r.props.loadDetails&&r.props.loadDetails.sourceSystem||"",loadId:r.props.loadId,amount:r.props.loadDetails&&r.props.loadDetails.rate&&r.props.loadDetails.rate.totalCharge||0,binRateId:r.props.loadDetails&&r.props.loadDetails.rate&&r.props.loadDetails.rate.binRateIdentifier&&r.props.loadDetails.rate.binRateIdentifier||"",currency:Fd.USD||Fd.CAD};r.props.buyLoadRequest({query:e.getRequestPayload(),data:t})}else r.props.showAlert({isShowAlert:!0,alertMessage:X,alertTitle:Q});Rt(ue.UE_LOAD_RATE_ACCEPT,{screen:de.LOAD_DETAILS_RATE,carrierId:r.props.userDetails.carrierId,lead:r.lead})},r.declineBookLoad=function(){Object(l.V)("mobile")?r.props.history.push("/app/".concat(r.props.module)):r.props.history.push("/app/search"),r.removeLoadsFromStore(r.props.loadDetails.loadId?r.props.loadDetails.loadId:null),r.setState({isGetShipmentErr:!1}),Rt(ue.UE_BOOK_FAILED,{screen:de.LOAD_DETAILS_RATE,loadId:r.props.loadId,carrierId:r.props.userDetails.carrierId,lead:r.lead})},r.removeLoadsFromStore=function(e){r.props.removeSearchResults(e),r.props.removeRecommendedResults({loadId:e}),r.props.removewatchedResults({loadId:e})},r.confirmBookLoad=function(){if(r.props.isNetworkAvailable,"OK"===r.props.bookLoadStatus.status){var e=r.props.loadDetails.loadId,t=[];t.push(e),(new Yd).shipmentIds=t,r.getShipmentBookLoad(e)}r.props.bookLoadStatus.status,r.closeBookloadconfirm(),"CANCELLED"===r.props.bookLoadStatus.status&&Object(l.V)("mobile")&&(r.removeLoadsFromStore(r.props.loadDetails.loadId?r.props.loadDetails.loadId:null),r.props.history.push("/app/".concat(r.props.module))),r.props.buyLoadStatusRemove(),Rt(ue.UE_BOOK_SUCCESS,{screen:de.LOAD_DETAILS_RATE,loadId:r.props.loadId,carrierId:r.props.userDetails.carrierId,lead:r.lead})},r.setTermsAndConState=function(){r.setState({isTermsAndConditionExpanded:!r.state.isTermsAndConditionExpanded})},r.__model=new Zd,r.state={isGetShipmentErr:!1,tab:!1,toggleBtn:!1,show:!1,showTerms:!0,showDocument:!0,showStops:!0,showModal:!1,url:"",isDriverModal:!1,isPopupHeader:!1,isTripStarted:!1,isStartTripDesktop:!1,openAssignDriverDialog:!1,driverDetails:{},isStartTrip:!1,isLocation:!1,showSatelliteMap:!1,satelliteLocation:"",isCompleteTrip:!1,shipmetCardLoaddetails:r.props.loadDetails,showMessageForPendingLoad:!1,isBookLoadModal:!1,shipmentID:null,showCTAButton:!1,isBookloadConfirm:!1,isTermsAndConditionExpanded:!1,showCallNow:!1},r.loadTerms=r.loadTerms.bind(Object(st.a)(r)),r.loadDocuments=r.loadDocuments.bind(Object(st.a)(r)),r.loadStops=r.loadStops.bind(Object(st.a)(r)),r.isUpdated=!1,r}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this;It("screen_load_details"),this.props.isCarrierLoad||Rt("ue_load_view",{page:"Load Details"}),this.props.loadDetails&&this.props.loadDetails.rate&&Rt(ue.SV_LOAD_DETAILS_RATE,{screen:de.LOAD_DETAILS_RATE,lead:this.lead});var t=this.state.isStartTrip,a=this.state.isStartTripDesktop,r=this.state.showCTAButton;this.props.loadDetails&&this.props.loadDetails.executionStatus===ae.STARTED&&this.props.module===$.DRIVER_ASSIGNED_MODULE?(t=!1,a=!0,r=!1):r=this.props.module!==$.INTRANSIT_MODULE&&this.props.module!==$.RECENTLY_DELIVERED_MODULE,this.setState({isStartTrip:t,isStartTripDesktop:a,shipmetCardLoaddetails:this.props.loadDetails,showCTAButton:r},(function(){e.setTripDetails()}))}},{key:"componentDidUpdate",value:function(e,t){if(Ha.details.getValue.shipmentId!==this.props.loadId){var a;this.sendAnalyticsEvent(this.props.module,this.props.loadId,this.props.userDetails.carrierId),Rt(ue.SV_VIEW_LOAD,{screen:de.LOAD_DETAILS,shipmentId:this.props.loadId,loadId:this.props.loadId,lead:this.lead,carrierId:this.props.userDetails.carrierId}),this.props.module==ee.RECOMMENDED_MODULE?a=pe.RECOMMENDED:this.props.module==ee.WATCHED_MODULE?a=pe.WATCHED:this.props.module==$.SEARCH_RESULTS&&(a=pe.SEARCHED),a&&Rt(ue.UE_VIEW_LOAD,{screen:de.LOAD_DETAILS,loadId:this.props.loadId,lead:a,carrierId:this.props.userDetails.carrierId});var r=er.details.getGPStrackingShipmentID();t.shipmentID!=r&&(r?this.setState({isTripStarted:!0,shipmentID:r}):this.setState({isTripStarted:!1,shipmentID:null}));var n=this.state.isStartTripDesktop,i=this.getLoadDetails(),s=!1;JSON.stringify(e.confirmStartInfo)!==JSON.stringify(this.props.confirmStartInfo)&&(i=this.props.confirmStartInfo,s=!0),JSON.stringify(e.loadDetails)!==JSON.stringify(this.props.loadDetails)&&(this.props.module===$.INTRANSIT_MODULE||this.props.module===$.RECENTLY_DELIVERED_MODULE||this.props.loadDetails&&this.props.loadDetails.executionStatus===ae.STARTED&&this.props.module===$.DRIVER_ASSIGNED_MODULE?this.setState({showCTAButton:!1}):this.setState({showCTAButton:!0}),n=!1);var o=this.state.isStartTrip;this.props.loadDetails&&this.props.loadDetails.executionStatus===ae.STARTED&&this.props.module===$.DRIVER_ASSIGNED_MODULE&&(o=!1,n=!0),JSON.stringify(i)!==JSON.stringify(t.shipmetCardLoaddetails)||s?this.setState({shipmetCardLoaddetails:i,isStartTripDesktop:n,isStartTrip:o}):n!==this.state.isStartTripDesktop&&this.setState({isStartTripDesktop:n,isStartTrip:o})}}},{key:"setTripDetails",value:function(){var e=Object(g.a)(E.a.mark((function e(){var t,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(l.V)("capacitor")){e.next=7;break}return t=null,e.next=4,Za("DB_GPS_ACTIVATED_SHIPMENT");case 4:(a=e.sent.value)&&(t=JSON.parse(a).shipmentID),t&&t===this.props.loadId&&(this.gpsActivatedShipmentID=t,this.setState({isTripStarted:!0}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadTerms",value:function(){this.setState({showTerms:!this.state.showTerms})}},{key:"loadDocuments",value:function(){this.setState({showDocument:!this.state.showDocument})}},{key:"loadStops",value:function(){this.setState({showStops:!this.state.showStops})}},{key:"render",value:function(){var e=this,t=this.props,a=t.loadDetails,r=t.bookloadStatus,i=t.prevModule;"web"===this.props.getPlatform?""!=this.state.url.length&&(wd.PDFReader,this.state.url,this.onPDFLoadComplete):""!=this.state.url.length&&(wd.MobilePDFReader,this.state.url,this.onPDFLoadComplete);var s=this.props.loadId;return n.a.createElement(n.a.Fragment,null,n.a.createElement(l.Q,{isOpen:this.state.showMessageForPendingLoad,message:"The Driver assignment for the load is not confirmed yet. Kindly refresh the page or try after some time.",duration:5e3,color:"dark",onDidDismiss:function(){e.setState({showMessageForPendingLoad:!1})}}),n.a.createElement(l.Q,{isOpen:this.getConfirmStartStatus(),message:this.getConfirmStartMessage(),duration:5e3,color:"dark",onDidDismiss:function(){e.props.clearConfirmReasponse()}}),n.a.createElement(l.b,{isOpen:this.props.buyLoadApiError,message:"Your load assignment is taking longer than expected. Kindly contact Schneider to verify assignment, if you don't receive email tender in the next 5 minutes.",backdropDismiss:!0,mode:"ios",header:"Thank You",cssClass:"register-alert",buttons:[{text:"ok",role:"ok",handler:function(){e.props.setBuyLoadError(),e.props.history.push("/app/".concat(e.props.module))}}]}),Object(l.V)("desktop")?n.a.createElement(hp,{isOpen:this.state.openAssignDriverDialog,onDismiss:function(){e.setState({openAssignDriverDialog:!1})},loadDetails:this.props.loadDetails,driverDetails:this.state.driverDetails,showDriverDialog:function(t){e.setState({isDriverModal:t})}}):null,a?n.a.createElement(l.B,{className:"desktop-page loadDetails-page"},n.a.createElement(fc,{title:s,backUrl:"/app/".concat(r?i:this.props.module),tab:this.props.module,History:this.props.history,isLoadDetails:!0,isStar:!this.props.isCarrierLoad,isWatched:this.props.isWatched,toggleWatchLoad:this.props.toggleWatchLoad}),n.a.createElement(l.A,{isOpen:this.state.isDriverModal,cssClass:"Driver-list-modal",onDidDismiss:function(){e.setState({isDriverModal:!1})}},n.a.createElement(Fp,{popupHeader:this.state.isPopupHeader,closeModal:function(){return e.closeDriverModal()},DesktopDriverList:this.props.driverList,loadDetails:this.props.loadDetails,showAssignDriverDialog:function(t,a){e.setState({openAssignDriverDialog:t,driverDetails:a,isDriverModal:!t&&e.state.isDriverModal})}})),this.state.isBookLoadModal?n.a.createElement(Hd,{isBookLoadModal:this.state.isBookLoadModal,closeBookLoadModal:this.closeBookLoadModal,bookedDetails:a.rate,buyLoad:this.buyLoad,declineBookLoad:this.closeBookLoadModal,carrierId:this.props.userDetails.carrierId,lead:this.lead}):null,this.props.bookLoadStatus&&this.props.bookLoadStatus.status&&this.props.bookLoadStatus.message?n.a.createElement(Bd,{confirmModal:!!this.props.bookLoadStatus.status,bookLoadResponse:this.props.bookLoadStatus,confirmBookLoad:this.confirmBookLoad,loadId:this.props.loadDetails.loadId}):null,n.a.createElement(qd,{isGetShipmentModal:this.state.isGetShipmentErr,declineBookLoad:this.declineBookLoad,closeBookLoadModal:this.closeBookLoadModal}),n.a.createElement(l.l,{className:"load-details-content"},n.a.createElement(l.l,{class:"load-page-content"},n.a.createElement("div",{className:"desktop-view"},n.a.createElement(Pu,{"data-test":"DataTableComponent-getloadData",columns:this.columns,data:this.getloadData(a),showEndofList:!0,showHeader:!1,titleText:" ",pagination:!1}),n.a.createElement(l.o,{class:"btn-row-grid"},n.a.createElement(l.H,{className:" ".concat(this.state.isStartTripDesktop?"startTripRow":"btn-row")},n.a.createElement(l.k,null,n.a.createElement(l.e,{class:"load-btn",onClick:this.callusClick},n.a.createElement(l.q,{src:"assets/icon/Phone.svg"})," ","Call us")),this.state.showCTAButton&&n.a.createElement(l.k,{"data-test":"onClick-IonCol",onClick:this.onClick,className:" ".concat(this.state.isStartTripDesktop?"startTripDesktop":"")},n.a.createElement(l.e,{class:"book-load-btn"},this.props.module==="".concat($.CARRIER_ASSIGNED_MODULE)?n.a.createElement(n.a.Fragment,null,n.a.createElement(l.q,{src:"assets/icon/add-user-icon.svg",class:"user-icon"}),"Assign Driver"):n.a.createElement(n.a.Fragment,null,this.props.module==="".concat($.DRIVER_ASSIGNED_MODULE)?n.a.createElement(n.a.Fragment,null,n.a.createElement(l.q,{src:"assets/icon/start-trip.svg",class:"trip-icon"}),"Start Trip"):n.a.createElement(n.a.Fragment,null,this.props.loadDetails.rate&&this.props.loadDetails.rate.totalCharge?n.a.createElement(n.a.Fragment,null,"Book Now"):n.a.createElement(n.a.Fragment,null,"Contact for Price")))))))),this.props.isNetworkAvailable?n.a.createElement(l.o,{class:"map-grid"},n.a.createElement(Vd,{loadStop:a&&a.loadStop||[]}),n.a.createElement(Wd,{showSatelliteMap:this.state.showSatelliteMap,locationName:this.state.satelliteLocation,onDismissSatelliteMap:function(){e.setState({showSatelliteMap:!1})},shipmentId:""})):n.a.createElement(l.o,{class:"map-grid"},n.a.createElement("img",{src:"assets/images/default_map.png",style:{height:"250px"},alt:"You are offline, facing issue in loading image"})),n.a.createElement("div",{className:"desktop-view"},n.a.createElement(l.g,{class:"stop-details-card ".concat(this.isInTransit()?"start_trip_card":"")},this.isInTransit()&&Object(l.V)("desktop")?n.a.createElement(xp,{locationValue:this.state.withGPS,completeTripClick:this.completeTripClick,shipmentloadStop:this.state.shipmetCardLoaddetails&&this.state.shipmetCardLoaddetails.loadStop||[],withGPS:this.state.withGPS,networkStatus:this.props.networkStatus,shipmentId:this.state.shipmetCardLoaddetails&&this.state.shipmetCardLoaddetails.shipmentId||"",moduleName:this.props.moduleName,loadDetails:this.state.shipmetCardLoaddetails}):n.a.createElement(Xo,Object.assign({},a,{module:this.props.module,isLoadDetails:!0,isCarrierLoad:this.props.isCarrierLoad,showExpandView:this.props.showExpandView})))),n.a.createElement("div",{className:"mobile-view"},n.a.createElement(rc,Object.assign({},a,this.props,{isLoadDetails:!0,showExpandView:this.props.showExpandView,isCarrierLoad:this.props.isCarrierLoad,showLoadNo:!1})),n.a.createElement(l.H,{class:"btn-row"},n.a.createElement(l.k,null,n.a.createElement(l.e,{"data-test":"callusClick-IonButton",class:"load-btn",onClick:this.callusClick},n.a.createElement(l.q,{src:"assets/icon/Phone.svg"})," ","Call us")))),this.props.isCarrierLoad?n.a.createElement(n.a.Fragment,null):n.a.createElement(xd,{setTermsAndConState:this.setTermsAndConState})),n.a.createElement(l.o,{class:"loadPageFooter"},n.a.createElement(l.e,{"data-test":"StartTripButton",expand:"full",onClick:this.onButtonClick},this.props.module==="".concat($.CARRIER_ASSIGNED_MODULE)?n.a.createElement(n.a.Fragment,null,n.a.createElement(l.q,{src:"assets/icon/add-user-icon.svg",class:"user-icon"}),"Assign Driver"):n.a.createElement(n.a.Fragment,null,this.props.module==="".concat($.DRIVER_ASSIGNED_MODULE)?n.a.createElement(n.a.Fragment,null,n.a.createElement(l.q,{src:"assets/icon/start-trip.svg",class:"trip-icon"}),"Start Trip"):n.a.createElement(n.a.Fragment,null,this.props.loadDetails.rate&&this.props.loadDetails.rate.totalCharge?n.a.createElement(n.a.Fragment,null,"Book Now"):n.a.createElement(n.a.Fragment,null,"Contact for Price"))))))):"")}}]),a}(r.Component),Hp=Object(nt.b)({isNetworkAvailable:on(),userDetails:nn(),startTripShipmentStatusMessage:di(),shipmentToStartTrip:cp(),confirmStartInfo:ui(),carrierLoads:oi(),buyloadShipmentStatus:Object(nt.a)(ti,(function(e){return e.buyLoadResponseStatus})),buyLoadApiError:Object(nt.a)(Ws,(function(e){return e.showBuyLoadAPIError||qe.showBuyLoadAPIError}))}),Gp=Object(c.c)(Hp,(function(e){return{setShipmentForStartTrip:function(t){e(Jn(t)),e(Qn((new Date).getTime().toString()))},showAlert:function(t){return e(lr(t))},clearConfirmReasponse:function(){e(Pn())},startTrip:function(t){return e((a=t,{type:C.START_TRIP,payload:a}));var a},loadCarrierData:function(t){e(Gn(t,t.length))},removeSearchResults:function(t){return e({type:"REMOVE_SEARCH_RESULTS",payload:t})},removeRecommendedResults:function(t){return e({type:"REMOVE_RECOMMENDEDRESULTS",payload:t})},removewatchedResults:function(t){return e(da(t))},clearBuyLoadShipmentStatus:function(){return e({type:"CLEARBUYLOAD_RESPONSE",payload:""})},fetchShipments:function(t,a){return e(Zn(t,!1,a))},setBuyLoadError:function(){return e(ga(!1))}}})),Bp=_s({key:"carrierAssigned",reducer:Jd}),qp=Ss({key:"carrierAssigned",saga:us}),zp=Object(d.compose)(qp,Bp,Gp)(Vp),Yp=function(){function e(){Object(b.a)(this,e),this.__watch_state={userId:"",carrierId:"",page:0,size:10,sortColumn:"pickupDate",sortDirection:"asc"}}return Object(v.a)(e,[{key:"setofflineWatchedLoads",value:function(e){return Ga("Carrier-offline-Watched-Loads",e)}},{key:"getofflineWatchedLoads",value:function(){return qa("Carrier-offline-Watched-Loads")}},{key:"setWeight",value:function(){this.validLoad()}},{key:"validLoad",value:function(){}},{key:"addWatchLoad",value:function(e){return{mutation:{newUserWatchedLoads:{__args:{input:e},id:!0}}}}},{key:"removeWatchLoad",value:function(e){return{mutation:{deleteUserWatchedLoads:{__args:{input:e}}}}}},{key:"getRequestPayload",value:function(){return{query:{getUserWatchedLoads:{__args:{input:this.__watch_state},totalRecords:!0,loadPostings:{loadId:!0,transportMode:!0,termsAndConditions:!0,loadPostingStatus:!0,sourceSystem:!0,hasAppointments:!0,isHazardous:!0,isHighValue:!0,isTemperatureControlled:!0,totalDistance:!0,distanceUOM:!0,totalWeight:!0,weightUOM:!0,numberOfStops:!0,rate:{binRateIdentifier:!0,binSource:!0,totalCharge:!0,lineHaulCharge:{charge:!0,unitCharge:!0,quantity:!0,chargeDescription:!0,rateQualifier:!0},fuelCharge:{charge:!0,unitCharge:!0,quantity:!0,chargeDescription:!0,rateQualifier:!0},accessorials:{accessorialCode:!0,accessorialDescription:!0,accessorialType:!0,accessorialCharge:{charge:!0,unitCharge:!0,quantity:!0,rateQualifier:!0}}},loadStop:{stopId:!0,stopType:!0,city:!0,state:!0,postalCode:!0,country:!0,appointmentFrom:!0,appointmentTo:!0,timeZone:!0,deadHead:!0,stopSequence:!0,specialServices:{serviceDesc:!0,specialServiceDesc:!0}}}}}}}},{key:"sortColumn",get:function(){return this.__watch_state.sortColumn},set:function(e){e&&(this.__watch_state.sortColumn=e)}},{key:"userId",get:function(){return this.__watch_state.userId},set:function(e){e&&(this.__watch_state.userId=e)}},{key:"carrierId",get:function(){return this.__watch_state.carrierId},set:function(e){e&&(this.__watch_state.carrierId=e)}},{key:"sortDirection",get:function(){return this.__watch_state.sortDirection},set:function(e){e&&(this.__watch_state.sortDirection=e)}},{key:"page",get:function(){return this.__watch_state.page},set:function(e){e&&(this.__watch_state.page=e)}},{key:"size",get:function(){return this.__watch_state.size},set:function(e){e&&(this.__watch_state.size=e)}}]),e}();var Wp=function(e){Object(ct.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(ut.a)(e);if(t()){var n=Object(ut.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(lt.a)(this,a)}}(a);function a(e){var r;return Object(b.a)(this,a),(r=t.call(this,e)).toggleWatchLoad=function(e){var t=r.props,a=t.loadDetails,n=t.history,i=n.push,s=n.location.pathname,o=t.isNetworkAvailable,c=t.showAlert,l=r.props.userDetails,u=l.carrierId,d=l.userPrincipalName,p=a.loadId;if(!o)return c({isShowAlert:!0,alertMessage:X,alertTitle:Q}),!0;var m={carrierId:u,userId:d,origin:"",loadId:p,watchDate:(new Date).toISOString()},f=new Yp,h=function(){return r.props.addWatchLoad({query:f.addWatchLoad(m),loadDetails:a})};e?r.props.addWatchLoad({query:f.addWatchLoad(m),loadDetails:a}):r.props.removeWatchLoad({query:f.removeWatchLoad(m),loadId:p,callback:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e)return _r.show(J),!0;_r.open({message:"Watched load removed",showUndo:!0,callback:h}),s&&s.includes("watched")&&i("/app/home/watched"),s&&s.includes("recommended")&&(r.props.recommendedeLoad(r.props.params.id),i("/app/home/recommended"))}})},r.state={},r}return Object(v.a)(a,[{key:"ionViewWillEnter",value:function(){Ha.details.getValue.shipmentId&&(this.props.history.push("/app/".concat(this.props.match.params[0])),Ha.details.setValue={shipmentId:""})}},{key:"render",value:function(){var e,t=this.props.loadDetails;return e=this.props.watchedLoadList.length>0&&(!!this.props.watchedLoadList&&this.props.watchedLoadList.find((function(e){return e.loadId===t.loadId}))),n.a.createElement(zp,Object.assign({},this.props,{loadDetails:t,module:this.props.match.params[0],loadId:this.props.match.params.id,networkStatus:this.props.networkStatus,showAlert:this.props.showAlert,isNetworkAvailable:this.props.isNetworkAvailable,isWatched:e,toggleWatchLoad:this.toggleWatchLoad,buyLoadRequest:this.props.buyLoadRequest}))}}]),a}(r.Component),Zp=Object(nt.b)({loadDetails:Object(nt.a)(kd,Td,Id,Cd,(function(e,t,a,r){return"search/results"===r&&t?t&&t.loads&&t.loads.searchLoads&&t.loads.searchLoads.find((function(e){return e.loadId===a}))||{}:"home/watched"===r&&e?(console.log(e,"load"),e&&e.watched&&e.watched.data&&e.watched.data.find((function(e){return e.loadId===a}))||{}):"home/recommended"===r&&e?e&&e.recommended&&e.recommended.data&&e.recommended.data.find((function(e){return e.loadId===a}))||{}:void 0})),userDetails:nn(),getPlatform:an(),networkStatus:on(),isNetworkAvailable:on(),watchedLoadList:Rd(),recommendedLoadList:Nd(),bookLoadStatus:Object(nt.a)(ti,(function(e){return e.buy||{}})),getShipmentDetails:Object(nt.a)(ti,(function(e){var t={};return e.shipment.length>0&&(t={shipments:e.shipment,hasShipment:e.shipment.length>0}),t||[]}))}),Kp=Object(c.c)(Zp,(function(e){return{showAlert:function(t){return e(lr(t))},addWatchLoad:function(t){return e(la(t))},removeWatchLoad:function(t){return e(ua(t))},buyLoadRequest:function(t){return e(function(e){return{type:"BUYLOAD_DATA_REQUEST",payload:e}}(t))},buyLoadShipmentRequest:function(t,a){return e(Hn(t,a))},buyLoadStatusRemove:function(){return e({type:"BUYLOAD_REMOVE_STATUS"})}}})),Jp=_s({key:"myload",reducer:Be}),Qp=Ss({key:"myload",saga:ns}),Xp=Object(d.compose)(Qp,Jp,Kp)(Object(tt.h)(Object(l.X)(Wp))),$p=(a(262),a(144)),em=(a(538),a(539),function(e){var t=Object(r.useState)(e.showLogoutModal),a=Object(f.a)(t,2),i=a[0],s=a[1];return Object(r.useEffect)((function(){s(e.showLogoutModal)}),[e.showLogoutModal]),n.a.createElement(l.A,{isOpen:i,cssClass:"dropdown-modal"},n.a.createElement("div",{className:"logout_modalPopUp"},n.a.createElement(l.o,{class:"popup-header"}," ",Re.Logout_TEXT," "),n.a.createElement(l.o,{class:"popup-body"},n.a.createElement("p",{className:"modalPopUp_text"},e.isRegistrationPage?Re.REGISTRATION_ALERT_MESSAGE:Re.ALERT_MESSAGE),n.a.createElement("div",{className:"button-div"},n.a.createElement(l.e,{className:"logoutModalButtons",onClick:e.closeShowModal,"data-test":"logout-close"},Re.Cancel_TEXT),n.a.createElement(l.e,{className:"logoutModalButtons","data-test":"logout-click",onClick:e.logOut},Re.Logout_TEXT)))))}),tm=function(e){var t=Vr(),a=Object(r.useState)(!1),i=Object(f.a)(a,2),s=i[0],o=i[1];function c(){return u.apply(this,arguments)}function u(){return(u=Object(g.a)(E.a.mark((function a(){return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return Object(l.V)("capacitor")&&er.details.stopGPS(),o(!1),a.next=4,Xa();case 4:return a.next=6,t.logout();case 6:return a.next=8,e.logout();case 8:case"end":return a.stop()}}),a)})))).apply(this,arguments)}var d=function(){e.isNetworkAvailable?o(!0):e.showAlert({isShowAlert:!0,alertMessage:X,alertTitle:Q})};return n.a.createElement(n.a.Fragment,null,e.isRegistrationPage?Object(l.V)("mobile")?n.a.createElement(l.q,{className:"page-close",icon:"close",onClick:function(){return d()}}):n.a.createElement(l.e,{expand:"full",className:"cancel-button",onClick:function(){return d()}},"Cancel"):n.a.createElement(l.g,{onClick:function(){return d()},class:"menu_list_card_logout"},n.a.createElement(l.v,{lines:"none",class:"Logout_item"},"Log Out",n.a.createElement("img",{slot:"end",alt:"logo",src:"/assets/icon/Logout-Icon.svg",className:"logoutImg"}))),n.a.createElement(em,{showLogoutModal:s,closeShowModal:function(){o(!1)},logOut:Object(g.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c());case 1:case"end":return e.stop()}}),e)}))),isRegistrationPage:e.isRegistrationPage}))},am=function(){function e(){Object(b.a)(this,e)}return Object(v.a)(e,[{key:"setAccessToken",value:function(e){return Ga("Access_Token",e)}},{key:"getAccessToken",value:function(){return qa("Access_Token")}},{key:"clearToken",value:function(){return Xa()}}]),e}();var rm=function(e){Object(ct.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(ut.a)(e);if(t()){var n=Object(ut.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(lt.a)(this,a)}}(a);function a(){var e;Object(b.a)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n)))._clear=new am,e.logout=function(){e._clear.clearToken()},e}return Object(v.a)(a,[{key:"render",value:function(){return n.a.createElement(tm,Object.assign({logout:this.logout},this.props))}}]),a}(r.Component),nm=Object(c.c)((function(e){return{}}),(function(e){return{logout:function(){return e(St())}}}))(rm);var im=function(e){var t=e&&e.headings&&e.headings.title,a=e&&e.headings&&e.headings.group;return n.a.createElement(n.a.Fragment,null,n.a.createElement(l.w,{class:"menu_list_heading"},t),n.a.createElement(l.g,{mode:"md",class:"menu_list_card2","data-test":"ion-card"},n.a.createElement(l.y,{mode:"ios"},a&&a.map((function(t,r){return n.a.createElement(l.v,{"data-test":"ion-item",class:"menu_list_item",key:r,onClick:function(a){return function(t,a,r){t.preventDefault();var n=a.replace(/ /g,"");xa("more","moreContent")?(e.isNetworkAvailable,Object.values(e.menuData.data.getUserHelpContent.menuEntries).forEach((function(t){t.uid===r&&e.history.push("/app/more/".concat(n),{heading:a,contextData:t})}))):_r.show(je)}(a,t.menuItem,t.uid)},lines:r===a.length-1?"none":"inset"},t.menuItem,n.a.createElement("img",{slot:"end",alt:"logo",src:"/assets/icon/more-arrow.svg",className:"rightArrow"}))})))))},sm=function(e){Object(ct.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(ut.a)(e);if(t()){var n=Object(ut.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(lt.a)(this,a)}}(a);function a(e){var r;return Object(b.a)(this,a),(r=t.call(this,e)).state={tab:!1,toggleBtn:!1},r}return Object(v.a)(a,[{key:"componentDidMount",value:function(){Rt(ue.SV_MORE_MENU,{screen:de.MORE_MENU,carrierId:this.props&&this.props.userDetails&&this.props.userDetails.carrierId})}},{key:"render",value:function(){var e=this,t=this.props&&this.props.menuData&&this.props.menuData.data&&this.props.menuData.data.getUserHelpContent&&this.props.menuData.data.getUserHelpContent.menuItems;return n.a.createElement(l.B,{className:" menu_page"},n.a.createElement(fc,{title:"Menu",isDeviceInfo:!0,viewDeviceInfo:Object(g.a)(E.a.mark((function t(){var a,r;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,gt.b.getInfo();case 2:return a=t.sent,t.next=5,$p.a.getVersionNumber();case 5:r=t.sent,e.props.history.push("/app/more/deviceInfo",{deviceInfo:a,appVersion:r});case 7:case"end":return t.stop()}}),t)})))}),n.a.createElement(l.l,{class:"menu_page_content","data-test":"IonPage-menu-page"},n.a.createElement("div",{className:"menu_page_div"},n.a.createElement(nm,Object.assign({},this.props,{isRegistrationPage:!1})),t&&t.map((function(t,a){return n.a.createElement(im,Object.assign({key:a,headings:t},e.props,{submitFeedback:e.props.submitFeedback}))})))))}}]),a}(r.Component),om={submitFeedback:[]},cm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:om,t=arguments.length>1?arguments[1]:void 0;return Object(m.a)(e,(function(e){switch(t.type){case"GET_SUBMIT_FEEDBACK":e.submitFeedback=t.payload}}))},lm=E.a.mark(dm),um=E.a.mark(pm);function dm(e){var t,a,r,n;return E.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload,t.data,a=t.callback,i.prev=1,i.next=4,Object(vn.c)(vt());case 4:return r=Pa.domainToData(e.payload.data),i.next=7,Object(vn.b)(yn,["SUBMITFEEDBACK","SUBMITFEEDBACK",null,"",r,"application/json"]);case 7:return n=i.sent,i.next=10,Object(vn.c)({type:"GET_SUBMIT_FEEDBACK",payload:n});case 10:return i.next=12,Object(vn.c)(yt());case 12:n&&n.data&&!0===n.data.feedback&&a(),i.next=19;break;case 15:return i.prev=15,i.t0=i.catch(1),i.next=19,Object(vn.c)(yt());case 19:case"end":return i.stop()}}),lm,null,[[1,15]])}function pm(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(vn.a)([Object(vn.f)("SUBMIT_FEEDBACK",dm)]);case 2:case"end":return e.stop()}}),um)}var mm=function(e){Object(ct.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(ut.a)(e);if(t()){var n=Object(ut.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(lt.a)(this,a)}}(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"render",value:function(){return n.a.createElement(sm,this.props)}}]),a}(r.Component),fm=Object(nt.b)({isNetworkAvailable:on(),userDetails:nn(),menuData:Object(nt.a)([$r],(function(e){return e.moreContent||Qr.moreContent}))}),hm=Object(c.c)(fm,(function(e){return{showAlert:function(t){return e(lr(t))}}})),Em=_s({key:"Menu",reducer:cm}),gm=Ss({key:"Menu",saga:pm}),bm=Object(d.compose)(Em,gm,hm)(n.a.memo(mm)),vm=Object(nt.b)({loading:en(),userDetails:nn(),isNetworkAvailable:on()}),ym=Object(c.c)(vm,(function(e){return{showNetworkAlert:function(){return e(dr())},updateUserAction:function(t){return e(al(t))},delinkUserAction:function(t){return e(rl(t))}}}))((function(e){var t=e.userDetails&&e.userDetails.userApplicationDetails&&e.userDetails.userApplicationDetails.reduce((function(e,t){return[].concat(Object(Fe.a)(e),Object(Fe.a)(t.roles))}),[]).map((function(e){return e.roleName})),a=Object(u.a)(Object(u.a)({},e.userDetails),{},{roles:t}),r=(e.history.push,Object(u.a)(Object(u.a)({},a),{},{defaultMobileNumber:a.defaultMobileNumber?a.defaultMobileNumber:a.mobileNumber})),i=Vr();return n.a.createElement(Qc,Object.assign({},e,{selectedUser:r,isEditable:!1,module:"manage/ProfileDetails",handleSubmit:pl(e),handleDelink:dl(Object(u.a)(Object(u.a)({},e),{},{authService:i}),!0),isSelf:!0}))})),Sm=a(318),Om=a.n(Sm),_m=a(319),Dm=a.n(_m);var Am=function(e){Object(ct.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(ut.a)(e);if(t()){var n=Object(ut.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(lt.a)(this,a)}}(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"render",value:function(){var e=this.props.richText;return n.a.createElement("div",{className:this.props.isRichText?"htmlParseDiv":"parsingDiv"},Dm()(e))}}]),a}(n.a.Component),km=Am,Tm=function(e){var t=e.text,a=e.dataType;return n.a.createElement(n.a.Fragment,null," ",function(e){switch(e){case"text":return t;case"richText":return n.a.createElement(km,{richText:t});default:return t}}(a)," ")};function Nm(e,t){var a="text";return e&&t&&e.forEach((function(e){e.fieldName===t&&(a=e.schema||e.fieldType)})),a}var Rm=Object(nt.b)({isNetworkAvailable:on()}),Im=Object(c.c)(Rm),Cm=Object(d.compose)(Im)((function(e){var t=e.groupData,a=e.dataType,i=e.isNetworkAvailable,s=Object(r.useState)(!1),o=Object(f.a)(s,2),c=o[0],u=o[1],d=function(e){return a&&a.length?Nm(a,e):"text"};return n.a.createElement(n.a.Fragment,null,n.a.createElement(l.H,{"data-test":"IonRow-Menu",class:"list_row"},n.a.createElement(l.k,{size:"12",class:"list_column"},n.a.createElement(l.H,null,n.a.createElement(l.k,{class:"list_row_heading"},n.a.createElement(Tm,{text:t.title,dataType:d("title")}))),n.a.createElement(l.H,null,n.a.createElement(l.k,{class:"list_row_description"},t.richTextDescription?n.a.createElement(Tm,{text:t.richTextDescription,dataType:d("richTextDescription")}):n.a.createElement(Tm,{text:t.description,dataType:d("description")})))),t.video?n.a.createElement(l.k,null,t.video.href&&i?n.a.createElement(l.g,{className:"react-player-card",onClick:function(){u(!c)}},n.a.createElement(Om.a,{width:"100%",height:"300px",className:"react-player",url:t.video.href,playing:c,controls:!0,volume:.5})):t.video.href&&!i?n.a.createElement("a",{href:t.video.href},t.video.href):null):null))})),jm=a(320),wm=a.n(jm),Lm=(a(598),function(e){return e.Menu||om}),Pm=function(){function e(){Object(b.a)(this,e),this.__submit_feedback={upn:"",rating:0}}return Object(v.a)(e,[{key:"getRequestPayload",value:function(){return{mutation:{feedback:{__args:{input:this.__submit_feedback}}}}}},{key:"upn",get:function(){return this.__submit_feedback.upn},set:function(e){e&&(this.__submit_feedback.upn=e)}},{key:"carrierId",get:function(){return this.__submit_feedback.carrierId},set:function(e){e&&(this.__submit_feedback.carrierId=e)}},{key:"carrierName",get:function(){return this.__submit_feedback.carrierName},set:function(e){e&&(this.__submit_feedback.carrierName=e)}},{key:"rating",get:function(){return this.__submit_feedback.rating},set:function(e){e&&(this.__submit_feedback.rating=e)}},{key:"feedback",get:function(){return this.__submit_feedback.feedback},set:function(e){e&&(this.__submit_feedback.feedback=e)}},{key:"firstName",get:function(){return this.__submit_feedback.firstName},set:function(e){e&&(this.__submit_feedback.firstName=e)}},{key:"lastName",get:function(){return this.__submit_feedback.lastName},set:function(e){e&&(this.__submit_feedback.lastName=e)}},{key:"appVersion",get:function(){return this.__submit_feedback.appVersion},set:function(e){e&&(this.__submit_feedback.appVersion=e)}},{key:"devicePlatform",get:function(){return this.__submit_feedback.devicePlatform},set:function(e){e&&(this.__submit_feedback.devicePlatform=e)}},{key:"deviceOSVersion",get:function(){return this.__submit_feedback.deviceOSVersion},set:function(e){e&&(this.__submit_feedback.deviceOSVersion=e)}},{key:"deviceManufacturer",get:function(){return this.__submit_feedback.deviceManufacturer},set:function(e){e&&(this.__submit_feedback.deviceManufacturer=e)}},{key:"deviceModel",get:function(){return this.__submit_feedback.deviceModel},set:function(e){e&&(this.__submit_feedback.deviceModel=e)}},{key:"deviceUUID",get:function(){return this.__submit_feedback.deviceUUID},set:function(e){e&&(this.__submit_feedback.deviceUUID=e)}}]),e}();var xm=gt.d.Browser,Mm=function(e){Object(ct.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(ut.a)(e);if(t()){var n=Object(ut.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(lt.a)(this,a)}}(a);function a(e){var r;return Object(b.a)(this,a),(r=t.call(this,e)).onSubmitFeedbackClick=Object(g.a)(E.a.mark((function e(){var t,a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(l.V)("capacitor")){e.next=6;break}return e.next=3,gt.b.getInfo();case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0="";case 7:if(t=e.t0,!Object(l.V)("capacitor")){e.next=14;break}return e.next=11,$p.a.getVersionNumber();case 11:e.t1=e.sent,e.next=15;break;case 14:e.t1="";case 15:a=e.t1,(n=new Pm).appVersion=Object(l.V)("capacitor")?a:"",n.upn=r.props.userDetails.userPrincipalName,n.deviceUUID=Object(l.V)("capacitor")?t&&t.uuid:"",n.carrierId=r.props.userDetails.carrierId,n.carrierName=r.props.userDetails.companyName,n.rating=r.state.rating,n.feedback=r.state.feedback,n.firstName=r.props.userDetails.firstName,n.lastName=r.props.userDetails.lastName,n.devicePlatform=Object(l.V)("capacitor")?Cu():"",n.deviceManufacturer=Object(l.V)("capacitor")?Nu.a.manufacturer:"",n.deviceOSVersion=Object(l.V)("capacitor")?"".concat(Cu()," ").concat(ju()):"",n.deviceModel=Object(l.V)("capacitor")?Iu():"",r.props.submitFeedback(n.getRequestPayload(),r.feedBackCallback);case 31:case"end":return e.stop()}}),e)}))),r.feedBackCallback=function(){r.props&&r.props.submitFeedbackCall&&r.props.submitFeedbackCall.data&&!0===r.props.submitFeedbackCall.data.feedback&&r.state.isShowPopup?r.setState({isShowModal:!1,rating:0}):r.setState({isShowModal:!0})},r.feedbackHandler=function(e){r.setState(Object(Yr.a)({},e.target.name,e.target.value)),"feedback"===e.target.name&&r.setState({feedback:e.target.value})},r.notNowButtonClick=function(){r.props.notNowClick(),r.setState({isShowPopup:!0}),r.onSubmitFeedbackClick()},r.onSureClick=Object(g.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.props.isNetworkAvailable){e.next=3;break}return r.props.showAlert({isShowAlert:!0,alertMessage:X,alertTitle:Q}),e.abrupt("return");case 3:if(!Object(l.V)("ios")){e.next=8;break}return e.next=6,xm.open({url:"itms-apps://itunes.apple.com/app/id1250562051"});case 6:e.next=9;break;case 8:Object(l.V)("android")&&(window.location.href="market://details?id=com.schneider.compass");case 9:case"end":return e.stop()}}),e)}))),r.state={rating:0,feedback:"",isShowModal:!1,isShowPopup:!1},r.onStarClick=r.onStarClick.bind(Object(st.a)(r)),r}return Object(v.a)(a,[{key:"onStarClick",value:function(e,t,a){this.setState({rating:e})}},{key:"render",value:function(){var e=this,t=this.state.rating;return n.a.createElement("div",{className:"feedbackDiv","data-test":"Feedback-div"},n.a.createElement(l.b,{isOpen:this.state.isShowModal,message:"We value your feedback and strive to improve your FrieghtPower experience.",backdropDismiss:!0,mode:"ios",header:"Thank you for your feedback!",onDidPresent:function(){return setTimeout((function(){return e.setState({rating:0,isShowModal:!1,feedback:""}),e.props.notNowClick()}),2e3)}}),n.a.createElement(l.o,{className:"feedback-grid"},n.a.createElement("p",{className:"feedback-p notLikely"},"Not at all likely"),n.a.createElement("p",{className:"feedback-p likely"},"Very likely"),n.a.createElement(l.H,{className:"feedback-row"},n.a.createElement(l.k,{className:"feedback-column"},n.a.createElement(wm.a,{name:"rate1",starCount:5,value:t,onStarClick:this.onStarClick,starColor:"#FF6114",className:"starRating",renderStarIcon:function(e,t){return n.a.createElement(l.r,{className:5==e?"starRatingIcon4":"starRatingIcon",alt:"Star",src:e<=t?"assets/icon/star-color.svg ":"assets/icon/load-star.svg"})}})))),0==t?null:n.a.createElement(n.a.Fragment,null,Object(l.V)("mobile")?t<=3&&t>=1?n.a.createElement(l.o,{className:"starRating-grid"},n.a.createElement("p",{className:"feedbackImprove"},"How can we improve our app or service?"),n.a.createElement(l.o,{className:"text-div"},n.a.createElement(l.O,{maxlength:2e3,placeholder:"Start typing here",onIonChange:function(t){return e.feedbackHandler(t)},name:"feedback",value:this.state.feedback})),n.a.createElement(l.H,{className:"submitBtn-row"},n.a.createElement(l.k,{className:"feedback-cancel"},n.a.createElement(l.e,{"data-test":"cancel-button-mobile","data-kind":"primary",expand:"block",type:"submit",class:"submit_btn",onClick:function(){e.setState({rating:0})}},"Cancel")),n.a.createElement(l.k,null,n.a.createElement(l.e,{"data-test":"submit-button-mobile","data-kind":"primary",expand:"block",type:"submit",class:"submit_btn",onClick:function(){e.setState({isShowPopup:!1}),e.onSubmitFeedbackClick()}},"Submit")))):n.a.createElement(l.o,{className:"review-grid"},n.a.createElement("p",{className:"starRating-p review-p"},"Awesome !"),n.a.createElement("p",{className:"starRating-p appStore-p"},"We would love an App store review."),n.a.createElement(l.H,{className:"starRating-row"},n.a.createElement(l.k,{className:"starRating-col"},n.a.createElement(l.e,{"data-kind":"primary","data-test":"notNow-button",onClick:function(){return e.notNowButtonClick()},type:"submit",class:"call_btn"},"Not now")),n.a.createElement(l.k,null,n.a.createElement(l.e,{"data-test":"sureOnClick","data-kind":"primary",type:"submit",class:"call_btn",onClick:function(){return e.onSureClick()}},"Sure")))):n.a.createElement(l.o,{className:"starRating-grid"},t<=3&&t>=1?n.a.createElement("p",{className:"feedbackImprove"},"How can we improve our app or service?"):n.a.createElement("p",{className:"feedbackImprove"},"We would like to hear more about application from you."),n.a.createElement(l.o,{className:"text-div"},n.a.createElement(l.O,{maxlength:2e3,placeholder:"Start typing here",onIonChange:function(t){return e.feedbackHandler(t)},name:"feedback",value:this.state.feedback})),n.a.createElement(l.H,{className:"submitBtn-row"},n.a.createElement(l.k,{className:"feedback-cancel"},n.a.createElement(l.e,{"data-test":"cancel-button","data-kind":"primary",expand:"block",type:"submit",class:"submit_btn",onClick:function(){e.setState({rating:0})}},"Cancel")),n.a.createElement(l.k,null,n.a.createElement(l.e,{"data-test":"submit-button","data-kind":"primary",expand:"block",type:"submit",class:"submit_btn",onClick:function(){return e.onSubmitFeedbackClick()}},"Submit"))))))}}]),a}(n.a.Component),Um=Object(nt.b)({submitFeedbackCall:Object(nt.a)([Lm],(function(e){return e.submitFeedback||om.submitFeedback})),userDetails:nn(),isLoading:en(),isNetworkAvailable:on()}),Fm=Object(c.c)(Um,(function(e){return{submitFeedback:function(t,a){return e(function(e,t){return{type:"SUBMIT_FEEDBACK",payload:{data:e,callback:t}}}(t,a))},showAlert:function(t){return e(lr(t))}}})),Vm=_s({key:"Menu",reducer:cm}),Hm=Ss({key:"Menu",saga:pm}),Gm=Object(d.compose)(Fm,Vm,Hm)(n.a.memo(Mm)),Bm=function(e){var t=e.contextData,a=e.dataType,i=Object(r.useState)(!0),s=Object(f.a)(i,2),o=s[0],c=s[1],u=function(){c(!o)},d=function(e){return a&&a.length?Nm(a,e):"text"};return n.a.createElement(n.a.Fragment,null,n.a.createElement(l.i,{"data-test":"IonCardHeader-Menu",class:"accordion_header",onClick:u},n.a.createElement(l.H,null,n.a.createElement(l.k,{className:"title-col",size:"10"},n.a.createElement(Tm,{text:t.title,dataType:d("title")})),n.a.createElement(l.k,{size:"2"}," ",o?n.a.createElement(l.r,{src:"assets/icon/plus.svg",className:"plus-icon"}):n.a.createElement(l.r,{src:"assets/icon/minus-icon.svg",className:"plus-icon"})))),n.a.createElement(l.h,{class:o?"fadeout":"fadein"},t&&t.richTextDescription?n.a.createElement("div",{className:"description-div"},n.a.createElement(Tm,{text:t.richTextDescription,dataType:d("richTextDescription")}),t.title.includes("Feedback for the App")?n.a.createElement(Gm,{notNowClick:u}):null," "):t&&t.group&&t.group.map((function(e,t){return n.a.createElement(Cm,{"data-test":"card-content",key:t,groupData:e,dataType:d("group")})}))))};var qm=function(e){Object(ct.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(ut.a)(e);if(t()){var n=Object(ut.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(lt.a)(this,a)}}(a);function a(e){var r;return Object(b.a)(this,a),(r=t.call(this,e)).state={isRichText:!0},r}return Object(v.a)(a,[{key:"render",value:function(){var e,t,a=this.props&&this.props.history&&this.props.history.location&&this.props.history.location.state&&this.props.history.location.state.contextData&&this.props.history.location.state.contextData;a&&a.sections?(e=a&&a.sections,t=Nm(a.dataTypes,"sections")):a&&a.group&&(e=a&&a.group,t=Nm(a.dataTypes,"group"));var r=this.props.match.url,i=this.props.match.params[0],s=this.props&&this.props.history&&this.props.history.location&&this.props.history.location.state&&this.props.history.location.state.heading;return n.a.createElement(l.B,{"data-test":"IonPage-Menu",className:"/app/more/FrequentlyAskedQuestions"===r?"desktop-page-faq":"desktop-page-menu"},n.a.createElement(fc,{title:s,backUrl:"/app/"+i,isSearch:!0,tab:i,History:this.props.history}),n.a.createElement(l.l,{class:"ion-padding menu_list_page_content"},a&&a.richText?n.a.createElement(Am,{richText:a.richText,isRichText:this.state.isRichText}):e&&e.map((function(e,a){return n.a.createElement(l.g,{key:a,class:"ion-card"},n.a.createElement(Bm,{contextData:e,dataType:t}))}))))}}]),a}(r.Component),zm=(a(599),function(e){var t=e.match.params[0],a=e&&e.history&&e.history.location&&e.history.location.state&&e.history.location.state.appVersion;return n.a.createElement(n.a.Fragment,null,n.a.createElement(l.B,{"data-test":"IonPage-deviceInfo",className:"desktop-page-faq"},n.a.createElement(fc,{title:"Device Info",backUrl:"/app/"+t,History:e.history}),n.a.createElement(l.l,{class:"ion-padding menu_page_content"},n.a.createElement(l.y,null,n.a.createElement(l.v,{className:"deviceInfo-item"},n.a.createElement(l.H,{className:"deviceInfo-row"},n.a.createElement(l.k,{size:"8",className:"deviceInfo-col"},n.a.createElement("p",{className:"deviceInfo-p"},"Application Version Number")),n.a.createElement(l.k,{size:"4",className:"deviceInfo-col"},n.a.createElement("p",{className:"deviceInfo-p deviceInfo-version"},a)))),n.a.createElement(l.v,{className:"deviceInfo-item"},n.a.createElement(l.H,{className:"deviceInfo-row"},n.a.createElement(l.k,{size:"8",className:"deviceInfo-col"},n.a.createElement("p",{className:"deviceInfo-p"},"Device Version")),n.a.createElement(l.k,{size:"4",className:"deviceInfo-col"},n.a.createElement("p",{className:"deviceInfo-p deviceInfo-version"},Cu()," ",ju())))),n.a.createElement(l.v,{className:"deviceInfo-item"},n.a.createElement(l.H,{className:"deviceInfo-row"},n.a.createElement(l.k,{size:"8",className:"deviceInfo-col"},n.a.createElement("p",{className:"deviceInfo-p"},"Model Number")),n.a.createElement(l.k,{size:"4",className:"deviceInfo-col"},n.a.createElement("p",{className:"deviceInfo-p deviceInfo-version"},Object(l.V)("android")?Nu.a.manufacturer:""," ",Iu()))))))))}),Ym=function(e){var t=e.selectedUser,a=e.history,i=(e.isNetworkAvailable,e.showNetworkAlert,e.isEditable,e.isSelf),s=void 0!==i&&i;Object(r.useEffect)((function(){Rt(ue.SV_VIEW_MY_PROFILE,{screen:de.MY_PROFILE,carrierId:t.carrierId})}),[]);var o=t&&t.roles&&t.roles.map((function(e){var t=xc.find((function(t){return t.value===e}));return t?t.name:""})).join(" and ")||"",c=t?[{label:"First Name",value:t.firstName},{label:"Last Name",value:t.lastName},{label:"Email Address",value:t.email},{label:"Mobile Number",value:t.mobileNumber},{label:"Role(s)",value:o},{label:"Carrier ID",value:t.carrierId}]:[];return n.a.createElement(l.B,{className:"desktop-page my-load-desktop-page manage-card-content manage-user-profile-desktop"},n.a.createElement(fc,{title:"Manage"}),n.a.createElement(l.l,{class:"custom-padding"},n.a.createElement("h1",null,"User Details"),!s&&t?n.a.createElement(l.o,null,n.a.createElement(l.H,null,n.a.createElement(l.k,{size:"12"},n.a.createElement("div",{className:"manage-user-profile-header"},n.a.createElement(pc,{firstName:t.firstName,lastName:t.lastName,big:!0}),n.a.createElement("h4",null,t.firstName," ",t.lastName))))):null,n.a.createElement("div",{className:"manage-users-wrapper"},n.a.createElement(l.y,null,c.map((function(e){return n.a.createElement(l.v,{className:"profile-item",key:e.label},n.a.createElement(l.w,{className:"profile-label",position:"floating",mode:"ios"},e.label),n.a.createElement(l.u,{value:e.value,readonly:!0,type:"text",class:"profile-input"}))})))),n.a.createElement("div",{className:"manage-user-buttons"},n.a.createElement(l.o,{class:"btn-row-grid"},n.a.createElement(l.H,{className:"btn-row"},n.a.createElement(l.k,null,n.a.createElement(l.e,{class:"load-btn","data-test":"back-btn",onClick:function(){return a.push("/app/manage")}},"Back")),n.a.createElement(l.k,null,n.a.createElement(l.e,{class:"load-btn","data-test":"edit-btn",onClick:function(){return a.push("/app/manage/ManageUser/Profile/edit")}},"Edit")))))))},Wm=Object(nt.b)({userDetails:nn(),selectedUser:bl(),isNetworkAvailable:on()}),Zm=Object(c.c)(Wm,(function(e){return{showNetworkAlert:function(){return e(dr())}}}))((function(e){return Object(l.V)("desktop")?n.a.createElement(Ym,Object.assign({},e,{module:"manage/ManageUser"})):n.a.createElement(Zc,Object.assign({},e,{module:"manage/ManageUser"}))})),Km=Object(nt.b)({userDetails:nn(),isNetworkAvailable:on(),isUserValid:vl(),validateUserDetails:yl()}),Jm=Object(c.c)(Km,(function(e){return{showNetworkAlert:function(){return e(dr())},validateUserAction:function(t){return e(Xc(t))},addUserAction:function(t){return e(tl(t))},resetValidateUser:function(){return e({type:"MANAGE_USER_VALIDATE_RESET"})},transferUserAction:function(t){return e($c(t))}}}))((function(e){e.history.push;return n.a.createElement(Qc,Object.assign({},e,{selectedUser:null,module:il,handleSubmit:function(t,a){var r=sl.addUser(t);e.addUserAction({query:r,callback:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t)return a(),_r.show("User details has been addedd successfully"),ol(e),!0;_r.show(be)}})},handleTransfer:cl(e)}))})),Qm=Object(nt.b)({userDetails:nn(),selectedUser:bl(),isNetworkAvailable:on()}),Xm=Object(c.c)(Qm,(function(e){return{showNetworkAlert:function(){return e(dr())},updateUserAction:function(t){return e(al(t))},delinkUserAction:function(t){return e(rl(t))}}}))((function(e){return n.a.createElement(Qc,Object.assign({},e,{handleSubmit:pl(e,!0),handleDelink:dl(Object(u.a)({},e)),module:"manage/ManageUser/Profile"}))})),$m=a(321);a(600),a(601);var ef=function(e){Object(ct.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(ut.a)(e);if(t()){var n=Object(ut.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(lt.a)(this,a)}}(a);function a(e){var r;return Object(b.a)(this,a),(r=t.call(this,e)).onConfrim=function(e){var t=r.props.redirect;r.setState({isDropdown:!1},(function(){""===e.myLoadRouting||"/app/MyLoad/LocationTracker"===e.myLoadRouting?_r.show():t(e.myLoadRouting)}))},r.dropdownClick=function(){r.setState({isDropdown:!0})},r.state={isDropdown:!1,asc:!0,slectedValue:r.props.options.filter((function(e){return e.myLoadRouting.indexOf(r.props.page)>0}))[0]},r}return Object(v.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.options,r=t.loadsCount,i=this.state,s=i.slectedValue,o=i.isDropdown;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",null,n.a.createElement("div",{className:"carrier_select"},n.a.createElement("div",{onClick:this.dropdownClick,className:"search_sort_button","data-test":"dropdown"},n.a.createElement("p",{className:"page-title-p"},s.title)),n.a.createElement("i",{onClick:this.dropdownClick,className:"down"})),n.a.createElement(l.A,{isOpen:o,cssClass:"dropdown-modal",backdropDismiss:!1,onDidDismiss:function(){e.setState({isDropdown:!1})}},n.a.createElement("div",{className:"modal-div",onClick:function(){return e.setState({isDropdown:!1})}},n.a.createElement("div",{className:"search_options_carrier"},a.map((function(t,a){return n.a.createElement(l.H,{className:"carrier-dropdown",key:a,onClick:function(){e.onConfrim(t)}},n.a.createElement(l.k,{size:"10"},t.title),n.a.createElement(l.k,{size:"2"},"Manage Financial"===t.title?" ":n.a.createElement("div",{className:r[t.count]?"count-div circle-div2":""},r[t.count]&&r[t.count]>99?99:r[t.count]||"")))})))))))}}]),a}(r.Component),tf=(a(602),function(e){var t=Object(r.useState)(!1),a=Object(f.a)(t,2),i=a[0],s=a[1],o=Object(r.useState)("All Drivers"),c=Object(f.a)(o,2),u=c[0],d=c[1],p=Object(r.useState)("All Driver"),m=Object(f.a)(p,2),h=m[0],E=m[1],g=Object(r.useState)("All Driver"),b=Object(f.a)(g,2),v=b[0],y=b[1],S=Object(r.useState)(e.data?e.data.length:0),O=Object(f.a)(S,2),_=O[0],D=O[1],A=Object(r.useState)([{moduleName:$.DRIVER_ASSIGNED_MODULE,option:"All Driver"},{moduleName:$.INTRANSIT_MODULE,option:"All Driver"},{moduleName:$.RECENTLY_DELIVERED_MODULE,option:"All Driver"}]),k=Object(f.a)(A,2),T=k[0],N=k[1],R=e.data,I=function(t){var a="";s(!1),"All Driver"===t?(a="All Drivers",d("All Drivers")):"Unknown"===t?(a="Unknown",Object(l.V)("mobile")?d("Assigned to Unknown"):d("Unknown"),R=e.data.filter((function(t){if(e.module!==$.DRIVER_ASSIGNED_MODULE||e.module===$.DRIVER_ASSIGNED_MODULE&&!0===t.driverAssignmentStatus){if(!(t.shipmentInvolvedParties.length>0))return!0;var a=t.shipmentInvolvedParties.find((function(e){return"PRIMARY DRIVER"===e.partyType}));if(!a)return!0;if(null===a.partyName)return!0}if(e.module===$.DRIVER_ASSIGNED_MODULE&&!1===t.driverAssignmentStatus)return null===(t.assignmentTransaction&&t.assignmentTransaction[0]&&t.assignmentTransaction[0].driverName)}))):(a=t.slice(0,t.indexOf(" ")),Object(l.V)("mobile")?d("Assigned to ".concat(a)):d(a),R=e.data.filter((function(a){return e.module!==$.DRIVER_ASSIGNED_MODULE||e.module===$.DRIVER_ASSIGNED_MODULE&&!0===a.driverAssignmentStatus?a.shipmentInvolvedParties.find((function(e){return e.partyName===t&&"PRIMARY DRIVER"===e.partyType})):e.module===$.DRIVER_ASSIGNED_MODULE&&!1===a.driverAssignmentStatus?(a.assignmentTransaction&&a.assignmentTransaction[0]&&a.assignmentTransaction[0].driverName)===t:void 0}))),e.onSelect(R,a),D(R.length)};Object(r.useEffect)((function(){if(e.data){var t=T.find((function(t){return t.moduleName===e.module})),a=t?t.option:"All Driver";I(a)}}),[JSON.stringify(e.data),e.module]),Object(r.useEffect)((function(){Object(l.V)("desktop")&&("Driver Assigned"!==e.segmentName&&"Loads Assigned"!==e.segmentName||d(e.filteredDriverNameD),"In-Transit"===e.segmentName&&d(e.filteredDriverNameI))}),[e.segmentName]);return n.a.createElement(n.a.Fragment,null,Object(l.V)("mobile")?n.a.createElement(l.o,{class:"display-text-grid"},u," (",_,")",n.a.createElement(l.q,{src:"assets/icon/filter.svg",onClick:function(){return s(!0)}})):n.a.createElement(l.H,{class:"display-text-grid-desktop"},n.a.createElement(l.k,{class:"count-col",size:"6"},e.countText),n.a.createElement(l.k,{class:"filter-col",size:"6"},u,n.a.createElement(l.q,{src:"assets/icon/filter.svg",onClick:function(){return s(!0)}}))),n.a.createElement(l.A,{isOpen:i,cssClass:"dropdown-modal",onDidDismiss:function(){return s(!1)}},n.a.createElement("div",{className:"search_options"},n.a.createElement(l.H,{class:"dropdown-heading"},n.a.createElement(l.k,null,n.a.createElement("p",{className:"sortBy_text"},"Filter by"))),e.driverNameList.map((function(e,t){return n.a.createElement(l.H,{className:"dropdown-row",key:t,onClick:function(){return y(e)}},n.a.createElement(l.k,{class:e===v?"checked":""},e," ",n.a.createElement("i",{className:"check"})))})),n.a.createElement(l.H,{class:"dropdown-handler"},n.a.createElement(l.k,{size:"1"}),n.a.createElement(l.k,{size:"5",className:"dropdown_cancel",onClick:function(){s(!1),y(h)}},n.a.createElement("span",null,"Cancel")),n.a.createElement(l.k,{size:"5",className:"dropdown_cancel",onClick:function(){E(v),I(v);var t=Object(Fe.a)(T);t.forEach((function(t){t.moduleName===e.module&&(t.option=v)})),N(t)}},n.a.createElement("span",null,"OK")),n.a.createElement(l.k,{size:"1"})))))});function af(e){var t=(e=e.slice()).filter((function(e){return e.loadStop&&0===e.loadStop.length})),a=e.filter((function(e){return e.loadStop&&e.loadStop.length>0}));return a.sort((function(e,a){var r=rf(e.loadStop||[]),n=rf(a.loadStop||[]),i=nf(r[0]),s=nf(n[0]);if(r.length>0&&n.length>0){var o=e.shipmentId,c=a.shipmentId,l=0;if(o<c&&(l=-1),o>c&&(l=1),i&&s){return i>s?1:i<s?-1:l}return i&&!s?-1:1}return r.length>0&&0===n.length?1:(0===r.length&&n.length>0||t.push(e),-1)})),t.length>0&&(a=a.concat(t)),a}var rf=function(e){return e.slice().sort((function(e,t){return e.sequenceNo&&t.sequenceNo?e.sequenceNo-t.sequenceNo:e.stopSequence&&t.stopSequence?e.stopSequence-t.stopSequence:0}))},nf=function(e){var t="";return e.appointmentEarlyDateTime?t=e.appointmentEarlyDateTime:e.actualETADateTime?t=e.actualETADateTime:e.plannedEtaDateTime&&(t=e.plannedEtaDateTime),t};var sf=function(e){Object(ct.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(ut.a)(e);if(t()){var n=Object(ut.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(lt.a)(this,a)}}(a);function a(e){var r;return Object(b.a)(this,a),(r=t.call(this,e)).sendAnalyticsEvent=function(e,t){var a,r,n="",i="";switch(e){case $.CARRIER_ASSIGNED_MODULE:a=ue.SV_VIEW_CARRIER_ASSIGNED,r=de.MYLOADS_CARRIER_ASSIGNED;break;case $.DRIVER_ASSIGNED_MODULE:a=ue.SV_ASSIGN_DRIVER,r=de.MYLOADS_DRIVER_ASSIGNMENT,n=ue.SV_VIEW_DRIVER_ASSIGNED,i=de.MYLOADS_DRIVER_ASSIGNED;break;case $.INTRANSIT_MODULE:a=ue.SV_VIEW_IN_TRANSIT,r=de.MYLOADS_IN_TRANSIT;break;case $.RECENTLY_DELIVERED_MODULE:a=ue.SV_VIEW_RECENTLY_DEL,r=de.MYLOADS_RECENTLY_DEL;break;default:return}Rt(a,{screen:r,carrierId:t}),""!==n&&Rt(n,{screen:i,carrierId:t})},r.showToaster=Object(g.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,br.i.create({color:"dark",duration:300,message:"Driver Assigned.",mode:"md",cssClass:"driver-assign-confrim"});case 2:return t=e.sent,e.next=5,t.present();case 5:return e.next=7,t.dismiss(r.props.chnageValue());case 7:case"end":return e.stop()}}),e)}))),r.selectDriver=function(e,t){if(e.preventDefault(),r.props.isInPullToRefresh)return 0;"Assign Driver"===r.props.buttonName&&r.props.AssignDriverbtn(t)},r.filterByDriver=function(e){xa("myLoad","carrierAssigned")&&r.setState({filteredData:e})},r.redirect=function(e){e&&r.props.history.push(e)},r.startTripOk=Object(g.a)(E.a.mark((function e(){var t,a,n,i;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.props.subModule,a=r.state.selectedLoad,n=!1,i=!1,e.next=6,Ha.details.auth.user.roles.forEach(function(){var e=Object(g.a)(E.a.mark((function e(t,a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"carrierDriver"===t&&(n=!0);case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}());case 6:n||(i=!0),r.props.setShipmentForStartTrip(a),r.setState({isStartTrip:!1,selectedLoad:null},(function(){return r.props.history.push({pathname:"/app/MyLoad/shipmentUpdateScreen/".concat(a.shipmentId),state:{isCurrentLocationOn:i,isLocation:!1,module:t,withGPS:!0,startTripShipment:a,moduleName:"INTRANSIT"}})}));case 9:case"end":return e.stop()}}),e)}))),r.dismissSortingLoader=function(){r.setState({isSorting:!1})},r.getShipmentDetails=function(e){var t=e&&e.shipmentId||"",a=new Yd,n=r.props.subModule;a.shipmentIds=t,r.props.buyLoadShipmentRequest({query:a.getRequestShipmentPayload(),shipmentId:t,module:n,isPullToRefresh:!1}),r.props.subModule===$.INTRANSIT_MODULE||e&&e.executionStatus===ae.STARTED&&r.props.subModule===$.DRIVER_ASSIGNED_MODULE||r.props.subModule===$.RECENTLY_DELIVERED_MODULE?r.setState({isStartTrip:!0,selectedLoad:e},(function(){r.startTripOk()})):r.props.history.push("/app/".concat(r.props.subModule,"/").concat(t)),r.props.clearUpdateStopInfo()},r.state={isMyLoad:!0,actualData:[],filteredData:[],selectedLoad:null},r}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=af(this.props.loads);this.setState({filteredData:e,actualData:e}),this.sendAnalyticsEvent(this.props.subModule,this.props.userDetails.carrierId)}},{key:"componentDidUpdate",value:function(e,t){if(JSON.stringify(this.props.loads)!==JSON.stringify(e.loads)||JSON.stringify(t.filteredData)!==JSON.stringify(this.state.filteredData)){this.state.filteredData;var a=af(this.props.subModule!==$.CARRIER_ASSIGNED_MODULE&&xa("myLoad","carrierAssigned")?this.state.filteredData:this.props.loads);this.setState({filteredData:a,actualData:this.props.loads})}}},{key:"render",value:function(){var e=this;this.props.getToasterValue&&this.showToaster();var t=Object($m.a)(this.props.myLoadCard).slice(0);return n.a.createElement(n.a.Fragment,null,n.a.createElement(l.z,{isOpen:this.state.isSorting,onDidDismiss:this.dismissSortingLoader}),n.a.createElement(l.B,{className:"desktop-page carrier-assign-page"},n.a.createElement(fc,{title:"My Loads",isMyLoad:this.state.isMyLoad,backUrl:"/app/".concat(this.props.module),History:this.props.history}),n.a.createElement(l.l,{className:"carrierAssignedContent"},n.a.createElement(so,{onPullToRefresh:this.props.getLoads,status:this.props.isInPullToRefresh}),n.a.createElement(l.o,{class:"sub-header-grid"},n.a.createElement(l.H,{class:"sub-header-row"},n.a.createElement(l.k,{class:"count-col"},this.props.showFilter?n.a.createElement(tf,{data:this.state.actualData,driverNameList:this.props.driverNameList,onSelect:this.filterByDriver,module:this.props.subModule}):n.a.createElement(n.a.Fragment,null,this.state.actualData&&this.state.actualData.length,xa("myLoad","driverLoads")?n.a.createElement(n.a.Fragment,null,"MyLoad/DriverAssigned"===this.props.subModule?n.a.createElement(n.a.Fragment,null," Assigned"):n.a.createElement(n.a.Fragment,null,"MyLoad/InTransit"===this.props.subModule?n.a.createElement(n.a.Fragment,null," In-Transit"):n.a.createElement(n.a.Fragment,null," ",this.state.actualData&&this.state.actualData.length<=1?"Load":"Loads"))):n.a.createElement(n.a.Fragment,null," Assigned"))),n.a.createElement(l.k,{class:"dropdown-col"},n.a.createElement(ef,{options:t,page:this.props.subModule,redirect:this.redirect,loadsCount:this.props.myLoadCount})))),n.a.createElement(Wo,{segmentName:"",loads:this.state.filteredData},(function(t){var a=t.loads;return n.a.createElement(l.y,{className:"loadTilePad"},a&&a.map((function(t,a){return n.a.createElement(rc,Object.assign({key:a},t,{module:e.props.subModule,onButtonClick:function(a){return e.selectDriver(a,t)},isCarrier:!0,isButtonHidden:e.props.isButtonHidden,buttonName:e.props.buttonName,showInitial:e.props.showInitial,isCarrierLoad:!0,shipmentLoad:t,showAlert:e.props.showAlert,isNetworkAvailable:e.props.isNetworkAvailable,onRowCallback:function(t){e.getShipmentDetails(t)},showLoadNo:!0,"data-test":"LoadTile"}))})))})),n.a.createElement("div",{className:"end-of-list"},"End of list"))))}}]),a}(r.Component),of=Object(nt.b)({myLoadCard:ni(),myLoadCount:ii(),isInPullToRefresh:sn(),isNetworkAvailable:on()}),cf=Object(c.c)(of,(function(e){return{setShipmentForStartTrip:function(t){e(Jn(t)),e(Qn((new Date).getTime().toString()))},buyLoadShipmentRequest:function(t){return e(Hn(t))},clearUpdateStopInfo:function(){return e(xn())}}})),lf=Object(d.compose)(cf)(sf);a(603);function uf(e,t){var a=e&&e.map((function(e){var a=[];return(t!==$.DRIVER_ASSIGNED_MODULE||t===$.DRIVER_ASSIGNED_MODULE&&!0===e.driverAssignmentStatus)&&(a=e.shipmentInvolvedParties&&e.shipmentInvolvedParties.find((function(e){return"PRIMARY DRIVER"===e.partyType}))),t===$.DRIVER_ASSIGNED_MODULE&&!1===e.driverAssignmentStatus&&(a=e.assignmentTransaction&&e.assignmentTransaction[0]),a&&null!==a.partyName&&a.partyName||a&&null!==a.driverName&&a.driverName||null}))||[];return[].concat(Object(Fe.a)(a.filter((function(e,t){return a.indexOf(e)===t&&null!=e}))),["All Driver","Unknown"])}var df=function(e){Object(ct.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(ut.a)(e);if(t()){var n=Object(ut.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(lt.a)(this,a)}}(a);function a(){var e;Object(b.a)(this,a);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).segmentName=void 0,e._model=new Zd,e.segments=e.props.segment,e.titleText=void 0,e.loads=void 0,e.actualLoad=void 0,e.state={segment:{name:e.props.currentSegment},isDriverModal:!1,popupHeader:!1,data:[],openAssignDriverDialog:!1,driverDetails:{},loadDetails:{},driverAFilterData:[],isDriverFiltered:!1,inTranistFilterData:[],isTranistFiltered:!1,deliveredFilterData:[],deliveredFiltered:!1,filteredDriverNameD:"All Driver",filteredDriverNameI:"All Driver",filteredDriverName:"All Driver",module:""},e.columns=[{name:"Origin",selector:"origin_city",sortable:!1,style:{fontWeight:600,fontSize:14,colorName:"#000000"}},{name:"Origin Date",selector:"origin_from_date",sortable:!1,minWidth:"123px"},{name:"DH-O",selector:"origin_deadhead",sortable:!1},{name:"Origin Load Type",selector:"origin_load_type",sortable:!1},{name:"Destination",selector:"destination_city",sortable:!1,style:{fontWeight:600,fontSize:14,colorName:"#000000"}},{name:"Destination Date",selector:"destination_from_date",minWidth:"123px",sortable:!1},{name:"DH-D",selector:"destination_deadhead",sortable:!1},{name:"Destination Load Type",selector:"destination_load_type",sortable:!1},{name:"Trailer Type",selector:"trailer",sortable:!1},{name:"",selector:"",sortable:!1,width:"50px",cell:function(t){return"Carrier Assigned"===e.state.segment.name?null:t.driverName?n.a.createElement(l.o,{className:"driver-name-grid"},t.driverName):null}},{name:"",selector:"",sortable:!1,width:"50px",cell:function(t){return"Carrier Assigned"===e.state.segment.name?n.a.createElement(l.r,{onClick:function(){return e.selectDriver(t)},src:"assets/icon/add-user-icon-desktop.svg",class:"assign-icon"}):n.a.createElement(l.r,{src:"assets/icon/re-assign-desktop.svg",class:"assign-icon"})}},{name:"",selector:"",sortable:!1,width:"50px",cell:function(t){return"loadDetails"===e.props.pageName?"":n.a.createElement(l.o,{class:"datatable-badge"},n.a.createElement("i",null))}}],e.selectDriver=function(t){e.props.AssignDriver(e._model.getRequestPayload()),e.setState({isDriverModal:!0,popupHeader:!0});var a=e.loads.filter((function(e){return e.shipmentId===t.loadId}));e.setState({loadDetails:a&&a[0]})},e.closeDriverModal=function(){e.setState({isDriverModal:!1})},e.redirect=function(t){e.props.isNetworkAvailable;var a=e.state.segment.name.replace(/\s/g,"");if("LoadsAssigned"===a&&(a="DriverAssigned"),"In-Transit"===a&&(a="InTransit"),"RecentlyDeliveredLoads"===a&&(a="Delivered"),e.props.history.push("".concat(a,"/").concat(t.loadId)),e.props.buyLoadShipmentRequest){var r=new Yd,n=e.state.module;r.shipmentIds=t.loadId,e.props.buyLoadShipmentRequest({query:r.getRequestShipmentPayload(),shipmentId:t.loadId,module:n,isPullToRefresh:!1})}},e.filterByDriver=function(t,a){"Driver Assigned"!==e.state.segment.name&&"Loads Assigned"!==e.state.segment.name||e.setState({driverAFilterData:t,isDriverFiltered:!0,filteredDriverNameD:a},e.getRelatedLoads),"In-Transit"===e.state.segment.name&&e.setState({inTranistFilterData:t,isTranistFiltered:!0,filteredDriverNameI:a},e.getRelatedLoads),"Recently Delivered Loads"===e.state.segment.name&&e.setState({deliveredFilterData:t,deliveredFiltered:!0,filteredDriverName:a},e.getRelatedLoads)},e.componentDidMount=function(){e.getRelatedLoads(),e.getModuleName()},e.componentDidUpdate=function(t,a){t.currentSegment!==e.props.currentSegment&&e.setState({segment:{name:e.props.currentSegment}}),JSON.stringify(a.segment)!==JSON.stringify(e.state.segment)&&e.getModuleName()},e.getModuleName=function(){var t=e.state.segment.name.replace(/\s/g,""),a="";"LoadsAssigned"!==t&&"DriverAssigned"!==t||(a=$.DRIVER_ASSIGNED_MODULE),"In-Transit"===t&&(a=$.INTRANSIT_MODULE),"RecentlyDeliveredLoads"===t&&(a=$.RECENTLY_DELIVERED_MODULE),e.setState({module:a})},e.getRelatedLoads=function(){"Carrier Assigned"===e.state.segment.name?(e.loads=e.props.loads,e.titleText=n.a.createElement(n.a.Fragment,null,e.loads&&e.loads.length>99?99:e.loads.length," Loads Assigned")):"Driver Assigned"===e.state.segment.name||"Loads Assigned"===e.state.segment.name?(e.loads=e.state.isDriverFiltered?e.state.driverAFilterData:e.props.driverAssigned,e.actualLoad=e.props.driverAssigned,e.getSubHeader("Loads Assigned",e.state.segment.name),Rt(ue.UE_BOOK_SUCCESS,{screen:de.LOAD_DETAILS_RATE,loadId:e.props.loadId,carrierId:e.props.userDetails.carrierId,lead:"searched"})):"In-Transit"===e.state.segment.name?(e.loads=e.state.isTranistFiltered?e.state.inTranistFilterData:e.props.inTransitLoads,e.actualLoad=e.props.inTransitLoads,e.getSubHeader("Loads In-Transit",e.state.segment.name)):"Recently Delivered Loads"===e.state.segment.name?(e.loads=e.state.deliveredFiltered?e.state.deliveredFilterData:e.props.deliveredLoads,e.actualLoad=e.props.deliveredLoads,e.getSubHeader("Loads Delivered",e.state.segment.name)):(e.loads=[],e.titleText=""),e.getFormatedLoads(e.loads)},e.getSubHeader=function(t,a){var r=uf(e.actualLoad,e.state.module);e.titleText=n.a.createElement(tf,{data:e.actualLoad,driverNameList:r,onSelect:e.filterByDriver,countText:e.loads&&e.loads.length>99?99:"".concat(e.loads.length," ").concat(t),segmentName:a,filteredDriverNameI:e.state.filteredDriverNameI,filteredDriverNameD:e.state.filteredDriverNameD,filteredDriverName:e.state.filteredDriverName,module:e.state.module})},e.getFormatedLoads=function(t){var a=(t=(t=af(t))&&t.length>99?t.slice(0,99):t)?Fs(t,"appointmentEarlyDateTime","appointmentLateDateTime","shipmentId","equipmentType",!0):[];e.setState({data:a})},e}return Object(v.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement(l.B,{className:"desktop-page my-load-desktop-page"},n.a.createElement(fc,{title:"My Loads",segments:this.segments,getSegment:function(t){return e.setState({segment:{name:t.detail.value}},e.getRelatedLoads)},activeSegment:this.state.segment&&this.state.segment.name,isMyLoad:!0}),n.a.createElement(l.l,{className:"my-load-desktop-content"},n.a.createElement(Pu,{columns:this.columns,data:this.state.data,showEndofList:!0,showHeader:!1,titleText:this.titleText,pagination:!0,redirect:this.redirect}),n.a.createElement(l.A,{isOpen:this.state.isDriverModal,cssClass:"Driver-list-modal"},n.a.createElement(Fp,Object.assign({popupHeader:this.state.popupHeader,closeModal:function(){return e.closeDriverModal()},DesktopDriverList:this.props.driverList},this.props,{showAssignDriverDialog:function(t,a){e.setState({openAssignDriverDialog:t,driverDetails:a,isDriverModal:!t&&e.state.isDriverModal})}}))),n.a.createElement(hp,{isOpen:this.state.openAssignDriverDialog,onDismiss:function(){e.setState({openAssignDriverDialog:!1})},loadDetails:this.state.loadDetails,driverDetails:this.state.driverDetails,showDriverDialog:function(t){e.setState({isDriverModal:t})}})))}}]),a}(r.Component);var pf=function(e){Object(ct.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(ut.a)(e);if(t()){var n=Object(ut.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(lt.a)(this,a)}}(a);function a(){var e;Object(b.a)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={shipmentId:"",pageName:""},e.segment=[],e.AssignDriverBtn=function(){if(e.props.userDetails&&e.props.userDetails.carrierId){var t=new Zd;t.carrierId=e.props.userDetails.carrierId,t.role="carrierDriver",e.props.AssignDriver(t.getRequestPayload())}},e.componentDidMount=function(){e.props.myLoadCard.forEach((function(t){e.segment.push(t.title)}))},e.componentDidUpdate=function(t){JSON.stringify(t.loadDetails)!==JSON.stringify(e.props.loadDetails)&&e.props.loadDetails.length>0&&e.props.history.push("".concat(e.state.pageName,"/").concat(e.state.shipmentId))},e}return Object(v.a)(a,[{key:"render",value:function(){var e=this.props.history.location.pathname,t="";switch(e.slice(e.lastIndexOf("/")+1)){case"CarrierAssigned":t="Carrier Assigned";break;case"DriverAssigned":t=xa("myLoad","driverLoads")?"Loads Assigned":"Driver Assigned";break;case"InTransit":t="In-Transit";break;case"Delivered":t="Recently Delivered Loads";break;default:t="Carrier Assigned"}return n.a.createElement(df,Object.assign({},this.props,{AssignDriver:this.AssignDriverBtn,driverList:this.props.desktopDriverList&&this.props.desktopDriverList.data&&this.props.desktopDriverList.data.getMembers,segment:this.segment,currentSegment:t}))}}]),a}(r.Component),mf=Object(nt.b)({loads:np(),desktopDriverList:ip(),driverAssigned:sp(),myLoadCard:ni(),userDetails:nn(),inTransitLoads:op(),deliveredLoads:lp(),loadDetails:li()}),ff=Object(c.c)(mf,(function(e){return{buyLoadShipmentRequest:function(t){return e(Hn(t))},AssignDriver:function(t){return e(Bn(t))}}})),hf=_s({key:"carrierAssigned",reducer:Jd}),Ef=Ss({key:"carrierAssigned",saga:us}),gf=Object(d.compose)(Ef,hf,ff)(pf);var bf=function(e){Object(ct.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(ut.a)(e);if(t()){var n=Object(ut.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(lt.a)(this,a)}}(a);function a(){var e;Object(b.a)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).chnageValue=function(){e.props.changeToasterValue()},e.assignDriverButton=function(t){var a=t.shipmentId;if(e.props.userDetails&&e.props.userDetails.carrierId){var r=new Zd;r.carrierId=e.props.userDetails.carrierId,r.role="carrierDriver",e.props.AssignDriver(r.getRequestPayload()),e.props.history.push("/app/MyLoad/driverAssign/".concat(a),{loadDetails:JSON.stringify(t),pathname:e.props.location.pathname})}},e.getCarrierAssignLoads=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];try{var a=e.props&&e.props.userDetails&&e.props.userDetails.carrierId||"",r=new hd;r.carrierId=a,r.filter={carrierAssigned:!0},e.props.fetchShipments(r.getRequestPayload(),t)}catch(n){console.log("ERROR:",n)}},e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){this.props.data&&0===this.props.data.length&&!this.props.loading&&this.props.updateData()}},{key:"render",value:function(){var e=this,t=this.props.loads&&this.props.loads.length>99?this.props.loads.slice(0,99):this.props.loads;return n.a.createElement(n.a.Fragment,null,Object(l.V)("mobile")?n.a.createElement(lf,Object.assign({},this.props,{getLoads:this.getCarrierAssignLoads,chnageValue:this.chnageValue,AssignDriverbtn:function(t){return e.assignDriverButton(t)},module:"MyLoad",loads:t,showFilter:!1,isButtonHidden:!1,buttonName:"Assign Driver",showInitial:!1,subModule:this.props.match.params[0]})):n.a.createElement(gf,this.props))}}]),a}(r.PureComponent),vf=Object(nt.b)({loading:en(),getToasterValue:Object(nt.a)([$d],(function(e){return e.showToaster||Kd.showToaster})),loads:np(),userDetails:nn(),isNetworkAvailable:on()}),yf=Object(c.c)(vf,(function(e){return{changeToasterValue:function(){return e({type:"SHOW_TOASTER_VALUE"})},AssignDriver:function(t){return e(Bn(t))},fetchShipments:function(t,a){return e(Zn(t,a))},showAlert:function(t){return e(lr(t))}}})),Sf=_s({key:"carrierAssigned",reducer:Jd}),Of=Ss({key:"carrierAssigned",saga:us}),_f=Object(d.compose)(Of,Sf,yf)(bf),Df=function(e){var t=e.userDetails,a=t.carrierId,i=t.userPrincipalName,s=e.isUserValid,o=e.validateUserDetails,c=e.resetValidateUser,d=e.module,p=e.history,m=e.isNetworkAvailable,h=e.showNetworkAlert,E=Object(r.useState)(!1),g=Object(f.a)(E,2),b=g[0],v=g[1],y=Object(r.useState)(Mc),S=Object(f.a)(y,2),O=S[0],_=S[1],D=Object(r.useState)(!1),A=Object(f.a)(D,2),k=A[0],T=A[1],N=Object(r.useState)(!1),R=Object(f.a)(N,2),I=R[0],C=R[1],j=Object(r.useState)(!0),w=Object(f.a)(j,2),L=w[0],P=w[1],x=Object(r.useState)(null),M=Object(f.a)(x,2),U=M[0],F=M[1],V=new Er,H=O.filter((function(e){return e.selected})).map((function(e){return e.label})).join(", "),G=1===O.filter((function(e){return e.selected})).length?O.find((function(e){return e.selected})).desc:O[1].desc,B=Object(r.useState)(Object(u.a)(Object(u.a)({},qc),{},{roles:zc(Mc),carrierId:a})),q=Object(f.a)(B,2),z=q[0],Y=q[1],W=Object(r.useState)([]),Z=Object(f.a)(W,2),K=Z[0],J=Z[1],Q=Object(r.useState)(!1),X=Object(f.a)(Q,2),$=X[0],ee=X[1],te=Object(r.useState)(!0),ae=Object(f.a)(te,2),re=ae[0],le=ae[1],ue=Object(r.useState)(""),de=Object(f.a)(ue,2),pe=de[0],me=de[1],fe=Object(r.useState)(!1),he=Object(f.a)(fe,2),Ee=he[0],ge=he[1],ve=Object(r.useState)({firstName:"",lastName:"",mobileNumber:"",tractorNumber:!1}),ye=Object(f.a)(ve,2),Se=ye[0],Oe=ye[1];Object(r.useEffect)((function(){null!==s&&(C(!s),_e(s))}),[s]);var _e=function(t){F({isOpen:t,title:"Send Request",message:ne.replace("{{NAME}}",o&&o.firstName),buttons:[{label:"Cancel",callback:function(){Y(Object(u.a)(Object(u.a)({},z),{},{email:""})),F(null),e.resetValidateUser(),p.push("/app/".concat(d))}},{label:"Ok",callback:function(){!function(){if(!m)return h(),!0;var t={requester:{userId:i,carrierId:a,isAdmin:!0},userId:o.userPrincipalName,currentCarrierId:o.carrierId,requestedCarrierId:a,roles:z.roles},r={name:o&&o.firstName,params:t};e.handleTransfer(r,De,a===o.carrierId)}()}}]})},De=function(){_(Mc),C(!1),F(null),T(!1),c(),Y(Object(u.a)(Object(u.a)({},qc),{},{roles:zc(Mc),carrierId:a})),ge(!1),me(""),Oe({firstName:"",lastName:"",mobileNumber:""})},Ae=function(e){J(e),ee(!0)},ke=Object(r.useCallback)(Lt.a.debounce((function(e){return Ic(e,Ae)}),500),[]),Te=function(e){var t=e.target,a=t.name,r=t.value;switch(function(e,t){var a=Object(u.a)({},Se);switch(e){case"firstName":case"lastName":var r=""!==t&&wc(t);a=Object(u.a)(Object(u.a)({},Se),{},Object(Yr.a)({},e,!r&&ce[e]));break;case"tractorNumber":var n=""===t||""!==t&&wc(t);a=Object(u.a)(Object(u.a)({},Se),{},Object(Yr.a)({},e,!n&&ce[e]));break;case"mobileNumber":var i=jc(t);a=Object(u.a)(Object(u.a)({},Se),{},Object(Yr.a)({},e,!i&&ce[e]))}var s=Object.keys(a).filter((function(e){return!1!==a[e]}));ge(0===s.length),Oe(a)}(a,r),a){case"emailAddress":v(!1),Y(Object(u.a)(Object(u.a)({},z),{},{email:r}));break;case"mobileNumber":Y(Object(u.a)(Object(u.a)({},z),{},{mobileNumber:jc(r)?Lc(r,!0):r}));break;case"addressDTOs":re&&(ke(r),me(r));break;default:Y(Object(u.a)(Object(u.a)({},z),{},Object(Yr.a)({},a,r)))}};return n.a.createElement(n.a.Fragment,null,n.a.createElement(l.B,{className:"manage-userslist-page"},n.a.createElement(fc,{title:e.title,customBackUrl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!z.email)return p.push(e||"/app/".concat(d)),!0;F({isOpen:!0,title:ie,message:se,buttons:[{label:"Cancel",callback:function(){F(null)}},{label:"Ok",callback:function(){De(),p.push(e||"/app/".concat(d))}}]})},History:e.history}),n.a.createElement(l.l,{class:"ion-padding  custom-padding"},n.a.createElement(l.l,{class:"ion-padding  custom-padding"},n.a.createElement("div",{className:"manage-users-formWrapper"},n.a.createElement(l.y,{class:"manage-userslist-form"},n.a.createElement(l.v,{className:"role-info","data-test":"select-role",onClick:function(){return T(!k)}},n.a.createElement(l.w,{position:"floating",mode:"ios"},"Role"),n.a.createElement(l.u,{value:H,readonly:!0,type:"text",class:""}),n.a.createElement(l.q,{src:"/assets/icon/grid-down-arrow.svg"})),n.a.createElement(l.N,{class:"role-desc"},G),O&&k?n.a.createElement(l.y,{"data-test":"roles-list",class:"roles-list-grid"},O.map((function(e,t){return n.a.createElement(l.v,{key:"role_".concat(t),"data-test":"role-list-item",onClick:function(){return function(e){var t=O.map((function(t){return Object(u.a)(Object(u.a)({},t),{},{selected:t.label===e.label?!t.selected:t.selected})}));if(t.filter((function(e){return e.selected})).length>0){var a=t.find((function(e){return e.selected&&"Driver"===e.label}));P(!!a),_(t),Y(Object(u.a)(Object(u.a)({},z),{},{roles:zc(t)}))}}(e)}},n.a.createElement("i",{className:"role-check-icon ".concat(e.selected?"checked":"")}),n.a.createElement("span",{className:"role-list-label"},e.label))}))):null,n.a.createElement(l.v,{className:b?"email-field error":"email-field "},n.a.createElement(l.w,{position:"floating",mode:"ios"},"Email Address"),n.a.createElement(l.u,{value:z.email,placeholder:"Type Your Email Address",type:"email",readonly:I,name:"emailAddress",onIonChange:Te,"data-test":"email-field",pattern:"/^[a-zA-Z0-9]+@[a-zA-Z0-9]+\\.[A-Za-z]+$/"})),b?n.a.createElement(l.N,{class:"field-error","data-test":"email-field-error"},oe):null,I?null:n.a.createElement(l.v,{className:"validate-btn-wrapper"},n.a.createElement(l.e,{className:"validate-btn","data-test":"validate-btn",onClick:function(){if(!m)return h(),!0;var t=z.email;if(k&&T(!1),/^[a-zA-Z0-9.]+@[a-zA-Z0-9]+\.[A-Za-z]+$/.test(t)){var a=V.validateUser(t);return e.validateUserAction({query:a,callback:function(){return _r.show(be)}}),!0}v(!0)}},"Validate now"))),I?n.a.createElement(l.y,{class:"manage-userslist-form"},Fc.map((function(e){return n.a.createElement(n.a.Fragment,{key:"def_".concat(e.label)},n.a.createElement(l.v,{className:Se&&Se[e.name]?"error":""},n.a.createElement(l.w,{position:"floating",mode:"ios"},e.label),"mobileNumber"===e.name?n.a.createElement(l.u,{value:z[e.name],name:e.name,placeholder:e.placeholder,pattern:"[0-9a-zA-Z]",type:"text","data-test":"".concat(e.name,"-field"),onFocus:function(){return Y(Object(u.a)(Object(u.a)({},z),{},{mobileNumber:z.mobileNumber&&Pc(z.mobileNumber)}))},onIonBlur:Te,className:"".concat(e.className?e.className:""),maxlength:10}):n.a.createElement(l.u,{value:z[e.name],name:e.name,placeholder:e.placeholder,pattern:"[0-9a-zA-Z]",type:"text","data-test":"".concat(e.name,"-field"),onIonChange:Te,className:"".concat(e.className?e.className:"")})),Se&&Se[e.name]?n.a.createElement(l.N,{class:"field-error"},Se[e.name]):null)})),L&&Uc.map((function(e){return n.a.createElement(n.a.Fragment,{key:e.label},n.a.createElement(l.v,null,n.a.createElement(l.w,{position:"floating",mode:"ios"},e.label),n.a.createElement(l.u,{value:"addressDTOs"===e.name?re?pe:Yc(z[e.name]):z[e.name],name:e.name,placeholder:e.placeholder,type:"text",pattern:"[0-9a-zA-Z]",onIonChange:Te,"data-test":"".concat(e.name,"-field"),onIonFocus:function(){"addressDTOs"===e.name&&le(!0)},className:"".concat(e.className?e.className:"")},"addressDTOs"===e.name?n.a.createElement(l.r,{slot:"end",alt:"logo",src:"/assets/icon/search_icon.svg",className:"search-input-icon"}):null)),Se&&Se[e.name]?n.a.createElement(l.N,{class:"field-error"},Se[e.name]):null,"addressDTOs"===e.name&&$?n.a.createElement(l.o,{class:"suggestions"},K.map((function(e,t){return n.a.createElement(l.H,{key:"address".concat(t),className:"suggestions_item",onClick:function(){return t=e,le(!1),Y(Object(u.a)(Object(u.a)({},z),{},{addressDTOs:t})),ee(!1),void J([]);var t}},n.a.createElement(l.k,{class:"suggestions_list"},Yc(e)))}))):null)})),n.a.createElement(l.v,null,n.a.createElement(l.w,{position:"floating",mode:"ios"},Vc),n.a.createElement(l.u,{value:a,name:Hc,placeholder:Gc,type:"text",className:"".concat(Bc||""),readonly:!0}))):null)),n.a.createElement(l.n,{class:"manage-userlist-footer"},n.a.createElement(l.e,{expand:"full",onClick:function(){if(!m)return h(),!0;if(!I)return!0;var t=Object.keys(Se).filter((function(e){return!1!==Se[e]}));if(t.length>0){var r=Se;return t.forEach((function(e){r[e]=ce[e]})),Oe(r),Y(Object(u.a)({},z)),!0}var n=1===z.roles.length&&-1!==z.roles.indexOf(new Et.EnumType("carrierDispatcher"))?{tractorNumber:"",addressDTOs:{addressLine1:"",addressLine2:"",addressType:"",city:"",state:"",postalCode:""}}:{},s={requester:{userId:i,carrierId:a,isAdmin:!0},userDetails:Object(u.a)(Object(u.a)(Object(u.a)({},z),n),{},{mobileNumber:Pc(z.mobileNumber)})};e.handleSubmit(s,De)},"data-test":"submit-btn",className:Ee?"":"invalid-btn"}," Save"))),U?n.a.createElement(Oo,U):null))},Af=Object(nt.b)({userDetails:nn(),isNetworkAvailable:on(),isUserValid:vl(),validateUserDetails:yl()}),kf=Object(c.c)(Af,(function(e){return{showNetworkAlert:function(){return e(dr())},validateUserAction:function(t){return e(Xc(t))},addUserAction:function(t){return e(tl(t))},resetValidateUser:function(){return e({type:"MANAGE_USER_VALIDATE_RESET"})},transferUserAction:function(t){return e($c(t))}}})),Tf=_s({key:"manage",reducer:El}),Nf=Ss({key:"manage",saga:cu}),Rf=Object(d.compose)(Nf,Tf,kf)((function(e){var t=e.history,a=t.push,r=t.location,i=e.match,s=new Er,o=r&&r.state&&r.state.loadModule||"",c=i&&i.params&&i.params.id||"",l=function(){a("/app/".concat(o))};return n.a.createElement(Df,Object.assign({},e,{title:c,module:o,handleSubmit:function(t,a){var r=s.addUser(t);e.addUserAction({query:r,callback:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e)return a(),_r.show("User details has been addedd successfully"),l(),!0;_r.show(be)},isCarrierAssign:!0})},handleTransfer:function(t,a){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=t.name,i=t.params;if(e.resetValidateUser(),r)return a(),_r.show("User already exist in current carrier"),l(),!0;var o=s.transferMember(i),c=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];a(),e?_r.open({message:"Request sent to {{NAME}}".replace("{{NAME}}",n),btnTitle:"Ok",showUndo:!0,callback:function(){}}):_r.show(be),l()};e.transferUserAction({query:o,callback:c})}}))})),If={showToaster:!1,DriverList:[],shipmentForStartTrip:{},timestamp:"",loads:{}};a(604);var Cf=function(e){Object(ct.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(ut.a)(e);if(t()){var n=Object(ut.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(lt.a)(this,a)}}(a);function a(e){var r;return Object(b.a)(this,a),(r=t.call(this,e)).state={showModal:!1,selectedLoad:[],openAssignDriverDialog:!1,driverDetails:{}},r}return Object(v.a)(a,[{key:"componentDidMount",value:function(){this.setState({selectedLoad:this.props.location.state.response}),Rt(ue.UE_ASSIGN_DRIVER_SUCCESS,{screen:de.MYLOADS_DRIVER_ASSIGNMENT,carrierId:this.state.driverDetails.carrierId})}},{key:"render",value:function(){var e=this,t=this.props&&this.props.match&&this.props.match.params&&this.props.match.params.id;return n.a.createElement(n.a.Fragment,null,n.a.createElement(hp,{isOpen:this.state.openAssignDriverDialog,onDismiss:function(){e.setState({openAssignDriverDialog:!1})},loadDetails:this.props.loadDetails,driverDetails:this.state.driverDetails}),n.a.createElement(l.B,{className:"desktop-page driverList-page"},n.a.createElement(fc,{title:this.props.loadDetails?t:"",backUrl:"/app/MyLoad/CarrierAssigned/".concat(t),isAddDriver:xa("myLoad","addUser")&&Ha.details.auth.user.roles.includes(De.carrierDispatcher)&&Ha.details.auth.user.roles.includes(De.carrierAdmin)&&function(){tr.details.getR2FeatureEnable()?_r.show():e.props.history.push("/app/MyLoad/driverAssign/addDriver/".concat(t),{loadModule:"MyLoad/driverAssign/".concat(t)})},History:this.props.history}),n.a.createElement(l.l,{className:"driverContent"},n.a.createElement(Up,{isPopup:this.props.popupHeader,DriverList:this.props.driverList,loadDetails:this.props.loadDetails,module:this.props.module,showAssignDriverDialog:function(t,a){e.setState({openAssignDriverDialog:t,driverDetails:a})}}))))}}]),a}(r.Component);var jf=function(e){Object(ct.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(ut.a)(e);if(t()){var n=Object(ut.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(lt.a)(this,a)}}(a);function a(){var e;Object(b.a)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).getShowToasterValue=function(){e.props.showToasterValue()},e.getloadDetails=function(){return e.props&&e.props.history&&e.props.history.location&&e.props.history.location.state&&e.props.history.location.state.loadDetails&&JSON.parse(e.props.history.location.state.loadDetails)||{}},e.getPathname=function(){return e.props.history&&e.props.history.location&&e.props.history.location.state&&e.props.history.location.state.pathname},e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){this.props.makeHideTabBar||this.props.HideTabBar()}},{key:"render",value:function(){return n.a.createElement(Cf,Object.assign({},this.props,{getShowToasterValue:this.getShowToasterValue,driverList:this.props.getDriverList,module:this.getPathname(),loadDetails:this.getloadDetails()}))}}]),a}(r.PureComponent),wf=Object(nt.b)({loading:en(),getDriverList:ip()}),Lf=Object(c.c)(wf,(function(e){return{showToasterValue:function(){return e({type:"SHOW_TOASTER_VALUE"})},HideTabBar:function(){return e({type:"HIDE_TAB_BAR"})}}})),Pf=_s({key:"carrierAssigned",reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:If,t=arguments.length>1?arguments[1]:void 0;return Object(m.a)(e,(function(e){switch(t.type){case"SHOW_TOASTER_VALUE":e.showToaster=!e.showToaster;break;case"LOAD_DATA":e.loads=t.payload;break;case"ASSIGN_DRIVER_LIST":e.DriverList=t.payload}}))}}),xf=Ss({key:"carrierAssigned",saga:us}),Mf=Object(d.compose)(xf,Pf,Lf)(jf);var Uf=function(e){Object(ct.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(ut.a)(e);if(t()){var n=Object(ut.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(lt.a)(this,a)}}(a);function a(e){var r;return Object(b.a)(this,a),(r=t.call(this,e)).__model=void 0,r.assignDriverBtn=function(){var e=r.props.loadDetails.shipmentId;if(r.props.userDetails&&r.props.userDetails.carrierId){var t=new Zd;t.carrierId=r.props.userDetails.carrierId,t.role="carrierDriver",r.props.AssignDriver(t.getRequestPayload()),Object(l.V)("mobile")&&r.props.history.push("/app/MyLoad/driverAssign/".concat(e),{loadDetails:JSON.stringify(r.props.loadDetails),pathname:r.props.location.pathname})}},r.getValue=function(e){return r.props&&r.props.history&&r.props.history.location&&r.props.history.location.state&&r.props.history.location.state[e]},r.state={},r.__model=new Zd,r}return Object(v.a)(a,[{key:"render",value:function(){var e=this.props,t=e.loadDetails,a=e.match,r=e.desktopDriverList,i=e.isNetworkAvailable,s=this.getValue("shipments"),o=this.getValue("isBookLoad"),c=this.getValue("module"),l=t;return 0===Object.keys(t).length&&o&&s&&(l=s[0]),n.a.createElement(zp,Object.assign({},this.props,{driverList:r&&r.data&&r.data.getMembers,assignDriverBtn:this.assignDriverBtn,loadDetails:l,module:a.params[0],loadId:a.params.id,showExpandView:!0,isCarrierLoad:!0,networkStatus:i,bookloadStatus:o,prevModule:c}))}}]),a}(r.Component),Ff=Object(nt.b)({loadDetails:li(),getPlatform:an(),desktopDriverList:ip(),userDetails:nn(),isNetworkAvailable:on()}),Vf=Object(c.c)(Ff,(function(e){return{AssignDriver:function(t){return e(Bn(t))},showAlert:function(t){return e(lr(t))}}})),Hf=_s({key:"carrierAssigned",reducer:Jd}),Gf=Ss({key:"carrierAssigned",saga:us}),Bf=Object(d.compose)(Gf,Hf,Vf)(Uf);var qf=function(e){Object(ct.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(ut.a)(e);if(t()){var n=Object(ut.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(lt.a)(this,a)}}(a);function a(e){var r;return Object(b.a)(this,a),(r=t.call(this,e)).__model=void 0,r.chnageValue=function(){r.props.changeToasterValue()},r.assignDriverButton=function(){r.props.AssignDriver(r.__model.getRequestPayload()),r.props.history.push("/app/MyLoad/driverAssign")},r.getDriverLoads=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];try{var t=r.props&&r.props.userDetails&&r.props.userDetails.carrierId||"",a=r.props&&r.props.userDetails&&r.props.userDetails.userPrincipalName||"",n=new hd;n.carrierId=t,n.filter={driverAssigned:!0,driverAssignmentPending:!0},xa("myLoad","carrierAssigned")||(n.driverId=a),r.props.fetchShipments(n.getRequestPayload(),e)}catch(i){console.log("ERROR:",i)}},r.__model=new Zd,r.state={showFilter:xa("myLoad","filter"),buttonName:xa("myLoad","filter")?"Change Driver":"",showInitial:xa("myLoad","filter"),isButtonHidden:!0},r}return Object(v.a)(a,[{key:"componentDidMount",value:function(){this.props.data&&0===this.props.data.length&&!this.props.loading&&this.props.updateData()}},{key:"render",value:function(){var e=this,t=this.props.loads&&this.props.loads.length>99?this.props.loads.slice(0,99):this.props.loads,a=uf(t,$.DRIVER_ASSIGNED_MODULE);return n.a.createElement(n.a.Fragment,null,Object(l.V)("mobile")?n.a.createElement(lf,Object.assign({},this.props,{chnageValue:this.chnageValue,getLoads:this.getDriverLoads,AssignDriverbtn:function(){return e.assignDriverButton()},module:"MyLoad",loads:t,showFilter:this.state.showFilter,driverNameList:a,isButtonHidden:this.state.isButtonHidden,buttonName:this.state.buttonName,showInitial:this.state.showInitial,subModule:this.props.match.params[0],isNetworkAvailable:this.props.isNetworkAvailable,showAlert:this.props.showAlert})):n.a.createElement(gf,this.props))}}]),a}(r.PureComponent),zf=Object(nt.b)({loading:en(),loads:sp(),userDetails:nn(),isNetworkAvailable:on()}),Yf=Object(c.c)(zf,(function(e){return{AssignDriver:function(t){return e(Bn(t))},fetchShipments:function(t,a){return e(Zn(t,a))},showAlert:function(t){return e(lr(t))}}})),Wf=_s({key:"carrierAssigned",reducer:Jd}),Zf=Ss({key:"carrierAssigned",saga:us}),Kf=Object(d.compose)(Zf,Wf,Yf)(qf),Jf=function(e){var t=Object(l.V)("desktop"),a=e.showSatelliteMap,r=e.onDismissSatelliteMap,i=e.loadStop,s=e.shipmentId;return n.a.createElement(n.a.Fragment,null,n.a.createElement(l.A,{isOpen:a,onDidDismiss:function(){return r()},animated:!1,cssClass:"".concat(t?"satellite-view-desktop":"satellite-view-mobile")},n.a.createElement(l.l,{fullscreen:t},n.a.createElement(l.S,{className:"satellite-toolbar"},n.a.createElement(l.f,{slot:"end",onClick:function(){r()}},n.a.createElement(l.q,{className:"satellite-close",icon:"close"})),n.a.createElement(l.P,{className:"satellite-title"},"".concat(t?"Satellite view":s))),n.a.createElement("div",{className:"startTrip-map"},n.a.createElement(Vd,{loadStop:i})))))},Qf=function(){function e(){Object(b.a)(this,e)}return Object(v.a)(e,[{key:"completeTrip",value:function(e){return{mutation:{completeTrip:{__args:{input:e},status:!0,message:!0,shipment:{shipmentId:!0,lineOfBusiness:!0,transportMode:!0,totalWeight:!0,weightUOM:!0,driverAssignmentStatus:!0,totalDistance:!0,distanceUOM:!0,numberOfStops:!0,sourceTMS:!0,assignedCarrierId:!0,assignedTMSCarrierId:!0,isAppointmentConfirmed:!0,isHazardous:!0,isHighValue:!0,isTemperatureControlled:!0,isFreezeProtected:!0,readyDateTime:!0,readyDateTimeZone:!0,equipmentType:!0,predecessorShipmentId:!0,successorShipmentId:!0,assignmentStatus:!0,executionStatus:!0,masterBillOfLoading:!0,shipmentServices:{serviceDescription:!0},startCity:!0,startCountry:!0,startState:!0,startDateTime:!0,loadStop:{stopId:!0,locationId:!0,stopType:!0,sequenceNo:!0,locationName:!0,addressLine1:!0,addressLine2:!0,city:!0,state:!0,country:!0,postalCode:!0,timeZone:!0,longitude:!0,latitude:!0,estimatedArrivalDateTime:!0,actualETADateTime:!0,plannedArrivalDateTime:!0,actualArrivalDateTime:!0,estimatedStopDuration:!0,plannedDepartureDateTime:!0,actualDepartureDateTime:!0,appointmentEarlyDateTime:!0,appointmentLateDateTime:!0,estimatedStopDurationUom:!0,plannedEtaDateTime:!0,stopReference:{id:!0,type:!0,value:!0},locationNotes:{id:!0,type:!0,value:!0},stopActivity:Ko},shipmentInvolvedParties:{id:!0,partyId:!0,partyType:!0,partyName:!0,partyEmail:!0,partyPhone:!0},shipmentReferences:{id:!0,type:!0,value:!0,stopId:!0,shipmentId:!0,display:!0},assignmentTransaction:{transactionId:!0,driverId:!0,driverName:!0}}}}}}}]),e}();var Xf=function(e){Object(ct.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(ut.a)(e);if(t()){var n=Object(ut.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(lt.a)(this,a)}}(a);function a(e){var r;return Object(b.a)(this,a),(r=t.call(this,e)).currentHistory=void 0,r.enableGPS=function(){var e=Object(g.a)(E.a.mark((function e(t,a){var n,i;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(l.V)("capacitor")){e.next=6;break}return e.next=3,Za("DB_GPS_ACTIVATED_SHIPMENT");case 3:n=e.sent.value,i=n&&JSON.parse(n).shipmentID,t.shipmentInvolvedParties.map(function(){var e=Object(g.a)(E.a.mark((function e(n,s){var o,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i||!t.executionStatus||!n.partyId||n.partyId.toUpperCase()!==a.email.toUpperCase()||n.partyType.toUpperCase()!==_e.PRIMARY_DRIVER||t.executionStatus.toUpperCase()!==ae.STARTED&&t.executionStatus!==ae.IN_TRANSIT){e.next=7;break}return o={userId:a.email,carrierId:a.carrierId,activity:"",carrierScac:"",shipmentID:t.shipmentId,sourceTMS:t.sourceTMS,loadStops:t.loadStop},er.details.startGPStracking(o),e.next=5,Ya("DB_GPS_ACTIVATED_SHIPMENT",JSON.stringify(o));case 5:r.sendAnalyticsEvent(ue.UE_START_TRIP,de.SHIPMENT_DETAILS,a.carrierId,t.shipmentId),K.RELEASE===Oe.UNT&&((c=new Audio).src=Z.START_TRIP,c.play());case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}());case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),r.disableGPS=function(){var e=Object(g.a)(E.a.mark((function e(t){var a,n,i;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(l.V)("capacitor")){e.next=11;break}return e.next=3,Za("DB_GPS_ACTIVATED_SHIPMENT");case 3:if(a=e.sent.value,!(n=a&&JSON.parse(a).shipmentID)||!t.executionStatus||n!==t.shipmentId||t.executionStatus.toUpperCase()!==ae.DELIVERED&&t.executionStatus.toUpperCase()!==ae.COMPLETED){e.next=11;break}return e.next=8,Ja("DB_GPS_ACTIVATED_SHIPMENT");case 8:er.details.stopGPS(),r.setState({isConfirmStartClicked:!1}),K.RELEASE===Oe.UNT&&((i=new Audio).src=Z.STOP_TRIP,i.play());case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.sendAnalyticsEvent=function(e,t,a,r){Rt(e,{screen:t,carrierId:a,shipmentId:r})},r.GPSEnabledEvent=function(){var e=Object(g.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.enableGPS(r.state.loadDetails,r.props.userDetails);case 2:if(!t){e.next=5;break}return e.next=5,r.sendGPSstartPing(r.state.loadDetails,r.props.userDetails);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.completeTripClick=function(){if(r.props.networkStatus){var e=r.state.loadDetails,t=void 0===e?{}:e;r.completeTripRequest(t.sourceTMS,t.shipmentId)}else r.props.showAlert({isShowAlert:!0,alertMessage:X,alertTitle:Q})},r.callusClick=function(){var e=I.OTM;Mu.a.callNumber(e,!0).then((function(e){})).catch((function(e){}))},r.getLoadStops=function(){var e=r.state.loadDetails&&r.state.loadDetails.loadStop||[];return e=e.slice().sort((function(e,t){return e.sequenceNo&&t.sequenceNo?e.sequenceNo-t.sequenceNo:e.stopSequence&&t.stopSequence?e.stopSequence-t.stopSequence:0}))},r.getValueFromHistoryState=function(e){return e?r.props&&r.props.history&&r.props.history.location.state&&r.props.history.location.state[e]:null},r.sendGPSstartPing=function(){var e=Object(g.a)(E.a.mark((function e(t,a){var n,i;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(l.V)("capacitor")){e.next=6;break}return e.next=3,Za("DB_GPS_ACTIVATED_SHIPMENT");case 3:n=e.sent.value,i=n&&JSON.parse(n).shipmentID,t.shipmentInvolvedParties.map(function(){var e=Object(g.a)(E.a.mark((function e(n,s){var o;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i&&i===t.shipmentId&&n.partyId&&n.partyId.ignoreCase===a.email.ignoreCase&&n.partyType.toUpperCase()===_e.PRIMARY_DRIVER&&a&&r.props&&(o={userId:a.email,carrierId:a.carrierId,activity:"",carrierScac:"",shipmentID:t.shipmentId,sourceTMS:t.sourceTMS,loadStops:t.loadStop},er.details.sendGeoStartTripLocation(o));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}());case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),r.getUpdatedShipment=function(){var e=r.state.loadDetails&&r.state.loadDetails.shipmentId||"",t=new Yd;t.shipmentIds=e,r.props.buyLoadShipmentRequest({query:t.getRequestShipmentPayload(),shipmentId:e,module:r.getValueFromHistoryState("module"),isPullToRefresh:!0}),r.props.clearUpdateStopInfo()},r.refreshDriverList=function(e){var t=e&&e.shipmentId;if(t){var a=r.props.driverLoads.filter((function(e){return e.shipmentId!==t}));a=a.concat(Object(u.a)({},e)),r.props.refreshDriverLoads(a)}},r.getLoadDetails=function(){return r.props.shipmentToStartTrip||{}},r.getConfirmStartStatus=function(){return!1===(r.props.startTripShipmentStatusMessage||{}).status},r.getConfirmStartMessage=function(){return(r.props.startTripShipmentStatusMessage||{}).message},r.refreshShipmentsLoads=function(e){e.executionStatus===ae.IN_TRANSIT?r.removeLoadsFromDriverToIntransit(e):e.executionStatus===ae.DELIVERED&&r.removeLoadsFromIntransitToDelivered(e)},r.removeLoadsFromDriverToIntransit=function(e){var t=e&&e.shipmentId;if(t){var a=r.props.driverLoads.filter((function(e){return e.shipmentId!==t}));if(r.props.driverLoads.filter((function(e){return e.shipmentId===t})).length>0){var n=r.props.inTransitLoads||[];e&&(n=n.concat(Object(u.a)({},e))),r.props.refreshDriverLoads(a),r.props.refreshInTransitLoad(n)}}},r.removeLoadsFromIntransitToDelivered=function(e){var t=e&&e.shipmentId;if(t){var a=r.props.inTransitLoads.filter((function(e){return e.shipmentId!==t}));if(r.props.inTransitLoads.filter((function(e){return e.shipmentId===t})).length>0){var n=r.props.recentDelivered||[];e&&(n=n.concat(Object(u.a)({},e))),r.props.refereshRecentDelivered(n),r.props.refreshInTransitLoad(a)}}},r.state={isCompleteTrip:!1,loadDetails:{},showSatelliteMap:!1,satelliteLocation:"",showHybridSatelliteMap:!1,hybridSatelliteLocation:"",satelliteLatLng:{lng:"",lat:""},showDialog:!1,loadStop:[],isConfirmStartClicked:!1},r.currentHistory=r.props.history.location,r}return Object(v.a)(a,[{key:"completeTripRequest",value:function(e,t){var a=this.props.userDetails,r=void 0===a?{}:a,n=new Qf;this.props.shipmentCompleteTrip(n.completeTrip({carrierId:r.carrierId,shipmentId:t,sourceSystem:e,userId:r.userPrincipalName}),t),Rt(ue.UE_COMPLETE_TRIP,{screen:de.SHIPMENT_DETAILS,carrierId:r.carrierId,shipmentId:t})}},{key:"render",value:function(){var e=this,t=this.getValueFromHistoryState("isCurrentLocationOn"),a=this.getValueFromHistoryState("module"),r=new Ep;return n.a.createElement(l.B,null,n.a.createElement(Wd,{locationName:this.state.hybridSatelliteLocation,position:{lat:this.state.satelliteLatLng.lat?parseFloat(this.state.satelliteLatLng.lat):"",lng:this.state.satelliteLatLng.lng?parseFloat(this.state.satelliteLatLng.lng):""},shipmentId:this.state.loadDetails&&this.state.loadDetails.shipmentId,showSatelliteMap:this.state.showHybridSatelliteMap,onDismissSatelliteMap:function(){e.setState({showHybridSatelliteMap:!1})}}),n.a.createElement(l.Q,{isOpen:this.getConfirmStartStatus(),message:this.getConfirmStartMessage(),duration:5e3,color:"dark",onDidDismiss:function(){e.props.clearConfirmReasponse()}}),n.a.createElement(Jf,{showSatelliteMap:this.state.showSatelliteMap,locationName:this.state.satelliteLocation,loadStop:this.state.loadDetails&&this.state.loadDetails.loadStop||[],onDismissSatelliteMap:function(){e.setState({showSatelliteMap:!1})},shipmentId:this.state.loadDetails&&this.state.loadDetails.shipmentId||""}),n.a.createElement(fc,{title:this.state.loadDetails&&this.state.loadDetails.shipmentId||"",backUrl:"/app/".concat(a),isMap:!0,History:this.props.history,viewMap:function(){e.setState({showSatelliteMap:!0})}}),n.a.createElement(l.l,{className:"shipment-content"},n.a.createElement(l.l,{class:"shipment-page-content"},n.a.createElement(so,{onPullToRefresh:this.getUpdatedShipment,status:this.props.isInPullToRefresh}),n.a.createElement(xp,{timestamp:this.props.timestamp,currentLocation:t,locationValue:!0,completeTripClick:this.completeTripClick,GPSEnabledEvent:this.GPSEnabledEvent,completeTripRequest:this.completeTripRequest,shipmentloadStop:this.getLoadStops(),networkStatus:this.props.networkStatus,shipmentId:this.state.loadDetails&&this.state.loadDetails.shipmentId||"",carrierId:this.props.userDetails.carrierId,loadDetails:this.state.loadDetails,moduleName:this.props.moduleName,refreshShipmentsLoads:this.refreshShipmentsLoads,refreshShipmentInDriverLoads:this.refreshDriverList,openSatelliteMap:function(t,a){e.setState({hybridSatelliteLocation:t,showHybridSatelliteMap:!0,satelliteLatLng:{lng:a.lng,lat:a.lat}})}}),n.a.createElement(l.H,{class:"btn-call-chat"},n.a.createElement(l.k,null,n.a.createElement(l.e,{class:"load-btn",onClick:this.callusClick},n.a.createElement(l.q,{src:"assets/icon/Phone.svg"})," ","Call us")))),n.a.createElement(l.n,{class:"loadPageFooter"},r.isAllStopCompleted(this.getLoadDetails())&&!r.isTripCompleted(this.getLoadDetails())&&n.a.createElement(l.e,{expand:"full",class:"complete-load-btn",onClick:this.completeTripClick},n.a.createElement("img",{src:"/assets/icon/complete-trip.svg",className:"complete-icon",alt:""}),"Complete Trip")||null)))}},{key:"componentDidMount",value:function(){var e=Object(g.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getValueFromHistoryState("withGPS"),t=this.getLoadDetails(),this.setState({loadDetails:t});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(g.a)(E.a.mark((function e(t,a){var r,n,i,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.getLoadDetails(),n=!1,JSON.stringify(t.confirmStartInfo)!==JSON.stringify(this.props.confirmStartInfo)&&(r=this.props.confirmStartInfo,n=!0),(JSON.stringify(r)!==JSON.stringify(this.state.loadDetails)||n)&&this.setState({loadDetails:r}),!Object(l.V)("capacitor")){e.next=12;break}return e.next=7,Za("DB_GPS_ACTIVATED_SHIPMENT");case 7:return i=e.sent.value,(!(s=i&&JSON.parse(i).shipmentID)||s&&s===this.state.loadDetails.shipmentId)&&er.details.setLoadDetailsTrackedShipment(this.state.loadDetails.loadStop),e.next=12,this.disableGPS(r);case 12:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()}]),a}(r.Component),$f=Object(nt.b)({driverLoads:si(),inTransitLoads:ci(),recentDelivered:Object(nt.a)([ti],(function(e){return e.delivered||[]})),userDetails:nn(),confirmStartInfo:ui(),networkStatus:on(),shipmentToStartTrip:cp(),timestamp:Object(nt.a)($d,(function(e){return e&&e.timestamp})),startTripShipmentStatusMessage:di(),isInPullToRefresh:sn()}),eh=Object(c.c)($f,(function(e){return{refreshDriverLoads:function(t){e(Yn(t,t.length))},refreshInTransitLoad:function(t){e(Kn(t,t.length))},refereshRecentDelivered:function(t){e(ei(t,t.length))},clearConfirmReasponse:function(){e(Pn())},shipmentCompleteTrip:function(t,a){e(function(e,t){return{type:C.COMPLETE_TRIP_API_REQUEST,payload:{data:e,shipmentId:t}}}(t,a))},showAlert:function(t){return e(lr(t))},buyLoadShipmentRequest:function(t){return e(Hn(t))},clearUpdateStopInfo:function(){return e(xn())}}})),th=_s({key:"carrierAssigned",reducer:Jd}),ah=Ss({key:"carrierAssigned",saga:us}),rh=Object(d.compose)(ah,th,eh)(Xf);var nh=function(e){Object(ct.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(ut.a)(e);if(t()){var n=Object(ut.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(lt.a)(this,a)}}(a);function a(e){var r;return Object(b.a)(this,a),(r=t.call(this,e)).__Model=void 0,r.complete=function(){},r.chnageValue=function(){r.props.changeToasterValue()},r.assignDriverButton=function(){r.props.AssignDriver(r.__Model.getRequestPayload()),r.props.history.push("/app/MyLoad/driverAssign")},r.getDriverLoads=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];try{var t=r.props&&r.props.userDetails&&r.props.userDetails.carrierId||"",a=r.props&&r.props.userDetails&&r.props.userDetails.userPrincipalName||"",n=new hd;n.carrierId=t,n.filter={inTransit:!0},xa("myLoad","carrierAssigned")||(n.driverId=a),r.props.fetchShipments(n.getRequestPayload(),e)}catch(i){console.log("ERROR:",i)}},r.__Model=new Zd,r.state={showFilter:xa("myLoad","filter"),buttonName:xa("myLoad","filter")?"Change Driver":"",showInitial:xa("myLoad","filter")},r}return Object(v.a)(a,[{key:"componentDidMount",value:function(){this.props.data&&0===this.props.data.length&&!this.props.loading&&this.props.updateData()}},{key:"render",value:function(){var e=this,t=this.props.loads&&this.props.loads.length>99?this.props.loads.slice(0,99):this.props.loads,a=uf(t,$.INTRANSIT_MODULE);return n.a.createElement(n.a.Fragment,null,Object(l.V)("mobile")?n.a.createElement(lf,Object.assign({"data-test":"CarrierAssignedPage"},this.props,{chnageValue:this.chnageValue,getLoads:this.getDriverLoads,AssignDriverbtn:function(){return e.assignDriverButton()},module:"MyLoad",loads:t,showFilter:this.state.showFilter,driverNameList:a,isButtonHidden:!0,buttonName:this.state.buttonName,showInitial:this.state.showInitial,subModule:this.props.match.params[0],isNetworkAvailable:this.props.isNetworkAvailable,showAlert:this.props.showAlert})):n.a.createElement(gf,this.props))}}]),a}(r.PureComponent),ih=Object(nt.b)({loading:en(),loads:op(),userDetails:nn(),isNetworkAvailable:on()}),sh=Object(c.c)(ih,(function(e){return{fetchShipments:function(t,a){return e(Zn(t,a))},showAlert:function(t){return e(lr(t))}}})),oh=_s({key:"carrierAssigned",reducer:Jd}),ch=Ss({key:"carrierAssigned",saga:us}),lh=Object(d.compose)(ch,oh,sh)(nh);var uh=function(e){Object(ct.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(ut.a)(e);if(t()){var n=Object(ut.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(lt.a)(this,a)}}(a);function a(e){var r;return Object(b.a)(this,a),(r=t.call(this,e)).__model=void 0,r.chnageValue=function(){r.props.changeToasterValue()},r.getDriverLoads=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];try{var t=r.props&&r.props.userDetails&&r.props.userDetails.carrierId||"",a=r.props&&r.props.userDetails&&r.props.userDetails.userPrincipalName||"",n=new hd;n.carrierId=t,n.filter={delivered:!0},xa("myLoad","carrierAssigned")||(n.driverId=a),r.props.fetchShipments(n.getRequestPayload(),e)}catch(i){console.log("ERROR:",i)}},r.__model=new Zd,r.state={showFilter:xa("myLoad","filter"),buttonName:xa("myLoad","filter")?"Change Driver":"",showInitial:xa("myLoad","filter")},r}return Object(v.a)(a,[{key:"render",value:function(){var e=this.props.loads&&this.props.loads.length>99?this.props.loads.slice(0,99):this.props.loads,t=uf(e,$.RECENTLY_DELIVERED_MODULE);return n.a.createElement(n.a.Fragment,null,Object(l.V)("mobile")?n.a.createElement(lf,Object.assign({"data-test":"CarrierAssignedPage"},this.props,{chnageValue:this.chnageValue,getLoads:this.getDriverLoads,AssignDriverbtn:function(){},module:"MyLoad",loads:e,showFilter:this.state.showFilter,driverNameList:t,isButtonHidden:!0,buttonName:this.state.buttonName,showInitial:this.state.showInitial,subModule:this.props.match.params[0],isNetworkAvailable:this.props.isNetworkAvailable,showAlert:this.props.showAlert})):n.a.createElement(gf,this.props))}}]),a}(r.PureComponent),dh=Object(nt.b)({loads:lp(),userDetails:nn(),isNetworkAvailable:on()}),ph=Object(c.c)(dh,(function(e){return{fetchShipments:function(t,a){return e(Zn(t,a))},showAlert:function(t){return e(lr(t))}}})),mh=_s({key:"carrierAssigned",reducer:Jd}),fh=Ss({key:"carrierAssigned",saga:us}),hh=Object(d.compose)(fh,mh,ph)(uh),Eh=function(){function e(){Object(b.a)(this,e),this.__recommended_state={carrierId:"",carrierScac:"",carrierTier:"",page:0,size:5,sortColumn:"pickupDate",sortDirection:"asc"}}return Object(v.a)(e,[{key:"persistLoads",value:function(e){return Ga("Carrier-rcmd-Loads",e)}},{key:"getLoads",value:function(){return qa("Carrier-rcmd-Loads")}},{key:"getRequestPayload",value:function(){return{query:{recommendedLoads:{__args:{input:this.__recommended_state},totalRecords:!0,loadPostings:{loadId:!0,loadPostingStatus:!0,sourceSystem:!0,hasAppointments:!0,isHazardous:!0,isHighValue:!0,isTemperatureControlled:!0,totalDistance:!0,distanceUOM:!0,totalWeight:!0,weightUOM:!0,numberOfStops:!0,transportMode:!0,termsAndConditions:!0,rate:{binRateIdentifier:!0,binSource:!0,totalCharge:!0,lineHaulCharge:{charge:!0,unitCharge:!0,quantity:!0,rateQualifier:!0,chargeDescription:!0},fuelCharge:{charge:!0,unitCharge:!0,quantity:!0,rateQualifier:!0,chargeDescription:!0},accessorials:{accessorialCode:!0,accessorialDescription:!0,accessorialType:!0,accessorialCharge:{charge:!0,unitCharge:!0,quantity:!0,rateQualifier:!0,chargeDescription:!0}}},loadStop:{stopSequence:!0,stopType:!0,activityType:!0,city:!0,state:!0,postalCode:!0,country:!0,stopId:!0,appointmentFrom:!0,appointmentTo:!0,timeZone:!0,deadHead:!0,specialServices:{specialServiceDesc:!0}}}}}}}},{key:"carrierId",get:function(){return this.__recommended_state.carrierId},set:function(e){e&&(this.__recommended_state.carrierId=e)}},{key:"carrierScac",get:function(){return this.__recommended_state.carrierScac},set:function(e){e&&(this.__recommended_state.carrierScac=e)}},{key:"carrierTier",get:function(){return this.__recommended_state.carrierTier},set:function(e){e&&(this.__recommended_state.carrierTier=e)}},{key:"page",get:function(){return this.__recommended_state.page},set:function(e){e&&(this.__recommended_state.page=e)}},{key:"size",get:function(){return this.__recommended_state.size},set:function(e){e&&(this.__recommended_state.size=e)}},{key:"sortColumn",get:function(){return this.__recommended_state.sortColumn},set:function(e){e&&(this.__recommended_state.sortColumn=e)}},{key:"sortDirection",get:function(){return this.__recommended_state.sortDirection},set:function(e){e&&(this.__recommended_state.sortDirection=e)}}]),e}(),gh=E.a.mark(_h),bh=E.a.mark(Dh),vh=E.a.mark(Ah),yh=E.a.mark(kh),Sh=E.a.mark(Th),Oh=E.a.mark(Nh);function _h(){var e;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("watcghedDta:"),t.prev=1,t.next=4,Object(vn.c)(vt());case 4:return t.next=6,Object(vn.b)(yn,["HOME","RECOMMENDED_LOADS"]);case 6:return e=t.sent,t.next=9,Object(vn.c)({type:"LOAD_DATA",payload:e});case 9:return t.next=11,Object(vn.c)(yt());case 11:t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(1),t.next=17,Object(vn.c)(yt());case 17:case"end":return t.stop()}}),gh,null,[[1,13]])}function Dh(e){var t,a,r;return E.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(vn.c)(e.payload.refreshStatus?{type:"PULL_TO_REFRESH_LOADING",status:!0}:vt());case 3:return t=Pa.domainToData(e.payload.query),n.next=6,Object(vn.b)(yn,["RECENT","RECENT",null,"",t,"application/json"]);case 6:return a=n.sent,n.next=9,Object(vn.c)({type:"WATCHED_DATA_SUCCESS",payload:{watchedResults:a,refreshStatus:e.payload.refreshStatus}});case 9:return n.next=11,Object(vn.c)(e.payload.refreshStatus?{type:"PULL_TO_REFRESH_LOADING",status:!1}:yt());case 11:e.payload.callback&&(r=a&&a.data&&a.data.getUserWatchedLoads&&a.data.getUserWatchedLoads.loadPostings||[],e.payload.callback(r.length)),n.next=18;break;case 14:return n.prev=14,n.t0=n.catch(0),n.next=18,Object(vn.c)(e.payload.refreshStatus?{type:"PULL_TO_REFRESH_LOADING",status:!1}:yt());case 18:case"end":return n.stop()}}),bh,null,[[0,14]])}function Ah(e){var t,a,r;return E.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(vn.c)(e.payload.refreshStatus?{type:"PULL_TO_REFRESH_LOADING",status:!0}:vt());case 3:return t=Pa.domainToData(e.payload.query),n.next=6,Object(vn.b)(yn,["HOME","RECOMMENDED_LOADS",null,"",t,"application/json"]);case 6:return a=n.sent,n.next=9,Object(vn.c)({type:"RECOMMENDED_LOADS_SUCESS",payload:{recommendedResults:a,refreshStatus:e.payload.refreshStatus||e.payload.sorRefresh}});case 9:return n.next=11,Object(vn.c)(e.payload.refreshStatus?{type:"PULL_TO_REFRESH_LOADING",status:!1}:yt());case 11:e.payload.callback&&(r=a&&a.data&&a.data&&a.data.recommendedLoads&&a.data.recommendedLoads.loadPostings&&a.data.recommendedLoads.loadPostings||[],e.payload.callback(r.length)),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(0),e.payload.refreshStatus||yt();case 17:case"end":return n.stop()}}),vh,null,[[0,14]])}function kh(e){var t,a,r,n;return E.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload,a=t.query,r=t.loadDetails,i.prev=1,i.next=4,Object(vn.c)(vt());case 4:return n=Pa.domainToData(a),i.next=7,Object(vn.b)(yn,["RECENT","RECENT",null,"",n,"application/json"]);case 7:return i.sent,i.next=10,Object(vn.c)({type:"ADD_WATCH_LOAD_SUCCESS",payload:r});case 10:return i.next=12,Object(vn.c)(yt());case 12:i.next=18;break;case 14:return i.prev=14,i.t0=i.catch(1),i.next=18,Object(vn.c)(yt());case 18:case"end":return i.stop()}}),yh,null,[[1,14]])}function Th(e){var t,a,r,n,i,s;return E.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,a=t.query,r=t.loadId,n=t.callback,o.prev=1,o.next=4,Object(vn.c)(vt());case 4:return i=Pa.domainToData(a),o.next=7,Object(vn.b)(yn,["RECENT","RECENT",null,"",i,"application/json"]);case 7:return s=o.sent,o.next=10,Object(vn.c)(da({loadId:r}));case 10:return o.next=12,Object(vn.c)(yt());case 12:n(!!s.errors),o.next=20;break;case 15:return o.prev=15,o.t0=o.catch(1),n(!0),o.next=20,Object(vn.c)(yt());case 20:case"end":return o.stop()}}),Sh,null,[[1,15]])}function Nh(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(vn.a)([Object(vn.f)("UPDATE_DATA",_h),Object(vn.f)("RECOMMENDED_LOADS_REQUEST",Ah),Object(vn.f)("WATCHEDLOAD_DATA_REQUEST",Dh),Object(vn.f)("ADD_WATCH_LOAD",kh),Object(vn.f)("REMOVE_WATCH_LOAD",Th)]);case 2:case"end":return e.stop()}}),Oh)}a(605);var Rh=function(e){var t=e.type,a=e.recommendedloads,r=(e.setView,e.watchedLoad),i=(e.load,e.isloaded),s=e.history,o=e.isNetworkAvailable,c=e.showAlert,u=e.toggleWatchLoad,d=e.isWatchLoadEnd,p=void 0!==d&&d,m=e.isRecommendedLoadEnd,f=void 0!==m&&m,h=function(){s&&s.push("/app/search")},E=function(e){if(o){if("watched"===t){var a="/app/home/watched/".concat(e.loadId);s.push(a)}if("recommended"===t){var r="/app/home/recommended/".concat(e.loadId);s.push(r)}}else c({isShowAlert:!0,alertMessage:X,alertTitle:Q})},g=[{name:"Origin",selector:"origin_city",sortable:!0,style:{fontWeight:600,fontSize:14,colorName:"#000000"}},{name:"Origin Date",selector:"origin_from_date",sortable:!0,minWidth:"123px"},{name:"DH-O",selector:"origin_deadhead",sortable:!0},{name:"Origin Load Type",selector:"origin_load_type",sortable:!0},{name:"Destination",selector:"destination_city",sortable:!0,style:{fontWeight:600,fontSize:14,colorName:"#000000"}},{name:"Destination Date",selector:"destination_from_date",minWidth:"123px",sortable:!0},{name:"DH-D",selector:"destination_deadhead",sortable:!0},{name:"Destination Load Type",selector:"destination_load_type",sortable:!0},{name:"Trailer Type",selector:"trailer",sortable:!0},{name:"Rate ($)",selector:"price",sortable:!0,style:{fontWeight:600,fontSize:14,colorName:"#000000"}},{name:"",selector:"",sortable:!1,width:"50px",cell:function(e){return n.a.createElement(l.r,{className:"star_icon",src:"assets/icon/star-color.svg"})}},{name:"",selector:"",sortable:!1,width:"50px",cell:function(e){return n.a.createElement("img",{slot:"end",alt:"logo",src:"/assets/icon/more-arrow.svg",className:"moresideimg"})}}],b=[{name:"Origin",selector:"origin_city",sortable:!0,style:{fontWeight:600,fontSize:14,colorName:"#000000"}},{name:"Origin Date",selector:"origin_from_date",sortable:!0,minWidth:"123px"},{name:"DH-O",selector:"origin_deadhead",sortable:!0},{name:"Origin Load Type",selector:"origin_load_type",sortable:!0},{name:"Destination",selector:"destination_city",sortable:!0,style:{fontWeight:600,fontSize:14,colorName:"#000000"}},{name:"Destination Date",selector:"destination_from_date",minWidth:"123px",sortable:!0},{name:"DH-D",selector:"destination_deadhead",sortable:!0},{name:"Destination Load Type",selector:"destination_load_type",sortable:!0},{name:"Trailer Type",selector:"trailer",sortable:!0},{name:"Rate ($)",selector:"price",sortable:!0,style:{fontWeight:600,fontSize:14,colorName:"#000000"}},{name:"",selector:"",sortable:!1,width:"50px",cell:function(e){return n.a.createElement("img",{slot:"end",alt:"logo",src:"/assets/icon/more-arrow.svg",className:"moresideimg"})}}];return n.a.createElement(n.a.Fragment,null,"recommended"===t&&n.a.createElement(n.a.Fragment,null,a&&a.length?n.a.createElement(n.a.Fragment,null,n.a.createElement(l.y,{className:"loadTilePad","data-test":"watched-tile"},a&&a.map((function(e,t){return n.a.createElement(rc,Object.assign({key:t},e,{module:"home/recommended",isRecommended:!0}))}))),Object(l.V)("mobile")&&f?n.a.createElement("div",{className:"end-of-list"},"End of list"):null,Object(l.V)("desktop")?n.a.createElement(Pu,{columns:b,data:Fs(a,"appointmentFrom","appointmentTo","loadId","transportMode",!1),showEndofList:!0,showHeader:!0,titleText:"recommended"===t&&a.length>1?"".concat(a.length," ")+"Recommendations":"".concat(a.length," ")+"Recommendation",pagination:!0,redirect:E}):null):i?"":n.a.createElement(Ts,{constantText:"We don't have any recommendations right now. Please come back later.",constantButton:"Search for loads",loads:h,addCapacity:function(){s&&s.push("/app/manage/ManageMyCapacity")}})),"watched"===t&&n.a.createElement(n.a.Fragment,null,r.length?n.a.createElement(n.a.Fragment,null,n.a.createElement(l.y,{className:"loadTilePad","data-test":"watched-tile"},r.map((function(e,t){return n.a.createElement(rc,Object.assign({key:t},e,{module:"home/watched",isWatch:!0,toggleWatchLoad:u}))}))),Object(l.V)("mobile")&&p?n.a.createElement("div",{className:"end-of-list"},"End of list"):null,Object(l.V)("desktop")?n.a.createElement(Pu,{columns:g,data:Fs(r,"appointmentFrom","appointmentTo","loadId","transportMode",!1),showEndofList:!0,showHeader:!0,titleText:r&&"".concat(r.length," ").concat(t),pagination:!0,redirect:E}):null):i?"":n.a.createElement(Ts,{constantText:"You haven't Watched any loads yet",constantButton:"Search for loads",loads:h,redirectTo:"app/search"})))},Ih=(n.a.memo(Rh),a(606),function(e){var t=e.dropdown,a=t.options,i=t.setFilter,s=e.direction,o=void 0===s?"asc":s,c=e.storeOptions,d=void 0===c?[]:c,p=d.length>0?d:a.map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{selected:0===t})})),m=Object(r.useState)(!1),h=Object(f.a)(m,2),E=h[0],g=h[1],b=Object(r.useState)(p),v=Object(f.a)(b,2),y=v[0],S=v[1],O=Object(r.useState)(p),_=Object(f.a)(O,2),D=_[0],A=_[1],k=Object(r.useState)(o),T=Object(f.a)(k,2),N=T[0],R=T[1],I=y.filter((function(e){return e.selected})).map((function(e){return e.name})).join(" + ");Object(r.useEffect)((function(){var e=d.length>0?d:a.map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{selected:0===t})}));S(e),A(e)}),[e.dropdown,d]),Object(r.useEffect)((function(){R(o)}),[o]);var C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N;i({filter:{selected:D,direction:e}})};return n.a.createElement(l.H,{class:"list-items-header sort-only-wrapper"},n.a.createElement(l.k,null,n.a.createElement("div",{className:"list-items-filter"},n.a.createElement(l.N,{"item-left":!0,class:"filter-dropdown",onClick:function(){A(y),g(!0)}},I,n.a.createElement("i",{className:"down"})),n.a.createElement(l.N,{class:"filter-sort",onClick:function(){var e="asc"===N?"desc":"asc";R(e),C(e)}},n.a.createElement(l.q,{src:"assets/icon/sort icon".concat("desc"!==N?" downward":"",".svg")}))),n.a.createElement(l.A,{"show-backdrop":!0,"backdrop-dismiss":!1,isOpen:E,cssClass:"dropdown-modal",onDidDismiss:function(){g(!1)}},n.a.createElement("div",{className:"search_options"},n.a.createElement(l.H,{class:"dropdown-row dropdown-heading"},n.a.createElement(l.k,null,n.a.createElement("p",{className:"sortBy_text"},"Sort By"))),D.map((function(e,t){return n.a.createElement(l.H,{className:"dropdown-row filter-option",key:t,onClick:function(){return function(e){var t=D.map((function(t){return Object(u.a)(Object(u.a)({},t),{},{selected:t.name===e.name&&!t.selected})}));t.find((function(e){return e.selected}))&&A(t)}(e)}},n.a.createElement(l.k,{className:e.selected?"checked":""},e.name," ",n.a.createElement("i",{className:"check"})))})),n.a.createElement(l.H,{class:"dropdown-handler"},n.a.createElement(l.k,{size:"1"}),n.a.createElement(l.k,{size:"5",className:"dropdown_cancel",onClick:function(){return g(!1)}},n.a.createElement("span",null,"Cancel")),n.a.createElement(l.k,{size:"5",className:"dropdown_cancel dropdown_ok",onClick:function(){C(),S(D),g(!1)}},n.a.createElement("span",null,"OK")),n.a.createElement(l.k,{size:"1"}))))))}),Ch=function(e){var t={options:Ee,setFilter:e.setWatchedFilter,direction:e.filter.direction},a={options:ge,setFilter:e.setRecommendedFilter,direction:e.recommendedfilter.direction},r="watched"===e.segment.name?{dropdown:t,direction:e.filter.direction,storeOptions:e.filter.selected}:{dropdown:a,direction:e.recommendedfilter.direction,storeOptions:e.recommendedfilter.selected};return e.watchedLoad&&e.watchedLoad.length>0&&"watched"===e.segment.name||e.recommendedloadData&&e.recommendedloadData.length>0&&"recommended"===e.segment.name?n.a.createElement("div",{className:"short-div"},("recommended"===e.segment.name||"watched"===e.segment.name)&&n.a.createElement(l.H,{class:"short-row"},n.a.createElement(l.k,{size:"5",class:"rec_text"},"recommended"===e.segment.name?n.a.createElement("span",{className:"recommendations_num"},e.totalRecommendedRecords," "):n.a.createElement("span",{className:"recommendations_num"},e.totalWatchedRecords," "),"recommended"===e.segment.name&&e.recommendedloadData.length>1?"Recommendations":"recommended"===e.segment.name&&1===e.recommendedloadData.length?"Recommendation":"watched"===e.segment.name&&e.watchedLoad.length>1?"Watched Loads":"watched"===e.segment.name&&1===e.watchedLoad.length?"Watched Load":null),n.a.createElement(l.k,{size:"7",class:"sort_select"},n.a.createElement("div",{className:"select_div"},n.a.createElement(Ih,r))))):null},jh=function(e){var t=function(){var t=Object(g.a)(E.a.mark((function t(r){var n,i,s,o;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"watched"!==e.segment.name||Object(l.V)("desktop")||e.pullToRefreshStatus||e.loading||(n=Math.floor(e.totalWatchedRecords/e.pageSize),i=e.totalWatchedRecords%e.pageSize===0?n-1:n,!e.isWatchLoadEnd&&e.currentPage<i?(s=e.currentPage+1,o=function(t){0!==t&&t%e.pageSize===0||e.setWatchedLoadEnd(!0)},e.setCurrentPage(s),e.getWatchedLoads(!1,s,o),e.onAnalyticsLoadPosting(e.segment.name)):e.setWatchedLoadEnd(!0)),"recommended"!==e.segment.name||Object(l.V)("desktop")||e.pullToRefreshStatus||e.loading||a(),r.target.complete();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),a=function(){var t=Math.floor(e.totalRecommendedRecords/e.pageSize),a=e.totalRecommendedRecords%e.pageSize===0?t-1:t;if(!e.isRecommendedEnd&&e.recommendedCurrentpage<a){var r=e.recommendedCurrentpage+1;e.setRecommendedcurrentPage(r),e.getRecommendedLoads(!1,r,(function(t){0!==t&&t%e.pageSize===0||e.setRecommendedLoadEnd(!0)})),e.onAnalyticsLoadPosting(e.segment.name)}else e.setRecommendedLoadEnd(!0)};return n.a.createElement(l.B,{className:"desktop-page"},n.a.createElement(l.Q,{"data-test":"ion-toast",isOpen:!!e.apiError,message:e.apiError,duration:5e3,color:"dark",onDidDismiss:function(){e.clearApiResponseError()}}),n.a.createElement(fc,{title:"Loads",getSegment:function(t){e.setSegment({name:t.detail.value,data:{}})},segments:e.sections,activeSegment:e.segment.name}),n.a.createElement(l.l,{className:"ion-padding custom-padding load-page-content home-page",class:"background"},n.a.createElement(io,{"data-test":"pull-to-refresh",onPullToRefresh:"watched"===e.segment.name?e.getWatchedLoads:e.getRecommendedLoads,status:e.pullToRefreshStatus}),n.a.createElement(Ch,e),n.a.createElement(Rh,{"data-test":"Segment-Content",history:e.history,type:e.segment.name,isloaded:e.loading,recommendedloads:e.recommendedloadData,watchedLoad:e.watchedLoad,isWatchLoadEnd:e.isWatchLoadEnd,isRecommendedLoadEnd:e.isRecommendedEnd,load:e.segment.data,setView:function(t){e.setSegment({name:"View",data:t})},showAlert:e.showAlert,isNetworkAvailable:e.isNetworkAvailable,toggleWatchLoad:e.toggleWatchLoad(e)}),n.a.createElement(l.s,{onIonInfinite:t},n.a.createElement(l.t,{loadingSpinner:null,loadingText:""}))))},wh=function(e){Rt("watched"===e?ue.UE_VIEW_WATCHED_TAB:ue.UE_SCROLL_RECOMMENDATIONS,{screen:de.HOME,tab:"watched"===e?pe.WATCHED:pe.RECOMMENDED})},Lh=function(e){var t=e.selected,a="asc"===e.direction,r=ge[0].value;return t.length>0&&(r=t.filter((function(e){return e.selected})).map((function(e){return e.value})).join("")),{filterBy:r,isAsc:a}},Ph=function(e,t,a){if("origin_from_date"===a)return e&&Object(Fe.a)(e).sort((function(e,a){var r=e.loadStop.filter((function(e,t){return"P"===e.stopType})),n=a.loadStop.filter((function(e,t){return"P"===e.stopType}));return e&&e.loadStop&&e.loadStop.length>0&&r&&r.length>0&&r[0].appointmentFrom&&a&&a.loadStop&&a.loadStop.length>0&&n&&n.length>0&&n[0].appointmentFrom?new Date(r[0].appointmentFrom).getTime()>new Date(n[0].appointmentFrom).getTime()?t?1:-1:t?-1:1:e.loadStop.length>0&&r&&r.length>0&&r[0].appointmentFrom&&!(a&&a.loadStop&&a.loadStop.length>0&&n&&n.length>0&&n[0].appointmentFrom)?t?-1:1:(!(e&&e.loadStop.length>0&&r&&r.length>0&&r[0].appointmentFrom)&&a&&a.loadStop&&a.loadStop.length>0&&n&&n.length>0&&n[0].appointmentFrom,t?1:-1)}));if("totalDistance"===a)return e&&Object(Fe.a)(e).sort((function(e,a){return e&&e.totalDistance&&a&&a.totalDistance?e.totalDistance>a.totalDistance?t?1:-1:t?-1:1:(e&&e.totalDistance||!a||a.totalDistance,t?1:-1)}));var r=e&&e.filter((function(e,t){if(e&&e.rate&&null!==e.rate&&e.rate.totalCharge&&0!==e.rate.totalCharge&&e.rate.totalCharge&&null!==e.rate.totalCharge)return e})),n=e&&e.filter((function(e,t){if(e&&e.rate&&null===e.rate||e.rate&&0===e.rate.totalCharge||e.rate.totalCharge&&null===e.rate.totalCharge)return e}));return(r&&Object(Fe.a)(r).sort((function(e,a){return e&&e[he]&&e[he].totalCharge&&a&&a[he]&&a[he].totalCharge?e[he].totalCharge>a[he].totalCharge?t?1:-1:t?-1:1:e&&e[he]&&e[he].totalCharge&&!(a&&a[he]&&a[he].totalCharge)?t?-1:1:(!(e&&e[he]&&e[he].totalCharge)&&a&&a[he]&&a[he].totalCharge,t?1:-1)}))).concat(n)},xh=function(e){return function(t){var a=e.userDetails,r=a.carrierId,n=a.userPrincipalName;if(!e.isNetworkAvailable)return e.showAlert({isShowAlert:!0,alertMessage:X,alertTitle:Q}),!0;var i=(new Date).toISOString(),s={carrierId:r,userId:n,origin:"",loadId:t,watchDate:i},o=e.watchedLoad.find((function(e){return e.loadId===t})),c=new Yp,l=function(){return e.addWatchLoad({query:c.addWatchLoad(s),loadDetails:o})};e.removeWatchLoad({query:c.removeWatchLoad(s),loadId:t,callback:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e)return _r.show(J),!0;_r.open({message:"Watched load removed",showUndo:!0,callback:l})}})}},Mh=Object(nt.b)({deepLinkURI:rn(),userDetails:nn(),getWatchedLoadsData:Rd(),pullToRefreshStatus:sn(),filter:Object(nt.a)([kd],(function(e){return e.watched.filter||Ve.watched})),recommendedfilter:Object(nt.a)([kd],(function(e){return e.recommended.filter||Ve.recommended})),isNetworkAvailable:on(),apiError:jd(),getRecommendedLoadsData:Nd(),isRecommenedLoaded:Object(nt.a)([kd],(function(e){return e.recommended.loaded||Ve.recommended.loaded})),isWatchedLoaded:Object(nt.a)([kd],(function(e){return e.watched.loaded||Ve.watched.loaded})),totalWatchedRecords:Object(nt.a)([kd],(function(e){return e.watched.totalRecords||Ve.watched.totalRecords})),totalRecommendedRecords:Object(nt.a)([kd],(function(e){return e.recommended.totalRecords||Ve.recommended.totalRecords}))}),Uh=Object(c.c)(Mh,(function(e){return{watchedData:function(t){return e({type:"WATCHEDLOAD_DATA_REQUEST",payload:t})},showAlert:function(t){return e(lr(t))},addWatchLoad:function(t){return e(la(t))},removeWatchLoad:function(t){return e(ua(t))},setWatchedFilter:function(t){return e(function(e){return{type:"WATCHED_LOAD_FILTER",payload:e}}(t))},setRecommendedFilter:function(t){return e(function(e){return{type:"RECOMMENDED_LOAD_FILTER",payload:e}}(t))},clearApiResponseError:function(){return e({type:"CLEAR_API_RESPONSE_ERROR"})},recommendedData:function(t){return e(function(e){return{type:"RECOMMENDED_LOADS_REQUEST",payload:e}}(t))}}})),Fh=_s({key:"carrier",reducer:He}),Vh=Ss({key:"carrier",saga:Nh}),Hh=Object(d.compose)(Vh,Fh,Uh)(n.a.memo((function(e){var t=e.history,a=e.userDetails,i=e.recommendedfilter,s=e.filter,o=e.getWatchedLoadsData,c=e.isWatchedLoaded,l=e.isRecommenedLoaded,u=e.getRecommendedLoadsData,d=[],p=t.location.pathname;xa("home","recommended")&&d.push("recommended"),xa("home","watched")&&d.push("watched");var m=Object(r.useState)({name:"/app/home/watched"===p?d[1]:d[0],data:{}}),h=Object(f.a)(m,2),E=h[0],g=h[1],b=Object(r.useState)([]),v=Object(f.a)(b,2),y=v[0],S=v[1],O=Object(r.useState)([]),_=Object(f.a)(O,2),D=_[0],A=_[1],k=Object(r.useState)(0),T=Object(f.a)(k,2),N=T[0],R=T[1],I=Object(r.useState)(0),C=Object(f.a)(I,2),j=C[0],w=C[1],L=Object(r.useState)(!1),P=Object(f.a)(L,2),x=P[0],M=P[1],U=Object(r.useState)(!1),F=Object(f.a)(U,2),V=F[0],H=F[1],G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];R(e),M(t)},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];w(e),H(t)},q=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"load_id",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"asc",c=arguments.length>5&&void 0!==arguments[5]&&arguments[5];t&&B();var l=Lh(i),u=l.isAsc,d=l.filterBy;if(a.carrierId&&null!==a.carrierId&&""!==a.carrierId){var p=u?"asc":"desc",m=new Eh;return m.carrierId=a&&a.carrierId||"",m.carrierScac=a&&a.carrierScac||"",m.carrierTier=a&&a.carrierTier||"",m.page=r,m.size=5,m.sortColumn=s||d,m.sortDirection=o||p,e.recommendedData({query:m.getRequestPayload(),refreshStatus:t,sorRefresh:c,callback:n})}},z=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"load_id",s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"asc";if(t&&G(),a.carrierId&&null!==a.carrierId&&""!==a.carrierId){var o=new Yp;return o.carrierId=a&&a.carrierId,o.page=r,o.userId=a&&a.userPrincipalName||"",o.size=5,o.sortDirection=s,o.sortColumn=i,e.watchedData({query:o.getRequestPayload(),refreshStatus:t,callback:n})}},Y=function(){var e=s.selected,t="asc"===s.direction,a=Ee[0].value;e.length>0&&(a=e.filter((function(e){return e.selected})).map((function(e){return e.value})).join(""));var r=Ph(o,t,a);A(r)},W=function(){var t=Lh(i),a=t.isAsc,r=t.filterBy,n=Ph(e.getRecommendedLoadsData,a,r);S(n)};return Object(r.useEffect)((function(){Y(),c&&o.length<5&&G(0,!0)}),[o]),Object(r.useEffect)((function(){W(),l&&u.length<5&&B(0,!0)}),[u]),Object(r.useEffect)((function(){Y()}),[s]),Object(r.useEffect)((function(){W()}),[i]),Object(r.useEffect)((function(){Rt(ue.SV_HOME,{screen:de.HOME,tab:pe.RECOMMENDED}),wh(E.name)}),[]),Object(r.useEffect)((function(){a&&0===o.length&&!c&&z()}),[a,o]),Object(r.useEffect)((function(){a&&0===u.length&&!l&&q()}),[a,u]),Object(r.useEffect)((function(){It("recommended"===E.name?"screen_recommended":"screen_watched"),Rt(ue.UE_VIEW_RECOMMENDED_TAB,{screen:de.HOME,tab:pe.RECOMMENDED})}),[]),n.a.createElement(jh,Object.assign({},e,{recommendedloadData:y,getWatchedLoads:z,getRecommendedLoads:q,segment:E,setSegment:g,sections:d,watchedLoad:D,currentPage:N,recommendedCurrentpage:j,isWatchLoadEnd:x,isRecommendedEnd:V,doSorting:Ph,setRecommendedcurrentPage:w,setCurrentPage:R,setRecommendedLoadEnd:H,setWatchedLoadEnd:M,toggleWatchLoad:xh,pageSize:5,onAnalyticsLoadPosting:wh}))})));function Gh(e){xa(e,"screen")||_r.show(je)}var Bh=n.a.memo((function(e){var t=e.Component,a=e.props,i=Object(r.useState)(!1),s=Object(f.a)(i,2),o=s[0],c=s[1];return Object(r.useEffect)((function(){c(!0)}),[]),Vr().hasSession(o,c),n.a.createElement(t,a)})),qh=n.a.memo((function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"tab-bar-div"},n.a.createElement("div",{className:"tab-bar-logoDiv"},n.a.createElement("img",{src:"assets/icon/SFP.svg",className:"tab-bar-logo",alt:""})),n.a.createElement("div",{className:"carrier-content"},n.a.createElement(l.M,null,n.a.createElement(l.G,{class:"desktop-page-container"},n.a.createElement(tt.c,{path:"/app/search",render:function(e){return n.a.createElement(Bh,{Component:Ac,props:e})},exact:!0}),n.a.createElement(tt.c,{path:"/app/search/results",render:function(e){return n.a.createElement(Sc,e)},exact:!0}),xa("home","recommended")||xa("home","watched")?n.a.createElement(tt.c,{path:"/app/home",render:function(e){return n.a.createElement(Bh,{Component:Hh,props:e})},exact:!0}):n.a.createElement(tt.c,null),n.a.createElement(tt.c,{path:"/app/(home/recommended|home/watched|search/results)/:id",render:function(e){return n.a.createElement(Bh,{Component:Xp,props:e})}}),n.a.createElement(tt.c,{path:"/app/home/watched",render:function(e){return n.a.createElement(Bh,{Component:Hh,props:e})},exact:!0}),n.a.createElement(tt.c,{path:"/app/home/recommended",render:function(e){return n.a.createElement(Bh,{Component:Hh,props:e})},exact:!0}),n.a.createElement(tt.c,{path:"/app/menu/faq",component:bm}),n.a.createElement(tt.c,{path:"/app/menu/contact",component:bm}),n.a.createElement(tt.c,{path:"/app/manage/ProfileDetails/Edit",component:ym}),n.a.createElement(tt.c,{path:"/app/manage/ProfileDetails",component:fl}),n.a.createElement(tt.c,{path:"/app/manage/CarrierProfileDetails",component:Cl,exact:!0}),n.a.createElement(tt.c,{path:"/app/manage/ManageMyCapacity/Edit",component:rd,exact:!0}),n.a.createElement(tt.c,{path:"/app/manage/ManageMyCapacity/Add",component:td,exact:!0}),n.a.createElement(tt.c,{path:"/app/manage/ManageMyCapacity/View",component:id,exact:!0}),n.a.createElement(tt.c,{path:"/app/manage/ManageMyCapacity",component:$u}),n.a.createElement(tt.c,{path:"/app/manage/ManageUser/Profile/Edit",component:Xm,exact:!0}),n.a.createElement(tt.c,{path:"/app/manage/ManageUser/Profile",component:Zm,exact:!0}),n.a.createElement(tt.c,{path:"/app/manage/ManageUser/Add",component:Jm,exact:!0}),n.a.createElement(tt.c,{path:"/app/manage/ManageUser",component:mu}),n.a.createElement(tt.c,{path:"/app/execute",component:Ad,sexact:!0}),n.a.createElement(tt.c,{path:"/app/(MyLoad/CarrierAssigned)",render:function(e){return n.a.createElement(_f,e)},exact:!0}),n.a.createElement(tt.c,{path:"/app/(MyLoad/DriverAssigned)",render:function(e){return n.a.createElement(Kf,e)},exact:!0}),n.a.createElement(tt.c,{path:"/app/MyLoad/driverAssign/addDriver/:id",render:function(e){return n.a.createElement(Rf,e)},exact:!0}),n.a.createElement(tt.c,{path:"/app/MyLoad/driverAssign/:id",render:function(e){return n.a.createElement(Mf,e)},exact:!0}),n.a.createElement(tt.c,{path:"/app/(MyLoad/InTransit)",render:function(e){return n.a.createElement(lh,e)},exact:!0}),n.a.createElement(tt.c,{path:"/app/(MyLoad/Delivered)",render:function(e){return n.a.createElement(hh,e)},exact:!0}),n.a.createElement(tt.c,{path:"/app/MyLoad",render:function(e){return n.a.createElement(Ad,e)},exact:!0}),xa("myLoad","driverAssigned")?n.a.createElement(tt.c,{path:"/app/(MyLoad/shipmentUpdateScreen)/:id",render:function(e){return n.a.createElement(rh,e)},exact:!0}):n.a.createElement(tt.c,null),n.a.createElement(tt.c,{path:"/app/manage",render:function(e){return n.a.createElement(Bh,{Component:md,props:e})},exact:!0}),n.a.createElement(tt.c,{path:"/app/more",render:function(e){return n.a.createElement(Bh,{Component:bm,props:e})},exact:!0}),n.a.createElement(tt.c,{path:"/app/(MyLoad/CarrierAssigned|MyLoad/DriverAssigned|MyLoad/InTransit|MyLoad/Delivered)/:id",render:function(e){return n.a.createElement(Bf,e)}}),n.a.createElement(tt.c,{path:"/",render:function(){return n.a.createElement(tt.b,{to:"/app/"+Fa()})},exact:!0}),n.a.createElement(tt.c,{path:"/app/(more)/deviceInfo",exact:!0,render:function(e){return n.a.createElement(zm,e)}}),n.a.createElement(tt.c,{path:"/app/(more)/*",render:function(e){return n.a.createElement(qm,e)}})),n.a.createElement(l.K,{slot:"bottom"},xa("home")&&n.a.createElement(l.L,{tab:"home",href:xa("home","screen")?"/app/home":"/app/noAccess",onClick:function(e){Gh("home")}},n.a.createElement(l.q,{src:"assets/icon/nav-home-icon.svg",class:"home_icon"}),n.a.createElement(l.w,{class:"tab_footer_label"},"Home")),xa("search")&&n.a.createElement(l.L,{tab:"search",href:xa("search","screen")?"/app/search":"/app/noAccess",onClick:function(e){Gh("search")}},n.a.createElement(l.q,{src:"assets/icon/bottom_search_icon.svg",class:"search_icon"}),n.a.createElement(l.w,{class:"tab_footer_label search_label"},"Search")),xa("myLoad")&&n.a.createElement(l.L,{tab:"execute",href:xa("myLoad","screen")?"/app/MyLoad":"/app/noAccess",onClick:function(e){Gh("myLoad")}},n.a.createElement(l.q,{src:"assets/icon/My Load.svg",class:"my_load_icon"}),n.a.createElement(l.w,{class:"tab_footer_label execute_label"},"My Loads")),xa("manage")&&n.a.createElement(l.L,{tab:"manage",href:xa("manage","screen")?"/app/manage":"/app/noAccess",onClick:function(e){Gh("manage")}},n.a.createElement(l.q,{src:"assets/icon/manag icon.svg",class:"manage_icon"}),n.a.createElement(l.w,{class:"tab_footer_label tab_footer_label_manage"},"Manage")),xa("more")&&n.a.createElement(l.L,{tab:"more",href:xa("more","screen")?"/app/more":"/app/noAccess",onClick:function(e){Gh("more")}},n.a.createElement(l.q,{src:"assets/icon/more icon.svg",class:"more_icon"}),n.a.createElement(l.w,{class:"tab_footer_label tab_footer_label_more"},"More"))))),n.a.createElement("div",{className:"tab-bar-profile"},n.a.createElement(l.H,null,n.a.createElement(l.k,null,n.a.createElement(l.r,{src:"assets/icon/man.svg"})),n.a.createElement(l.k,{class:"name-col"},n.a.createElement("span",null,"Welcome")," ",n.a.createElement("br",null),n.a.createElement("span",null,"Igor")),n.a.createElement(l.k,null,n.a.createElement("i",{className:"downArrow"}))))),n.a.createElement(l.n,{class:"copyright-div"},n.a.createElement("span",null,"\xa9 2019 Schneider. All Rights Reserved."),n.a.createElement("span",null,"Home | Sitemap | Privacy Policy")))}));gt.d.Geolocation,gt.d.GeolocationOptions;var zh=function(e){return n.a.createElement(n.a.Fragment,null,n.a.createElement(l.b,{isOpen:e.isOpen,message:e.message,backdropDismiss:!1,header:e.title,buttons:[{text:"Ok",role:"Ok",cssClass:"secondary",handler:function(){e.close()}}]}))},Yh=function(){function e(){Object(b.a)(this,e),this.__device_register_state={uuId:"",upn:"",carrierId:"",deviceToken:"",email:"",phone:""}}return Object(v.a)(e,[{key:"getRequestPayload",value:function(){return{mutation:{registerDevice:{__args:{input:this.__device_register_state}}}}}},{key:"uuid",get:function(){return this.__device_register_state.uuId},set:function(e){this.__device_register_state.uuId=e}},{key:"upn",get:function(){return this.__device_register_state.upn},set:function(e){this.__device_register_state.upn=e}},{key:"carrierId",get:function(){return this.__device_register_state.carrierId},set:function(e){this.__device_register_state.carrierId=e}},{key:"deviceToken",get:function(){return this.__device_register_state.deviceToken},set:function(e){this.__device_register_state.deviceToken=e}},{key:"email",get:function(){return this.__device_register_state.email},set:function(e){this.__device_register_state.email=e}},{key:"phone",get:function(){return this.__device_register_state.phone},set:function(e){this.__device_register_state.phone=e}},{key:"deviceOs",get:function(){return this.__device_register_state.deviceOs},set:function(e){this.__device_register_state.deviceOs=e}},{key:"deviceOsVersion",get:function(){return this.__device_register_state.deviceOsVersion},set:function(e){this.__device_register_state.deviceOsVersion=e}}]),e}(),Wh=(a(607),function(e){return n.a.createElement(n.a.Fragment,null,n.a.createElement(l.b,{isOpen:e.isOpen,message:e.message,backdropDismiss:!0,header:e.title,onDidDismiss:e.dismiss,buttons:[{text:"ok",role:"ok",cssClass:"firstBtn",handler:function(){e.close()}}]}))}),Zh=function(){function e(){Object(b.a)(this,e)}return Object(v.a)(e,[{key:"getRequestPayload",value:function(e){return{query:{getUserHelpContent:{menuItems:{dataTypes:{fieldName:!0,fieldType:!0,schema:{fieldName:!0,fieldType:!0,schema:{fieldName:!0,fieldType:!0}}},title:!0,group:{menuItem:!0,menuSequence:!0,uid:!0}},menuEntries:{dataTypes:{fieldName:!0,fieldType:!0,schema:{fieldName:!0,fieldType:!0,schema:{fieldName:!0,fieldType:!0}}},uid:!0,sections:{title:!0,richTextDescription:!0,group:{title:!0,description:!0,richTextDescription:!0,video:{title:!0,href:!0}}},group:{title:!0,description:!0,richTextDescription:!0,video:{title:!0,href:!0}},tags:!0,richText:!0}}}}}}]),e}();a(608);var Kh=/^[a-zA-Z0-9 ]*$/,Jh=/^[0-9]*$/,Qh=function(e){Object(ct.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=Object(ut.a)(e);if(t()){var n=Object(ut.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(lt.a)(this,a)}}(a);function a(){var e;Object(b.a)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={showOptions:!1,slectedNo:"carrierUsDotNo",firstName:"",lastName:"",mobileNumber:"",companyName:"",corporateZipCode:"",role:Mc,allowToSave:!1,roleError:"",usDotError:"",mobileNumberError:"",zipcodeEror:"",firstNameError:"",lastNameError:"",companyNameError:"",USDOTNO:""},e.handleValueChange=function(t){var a=t.target.value;Kh.test(t.target.value)||"firstName"!==t.target.name&&"lastName"!==t.target.name||(t.target.value=t.target.value.replace(/[^a-zA-Z0-9 ]*/g,"")),e.setState(Object(Yr.a)({},t.target.name,a)),e.state.firstName.length>0&&e.state.lastName.length>0&&e.state.companyName.length>0&&e.state.mobileNumber.length>0&&e.state.corporateZipCode.length>0&&e.state.USDOTNO.length>0?e.setState({allowToSave:!0}):e.setState({allowToSave:!1})},e.submitForm=function(){Rt(ue.UE_REGISTER_NOW,{screen:de.REGISTRATION});var t={firstName:e.state.firstName,lastName:e.state.lastName,mobileNumber:e.state.mobileNumber,companyName:e.state.companyName,corporateZipCode:e.state.corporateZipCode,carrierUsDotNo:"carrierUsDotNo"===e.state.slectedNo?e.state.USDOTNO:null,carrierMcNo:"carrierMcNo"===e.state.slectedNo?e.state.USDOTNO:null,role:zc(e.state.role)};e.state.firstName.length>0&&e.state.lastName.length>0&&e.state.companyName.length>0&&e.state.mobileNumber.length>0&&e.state.corporateZipCode.length>0&&e.state.USDOTNO.length>0&&""===e.state.roleError&&""===e.state.mobileNumberError&&""===e.state.zipcodeEror&&""===e.state.usDotError&&e.props.registerUser(t)},e.optionClicked=function(t){e.state.role.forEach((function(e){e.label===t.label&&(e.selected=!e.selected)}));var a=[];e.state.role.forEach((function(e){!0===e.selected&&a.push(e.value)}));var r=zc(e.state.role);e.setState({showOptions:!1});var n={target:{name:"role",value:r}};e.validateFeilds(n)},e.validateFeilds=function(t){var a=t.target,r=a.name,n=a.value;switch(r){case Ae.mobileNumber:var i=n.replace(/\s/g,"");if(i=i.replace(/\./g,""),jc(i)){var s=jc(n)?Lc(n,!0):n;e.setState({mobileNumberError:"",mobileNumber:s})}else e.setState({mobileNumberError:"Please Enter a valid cell phone number"});break;case Ae.corporateZipCode:Kh.test(n)&&n.length<=10&&n.length>0?e.setState({zipcodeEror:""}):e.setState({zipcodeEror:"Please Enter a valid company corporate zip code"});break;case"USDOTNO":Jh.test(n)&&n.length>=6&&n.length<=8?e.setState({usDotError:""}):e.setState({usDotError:"Please Enter a valid company USDOT or MC#"});break;case"role":n.length>0?e.setState({roleError:""}):e.setState({roleError:"Please select a role"});break;case Ae.firstName:n.length>0?e.setState({firstNameError:""}):e.setState({firstNameError:"Please Enter a valid first name"});break;case Ae.lastName:n.length>0?e.setState({lastNameError:""}):e.setState({lastNameError:"Please Enter a valid last name"});break;case Ae.companyName:n.length>0?e.setState({companyNameError:""}):e.setState({companyNameError:"Please Enter a valid company name"})}},e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){Rt(ue.SV_REGISTRATION,{screen:de.REGISTRATION})}},{key:"render",value:function(){var e=this;return n.a.createElement(l.B,null,n.a.createElement(uc,null),Object(l.V)("mobile")?n.a.createElement(n.a.Fragment,null,n.a.createElement(l.l,{className:"registration-page"},n.a.createElement(l.q,{src:"assets/icon/Logo.svg",class:"logo"}),n.a.createElement(nm,Object.assign({},this.props,{isRegistrationPage:!0})),n.a.createElement(l.o,{class:"titel-grid"}," Register Now"),n.a.createElement(l.y,{class:"registration-form"},n.a.createElement(l.o,{class:"select-role-grid"},n.a.createElement(l.H,{class:"select-role-label"},"Type of User"),n.a.createElement(l.H,{onClick:function(){return e.setState({showOptions:!0})},"data-test":"roleDropdown"},n.a.createElement(l.k,{class:"role-name"},this.state.role.map((function(e,t){return n.a.createElement("span",{key:t},e.selected?"".concat(e.label," "):"")}))),n.a.createElement(l.k,{class:"dropDown-icon"},n.a.createElement(l.q,{src:"/assets/icon/grid-down-arrow.svg"}))),this.state.showOptions?n.a.createElement(l.o,{class:"role-suggetion-grid"},this.state.role.map((function(t,a){return n.a.createElement(l.H,{key:a,class:"opt-row ".concat(e.state.role[a].selected?"selected":""),onClick:function(){e.optionClicked(t)},"data-test":"roleOption"},n.a.createElement(l.k,{size:"1"},n.a.createElement("i",{className:"check"})),n.a.createElement(l.k,null,n.a.createElement(l.H,null," ",t.label),n.a.createElement(l.H,{class:"role-desc"},t.desc)))}))):null),n.a.createElement(l.o,{class:"errorGrid ".concat(this.state.roleError?"showErrorGrid":"")},this.state.roleError),n.a.createElement(l.v,{mode:"ios"},n.a.createElement(l.w,{mode:"ios",position:"floating"},"First Name"),n.a.createElement(l.u,{type:"text",name:Ae.firstName,pattern:"[A-Za-z]",placeholder:"Enter Your First Name",value:this.state.firstName,onIonChange:function(t){return e.handleValueChange(t)},onBlur:function(t){return e.validateFeilds(t)},"data-test":"firstName"})),n.a.createElement(l.o,{class:"errorGrid ".concat(this.state.firstNameError?"showErrorGrid":"")},this.state.firstNameError),n.a.createElement(l.v,{mode:"ios"},n.a.createElement(l.w,{mode:"ios",position:"floating"},"Last Name"),n.a.createElement(l.u,{type:"text",name:Ae.lastName,placeholder:"Enter Your Last Name",onIonChange:function(t){return e.handleValueChange(t)},pattern:"[A-Za-z]",value:this.state.lastName,onBlur:function(t){return e.validateFeilds(t)},"data-test":"lastName"})),n.a.createElement(l.o,{class:"errorGrid ".concat(this.state.lastNameError?"showErrorGrid":"")},this.state.lastNameError),n.a.createElement(l.v,{mode:"ios"},n.a.createElement(l.w,{mode:"ios",position:"floating"},"Cell Phone Number"),n.a.createElement(l.u,{type:"text",name:Ae.mobileNumber,placeholder:"Enter Your Cell Phone Number",onIonChange:function(t){return e.handleValueChange(t)},value:this.state.mobileNumber,onBlur:function(t){return e.validateFeilds(t)},"data-test":"mobileNumber"})),n.a.createElement(l.o,{class:"errorGrid ".concat(this.state.mobileNumberError?"showErrorGrid":"")},this.state.mobileNumberError),n.a.createElement(l.v,{mode:"ios"},n.a.createElement(l.w,{mode:"ios",position:"floating"},"Company Name"),n.a.createElement(l.u,{type:"text",name:Ae.companyName,placeholder:"Enter Your Company Name",onIonChange:function(t){return e.handleValueChange(t)},value:this.state.companyName,onBlur:function(t){return e.validateFeilds(t)},"data-test":"companyName"})),n.a.createElement(l.o,{class:"errorGrid ".concat(this.state.companyNameError?"showErrorGrid":"")},this.state.companyNameError),n.a.createElement(l.v,{mode:"ios"},n.a.createElement(l.w,{mode:"ios",position:"floating"},"Company Corporate Zip Code"),n.a.createElement(l.u,{type:"text",name:Ae.corporateZipCode,placeholder:"Enter Your Company Corporate Zip Code",onIonChange:function(t){return e.handleValueChange(t)},pattern:"[A-Za-z]",value:this.state.corporateZipCode,onBlur:function(t){return e.validateFeilds(t)},"data-test":"corporateZipCode"})),n.a.createElement(l.o,{class:"errorGrid ".concat(this.state.zipcodeEror?"showErrorGrid":"")},this.state.zipcodeEror),n.a.createElement(l.v,{mode:"ios"},n.a.createElement(l.w,{mode:"ios",position:"floating"},"Company USDOT or MC#"),n.a.createElement(l.D,{onIonChange:function(t){return e.handleValueChange(t)},name:"slectedNo",value:this.state.slectedNo},n.a.createElement(l.H,null,n.a.createElement(l.k,null,n.a.createElement(l.C,{value:"carrierUsDotNo",class:"radiobutton",mode:"md"})),n.a.createElement(l.k,{class:"radiobutton-label"}," USDOT "),n.a.createElement(l.k,null,n.a.createElement(l.C,{value:"carrierMcNo",class:"radiobutton",mode:"md"})),n.a.createElement(l.k,{class:"radiobutton-label"},"MC#"))),n.a.createElement(l.u,{type:"number",name:"USDOTNO",placeholder:"Enter Your Company USDOT or MC#",onIonChange:function(t){return e.handleValueChange(t)},maxlength:8,value:this.state.USDOTNO,onBlur:function(t){return e.validateFeilds(t)},"data-test":"USDOTNO"})),n.a.createElement(l.o,{class:"errorGrid ".concat(this.state.usDotError?"showErrorGrid":"")},this.state.usDotError))),n.a.createElement("div",{className:"bottom-grid"},n.a.createElement(l.e,{expand:"full",disabled:!this.state.allowToSave,className:"".concat(this.state.allowToSave?"active-btn":"register-btn"),onClick:this.submitForm,"data-test":"registerButton"},"Register Now"))):n.a.createElement(l.l,{className:"registration-page"},n.a.createElement(l.q,{src:"assets/icon/Logo.svg",class:"logo"}),n.a.createElement(l.o,{class:"titel-grid"}," Register Now"),n.a.createElement(l.y,{class:"registration-form"},n.a.createElement(l.H,null,n.a.createElement(l.k,{className:"registration-form-col"},n.a.createElement(l.o,{class:"select-role-grid"},n.a.createElement(l.H,{class:"select-role-label"},"Type of User"),n.a.createElement(l.H,{onClick:function(){return e.setState({showOptions:!0})}},n.a.createElement(l.k,{class:"role-name"},this.state.role.map((function(e,t){return n.a.createElement("span",{key:t},e.selected?"".concat(e.label," "):"")}))),n.a.createElement(l.k,{class:"dropDown-icon"},n.a.createElement(l.q,{src:"/assets/icon/grid-down-arrow.svg"}))),this.state.showOptions?n.a.createElement(l.o,{class:"role-suggetion-grid","data-test":"capacity-type-list"},this.state.role.map((function(t,a){return n.a.createElement(l.H,{key:a,class:"opt-row ".concat(t.selected?"selected":""),onClick:function(){e.optionClicked(t)}},n.a.createElement(l.k,{size:"1",className:"opt-col-i"},n.a.createElement("i",{className:"check"})),n.a.createElement(l.k,null,n.a.createElement(l.H,null," ",t.label),n.a.createElement(l.H,{class:"role-desc"},t.desc)))}))):null),n.a.createElement(l.o,{class:"errorGrid"},this.state.roleError),n.a.createElement(l.v,{mode:"ios"},n.a.createElement(l.w,{mode:"ios",position:"floating"},"Last Name"),n.a.createElement(l.u,{type:"text",name:"lastName",placeholder:"Enter Your Last Name",onIonChange:function(t){return e.handleValueChange(t)},pattern:"[A-Za-z]",value:this.state.lastName,onBlur:function(t){return e.validateFeilds(t)}})),n.a.createElement(l.o,{class:"errorGrid"},this.state.lastNameError),n.a.createElement(l.v,{mode:"ios"},n.a.createElement(l.w,{mode:"ios",position:"floating"},"Company Name"),n.a.createElement(l.u,{type:"text",name:"companyName",placeholder:"Enter Your Company Name",onIonChange:function(t){return e.handleValueChange(t)},value:this.state.companyName,onBlur:function(t){return e.validateFeilds(t)}})),n.a.createElement(l.o,{class:"errorGrid"},this.state.companyNameError),n.a.createElement(l.v,{mode:"ios"},n.a.createElement(l.w,{mode:"ios",position:"floating"},"Company USDOT or MC#"),n.a.createElement(l.D,{onIonChange:function(t){return e.handleValueChange(t)},name:"slectedNo",value:this.state.slectedNo},n.a.createElement(l.H,null,n.a.createElement(l.k,null,n.a.createElement(l.C,{value:"carrierUsDotNo",class:"radiobutton",mode:"md"})),n.a.createElement(l.k,{class:"radiobutton-label"}," USDOT "),n.a.createElement(l.k,null,n.a.createElement(l.C,{value:"carrierMcNo",class:"radiobutton",mode:"md"})),n.a.createElement(l.k,{class:"radiobutton-label"},"MC#"))),n.a.createElement(l.u,{type:"number",name:"USDOTNO",placeholder:"Enter Your Company USDOT or MC#",onIonChange:function(t){return e.handleValueChange(t)},maxlength:8,value:this.state.USDOTNO,onBlur:function(t){return e.validateFeilds(t)}})),n.a.createElement(l.o,{class:"errorGrid"},this.state.usDotError)),n.a.createElement(l.k,{className:"registration-col"},n.a.createElement(l.v,{mode:"ios"},n.a.createElement(l.w,{mode:"ios",position:"floating"},"First Name"),n.a.createElement(l.u,{type:"text",name:"firstName",pattern:"[A-Za-z]",placeholder:"Enter Your First Name",value:this.state.firstName,onIonChange:function(t){return e.handleValueChange(t)},onBlur:function(t){return e.validateFeilds(t)}})),n.a.createElement(l.o,{class:"errorGrid"},this.state.firstNameError),n.a.createElement(l.v,{mode:"ios"},n.a.createElement(l.w,{mode:"ios",position:"floating"},"Cell Phone Number"),n.a.createElement(l.u,{type:"text",name:"mobileNumber",placeholder:"Enter Your Cell Phone Number",onIonChange:function(t){return e.handleValueChange(t)},value:this.state.mobileNumber,onBlur:function(t){return e.validateFeilds(t)}})),n.a.createElement(l.o,{class:"errorGrid"},this.state.mobileNumberError),n.a.createElement(l.v,{mode:"ios"},n.a.createElement(l.w,{mode:"ios",position:"floating"},"Company Corporate Zip Code"),n.a.createElement(l.u,{type:"text",name:"corporateZipCode",placeholder:"Enter Your Company Corporate Zip Code",onIonChange:function(t){return e.handleValueChange(t)},pattern:"[A-Za-z]",value:this.state.corporateZipCode,onBlur:function(t){return e.validateFeilds(t)}})),n.a.createElement(l.o,{class:"errorGrid"},this.state.zipcodeEror))),n.a.createElement("div",{className:"bottom-grid"},n.a.createElement(l.H,{class:"bottom-grid-row"},n.a.createElement(l.k,null,n.a.createElement(nm,Object.assign({},this.props,{isRegistrationPage:!0}))),n.a.createElement(l.k,null,n.a.createElement(l.e,{expand:"full",disabled:!this.state.allowToSave,className:"".concat(this.state.allowToSave?"active-btn":"register-btn"),onClick:this.submitForm},"Register Now")))))))}}]),a}(r.PureComponent),Xh="Mon, 01 Jan 2001 00:00:00 GMT",$h={configVer:"1.0",contentParams:{termsAndConditions:"0.0",eula:"0.0",privacy:"0.0",contactOptions:"0.0",videoWalkthroughs:"0.0",aboutSchneider:"0.0",becomingCarrier:"0.0",faq:"0.0",schneiderOfferings:"0.0"},UserId:{searchParams:{RecommendedLoads:Xh,RecommendedLoadsInterval:"5",WatchedLoads:Xh,WatchedLoadsInterval:"10",RecentSearch:Xh,RecentSearchInterval:"10",FavouriteSearch:Xh,FavouriteSearchInterval:"10"},shipmentParams:{shipment:Xh,shipmentInterval:"10"}}},eE=Object(nt.b)({loading:en(),isShowPermissionAlert:Object(nt.a)([Xr],(function(e){return e.showPermissionAlert||Me.showPermissionAlert})),permissionAlertMessage:Object(nt.a)([Xr],(function(e){return e.permissionAlertMessage||Me.permissionAlertMessage})),permissionAlertTitle:Object(nt.a)([Xr],(function(e){return e.permissionAlertTitle||Me.permissionAlertTitle})),hiddenbarBottom:Object(nt.a)([Xr],(function(e){return e.Hidden||Me.Hidden})),deepLinkURI:rn(),data:Nd(),userDetails:nn(),deviceResult:Object(nt.a)([$r],(function(e){return e&&e.deviceRegistration||Qr.deviceRegistration})),alertTitle:Object(nt.a)([$r],(function(e){return e.alertTitle||Qr.alertTitle})),alertMessage:Object(nt.a)([$r],(function(e){return e.alertMessage||Qr.alertMessage})),isShowAlert:Object(nt.a)([$r],(function(e){return e.showAlert||Qr.showAlert})),driverAssignedLoads:si(),carrierAssignedLoads:oi(),isNetworkAvailable:on(),getOfflineData:Object(nt.a)([$r],(function(e){return e.offlineJSON||Qr.offlineJSON})),getConfigParams:Object(nt.a)([$r],(function(e){return e.configParams||Qr.configParams})),getSearchParams:cn(),getShipmentParams:ln(),getConfirmStartStatus:dn(),notificationData:Object(nt.a)([Xr],(function(e){return e.notificationData||Me.notificationData})),inTransitLoads:ci(),apiError:jd(),recentLoadsData:fo(),favoriteLoadsData:xo(),getRegisterUserStatus:dn(),memberApiError:Object(nt.a)([kd],(function(e){return e.showMemberAPIError||Ve.showMemberAPIError}))}),tE=Object(c.c)(eE,(function(e){return{updateGpsCoordinates:function(t){return e(function(e){return{type:"UPDATE_GPS_COORDS",payload:e}}(t))},closePermissionAlert:function(){return e({type:"CLOSE_PERMISSION_ALERT"})},showPermissionAlert:function(t){return e(_t(t))},clearDeepLinkURI:function(){return e({type:"CLEAR_DEEPLINK_URI"})},getUserDetails:function(t,a){return e(ir({token:t,body:a}))},initializeModule:function(t){return e({type:"OFFLINE_MODE_START",payload:t})},createOfflineJSON:function(t){return e({type:"CREATE_OFFLINE_JSON",payload:t})},updateOfflineContent:function(t){return e({type:"UPDATE_OFFLINE_CONTENT",payload:t})},findSearchData:function(t,a){return e({type:"FIND_SEARCH_DATA",payload:{carrierId:t,searchParams:a}})},findShipmentInfo:function(t,a){return e({type:"FIND_SHIPMENT_INFO",payload:{carrierId:t,searchParams:a}})},fetchDriverShipments:function(t){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0;return e(Wn({query:t,isHideLoader:a,callback:r}))},fetchShipments:function(t){return e(Zn(t,!1))},updateNetworkStatus:function(t){return e(function(e){return{type:"UPDATE_NETWORK_STATUS",data:e}}(t))},hideAlert:function(){return e({type:"HIDE_ALERT_MESSAGE"})},getMoreTabContent:function(t){return e(function(e){return{type:"GET_MORE_TAB_CONTENT",payload:e}}(t))},showAlert:function(t){return e(lr(t))},myLoadData:function(){return e({type:"MYLOAD_CARD_DATA"})},recentLoads:function(t,a){return e(vo(t,a))},favoriteLoads:function(t,a){return e(Sn(t,a))},storeAccessToken:function(t){return e({type:"STORE_ACCESS_TOKEN",payload:t})},registerUser:function(t,a){e({type:"REGISTER_USER",payload:{token:t,body:a}})},shipmentForStartTrip:function(t){e(Jn(t)),e(Qn((new Date).getTime().toString()))},transferRequest:function(t){return e(el(t))},resetUsersLoaded:function(){return e({type:"MANAGE_USER_LOADED_RESET"})},clearApiResponseError:function(){e({type:"CLEAR_API_RESPONSE_ERROR"})},setMemberApiError:function(){return e(ma(!1))},buyLoadShipmentRequest:function(t,a){return e(Hn(t,a))}}})),aE=_s({key:"App",reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qr,t=arguments.length>1?arguments[1]:void 0;return Object(m.a)(e,(function(e){switch(t.type){case"UPDATE_GPS_COORDS":e.GPSData=[].concat(Object(Fe.a)(e.GPSData),[t.payload]);break;case"FETCH_USER_DETAILS_SUCCESS":e.UserDetails=t.payload;break;case L:e.UserDetails={},e.GPSData=[];break;case"REGISTER_DEVICE_RESPONSE_ACTION":e.deviceRegistration=t.payload.errors;break;case"SHOW_ALERT_MESSAGE":e.showAlert=t.payload.isShowAlert,e.alertMessage=t.payload.alertMessage,e.alertTitle=t.payload.alertTitle;break;case"HIDE_ALERT_MESSAGE":e.showAlert=!1,e.alertMessage="",e.alertTitle="";break;case"MORE_TAB_CONTENT_RESPONSE":e.moreContent=t.payload;break;case"MORE_TAB_CONTENT_RESPONSE_DUMMY":e.offlineJSON.contentParams=t.payload;break;case"CREATE_OFFLINE_JSON":e.offlineJSON=t.payload,console.log(e.offlineJSON);break;case"GET_CONFIG_PARAMS":e.configParams=t.payload;break;case"UPDATE_SEARCH_PARAMS_OFFLINE":e.offlineJSON[Ha.details.auth.user.upn].searchParams=Object(u.a)(Object(u.a)({},e.offlineJSON[Ha.details.auth.user.upn].searchParams),t.payload),e.searchParams=Object(u.a)(Object(u.a)({},e.searchParams),t.payload),console.log(e.searchParams);break;case"UPDATE_SHIPMENT_INFO_OFFLINE":e.offlineJSON[Ha.details.auth.user.upn].shipmentParams=t.payload,e.shipmentParams=t.payload;break;case"UPDATE_PULL_TO_REFRESH_STATE":e.pullToRefreshState=t.payload;break;case"STORE_ACCESS_TOKEN":e.access_token=t.payload;case"REGISTER_USER_STATUS_MESSAGE":e.registerUserStatusMessage=t.payload;break;case"CLEAR_REGISTER_USER_STATUS_MESSAGE":e.registerUserStatusMessage={};break;case"SESSION_INFO":e.session=t.payload.session}}))}}),rE=_s({key:"Favorite",reducer:Lo}),nE=_s({key:"recent",reducer:po}),iE=Ss({key:"App",saga:Ui}),sE=Ss({key:"search",saga:Cn}),oE=Ss({key:"myload",saga:ns}),cE=Ss({key:"carrierAssigned",saga:us}),lE=Object(d.compose)(iE,sE,cE,oE,aE,rE,nE,tE)(n.a.memo((function(e){var t=e.loading,a=e.deepLinkURI,i=e.driverAssignedLoads,s=e.carrierAssignedLoads,o=e.isNetworkAvailable,c=e.inTransitLoads,u=e.notificationData,d=e.shipmentForStartTrip,p=e.myLoadData,m=e.favoriteLoadsData,h=e.recentLoadsData,b=(e.fectchData,e.userDetails,e.getShipmentParams),v=e.memberApiError,y=e.setMemberApiError,S=gt.d.Network,O=gt.d.App,_=(m.Favorite.data&&m.Favorite.data.findUserFavouriteSearchHistory,h.data&&h.data.findUserRecentSearchHistory,function(){var e=Object(r.useState)(),t=Object(f.a)(e,2),a=t[0],n=(t[1],Object(r.useState)({})),i=Object(f.a)(n,2),s=i[0];return i[1],{watchCurrentPosition:function(){},currentPosition:a,errorMessage:s}}()),D=_.currentPosition,A=_.errorMessage,k=function(){var e,t=gt.d.PushNotifications,a=gt.d.Device,r=(gt.d.FCMPlugin,function(){var r=Object(g.a)(E.a.mark((function r(){return E.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t.removeAllListeners(),t.addListener("registration",function(){var t=Object(g.a)(E.a.mark((function t(r){var n,i,s,o;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Za("deviceToken");case 3:if(n=t.sent,i="",i=r.value,console.log("App Push Registration Done: device Token from Device",n.value),n.value===i){t.next=24;break}return console.log("App Push Registration Done.:First App Launch",i),t.next=11,a.getInfo();case 11:return s=t.sent,o=new Yh,t.next=15,Ya("deviceToken",i);case 15:o.uuid=s.uuid,o.upn=e&&e.userPrincipalName||"",o.carrierId=e&&e.carrierId,o.deviceOs=s.operatingSystem,o.deviceOsVersion=s.osVersion,o.email=e&&e.email,o.phone=e&&e.mobileNumber||"",o.deviceToken=i,et.dispatch({type:"REGISER DEVICE ACTION",payload:o.getRequestPayload()});case 24:return console.log("App Push Registration Done.:Sub Sequent App Launch"),t.next=27,Za("deviceToken");case 27:n=t.sent,t.next=33;break;case 30:t.prev=30,t.t0=t.catch(0),console.log("App Registration Catch Error.",t.t0);case 33:case"end":return t.stop()}}),t,null,[[0,30]])})));return function(e){return t.apply(this,arguments)}}()),t.addListener("registrationError",(function(e){})),t.addListener("pushNotificationReceived",(function(e){console.log("pushNotificationReceived, token:"+JSON.stringify(e)),n(e)})),t.addListener("pushNotificationActionPerformed",(function(e){console.log("pushNotificationActionPerformed, token: "+JSON.stringify(e.notification)),et.dispatch(Dt(e.notification.data))}));case 5:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}()),n=function(e){var t=document.createElement("ion-alert");return t.header=e.title||"Driver Assigned",t.message="".concat(e.body),t.buttons=[{text:"View Now",role:"Ok",cssClass:"firstBtn",handler:function(){et.dispatch(Dt(e.data))}},{text:"View Later",role:"Cancel",cssClass:"secondBtn",handler:function(){}}],document.body.appendChild(t),t.present()};return{registerPush:function(a){e=a,t.requestPermissions?t.register():t.requestPermission().then((function(){t.register()})),r()},unRegisterPush:function(){t.removeAllListeners()}}}().registerPush,T=Object(tt.g)().push,N=Object(r.useState)(!0),R=Object(f.a)(N,2),I=R[0],C=R[1],j=Object(r.useState)(!1),w=Object(f.a)(j,2),L=w[0],P=w[1],x=Object(r.useState)(0),M=Object(f.a)(x,2),U=M[0],F=M[1],V=Object(r.useState)(""),H=Object(f.a)(V,2),G=H[0],B=H[1],q=Object(r.useState)(!1),z=Object(f.a)(q,2),Y=z[0],W=z[1];Object(r.useEffect)((function(){try{if(e&&e.userDetails&&Object.keys(e.userDetails).length){Rt(ue.UE_LOGIN_SUCCESS,{screen:de.GET_STARTED,carrierId:e.userDetails.carrierId},["userId","roles"]);var t=new Zh;0===U&&(e.getMoreTabContent(t.getRequestPayload(e.getOfflineData.contentParams)),F(U+1),ee())}Object(l.V)("capacitor")&&e.userDetails&&e.userDetails.carrierId&&k(e.userDetails)}catch(a){console.log("ERROR:",a)}}),[e.userDetails]),Object(r.useEffect)((function(){D&&e.updateGpsCoordinates(D)}),[D]),Object(r.useEffect)((function(){""!==a&&W(!0)}),[i,s,c]),Object(r.useEffect)((function(){if(""!==a&&""!==u.deepLinkURI){if(u.userId!==e.userDetails.userPrincipalName)return e.showAlert({isShowAlert:!0,alertMessage:"The invited user and logged in user credential doesn't match. Kindly contact the carrier.",alertTitle:"Warning"}),void J();if(!o)return J(),void te();a.includes("MyLoad")?ae():re(u)}}),[a,u,i,s,o,c]),Object(r.useEffect)((function(){A.errorMsg&&e.showPermissionAlert({isShowPermissionAlert:!0,permissionAlertMessage:A.errorMsg,permissionAlertTitle:A.title})}),[A]),Object(r.useEffect)((function(){O.addListener("appStateChange",(function(e){e.isActive&&K()})),S.addListener("networkStatusChange",(function(t){e.updateNetworkStatus(t)})),K()}),[]);var Z=[{text:"No",role:"cancel",handler:function(){C(!0),P(!1)}},{text:"Yes",role:"ok",handler:function(){ne()}}];Object(r.useEffect)((function(){if(e&&e.userDetails&&Object.keys(e.userDetails).length){var t=e.userDetails&&e.userDetails.userApplicationDetails&&e.userDetails.userApplicationDetails[0]&&e.userDetails.userApplicationDetails[0].roles&&e.userDetails.userApplicationDetails[0].roles[0]&&e.userDetails.userApplicationDetails[0].roles[0].roleName;!t||t!==De.carrierGuest||e.userDetails&&e.userDetails.mobileNumber||e.userDetails&&e.userDetails.firstName||e.userDetails&&e.userDetails.lastName?(C(!0),!t||t===De.carrierGuest||e.userDetails&&e.userDetails.mobileNumber||T("/app/manage/ProfileDetails/edit")):C(!1);var a=e.getRegisterUserStatus,r=a.status,n=a.message,i=e.userDetails&&e.userDetails.carrierId;r&&!i&&(P(r),B("Do you want to register as a carrier?"),C(!1)),!r&&n&&(P(!r),B(n),Z=[{text:"Yes",role:"ok",handler:function(){P(!1)}}]),Rt(r?ue.UE_REGISTER_SUCCESS:ue.UE_REGISTER_FAILED,{screen:de.REGISTRATION})}}),[e.userDetails,e.getRegisterUserStatus]),Object(r.useEffect)((function(){if(o){if(e.storeAccessToken(Ha.details.auth.tokens),console.log(e.getOfflineData),null===e.getOfflineData)Object.keys($h).forEach((function(e){var t;"UserId"===e&&(t=Ha.details.auth.user.upn,$h[t]=$h[e],delete $h[e])})),e.createOfflineJSON($h);e.getOfflineData&&e.getOfflineData.configVer&&e.initializeModule(e.getOfflineData.configVer)}p()}),[o,e.getOfflineData]),Object(r.useEffect)((function(){console.log(e.getSearchParams);var t=e.userDetails&&e.userDetails.userApplicationDetails&&e.userDetails.userApplicationDetails[0]&&e.userDetails.userApplicationDetails[0].roles&&e.userDetails.userApplicationDetails[0].roles[0]&&e.userDetails.userApplicationDetails[0].roles[0].roleName;if(e.getSearchParams&&!0===e.getSearchParams.RecentSearch&&(t===De.carrierDispatcher||t===De.carrierGuest)){var a=new yo;a.userID=e.userDetails&&e.userDetails.userPrincipalName||"",a.carrierId=e.userDetails&&e.userDetails.carrierId||"",a.page=0,a.size=10,e.recentLoads(a.getRequestPayload(),!1)}}),[e.getSearchParams&&e.getSearchParams.RecentSearch]),Object(r.useEffect)((function(){var t=e.userDetails&&e.userDetails.userApplicationDetails&&e.userDetails.userApplicationDetails[0]&&e.userDetails.userApplicationDetails[0].roles&&e.userDetails.userApplicationDetails[0].roles[0]&&e.userDetails.userApplicationDetails[0].roles[0].roleName;if(e.getSearchParams&&!0===e.getSearchParams.FavouriteSearch&&(t===De.carrierDispatcher||t===De.carrierGuest)){var a=new So;a.userID=e.userDetails&&e.userDetails.userPrincipalName||"",a.carrierId=e.userDetails&&e.userDetails.carrierId||"",a.page=0,a.size=10,e.favoriteLoads(a.getFavoritePayload(),!1)}}),[e.getSearchParams&&e.getSearchParams.FavouriteSearch]),Object(r.useEffect)((function(){var t=e.userDetails&&e.userDetails.userApplicationDetails&&e.userDetails.userApplicationDetails[0]&&e.userDetails.userApplicationDetails[0].roles&&e.userDetails.userApplicationDetails[0].roles[0]&&e.userDetails.userApplicationDetails[0].roles[0].roleName;if(b&&!0===b.shipment&&(t===De.carrierDriver||t===De.carrierDispatcher)){var a=!xa("myLoad","carrierAssigned"),r=new hd;r.carrierId=e.userDetails.carrierId,a&&(r.driverId=e.userDetails.userPrincipalName),r.filter={carrierAssigned:xa("myLoad","carrierAssigned"),driverAssigned:!0,driverAssignmentPending:!0,inTransit:!0,delivered:!0},e.fetchShipments(r.getRequestPayload())}}),[b&&b.shipment]);var K=function(){S.getStatus().then((function(t){e.updateNetworkStatus(t)}))},J=function(){W(!1),e.clearDeepLinkURI()},ee=function(){var t=e.getOfflineData[Ha.details.auth.user.upn],a=t.searchParams,r=t.shipmentParams;e.findSearchData(e.userDetails.carrierId,a),e.findShipmentInfo(Ha.details.auth.user.upn,r)},te=function(){e.showAlert({isShowAlert:!0,alertMessage:X,alertTitle:Q})};console.log(e.getOfflineData,e.getConfigParams);var ae=function(){var t=a.includes("DriverAssigned"),r=a.includes("CarrierAssigned"),n=a.includes("shipmentUpdateScreen"),l=a.substring(a.lastIndexOf("/")+1,a.length),u=t?i.find((function(e){return e.shipmentId===l})):r?s.find((function(e){return e.shipmentId===l})):n?c.find((function(e){return e.shipmentId===l})):null;if(u||Y)n&&d(u),u?T(a):_r.show("There seems to be some issue with the assigned load. Kindly try after some time.","bottom",2e3),J();else if(e.userDetails&&e.userDetails.carrierId&&o&&!u){var p=new hd,m=!xa("myLoad","carrierAssigned");p.carrierId=e.userDetails.carrierId,p.filter={carrierAssigned:r,driverAssigned:t,inTransit:n},m&&(p.driverId=e.userDetails.userPrincipalName||""),e.fetchDriverShipments(p.getRequestPayload(),!1,(function(){var a="";r?a=$.CARRIER_ASSIGNED_MODULE:t?a=$.DRIVER_ASSIGNED_MODULE:n&&(a=$.INTRANSIT_MODULE);var i=new Yd;i.shipmentIds=l,e.buyLoadShipmentRequest({query:i.getRequestShipmentPayload(),currentShipmentID:l,module:a,isPullToRefresh:!1})}))}},re=function(t){if(t&&t.type){if("MANAGE_USER_REQUEST"===t.type){var r=t.requestedCarrierId,n=t.carrierName,i=t.roles,s={isRequested:!0,details:{carrierId:r,carrierName:n||r,roles:void 0===i?"":i}};return e.transferRequest({transfer:s}),T(t.deepLinkURI,{transfer:s}),!0}e.resetUsersLoaded()}T(a,{resetLoaded:!0}),J()},ne=function(){var e=Object(g.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=gt.d.Browser,e.next=3,t.open({url:"https://schneidercarriers.com/"});case 3:P(!1),C(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=Vr(),se=function(){var e=Object(g.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(),Object(l.V)("capacitor")&&er.details.stopGPS(),e.next=4,Xa();case 4:return e.next=6,ie.logout();case 6:(new am).clearToken();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n.a.createElement(n.a.Fragment,null,n.a.createElement(l.z,{isOpen:t,spinner:null,message:"<img src= 'assets/images/Schneider_Spinner-transparent.gif' className='loader-image' />","show-backdrop":!1,cssClass:"loader-message"}),n.a.createElement(Wh,{title:e.alertTitle,isOpen:e.isShowAlert,message:e.alertMessage,close:function(){e.hideAlert()},dismiss:function(){e.hideAlert()}}),e.isShowPermissionAlert?n.a.createElement(zh,{title:e.permissionAlertTitle,isOpen:e.isShowPermissionAlert,message:e.permissionAlertMessage,close:e.closePermissionAlert}):null,n.a.createElement(l.Q,{isOpen:!!e.apiError,message:e.apiError,duration:5e3,color:"dark",onDidDismiss:function(){e.clearApiResponseError()}}),n.a.createElement(l.b,{isOpen:v,message:"User registration validation failed, Kindly login again after sometime",backdropDismiss:!0,mode:"ios",header:"Alert!",cssClass:"register-alert",buttons:[{text:"ok",role:"ok",handler:function(){var e=Object(g.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:se();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]}),I?n.a.createElement(qh,{isBarBottom:e.hiddenbarBottom}):n.a.createElement(n.a.Fragment,null,n.a.createElement(l.b,{isOpen:L,message:G,backdropDismiss:!0,header:"Type of User",mode:"ios",cssClass:"carrier-alert",buttons:Z}),n.a.createElement(Qh,{registerUser:function(t){var a=new Er,r=e.userDetails,n=void 0===r?{}:r,i=Ha.details.auth&&Ha.details.auth.tokens.access_token||"",s={email:n.userPrincipalName,firstName:t.firstName,lastName:t.lastName,mobileNumber:t.mobileNumber,companyName:t.companyName,corporateZipCode:t.corporateZipCode,carrierUsDotNo:t.carrierUsDotNo,carrierMcNo:t.carrierMcNo,roles:t.role};e.registerUser(i,a.registerMember(s))},showAlert:lr,isNetworkAvailable:o})))}))),uE=n.a.memo((function(e){var t=e.WrappedComponent,a=Object(r.useState)(!0),i=Object(f.a)(a,2),s=i[0],o=i[1];return Object(r.useEffect)((function(){if(Object(l.V)("capacitor")){var e=setTimeout((function(){o(!1)}),1e4);return function(){return clearTimeout(e)}}o(!1)}),[]),s?n.a.createElement("div",null,n.a.createElement("div",{className:"splash_screen"},n.a.createElement("img",{src:"assets/images/splash.gif"}))):t})),dE=n.a.memo(uE),pE=function(){var e=function(){var e=En()({apiKey:K.BUGSNAG_KEY,appVersion:"1.18.12-RestructuringAPICalls",releaseStage:K.RELEASE});e.use(bn.a,n.a);var t=e.getPlugin("react");return{bugsnagClient:e,ErrorBoundary:t}}().ErrorBoundary;return Object(l.V)("capacitor")&&er.details.initiateGPSconfig(),n.a.createElement(e,null,n.a.createElement(dE,{WrappedComponent:n.a.createElement(c.a,{store:et},n.a.createElement(l.c,null,n.a.createElement(fn,{component:lE})))}))};s.a.render(n.a.createElement(pE,null),document.getElementById("root")),Object(o.a)(window)}},[[335,9,12]]]);
//# sourceMappingURL=main.d296ba62.chunk.js.map